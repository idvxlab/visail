{"version":3,"sources":["../node_modules/rc-slider/es/context.js","../node_modules/rc-slider/es/util.js","../node_modules/rc-slider/es/Handles/Handle.js","../node_modules/rc-slider/es/Handles/index.js","../node_modules/rc-slider/es/hooks/useDrag.js","../node_modules/rc-slider/es/Tracks/Track.js","../node_modules/rc-slider/es/Tracks/index.js","../node_modules/rc-slider/es/Marks/Mark.js","../node_modules/rc-slider/es/Marks/index.js","../node_modules/rc-slider/es/Steps/Dot.js","../node_modules/rc-slider/es/Steps/index.js","../node_modules/rc-slider/es/Slider.js","../node_modules/rc-slider/es/index.js","../node_modules/rc-slider/es/hooks/useOffset.js","../node_modules/antd/es/slider/SliderTooltip.js","../node_modules/antd/es/slider/index.js","components/SeiresView/VisOptionView/VisOptionView.js","../node_modules/rc-collapse/es/PanelContent.js","../node_modules/rc-collapse/es/Panel.js","../node_modules/rc-collapse/es/Collapse.js","../node_modules/rc-collapse/es/index.js","../node_modules/antd/es/collapse/Collapse.js","../node_modules/antd/es/collapse/CollapsePanel.js","../node_modules/antd/es/collapse/index.js","components/SeiresView/SeriesInsightsEditor/Settings/TopicSetting/TopicSetting.js","../node_modules/rc-checkbox/es/index.js","../node_modules/antd/es/checkbox/Group.js","../node_modules/antd/es/checkbox/Checkbox.js","../node_modules/antd/es/checkbox/index.js","../node_modules/antd/es/tag/CheckableTag.js","../node_modules/antd/es/tag/index.js","components/SeiresView/SeriesInsightsEditor/Settings/FileSetting/TemporalSetting/TemporalSetting.js","components/SeiresView/SeriesInsightsEditor/Settings/FileSetting/FileSetting.js","../node_modules/antd/es/_util/ActionButton.js","../node_modules/@rc-component/portal/es/Context.js","../node_modules/@rc-component/portal/es/useDom.js","../node_modules/rc-util/es/getScrollBarSize.js","../node_modules/@rc-component/portal/es/useScrollLocker.js","../node_modules/@rc-component/portal/es/util.js","../node_modules/@rc-component/portal/es/mock.js","../node_modules/@rc-component/portal/es/Portal.js","../node_modules/@rc-component/portal/es/index.js","../node_modules/rc-util/es/hooks/useId.js","../node_modules/rc-dialog/es/Dialog/Mask.js","../node_modules/rc-dialog/es/util.js","../node_modules/rc-dialog/es/Dialog/Content/MemoChildren.js","../node_modules/rc-dialog/es/Dialog/Content/Panel.js","../node_modules/rc-dialog/es/Dialog/Content/index.js","../node_modules/rc-dialog/es/Dialog/index.js","../node_modules/rc-dialog/es/DialogWrap.js","../node_modules/rc-dialog/es/index.js","../node_modules/antd/es/_util/styleChecker.js","../node_modules/antd/es/modal/Modal.js","../node_modules/antd/es/modal/ConfirmDialog.js","../node_modules/antd/es/modal/destroyFns.js","../node_modules/antd/es/modal/confirm.js","../node_modules/antd/es/modal/useModal/HookModal.js","../node_modules/antd/es/modal/useModal/index.js","../node_modules/antd/es/_util/hooks/usePatchElement.js","../node_modules/antd/es/modal/index.js","../node_modules/@ant-design/icons-svg/es/asn/EllipsisOutlined.js","../node_modules/@ant-design/icons/es/icons/EllipsisOutlined.js","../node_modules/@ant-design/icons-svg/es/asn/PlusOutlined.js","../node_modules/@ant-design/icons/es/icons/PlusOutlined.js","../node_modules/rc-tabs/es/TabContext.js","../node_modules/rc-tabs/es/TabPanelList/TabPane.js","../node_modules/rc-tabs/es/TabPanelList/index.js","../node_modules/rc-tabs/es/hooks/useOffsets.js","../node_modules/rc-tabs/es/hooks/useRaf.js","../node_modules/rc-tabs/es/hooks/useSyncState.js","../node_modules/rc-tabs/es/hooks/useTouchMove.js","../node_modules/rc-tabs/es/hooks/useVisibleRange.js","../node_modules/rc-tabs/es/util.js","../node_modules/rc-tabs/es/TabNavList/AddButton.js","../node_modules/rc-tabs/es/TabNavList/ExtraContent.js","../node_modules/rc-dropdown/es/placements.js","../node_modules/rc-util/es/Dom/focus.js","../node_modules/rc-dropdown/es/hooks/useAccessibility.js","../node_modules/rc-dropdown/es/Dropdown.js","../node_modules/rc-dropdown/es/index.js","../node_modules/rc-menu/es/context/IdContext.js","../node_modules/rc-menu/es/context/MenuContext.js","../node_modules/rc-menu/es/context/PathContext.js","../node_modules/rc-menu/es/context/PrivateContext.js","../node_modules/rc-menu/es/hooks/useAccessibility.js","../node_modules/rc-menu/es/hooks/useKeyRecords.js","../node_modules/rc-menu/es/utils/timeUtil.js","../node_modules/rc-menu/es/hooks/useMemoCallback.js","../node_modules/rc-menu/es/hooks/useUUID.js","../node_modules/rc-menu/es/hooks/useActive.js","../node_modules/rc-menu/es/utils/warnUtil.js","../node_modules/rc-menu/es/Icon.js","../node_modules/rc-menu/es/hooks/useDirectionStyle.js","../node_modules/rc-menu/es/MenuItem.js","../node_modules/rc-menu/es/SubMenu/SubMenuList.js","../node_modules/rc-menu/es/utils/nodeUtil.js","../node_modules/rc-menu/es/placements.js","../node_modules/rc-menu/es/utils/motionUtil.js","../node_modules/rc-menu/es/SubMenu/PopupTrigger.js","../node_modules/rc-menu/es/SubMenu/InlineSubMenuList.js","../node_modules/rc-menu/es/SubMenu/index.js","../node_modules/rc-menu/es/Menu.js","../node_modules/rc-menu/es/MenuItemGroup.js","../node_modules/rc-menu/es/Divider.js","../node_modules/rc-menu/es/index.js","../node_modules/rc-tabs/es/TabNavList/OperationNode.js","../node_modules/rc-tabs/es/TabNavList/TabNode.js","../node_modules/rc-tabs/es/TabNavList/index.js","../node_modules/rc-tabs/es/TabNavList/Wrapper.js","../node_modules/rc-tabs/es/Tabs.js","../node_modules/rc-tabs/es/hooks/useAnimateConfig.js","../node_modules/rc-tabs/es/index.js","../node_modules/antd/es/tabs/hooks/useAnimateConfig.js","../node_modules/antd/es/tabs/hooks/useLegacyItems.js","../node_modules/antd/es/tabs/TabPane.js","../node_modules/antd/es/tabs/index.js","../node_modules/@ant-design/icons-svg/es/asn/PlusCircleOutlined.js","../node_modules/@ant-design/icons/es/icons/PlusCircleOutlined.js","components/SeiresView/SequenceView/PopInsightCard/PopInsightCardContent.js","components/SeiresView/SequenceView/PopInsightCard/PopInsightCard.js","components/SeiresView/SequenceView/PopInsightCard/index.js","constant/FindPopInsight.js","components/SeiresView/SeriesInsightsEditor/RecommendedInsightCard/RecommendedInsightCard.js","components/SeiresView/SeriesInsightsEditor/RecommendedInsightCard/index.js","components/SeiresView/SeriesInsightsEditor/RecommendedList/RecommendedList.js","components/SeiresView/SeriesInsightsEditor/RecommendedList/index.js","../node_modules/antd/es/_util/hooks/useFlexGapSupport.js","../node_modules/antd/es/grid/RowContext.js","../node_modules/antd/es/grid/row.js","../node_modules/antd/es/row/index.js","../node_modules/antd/es/grid/col.js","../node_modules/antd/es/col/index.js","components/SeiresView/SeriesInsightsEditor/StartBackButton/StartBackButton.js","components/SeiresView/SeriesInsightsEditor/StartBackButton/index.js","components/SeiresView/SeriesInsightsEditor/Settings/TimeRange/TimeRange.js","components/SeiresView/ConfigureInsightSetting/ConfigureInsightSetting.js","components/SeiresView/ConfigureInsightSetting/index.js","components/SeiresView/SeriesInsightsEditor/SeriesInsightsEditor.js","components/SeiresView/SeriesInsightsEditor/index.js","components/SeiresView/FileInformationView/FileInformationView.js","components/SeiresView/HeaderOperatorView/HeaderOperatorView.js","../node_modules/use-memo-one/dist/use-memo-one.esm.js","../node_modules/css-box-model/dist/css-box-model.esm.js","../node_modules/memoize-one/dist/memoize-one.esm.js","../node_modules/raf-schd/dist/raf-schd.esm.js","../node_modules/react-beautiful-dnd/dist/react-beautiful-dnd.esm.js","components/SeiresView/SequenceView/InsightCardView/InsightCardView.js","components/SeiresView/SequenceView/InsightCardView/index.js","constant/StaticPopInsights.js","components/SeiresView/SequenceView/SequenceView.js","components/SeiresView/SequenceView/index.js","insight_charts/index.js","pages/EditPage/EditTimeView/EditTimeView.js","../node_modules/antd/es/locale-provider/index.js","../node_modules/antd/es/notification/index.js","../node_modules/antd/es/notification/hooks/useNotification.js","../node_modules/@ctrl/tinycolor/dist/module/index.js","../node_modules/antd/es/config-provider/cssVariables.js","../node_modules/antd/es/config-provider/index.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js","../../src/index.ts","action/seriesAction.js","selector/series.js","axios/ajax.js","axios/index.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/classCallCheck.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/createClass.js","../node_modules/@ant-design/icons-svg/es/asn/ExclamationCircleFilled.js","../node_modules/@ant-design/icons/es/icons/ExclamationCircleFilled.js","../node_modules/@ant-design/icons-svg/es/asn/InfoCircleFilled.js","../node_modules/@ant-design/icons/es/icons/InfoCircleFilled.js","../node_modules/antd/es/message/index.js","../node_modules/antd/es/message/hooks/useMessage.js","tool/distance.js","tool/hcluster.js","tool/factAggRule.js","constant/ChartType.js","tool/factAggregation.js","tool/tree.js","selector/story.js","axios/config.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","constant/ChartSize.js","insight_charts/vis/data.js","insight_charts/vis/visualization/aggregationtype.js","insight_charts/vis/fact.js","insight_charts/vis/visualization/charttype.js","insight_charts/vis/chart.js","insight_charts/vis/charts/constant/timeConstant.js","insight_charts/vis/charts/multivariateOutlier/index.js","insight_charts/vis/charts/constant/getPosition.js","insight_charts/vis/charts/univariateDistribution/index.js","insight_charts/vis/charts/constant/getContainer.js","insight_charts/vis/charts/trend/index.js","insight_charts/vis/charts/constant/uuid.js","insight_charts/vis/charts/seasonality/index.js","insight_charts/vis/charts/multivariateDistribution/index.js","insight_charts/vis/charts/frequentPattern/index.js","insight_charts/vis/charts/clustering/index.js","insight_charts/vis/charts/forecasting/index.js","insight_charts/vis/charts/univariateOutlier/index.js","insight_charts/vis/charts/similarity/index.js","insight_charts/vis/charts/origin/index.js","insight_charts/vis/charts/outstanding/index.js","insight_charts/vis/charts/autocorrelation/index.js","insight_charts/vis/visualization.js","insight_charts/vis/display.js","insight_charts/vis/autovis.js","insight_charts/Chart.js","../node_modules/react-draggable/build/cjs/utils/shims.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","constant/InsightTypeTrans.js","../node_modules/react-draggable/build/cjs/utils/domFns.js","constant/RecommendedInsightColor.js","selector/user.js","constant/InsightType.js","insight_charts/caption/fact-templates-en/trend.js","insight_charts/caption/fact-templates-en/forecasting.js","insight_charts/caption/fact-templates-en/frequent_pattern.js","insight_charts/caption/fact-templates-en/seasonality.js","insight_charts/caption/fact-templates-en/univariate_outlier.js","insight_charts/caption/fact-templates-en/univariate_distribution.js","insight_charts/caption/fact-templates-en/similarity.js","insight_charts/caption/fact-templates-en/multivariate_outlier.js","insight_charts/caption/fact-templates-en/multivariate_distribution.js","insight_charts/caption/fact-templates-en/clustering.js","insight_charts/caption/fact-templates-en/autocorrelation.js","insight_charts/caption/fact-templates-en/outstanding.js","insight_charts/caption/fact-templates-en/index.js","insight_charts/caption/fact-templates-zh/trend.js","insight_charts/caption/fact-templates-zh/forecasting.js","insight_charts/caption/fact-templates-zh/frequent_pattern.js","insight_charts/caption/fact-templates-zh/seasonality.js","insight_charts/caption/fact-templates-zh/univariate_outlier.js","insight_charts/caption/fact-templates-zh/univariate_distribution.js","insight_charts/caption/fact-templates-zh/similarity.js","insight_charts/caption/fact-templates-zh/multivariate_outlier.js","insight_charts/caption/fact-templates-zh/multivariate_distribution.js","insight_charts/caption/fact-templates-zh/clustering.js","insight_charts/caption/fact-templates-zh/autocorrelation.js","insight_charts/caption/fact-templates-zh/outstanding.js","insight_charts/caption/fact-templates-zh/index.js","constant/AggregationType.js","constant/ActionCaption.js","constant/ActionCaptionZh.js","insight_charts/caption/index.js","../node_modules/shallowequal/index.js","../node_modules/rc-notification/es/useNotification.js","../node_modules/antd/es/modal/locale.js","../../../src/NativeTypes.ts","../node_modules/react-draggable/build/cjs/utils/positionFns.js","../node_modules/react-draggable/build/cjs/utils/log.js","components/SeiresView/SequenceView/InsightCardView/helper.js","../node_modules/reselect/es/defaultMemoize.js","../node_modules/reselect/es/index.js","../node_modules/rc-util/es/React/render.js","../node_modules/rc-notification/es/Notice.js","constant/ActionType.js","constant/ActionTypeZh.js","../node_modules/react-dnd/dist/esm/index.js","../node_modules/react-dnd/dist/esm/interfaces/index.js","../node_modules/react-dnd/dist/esm/decorators/index.js","../../../src/AsapQueue.ts","../../../src/TaskFactory.ts","../../../../src/utils/js_utils.ts","../node_modules/react-dnd/node_modules/dnd-core/dist/esm/actions/dragDrop/types.js","../node_modules/react-dnd/node_modules/dnd-core/dist/esm/utils/equality.js","../node_modules/react-dnd/node_modules/dnd-core/dist/esm/reducers/dragOffset.js","../node_modules/react-dnd/node_modules/dnd-core/dist/esm/actions/registry.js","../node_modules/react-dnd/node_modules/dnd-core/dist/esm/utils/js_utils.js","../node_modules/react-dnd/node_modules/dnd-core/dist/esm/reducers/dragOperation.js","../node_modules/react-dnd/node_modules/dnd-core/dist/esm/reducers/refCount.js","../node_modules/react-dnd/node_modules/dnd-core/dist/esm/utils/dirtiness.js","../node_modules/react-dnd/node_modules/dnd-core/dist/esm/reducers/dirtyHandlerIds.js","../node_modules/react-dnd/node_modules/dnd-core/dist/esm/reducers/stateId.js","../node_modules/react-dnd/node_modules/dnd-core/dist/esm/reducers/index.js","../node_modules/react-dnd/node_modules/dnd-core/dist/esm/actions/dragDrop/local/setClientOffset.js","../node_modules/react-dnd/node_modules/dnd-core/dist/esm/actions/dragDrop/beginDrag.js","../node_modules/react-dnd/node_modules/dnd-core/dist/esm/actions/dragDrop/publishDragSource.js","../node_modules/react-dnd/node_modules/dnd-core/dist/esm/utils/matchesType.js","../node_modules/react-dnd/node_modules/dnd-core/dist/esm/actions/dragDrop/hover.js","../node_modules/react-dnd/node_modules/dnd-core/dist/esm/actions/dragDrop/drop.js","../node_modules/react-dnd/node_modules/dnd-core/dist/esm/actions/dragDrop/endDrag.js","../node_modules/react-dnd/node_modules/dnd-core/dist/esm/utils/coords.js","../node_modules/react-dnd/node_modules/dnd-core/dist/esm/DragDropMonitorImpl.js","../node_modules/react-dnd/node_modules/dnd-core/dist/esm/interfaces.js","../node_modules/react-dnd/node_modules/dnd-core/dist/esm/utils/getNextUniqueId.js","../node_modules/react-dnd/node_modules/dnd-core/dist/esm/contracts.js","../node_modules/react-dnd/node_modules/dnd-core/dist/esm/HandlerRegistryImpl.js","../node_modules/react-dnd/node_modules/dnd-core/dist/esm/DragDropManagerImpl.js","../node_modules/react-dnd/node_modules/dnd-core/dist/esm/actions/dragDrop/index.js","../node_modules/react-dnd/node_modules/dnd-core/dist/esm/factories.js","../node_modules/react-dnd/dist/esm/common/DndContext.js","../node_modules/react-dnd/dist/esm/utils/js_utils.js","../node_modules/react-dnd/dist/esm/common/registration.js","../node_modules/react-dnd/dist/esm/utils/isValidType.js","../node_modules/react-dnd/dist/esm/utils/cloneWithRef.js","../node_modules/react-dnd/dist/esm/common/wrapConnectorHooks.js","../node_modules/react-dnd/dist/esm/utils/isRef.js","../node_modules/react-dnd/dist/esm/common/TargetConnector.js","../node_modules/react-dnd/dist/esm/common/DropTargetMonitorImpl.js","../node_modules/react-dnd/dist/esm/decorators/utils.js","../node_modules/react-dnd/dist/esm/decorators/disposables.js","../node_modules/react-dnd/dist/esm/decorators/decorateHandler.js","../node_modules/react-dnd/dist/esm/decorators/createTargetFactory.js","../node_modules/react-dnd/dist/esm/decorators/DropTarget.js","../node_modules/rc-notification/es/Notification.js","../node_modules/rc-notification/es/index.js","../node_modules/@ant-design/icons-svg/es/asn/CheckCircleOutlined.js","../node_modules/@ant-design/icons/es/icons/CheckCircleOutlined.js","../node_modules/@ant-design/icons-svg/es/asn/InfoCircleOutlined.js","../node_modules/@ant-design/icons/es/icons/InfoCircleOutlined.js","../node_modules/@ant-design/icons-svg/es/asn/CloseCircleOutlined.js","../node_modules/@ant-design/icons/es/icons/CloseCircleOutlined.js","../node_modules/@ant-design/icons-svg/es/asn/ExclamationCircleOutlined.js","../node_modules/@ant-design/icons/es/icons/ExclamationCircleOutlined.js","../node_modules/react-draggable/build/cjs/cjs.js","action/storyAction.js","../node_modules/react-draggable/build/cjs/Draggable.js","../node_modules/clsx/dist/clsx.m.js","../node_modules/react-draggable/build/cjs/utils/getPrefix.js","../node_modules/react-draggable/build/cjs/DraggableCore.js","../../../src/index.ts","../../../src/asap.ts","../../../src/makeRequestCall.ts","../../../src/RawTask.ts","../../../src/HTML5BackendImpl.ts","../../../src/EnterLeaveCounter.ts","../../../src/OffsetUtils.ts","../../../src/BrowserDetector.ts","../../../src/MonotonicInterpolant.ts","../../../../src/NativeDragSources/index.ts","../../../../src/NativeDragSources/nativeTypesConfig.ts","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/defineProperty.js","../../../../src/NativeDragSources/getDataFromDataTransfer.ts","../../../../src/NativeDragSources/NativeDragSource.ts","../../../src/OptionsReader.ts","../../../src/getEmptyImage.ts","../node_modules/react-dnd/dist/esm/common/DndProvider.js"],"names":["SliderContext","React","min","max","direction","step","includedStart","includedEnd","tabIndex","getOffset","value","getDirectionStyle","offset","positionStyle","right","concat","transform","bottom","top","left","getIndex","index","Array","isArray","_excluded","Handle","props","ref","_classNames","_getIndex","prefixCls","valueIndex","onStartMove","style","render","dragging","onOffsetChange","restProps","_objectWithoutProperties","_React$useContext","disabled","range","ariaLabelForHandle","ariaLabelledByForHandle","ariaValueTextFormatterForHandle","handlePrefixCls","onInternalStartMove","e","handleNode","_extends","className","classNames","_defineProperty","_objectSpread","onMouseDown","onTouchStart","onKeyDown","which","keyCode","KeyCode","LEFT","RIGHT","UP","DOWN","HOME","END","PAGE_UP","PAGE_DOWN","preventDefault","role","Handles","values","handleRender","draggingIndex","handlesRef","focus","_handlesRef$current$i","current","map","node","key","getPosition","obj","touches","pageX","pageY","Track","start","end","trackPrefixCls","offsetStart","offsetEnd","width","height","Tracks","startPoint","included","trackList","length","startValue","endValue","Math","list","i","push","_ref","Mark","children","_onClick","onClick","textCls","stopPropagation","Marks","marks","markPrefixCls","label","Dot","activeStyle","dotClassName","active","mergedStyle","Steps","dots","stepDots","dotSet","Set","forEach","mark","add","from","dotValue","Slider","_props$prefixCls","_props$disabled","autoFocus","onFocus","onBlur","_props$min","_props$max","_props$step","defaultValue","count","onChange","onBeforeChange","onAfterChange","_props$allowCross","allowCross","_props$pushable","pushable","draggableTrack","reverse","vertical","_props$included","trackStyle","handleStyle","railStyle","dotStyle","activeDotStyle","_props$tabIndex","containerRef","mergedMin","isFinite","mergedMax","mergedStep","mergedPush","markList","Object","keys","markObj","Number","_typeof","filter","sort","a","b","_useOffset","formatRangeValue","val","formatNextValue","formatStepValue","stepValue","round","getDecimal","num","String","split","maxDecimal","fixedValue","toFixed","formatValue","alignValues","closeValue","closeDist","alignValue","dist","abs","offsetValue","mode","arguments","undefined","nextValue","originValue","targetDistValue","potentialValues","sign","compareValue","valueDist","potentialValue","cloneValues","_toConsumableArray","offsetChangedValue","changed","needPush","nextValues","pushNum","_offsetChangedValue","_i","_changed","_offsetChangedValue2","_i2","_changed2","_offsetChangedValue3","_i3","_changed3","_offsetChangedValue4","useOffset","_useOffset2","_slicedToArray","offsetValues","_useMergedState","useMergedState","_useMergedState2","mergedValue","setValue","rawValues","valueList","_valueList$","returnValues","pointCount","slice","_returnValues","rawValuesRef","getTriggerValue","triggerValues","triggerChange","cloneNextValues","shallowEqual","changeToCloseValue","newValue","_React$useState","_React$useState2","keyboardValue","setKeyboardValue","indexOf","mergedDraggableTrack","_useDrag","finishChange","draggingValue","setDraggingValue","_React$useState3","_React$useState4","setDraggingIndex","_React$useState5","_React$useState6","cacheValues","setCacheValues","_React$useState7","_React$useState8","originValues","setOriginValues","mouseMoveEventRef","mouseUpEventRef","document","removeEventListener","flushValues","some","updateCacheValue","offsetPercent","maxStartOffset","maxEndOffset","formatStartValue","cloneCacheValues","offsetDist","next","updateCacheValueRef","sourceValues","targetValues","every","_getPosition","startX","startY","onMouseMove","event","offSetPercent","_getPosition2","moveX","moveY","offsetX","offsetY","_containerRef$current","getBoundingClientRect","onMouseUp","addEventListener","useDrag","_useDrag2","onStartDrag","lastIndexOf","sortedCacheValues","_React$useMemo","_React$useMemo2","blur","activeElement","contains","context","Provider","percent","clientX","clientY","SliderTooltip","open","innerRef","useRef","rafRef","cancelKeepAlign","raf","cancel","_a","forcePopupAlign","title","Tooltip","composeRef","__rest","s","t","p","prototype","hasOwnProperty","call","getOwnPropertySymbols","propertyIsEnumerable","ConfigContext","getPrefixCls","getPopupContainer","opens","setOpens","toggleTooltipOpen","prev","getTooltipPlacement","tooltipPlacement","customizePrefixCls","cls","mergedRange","RcSlider","info","rootPrefixCls","_props$tooltip","tooltip","tooltipProps","formatter","tipFormatter","toString","tooltipVisible","placement","getTooltipPopupContainer","tooltipOpen","customizeTooltipPrefixCls","isTipFormatter","passedProps","onMouseEnter","onMouseLeave","tooltipPrefixCls","transitionName","overlayClassName","VisOptionView","Option","changeLayout","intl","this","display","get","Component","PanelContent","_classnames","forceRender","isActive","rendered","setRendered","classnames","displayName","CollapsePanel","_React$Component","_inherits","_super","_createSuper","_this","_classCallCheck","_len","args","_key","apply","onItemClick","_this$props","panelKey","handleKeyPress","renderIcon","_this$props2","showArrow","expandIcon","collapsible","iconNode","renderTitle","_this$props3","header","_createClass","nextProps","_classNames2","_this$props4","id","headerClass","destroyInactivePanel","accordion","openMotion","extra","rest","collapsibleHeader","collapsibleIcon","itemCls","headerProps","onKeyPress","ifExtraExist","CSSMotion","visible","leavedClassName","removeOnLeave","motionClassName","motionStyle","defaultProps","getActiveKeysArray","activeKey","currentActiveKey","activeKeyType","Collapse","_props","onClickItem","state","splice","setActiveKey","getNewChild","child","rootDestroyInactivePanel","_child$props","childCollapsible","mergeCollapsible","type","propName","getItems","toArray","setState","_activeKey","defaultActiveKey","nextState","collapseClassName","newState","Panel","_props$className","_props$bordered","bordered","ghost","_props$expandIconPosi","expandIconPosition","mergedExpandIconPosition","collapseMotion","motionAppear","RcCollapse","panelProps","icon","RightOutlined","rotate","cloneElement","childProps","omit","_props$showArrow","collapsePanelClassName","Checkbox","_Component","handleChange","checked","target","nativeEvent","saveInput","input","defaultChecked","name","readOnly","onKeyUp","required","others","globalProps","reduce","substr","classString","createElement","GroupContext","InternalCheckboxGroup","_a$options","options","registeredValues","setRegisteredValues","getOptions","option","groupPrefixCls","domProps","includes","toggleOption","optionIndex","opts","findIndex","opt","registerValue","prevValues","cancelValue","v","CheckboxGroup","InternalCheckbox","_b","_a$indeterminate","indeterminate","_a$skipGroup","skipGroup","checkboxGroup","isFormItemInput","useContext","FormItemInputContext","contextDisabled","DisabledContext","mergedDisabled","prevValue","checkboxProps","checkboxClass","ariaChecked","RcCheckbox","Group","__ANT_CHECKBOX","CheckableTag","PresetColorRegex","RegExp","PresetColorTypes","join","PresetStatusColorRegex","PresetStatusColorTypes","InternalTag","color","onClose","closeIcon","_a$closable","closable","setVisible","isPresetColor","test","tagStyle","backgroundColor","presetColor","tagClassName","handleCloseClick","defaultPrevented","isNeedWave","tagProps","kids","tagNode","CloseOutlined","Wave","Tag","TemporalSetting","changeSlider","afterChange","console","log","setProcessTime","originTimeValue","FileSetting","handleGranularityChange","tag","selectedGranularity","nextSelectedTags","setProcessGranularity","handleColumnsChange","selectedColumns","selectTags","originColumnName","setProcessColumns","selectAllTags","granularityName","isThenable","thing","then","ActionButton","clickedRef","_useState","useState","_useState2","loading","setLoading","close","onInternalClose","timeoutId","setTimeout","clearTimeout","buttonProps","Button","convertLegacyProps","actionFn","returnValueOfOnOk","emitEvent","quitOnNullishReturnValue","error","handlePromiseOnOk","OrderContext","EMPTY_LIST","cached","getScrollBarSize","fresh","inner","outer","outerStyle","position","pointerEvents","visibility","overflow","appendChild","body","widthContained","offsetWidth","widthScroll","clientWidth","removeChild","UNIQUE_ID","Date","now","uuid","useScrollLocker","lock","mergedLock","useLayoutEffect","scrollbarSize","isOverflow","scrollHeight","window","innerHeight","documentElement","clientHeight","innerWidth","updateCSS","removeCSS","inline","getPortalContainer","getContainer","canUseDom","querySelector","Portal","autoLock","_props$autoDestroy","debug","autoDestroy","shouldRender","setShouldRender","mergedRender","innerContainer","setInnerContainer","customizeContainer","_useDom","ele","appendedRef","queueCreate","queue","setQueue","mergedQueueCreate","appendFn","origin","append","parentElement","cleanup","_ele$parentElement","useDom","_useDom2","defaultContainer","mergedContainer","childRef","supportRef","mergedRef","useComposeRef","nextInline","renderInline","reffedChildren","createPortal","useId","innerId","setInnerId","useOriginId","reactNativeId","nextId","Mask","maskProps","motionName","getMotionName","animationName","getScroll","w","ret","method","d","_","_ref2","shouldUpdate","sentinelStyle","outline","forwardRef","ariaId","footer","bodyStyle","bodyProps","modalRender","holderRef","sentinelStartRef","sentinelEndRef","useImperativeHandle","_sentinelStartRef$cur","changeActive","footerNode","headerNode","closer","contentStyle","content","MemoChildren","Content","destroyOnClose","onVisibleChanged","mousePosition","dialogRef","transformOrigin","setTransformOrigin","onPrepare","elementOffset","el","rect","pos","doc","ownerDocument","defaultView","parentWindow","x","y","onAppearPrepare","onEnterPrepare","motionRef","Dialog","zIndex","_props$visible","_props$keyboard","keyboard","_props$focusTriggerAf","focusTriggerAfterClose","wrapStyle","wrapClassName","wrapProps","afterClose","animation","_props$closable","_props$mask","mask","maskTransitionName","maskAnimation","_props$maskClosable","maskClosable","maskStyle","rootClassName","lastOutSideActiveElementRef","wrapperRef","contentRef","animatedVisible","setAnimatedVisible","contentClickRef","contentTimeoutRef","onWrapperClick","useEffect","pickAttrs","data","ESC","TAB","shiftKey","newVisible","_contentRef$current","focusDialogContent","preventScroll","DialogWrap","_props$destroyOnClose","_afterClose","flexGapSupported","canUseDocElement","Modal","getContextPopupContainer","handleCancel","onCancel","handleOk","onOk","_props$open","centered","_props$width","defaultFooter","LocaleReceiver","componentName","defaultLocale","getConfirmLocale","contextLocale","okText","_props$okType","okType","cancelText","_props$confirmLoading","confirmLoading","cancelButtonProps","okButtonProps","closeIconToRender","wrapClassNameExtended","NoCompactStyle","NoFormStyle","status","override","getTransitionName","ConfirmDialog","iconPrefixCls","contentPrefixCls","okCancel","autoFocusButton","cancelButton","ConfigProvider","triggerCancel","destroyFns","defaultRootPrefixCls","confirm","config","container","createDocumentFragment","currentConfig","destroy","param","fn","reactUnmount","runtimeLocale","_globalConfig","globalConfig","getIconPrefixCls","reactRender","justOkText","_len2","_key2","update","configUpdate","withWarn","ExclamationCircleOutlined","withInfo","InfoCircleOutlined","withSuccess","CheckCircleOutlined","withError","CloseCircleOutlined","withConfirm","HookModal","setOpen","innerConfig","setInnerConfig","newConfig","originConfig","ElementsHolder","_usePatchElement","elements","setElements","element","originElements","usePatchElement","_usePatchElement2","patchElement","modalWarn","OriginModal","useModal","actionQueue","setActionQueue","action","getConfirmFunc","withFunc","closeFunc","modalRef","modal","destroyAction","updateAction","success","warning","warn","destroyAll","pop","EllipsisOutlined","AntdIcon","EllipsisOutlinedSvg","PlusOutlined","PlusOutlinedSvg","createContext","TabPane","tabKey","TabPanelList","animated","tabPosition","destroyInactiveTabPane","TabContext","tabs","tabPaneAnimated","tabPane","tabPanePrefixCls","paneStyle","paneClassName","restTabProps","tabPaneMotion","_ref3","DEFAULT_SIZE","useRaf","callback","removedRef","useSyncState","defaultState","stateRef","forceUpdate","updater","SPEED_OFF_MULTIPLE","pow","stringify","tgt","Map","k","JSON","AddButton","editable","locale","showAdd","addAriaLabel","onEdit","addIcon","ExtraContent","assertExtra","autoAdjustOverflow","adjustX","adjustY","targetOffset","placements","topLeft","points","topCenter","topRight","bottomLeft","bottomCenter","bottomRight","focusable","includePositive","isVisible","nodeName","toLowerCase","isFocusableElement","isContentEditable","getAttribute","tabIndexAttr","tabIndexNum","isNaN","getFocusNodeList","res","querySelectorAll","unshift","Dropdown","_props$arrow","arrow","align","_props$placement","_props$placements","Placements","showAction","hideAction","overlayStyle","_props$trigger","trigger","otherProps","triggerVisible","setTriggerVisible","mergedVisible","triggerRef","onVisibleChange","focusMenuRef","handleCloseMenuAndReturnFocus","_triggerRef$current","_triggerRef$current$t","_triggerRef$current$t2","_triggerRef$current$t3","focusMenu","_triggerRef$current2","_triggerRef$current2$","_triggerRef$current2$2","_triggerRef$current2$3","firstElement","popupRef","getElement","handleKeyDown","focusResult","useAccessibility","getMenuElement","overlayElement","overlay","getOverlayElement","triggerHideAction","Trigger","builtinPlacements","popupClassName","popupStyle","popupPlacement","popupAlign","popupTransitionName","popupAnimation","popupVisible","stretch","minOverlayWidthMatchTrigger","alignPoint","getMinOverlayWidthMatchTrigger","popup","onPopupVisibleChange","onVisibleChangeProp","onPopupClick","onOverlayClick","childrenProps","childClassName","openClassName","getOpenClassName","renderChildren","IdContext","getMenuId","eventKey","useMenuId","MenuContext","InheritableContextProvider","locked","inheritableContext","useMemo","clone","mergeProps","isEqual","EmptyList","PathRegisterContext","useMeasure","PathTrackerContext","useFullPath","parentKeyPath","PathUserContext","PrivateContext","ENTER","ArrowKeys","getFocusableElements","has","getNextFocusElement","parentQueryContainer","focusMenuElement","sameLevelFocusableMenuElementList","focusIndex","isRtl","getKeys","getKeyPath","triggerActiveKey","triggerAccessibilityOpen","originOnKeyDown","activeRef","cleanRaf","key2element","element2key","refreshElements","set","getFocusElement","focusMenuKey","offsetObj","isRootLevel","_inline","_horizontal","_vertical","_offsets","inlineTrigger","horizontal","inlineSub","horizontalSub","verticalSub","sibling","tryFocus","menuElement","focusTargetElement","link","targetKey","targetElement","focusableElements","findContainerUL","controlId","getElementById","keyPath","parentKey","parentMenuElement","PATH_SPLIT","getPathStr","useKeyRecords","internalForceUpdate","key2pathRef","path2keyRef","overflowKeys","setOverflowKeys","updateRef","destroyRef","registerPath","useCallback","connectedPath","Promise","resolve","unregisterPath","delete","refreshOverflowKeys","includeOverflow","fullPath","isSubPathKey","pathKeys","pathKey","getSubPathKeys","startsWith","useMemoCallback","func","funRef","_funRef$current","uniquePrefix","random","internalId","useActive","onActive","onInactive","domEvent","warnItemProp","item","restInfo","defineProperty","Icon","useDirectionStyle","level","rtl","inlineIndent","paddingRight","paddingLeft","_excluded2","_excluded3","LegacyMenuItem","attribute","elementRef","Overflow","Item","InternalMenuItem","warnKey","itemIcon","domDataId","overflowDisabled","contextItemIcon","selectedKeys","_internalRenderMenuItem","legacyMenuItemRef","connectedKeys","getEventInfo","mergedItemIcon","_useActive","activeProps","selected","directionStyle","optionRoleProps","renderNode","component","isSelected","MenuItem","measure","connectedKeyPath","InternalSubMenuList","SubMenuList","parseChildren","_eventKey","cloneProps","parseItems","items","childNodes","convertItemsToNodes","mergedKey","MenuItemGroup","SubMenu","Divider","leftTop","rightTop","placementsRtl","getMotion","motion","defaultMotions","other","popupPlacementMap","PopupTrigger","popupOffset","subMenuOpenDelay","subMenuCloseDelay","triggerSubMenuAction","forceSubMenuRender","innerVisible","setInnerVisible","targetMotion","targetMotionRef","mergedMotion","visibleRef","mouseEnterDelay","mouseLeaveDelay","popupMotion","InlineSubMenuList","sameModeRef","setDestroy","mergedOpen","originOnVisibleChanged","MenuContextProvider","InternalSubMenu","internalPopupClose","onTitleClick","onTitleMouseEnter","onTitleMouseLeave","openKeys","contextExpandIcon","onOpenChange","_internalRenderSubMenuItem","subMenuPrefixCls","mergedExpandIcon","originOpen","childrenSelected","childrenActive","setChildrenActive","triggerChildrenActive","newActive","mergedActive","onMergedItemClick","popupId","titleNode","isOpen","isSubMenu","triggerModeRef","triggerMode","listNode","childList","InternalMenuItemGroup","ExportMenu","_childList$","_ref$prefixCls","_ref$tabIndex","_ref$mode","inlineCollapsed","disabledOverflow","_ref$subMenuOpenDelay","_ref$subMenuCloseDela","defaultOpenKeys","defaultActiveFirst","_ref$selectable","selectable","_ref$multiple","multiple","defaultSelectedKeys","onSelect","onDeselect","_ref$inlineIndent","_ref$triggerSubMenuAc","_ref$overflowedIndica","overflowedIndicator","overflowedIndicatorPopupClassName","openAnimation","openTransitionName","mounted","setMounted","setUUID","newId","useUUID","postState","mergedOpenKeys","setMergedOpenKeys","triggerOpenKeys","forceFlush","doUpdate","flushSync","inlineCacheOpenKeys","setInlineCacheOpenKeys","mountRef","mergedMode","mergedInlineCollapsed","isInlineMode","internalMode","setInternalMode","internalInlineCollapsed","setInternalInlineCollapsed","_React$useState9","_React$useState10","lastVisibleIndex","setLastVisibleIndex","allVisible","_useKeyRecords","registerPathContext","pathUserContext","_useMergedState3","_useMergedState4","mergedActiveKey","setMergedActiveKey","_childList$find","_containerRef$current2","_containerRef$current3","shouldFocusKey","find","_useMergedState5","_useMergedState6","mergedSelectKeys","setMergedSelectKeys","onInternalClick","newSelectKeys","exist","selectInfo","triggerSelection","onInternalOpenChange","newOpenKeys","subPathKeys","getInternalPopupContainer","onInternalKeyDown","nextOpen","privateContext","wrappedChildList","itemComponent","dir","renderRawItem","renderRawRest","omitItems","len","originOmitItems","maxCount","INVALIDATE","RESPONSIVE","ssr","newLastIndex","ItemGroup","OperationNode","mobile","_ref$moreIcon","moreIcon","moreTransitionName","tabBarGutter","removeAriaLabel","onTabClick","_useState3","_useState4","selectedKey","setSelectedKey","dropdownPrefix","selectedItemId","dropdownAriaLabel","menu","Menu","tab","removable","removeIcon","selectOffset","enabledTabs","selectedIndex","scrollIntoView","moreStyle","order","moreNode","SPACE","TabNode","_ref$tab","renderWrapper","tabPrefix","getSize","refObj","_ref$offsetWidth","_ref$offsetHeight","offsetHeight","getUnitValue","size","tabPositionTopOrBottom","TabNavList","onTabScroll","extraLeftRef","extraRightRef","tabsWrapperRef","tabListRef","operationsRef","innerAddButtonRef","_useSyncState","_useSyncState2","transformLeft","setTransformLeft","_useSyncState3","_useSyncState4","transformTop","setTransformTop","containerExcludeExtraSize","setContainerExcludeExtraSize","tabContentSize","setTabContentSize","_useState5","_useState6","addSize","setAddSize","_useState7","_useState8","operationSize","setOperationSize","_useRafState","batchRef","flushUpdate","useRafState","_useRafState2","tabSizes","setTabSizes","tabOffsets","holderScrollWidth","_tabs$","lastOffset","rightOffset","_tabs","entity","useOffsets","containerExcludeExtraSizeValue","tabContentSizeValue","addSizeValue","operationSizeValue","visibleTabContentValue","operationsHiddenClassName","transformMin","transformMax","alignInRange","touchMovingRef","_useState9","_useState10","lockAnimation","setLockAnimation","doLockAnimation","clearTouchMoving","onOffset","touchPosition","setTouchPosition","lastTimestamp","setLastTimestamp","lastTimeDiff","setLastTimeDiff","setLastOffset","lastWheelDirectionRef","touchEventsRef","_e$touches$","screenX","screenY","clearInterval","onTouchMove","_e$touches$2","onTouchEnd","distanceX","distanceY","absX","absY","currentX","currentY","setInterval","onWheel","deltaX","deltaY","mixed","onProxyTouchMove","onProxyTouchEnd","passive","useTouchMove","doMove","_useVisibleRange","addNodeSizeValue","operationNodeSizeValue","charUnit","transformSize","endIndex","startIndex","useVisibleRange","_useVisibleRange2","visibleStart","visibleEnd","scrollToTab","tabOffset","newTransform","_newTransform","tabNodeStyle","marginTop","tabNodes","scrollLeft","scrollTop","updateTabSizes","newSizes","_tabListRef$current","btnNode","offsetLeft","offsetTop","onListHolderResize","containerSize","extraLeftSize","extraRightSize","newAddSize","newOperationSize","tabContentFullSize","startHiddenTabs","endHiddenTabs","hiddenTabs","_useState11","_useState12","inkStyle","setInkStyle","activeTabOffset","inkBarRafRef","cleanInkBarRaf","newInkStyle","pingLeft","pingRight","pingTop","pingBottom","hasDropdown","wrapPrefix","ResizeObserver","onResize","transition","inkBar","tabMoving","TabNavListWrapper","renderTabBar","panes","Tabs","_ref$tabPosition","tabBarStyle","tabBarExtraContent","mergedAnimated","useAnimateConfig","setMobile","isMobile","activeIndex","setActiveIndex","_tabs$newActiveIndex","newActiveIndex","mergedId","setMergedId","sharedProps","tabNavBarProps","isActiveChanged","tabNavBar","ForwardTabs","motionEnter","motionLeave","propSize","_onEdit","hideAdd","_props$moreIcon","editType","mergedItems","useLegacyItems","SizeContext","Consumer","contextSize","RcTabs","PlusCircleOutlined","PlusCircleOutlinedSvg","PopInsightCardContent","visNode","vis","chartType","factType","originChartSize","insightSpec","nextFact","chart","showTooltip","Chart","spec","PopInsightCard","isPopInsightCard","setPopInsightCardState","block","getElementsByClassName","setAttribute","getCurrentPopinsight","setCurrentPopInsights","clearTooltip","parentContainer","willDeleted","willDeletedValue","addInsightToSequence","currentPopInsightList","selectedRecommendCardIndex","sequence","selectedCardIndex","sequenceInsightSpec","willAddInsight","parseInt","fact","subspace","message","duration","recommededList","recommendList","oriBlock","captionId","fixCard","setSelectedCardIndex","onStart","uiData","targetRect","draggleRef","bounds","setCurrentPopContent","configureInsightColumns","configureInsightTime","fields","location","time_field","timeColumnName","file_path","file_url","timeBlock","field","findInsight","response","insights","catch","createRef","cursor","onMouseOver","onMouseOut","textAlign","justifyContent","alignItems","wrapperClassName","insight","InsightTypeTrans","connect","dispatch","seriesAction","getSpecByType","oriSpec","require","cloneDeep","RecommendedInsightCard","calcuRecommendScrollLocation","columnsName","floor","divLeft","scale","divWidth","divTop","oneYLength","divHeight","boxWrapper","heightPx","getComputedStyle","getPropertyValue","h","parseFloat","substring","widthPx","clickRecommendCard","segmentInsightsStorage","insightIndex","setSelectedRecommendCard","segmentKey","pop_insights","insight_type","addPopInsights","deleteRecommendCard","recommedList","onRef","dataRange","chartMargin","chartScale","chartWidth","d3","domain","border","insightColors","boxShadow","overflowY","overflowX","removeRecommendCard","segment_key","segment_insights","RecommendedList","marginBottom","c","RecommendCard","flexible","setFlexible","flex","flexDirection","rowGap","detectFlexGapSupported","RowContext","tuple","useMergePropByScreen","oriProp","screen","prop","setProp","responsiveArray","breakpoint","curVal","clacMergeAlignOrJustify","Row","justify","_props$gutter","gutter","wrap","xs","sm","md","lg","xl","xxl","screens","setScreens","curScreens","setCurScreens","mergeAlign","mergeJustify","supportFlexGap","useFlexGapSupport","gutterRef","token","ResponsiveObserve","subscribe","currentGutter","unsubscribe","gutters","results","g","getGutter","classes","rowStyle","horizontalGutter","verticalGutter","marginLeft","marginRight","_gutters","_gutters2","gutterH","gutterV","rowContext","sizes","Col","_React$useContext2","span","pull","sizeClassObj","_extends2","sizeProps","paddingTop","paddingBottom","parseFlex","minWidth","StartBackButton","clickBtn","isRequest","originFileUrl","processTime","processGranularity","processColumns","rightBtnState","processFile","result","newSchema","_that","numericalFields","numerical","updateColumnsAndRange","timeValues","updateFileAndData","generateSequence","task","setSequence","changeBtnState","setRedundantRecommend","columns","schema","storyAction","TimeRange","setTipValue","timeValue","changeTime","univariate_type","multivariable_type","ConfigureInsightSetting","changeType","setConfigureInsightType","changeColumns","onlyColumns","columnList","setConfigureInsightColumns","calcuScrollLocation","changeBreakdown","breakdown","setConfigureInsightBreakdown","setConfigureInsightTime","findInsightsOfUnderCard","isRequestInisght","scope","judgeRequestRation","configureInsightType","generateSingle","generateSingleInsight","replace","addRecommendList","findRecommendList","requestRecommend","previous","j","start_end","generateRecommendList","generateUpdate","existing_insights","temp","generateSubsequent","selectValue","bind","configureInsightBreakdown","borderRight","lineHeight","borderLeft","fontSize","redundantRecommend","SeriesInsightsEditor","originDataRange","setTask","time","granularity","FileInformationView","endEditing","innerText","isEditable","fileName","suppressContentEditableWarning","contentEditable","HeaderOperatorView","exportResult","currentLocale","to","pathname","useMemoOne","getResult","inputs","initial","isFirstRun","committed","cache","Boolean","newInputs","lastInputs","areInputsEqual","getRect","center","expand","expandBy","shrink","shrinkBy","noSpacing","createBox","borderBox","_ref2$margin","margin","_ref2$border","_ref2$padding","padding","marginBox","paddingBox","contentBox","parse","raw","invariant","original","change","shiftBy","shifted","withScroll","scroll","pageXOffset","pageYOffset","calculateBox","styles","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","getBox","safeIsNaN","first","second","memoizeOne","resultFn","lastThis","lastResult","lastArgs","calledOnce","newArgs","rafSchd","frameId","wrapperFn","requestAnimationFrame","cancelAnimationFrame","noop","bindEvents","bindings","sharedOptions","unbindings","binding","shared","fromBinding","eventName","unbind","RbdInvariant","condition","ErrorBoundary","callbacks","onWindowError","getCallbacks","isDragging","tryAbort","Error","setCallbacks","_inheritsLoose","_proto","componentDidMount","componentDidCatch","err","componentWillUnmount","withLocation","source","destination","isInHomeList","droppableId","startPosition","endPosition","withCombine","combine","draggableId","returnedToStart","preset","reason","point1","point2","subtract","negate","point","patch","line","otherValue","distance","sqrt","closest","offsetByPosition","spacing","getCorners","clip","frame","shouldClipSubject","subject","executeClip","pageMarginBox","getSubject","page","withPlaceholder","axis","increased","increasedBy","increase","diff","displacement","scrollDroppable","droppable","newScroll","scrollable","scrollDiff","scrollDisplacement","predicate","toDroppableMap","droppables","descriptor","toDraggableMap","draggables","toDroppableList","toDraggableList","getDraggablesInsideDroppable","draggable","tryGetDestination","impact","at","tryGetCombine","removeDraggableFromList","remove","isHomeOf","noDisplacedBy","emptyGroups","invisible","all","noImpact","displaced","displacedBy","isWithin","lowerBound","upperBound","isPartiallyVisibleThroughFrame","isWithinVertical","isWithinHorizontal","isPartiallyVisibleVertically","isPartiallyVisibleHorizontally","isBiggerVertically","isBiggerHorizontally","isTotallyVisibleThroughFrame","crossAxisLine","crossAxisStart","crossAxisEnd","crossAxisSize","toBeDisplaced","viewport","withDroppableDisplacement","isVisibleThroughFrameFn","displacedTarget","getDroppableDisplaced","isVisibleInDroppable","isVisibleInViewport","isTotallyVisible","getDisplacementGroups","afterDragging","forceShouldAnimate","last","groups","getTarget","shouldAnimate","getShouldAnimate","goAtEnd","insideDestination","inHomeList","newIndex","indexOfLastItem","getIndexOfLastItem","calculateReorderImpact","match","withoutDragging","sliceFrom","didStartAfterCritical","afterCritical","effected","moveToNextIndex","isMovingForward","previousImpact","wasAt","_newIndex","currentIndex","proposedIndex","firstIndex","lastIndex","fromReorder","isCombineEnabled","combineId","combineWithIndex","fromCombine","whenCombining","combineWith","displaceBy","isDisplaced","getCombinedItemDisplacement","distanceFromStartToBorderBoxCenter","box","getCrossAxisBorderBoxCenter","isMoving","goAfter","moveRelativeTo","goBefore","distanceFromEndToBorderBoxCenter","whenReordering","draggablePage","moveInto","goIntoStart","closestAfter","withDisplacement","getPageBorderBoxCenterFromImpact","withoutDisplacement","getResultWithoutDroppableDisplacement","scrollViewport","getDraggables","ids","getClientFromPageBorderBoxCenter","pageBorderBoxCenter","withoutPageScrollChange","withViewportDisplacement","client","isTotallyVisibleInNewLocation","newPageBorderBoxCenter","_ref$onlyOnMainAxis","onlyOnMainAxis","changeNeeded","isTotallyVisibleOnAxis","moveToNextPlace","previousPageBorderBoxCenter","previousClientSelection","isEnabled","getImpact","closestId","withoutDraggable","indexOfClosest","moveToNextCombine","clientSelection","scrollJumpRequest","maxScrollChange","scrolledViewport","scrolledDroppable","withViewportScroll","withDroppableScroll","tryGetVisible","speculativelyIncrease","getKnownActive","getCurrentPageBorderBoxCenter","getCurrentPageBorderBox","getDisplacedBy","withMaxScroll","addPlaceholder","placeholderSize","requiredGrowth","availableSpace","needsToGrowBy","sum","dimension","getRequiredGrowthForPlaceholder","added","oldFrameMaxScroll","_subject","maxScroll","newFrame","moveCrossAxis","isOver","isBetweenSourceClipped","candidates","activeOfTarget","isBetweenDestinationClipped","array","isWithinDroppable","getBestCrossAxisDroppable","proposed","proposedPageBorderBoxCenter","isGoingBeforeTarget","relativeTo","moveToNewDroppable","distanceToA","distanceToB","getClosestDraggable","whatIsDraggedOver","moveInDirection","isActuallyOver","getDroppableOver","dimensions","isMainAxisMovementAllowed","home","critical","isMovingOnMainAxis","borderBoxCenter","_state$dimensions","selection","isMovementAllowed","phase","isPositionInFrame","getDroppableOver$1","pageBorderBox","childCenter","isContained","isStartContained","isEndContained","startCenter","sorted","candidate","getFurthestAway","offsetRectByPosition","getIsDisplaced","getDragImpact","pageOffset","destinationId","pageBorderBoxWithDroppableScroll","area","targetStart","targetEnd","childRect","threshold","didStartAfterCritical$1","getCombineImpact","atIndex","getReorderImpact","patchDroppableMap","updated","clearUnusedPlaceholder","lastDroppable","_subject2","oldMaxScroll","removePlaceholder","forcedClientSelection","forcedDimensions","forcedViewport","forcedImpact","newImpact","withUpdatedPlaceholders","cleaned","patched","recomputePlaceholders","recompute","getDraggables$1","getClientBorderBoxCenter","refreshSnap","movementMode","needsVisibilityCheck","getLiftEffect","insideHome","rawIndex","inVirtualList","process","finish","adjustAdditionsForScrollChanges","additions","updatedDroppables","windowScrollChange","droppableScrollChange","getFrame","offset$1","initialWindowScroll","placeholder","offsetDraggable","isSnapping","postDroppableChange","isEnabledChanging","patchDimensionMap","removeScrollJumpRequest","idle","completed","shouldFlush","reducer","_action$payload","payload","isWindowScrollAllowed","isFixedOnPage","_getLiftEffect","onLiftImpact","published","withScrollChange","modified","existing","updatedAdditions","removals","wasOverId","wasOver","draggingState","isWaiting","publishWhileDraggingInVirtual","_clientSelection","_action$payload2","scrolled","_action$payload3","_id","_target","_action$payload4","_id2","_target2","_updated","_newScroll","_viewport","_result2","_action$payload5","dropDuration","newHomeClientOffset","publishWhileDragging","collectionStarting","updateDroppableScroll","updateDroppableIsEnabled","updateDroppableIsCombineEnabled","move","moveUp","moveDown","moveRight","moveLeft","completeDrop","drop","dropAnimationFinished","curves","combining","outOfTheWayTiming","transitions","fluid","snap","timing","outOfTheWay","moveTo","transforms","isCombining","translate","minDropTime","maxDropTime","dropTimeRange","drop$1","getState","_getDropImpact","lastImpact","didDropInsideDroppable","getDropImpact","newClientCenter","getNewHomeClientOffset","distance$1","getDropDuration","animateDrop","dropPending","getWindowScroll","getScrollListener","onWindowScroll","scheduled","capture","stop","scrollListener","store","listener","shouldEnd","getAsyncMarshal","entries","timerId","execute","entry","flush","shallow","withTimings","getDragStart","responder","announce","getDefaultMessage","willExpire","wasCalled","isExpired","getExpiringAnnounce","responders","getResponders","publisher","asyncMarshal","onDragEnd","beforeCapture","onBeforeCapture","beforeStart","onBeforeDragStart","lastCritical","lastLocation","lastCombine","onDragStart","hasCriticalChanged","isDraggableEqual","isDroppableEqual","isCriticalEqual","hasLocationChanged","hasGroupingChanged","isCombineEqual","onDragUpdate","abort","getPublisher","dropAnimationFinish","dropAnimationFlushOnScroll","once","pendingDrop","postActionState","composeEnhancers","compose","createStore","marshal","dimensionMarshal","focusMarshal","styleMarshal","autoScroller","createStore$1","applyMiddleware","dropping","resting","stopPublishing","dimensionMarshalStopper","request","scrollOptions","shouldPublishImmediately","_marshal$startPublish","startPublishing","initialPublish","lift$1","shouldStop","autoScroll","isWatching","tryRecordFocus","tryRestoreFocusRecorded","tryShiftRecord","getMaxScroll","scrollWidth","getDocumentElement","getMaxWindowScroll","getInitialPublish","registry","getViewport","windowScroll","getAllByType","getDimensionAndWatchScroll","getDimension","shouldPublishUpdate","getById","createDimensionMarshal","collection","staging","collect","_staging","getScrollWhileDragging","publish","createPublisher","subscriber","exists","dragStopped","canStartDrag","scrollWindow","scrollBy","getScrollableDroppables","getBestScrollableDroppable","_dimension","getScrollableDroppableOver","percentage","stopDampeningAt","accelerateAt","getPercentage","startOfRange","endOfRange","stopAt","getValue","distanceToEdge","thresholds","dragStartTime","shouldUseTimeDampening","startScrollingFrom","maxScrollValueAt","percentageFromMaxScrollValueAt","ceil","getValueFromDistance","proposedScroll","runTime","betweenAccelerateAtAndStopAtPercentage","dampenValueByTime","getScrollOnAxis","distanceToEdges","getDistanceThresholds","clean$2","limited","isTooBigVertically","isTooBigHorizontally","adjustForSizeLimits","smallestSigned","getOverlap","getRemainder","targetScroll","overlap","canPartiallyScroll","rawMax","smallestChange","canScrollWindow","canScrollDroppable","scroll$1","_change","getWindowScrollChange","getDroppableScrollChange","createJumpScroller","scrollDroppableAsMuchAsItCan","getDroppableOverlap","whatTheDroppableCanScroll","scrollWindowAsMuchAsItCan","getWindowOverlap","whatTheWindowCanScroll","droppableRemainder","windowRemainder","moveByOffset","createAutoScroller","fluidScroller","scheduleWindowScroll","scheduleDroppableScroll","tryScroll","_dragging","wasScrollNeeded","fakeScrollCallback","createFluidScroller","jumpScroll","dragHandle","base","prefix$1","contextId","scrollContainer","getStyles","rules","property","rule","selector","useIsomorphicLayoutEffect","getHead","head","createStyleEl","nonce","useStyleMarshal","getSelector","dragHandle$1","grabCursor","always","dropAnimating","userCancel","getStyles$1","alwaysRef","dynamicRef","setDynamicStyle","textContent","setAlwaysStyle","dynamic","getWindowFromEl","isHtmlElement","HTMLElement","findDragHandle","possible","handle","createRegistry","subscribers","notify","cb","findDraggableById","findDroppableById","register","uniqueId","unregister","findById","clean","StoreContext","getBodyElement","visuallyHidden","defaults","separator","useUniqueId","prefix","AppContext","useDev","useHook","useDevSetupWarning","useStartupValidation","usePrevious","_preventedKeys","preventedKeys","preventStandardKeyEvents","supportedEventName","_scrollJumpKeys","idle$1","getCaptureBindings","getPhase","setPhase","button","actions","pending","fluidLift","shouldBlockNextClick","shouldRespectForcePress","noop$1","scrollJumpKeys","getDraggingBindings","idle$2","interactiveTagNames","textarea","select","optgroup","video","audio","isEventInInteractiveElement","isAnInteractiveElement","parent","tagName","getBorderBoxCenterPosition","supportedMatchesName","Element","closest$1","closestPonyfill","findClosestDragHandleFromEvent","_isActive","expected","isLockActive","shouldWarn","canStart","lockAPI","isClaimed","tryStart","forceSensorStop","sourceEvent","draggable$1","findDraggable","canDragInteractiveElements","claim","getShouldRespectForcePress","tryDispatchWhenDragging","getAction","release","lift","liftActionArgs","move$1","api","snapLift","defaultSensors","phaseRef","unbindEventsRef","startCaptureBinding","ctrlKey","metaKey","altKey","findClosestDraggableId","tryGetLock","startPendingDrag","preventForcePressBinding","findOptionsForDraggable","canGetLock","listenForCapture","bindCapturingEvents","preDrag","isCapturing","touch","longPressTimerId","unbindTarget","hasMoved","_event$touches$","force","shouldRespect","getHandleBindings","unbindWindow","getWindowBindings","startDragging","useSensorMarshal","_ref4","customSensors","enableDefaultSensors","useSensors","abandon","newLock","tryAbandon","create","tryAbandonLock","forceStop","tryGetClosestDraggableIdFromEvent","tryReleaseLock","isLockClaimed","getStore","lazyRef","App","sensors","dragHandleUsageInstructions","lazyStoreRef","lastPropsRef","createResponders","getId","useAnnouncer","dragHandleUsageInstructionsId","text","useHiddenTextElement","lazyDispatch","marshalCallbacks","bindActionCreators","useRegistry","entriesRef","recordRef","restoreFocusFrameRef","isMountedRef","tryGiveFocus","tryGiveFocusTo","redirectTo","record","focused","useFocusMarshal","tryResetStore","getCanLift","getIsMovementAllowed","appContext","canLift","count$1","DragDropContext","isEqual$1","isScroll","isAuto","isEither","isElementScrollable","getClosestScrollable","getScroll$1","getEnv","closestScrollable","getIsFixed","env","isDropDisabled","targetRef","getClient","frameClient","scrollSize","getDroppableDimension","immediate","delayed","getListenerOptions","useRequiredContext","Context","getClosestScrollableFromDrag","noop$2","empty","getStyle","isAnimatingOpenOnMount","animate","boxSizing","flexShrink","flexGrow","Placeholder$1","memo","animateOpenTimerRef","tryClearAnimateOpenTimer","onTransitionEnd","setIsAnimatingOpenOnMount","onSizeChangeEnd","propertyName","DroppableContext","AnimateInOut","_React$PureComponent","on","getDerivedStateFromProps","provided","PureComponent","zIndexOptions","getDraggingTransition","shouldAnimateDragMovement","getDraggingOpacity","isDropAnimating","getStyle$1","mapped","getShouldDraggingAnimate","opacity","getDraggingStyle","secondary","shouldAnimateDisplacement","useDraggablePublisher","getDraggableRef","computedStyles","getDimension$1","publishedRef","isFirstPublishRef","useValidation$1","getRef","preventHtml5Dnd","isStrictEqual","whatIsDraggedOverFromResult","getSecondarySnapshot","combineTargetFor","isClone","dropAnimation","draggingOver","atRest","snapshot","mapDispatchToProps","ConnectedDraggable","draggingSelector","memoizedOffset","getMemoizedSnapshot","getMemoizedProps","ownProps","_draggingOver","_combineWith","getCombineWithFromResult","curve","getDraggableSelector","secondarySelector","getFallback","getProps","ownId","draggingId","visualDisplacement","isAfterCriticalInVirtualList","_offset","getSecondarySelector","pure","areStatePropsEqual","setRef","_useRequiredContext","_useRequiredContext2","dropAnimationFinishedAction","dragHandleProps","onMoveEnd","draggableProps","rubric","PrivateDraggable","isUsingCloneFor","PublicDraggable","isDragDisabled","disableInteractiveElementBlocking","isMatchingType","getDraggable","mapDispatchToProps$1","updateViewportMaxScroll","ignoreContainerClipping","renderClone","getContainerForClone","ConnectedDroppable","idleWithAnimation","shouldAnimatePlaceholder","isDraggingOver","draggingOverWith","draggingFromThisWith","isUsingPlaceholder","useClone","idleWithoutAnimation","getDraggableRubric","getMapProps","isDraggingOverForConsumer","isDraggingOverForImpact","_snapshot","_completed","wasCombining","isHome","droppableRef","placeholderRef","getDroppableRef","setDroppableRef","setPlaceholderRef","onPlaceholderTransitionEnd","whileDraggingRef","previousRef","publishedDescriptorRef","memoizedUpdateScroll","getClosestScroll","updateScroll","scheduleScrollUpdate","onClosestScroll","removeAttribute","useDroppablePublisher","droppableProps","droppableContext","draggableProvided","draggableSnapshot","ReactDOM","getClone","InsightCardView","deleteInsight","removeCard","deleteSequenceCard","scriptRef","changeCardIndexAndConfigure","clickInsight","parseCaptionStyleToEmpty","scriptContent","innerHTML","insightFact","sentence","caption","genFactSentence","parseCaptionStyle","newScrpit","timeStr","blockValue","hightlightItem","wordBreak","SequenceView","dragId","changeCardLocation","addEmptyInsight","insert","addEmptyCard","connectDropTarget","DropTarget","hover","monitor","getClientOffset","didDrop","setHoverIndex","dropTarget","canDrop","tooltipContainer","EditTimeView","antSlider","timer","globalThis","componentWillMount","reverseScale","componentWillReceiveProps","handleHotkey","initChart","originSchema","initSpec","tempMesure","colName","url","calcuRecommendCardLocation","calcuUnderCardDivLocation","changeBlockValue","showBlock","divLocation","mainChart","isClicked","clickedRight","loc","btnState","setTooltipContainer","DndProvider","backend","HTML5Backend","enableMouseEvents","onScroll","LocaleProvider","_props$locale","_ANT_MARK__","changeConfirmLocale","getMemoizedContextValue","LocaleContext","defaultGetContainer","defaultCloseIcon","notificationInstance","defaultDuration","defaultTop","defaultBottom","defaultPrefixCls","defaultPlacement","getPlacementStyle","getNotificationInstance","_args$placement","_args$getContainer","cacheKey","cacheInstance","instance","notificationClass","Notification","newInstance","notification","typeToIcon","getRCNoticeProps","durationArg","description","btn","_args$closeIcon","autoMarginTag","notice","removeNotice","useNotification","innerInstance","proxy","noticeProps","holderCallback","_useRCNotification","useRCNotification","_useRCNotification2","hookNotify","holder","hookApiRef","mergedPrefixCls","ConfigConsumer","TinyColor","numberInputToObject","originalInput","rgb","inputToRGB","r","roundA","format","gradientType","isValid","ok","isDark","getBrightness","isLight","toRgb","getLuminance","RsRGB","GsRGB","BsRGB","getAlpha","setAlpha","alpha","boundAlpha","isMonochrome","toHsl","toHsv","hsv","rgbToHsv","toHsvString","hsl","rgbToHsl","l","toHslString","toHex","allow3Char","rgbToHex","toHexString","toHex8","allow4Char","rgbaToHex","toHex8String","toRgbString","toPercentageRgb","fmt","bound01","toPercentageRgbString","rnd","toName","hex","names","formatSet","formattedString","hasAlpha","toNumber","lighten","amount","clamp01","brighten","darken","tint","mix","shade","desaturate","saturate","greyscale","spin","hue","rgb1","rgb2","analogous","slices","part","complement","monochromatic","modification","splitcomplement","onBackground","background","fg","bg","triad","polyad","tetrad","n","increment","equals","dynamicStyleMark","registerTheme","globalPrefixCls","theme","variables","formatColor","fillColor","colorVal","baseColor","colorPalettes","generate","primaryColor","primaryColors","primaryActiveColor","successColor","warningColor","errorColor","infoColor","cssList","trim","globalIconPrefixCls","PASSED_PROPS","getGlobalPrefixCls","getGlobalIconPrefixCls","suffixCls","getRootPrefixCls","ProviderChildren","csp","autoInsertSpaceInButton","form","componentSize","space","virtual","dropdownMatchSelectWidth","legacyLocale","parentContext","componentDisabled","propValue","memoedConfig","prevConfig","prevKeys","currentKeys","memoIconContextValue","childNode","validateMessages","Form","defaultValidateMessages","RcFormProvider","IconContext","SizeContextProvider","DisabledContextProvider","__","_createForOfIteratorHelper","o","Symbol","iterator","F","done","_e","f","TypeError","it","normalCompletion","didErr","_e2","argIndex","framesToPop","ActionType","CHANGE_BTN_STATE","setParsedFileData","timeCol","SET_PARSED_FILE_DATA","setScale","SET_SCALE","SET_TASK","SET_SEQUENCE","SET_REDUNDANT","ADD_EMPTY_CARD","CHANGE_CRAD_LOCATION","REMOVE_CARD","FIX_CARD","SET_SELECTED_CARD_INDEX","SET_SELECTED_RECOMMEND_CARD","REMOVE_RECOMMEND_CARD","ADD_RECOMMEND_LIST","ADD_SEGMENTS_INSIGHTS","SET_POP_CARD_START","SET_POP_INSIGHTS","SET_TOOLTIP_CONTAINER","SET_CONFIGURE_COLUMNS","SET_CONFIGURE_TIME","insightType","SET_CONFIGURE_TYPE","SET_CONFIGURE_BREAKDOWN","SET_PROCESS_TIME","SET_PROCESS_GRANULARITY","SET_PROCESS_COLUMNS","UPDATE_COLUMNS_AND_RANGE","series","drawScale","ajax","axios","params","post","findInsightUrl","uploadFile","formData","path","variable","aggregate","parsingFile","fileurl","time_col","module","exports","Constructor","_defineProperties","enumerable","configurable","writable","protoProps","staticProps","ExclamationCircleFilled","ExclamationCircleFilledSvg","InfoCircleFilled","InfoCircleFilledSvg","messageInstance","localPrefixCls","hasTransitionName","getKeyThenIncreaseKey","getRCNotificationInstance","instanceConfig","RCNotification","CheckCircleFilled","CloseCircleFilled","LoadingOutlined","typeList","IconComponent","messageClass","getRcNotificationInstance","closePromise","filled","rejected","promise","messageKey","attachTypeApi","originalApi","isArgsProps","useMessage","factSimilarity","f1","f2","s2","s3","s1","m1","m2","m_intersection","m_longer","s4","subspace1fields","subspace2fields","subspace_intersection","subspace_longer","s5","g1","groupby","g2","g_intersection","g_longer","focus1","focus2","focus_intersection","focus_longer","factDistance","HierarchicalClustering","linkage","Infinity","cluster","snapshotPeriod","snapshotCb","clusters","dists","mins","merged","mergeClosest","minKey","c1","c2","ci","key1","key2","factAggRules","storyAggregation","original_facts","aggregationLevel","facts","aggregated","aggregatedFact","doubleNodes","getLeafNodes","tree","nodes","leftLeafNodes","rightLeafNodes","snapshotCallback","hcluster","aggregationCount","aggFacts","aggFact","secondIndex","factAggregation","compoundFact","compoundType","compoundChart","ChartType","score","eqSet","as","bs","story","originData","relations","maxStoryLength","resultCoverage","rewardWeight","generateProgress","createSelector","originFacts","storyParameter","information","chartDiversity","timeLimit","applicationUrl","urlPrefix","uploadDataPrefix","generationUrlPrefix","activitiesPrefix","accountIp","uploadFileUrl","publicPrefix","loginadmintest","loginRedirectUrl","logoutRedirectUrl","authenUrl","accessToken","userImage","checkToken","logout","logoutAuthSystem","users","activitiesApi","uploadData","share","fetch","factScoring","_arrayLikeToArray","arr","arr2","_unsupportedIterableToArray","minLen","constructor","Data","_table","_schema","reject","aggregationtype","SUM","MAX","MIN","AVG","COUNT","NONE","Fact","_factdata","_type","_measure","_subspace","_breakdown","_parameter","_focus","parameter","schemaDict","column","subtype","pictype","isPostCode","factdata","filteredData","value1","value2","valueNoRange1","valueNoRange2","max1","min1","sub","measures","breakdowns","aggdata","measureField","AggregationType","avg","seriesData","calculateData","sumData","fill","categoryData","sumRows","assign","agg","countData","countRows","FREQUENT_PATTERN","UNIVARIATE_OUTLIER","MULTIVARIATE_OUTLIER","TREND","FORECASTING","UNIVARIATE_DISTRIBUTION","MULTIVARIATE_DISTRIBUTION","SEASONALITY","CLUSTERING","SIMILARITY","ORIGIN","AUTOCORRELATION","OUTSTANDING","_container","_width","_height","_duration","_showTooltip","_showSuggestion","selectAll","_style","_size","parseTime","date","formatTick","formatTicksCount","DAY","HOUR","SERIES_COLORS","MultivariateOutlier","_x","_y","factData","chartSize","svg","attr","lineLayer","format_TicksCount","tick_format","axisX","tickFormat","ticks","tooltipLayer","tickValues","yAxisLayer","ys","outlier","enter","lineGen","centerPts","forecastPts","domainD","getBBox","tooltipText","textWidth","textHeight","textY","outlierX","posX","posY","UnivariateDistribution","factResult","parseFact","_data","measureName","_measureName","chartResult","setChartStandard","_chartSize","_margin","initSvg","xAxisResult","drawXAxis","_axisX","_tick_format","drawYAxis","xLeft","xRight","uniDistributionResult","drawUnivariateDistribution","mean","_mean","x_mean","_x_mean","y_mean","_y_mean","_tooltipLayer","originLineResult","drawBackLine","rawPath","_rawPath","_lineGen","drawInsightText","renderDetailValue","std","distr","yVal","tooltipLayer2","tooltip2","containerSelector","detailValueTooltip","detailValueTitle","detailValueContent","detailValueColor","detailValueText","detailValue","elementFromPoint","detailValueCircle","x0","invert","bisectDate","time0","time1","currentTime","currentValue","html","detailValueLine","Trend","drawTrend","pattern","yTop","regressionData","tmp","increasing","arrowImage","Seasonality","seasonality","interval","seasonal","tooltipPathList","drawSeasonality","renderTooltip","extendYAxis","tooltipPeriod","tooltipPeriodStart","tooltipPeriodEnd","xPos","tooltipId","hoverTooltip","hoverTooltipTitle","hoverTooltipContent","tooltipX","tooltipY","tooltipLenGen","tooltipAvgY","average","tooltipAvgLenGen","intervalString","SECOND","MINUTE","periodLeft","periodRight","previousSvg","getElementsByTagName","currentPeriod","tooltipData","dataLeft","dataRight","newAvgData","legendLayer","minValue","maxValue","MultivariateDistribution","focusMeasure","means","stds","rxs","rys","rads","maxs","tempList","oneChartWidth","oneChartHeight","lineLayer2","cutTitle","xAxisLayer","FrequentPattern","drawFrequentPattern","patterns","tooltipPath","tooltipAvgData","normalized","Clustering","scatterData","clusterCounter","outlierCounter","symbolList","symbol","valueline","positions","polygon","centroid","textSpan","lineSpan1","lineSpan2","p_x","p_y","outlierText","tableContainer","overviewTableContainer","updateOverviewTable","clusterTable","headerTd","tdWidth","clusterRows","row","clusterUnit","outlierTable","outlierRows","outlierUnit","outlierName","clusterNumber","overviewTable","overviewTitleUnit","overviewTitle","overviewRows","variableName","overviewTd","overviewUnit","seriesInClusterIndex","lineX","lineY","Forecasting","pred","timeDelta","getTime","up","low","areaGen","y0","y1","lineGenPred","UnivariateOutlier","conf_data","conf_int","forecastLineGen","outlierY","endX","middle","ptIndex","BLOCK_COLOR","COLOR_LEGEND","TICK_VALUE","Similarity","parsrFact","drawLegend","baseLineMaxMin","baseStart","baseEnd","baseLineField","simiBlockLayer","seriesColor","setSeriesColor","tooltipPathData","currentMeasureName","backColor","drawSimiPart","linear","compute","similarity_slice","similarity_value","minmax","baseline_local","ymin","ymax","tooltipBaslineGen","tooltipCompareGen","tooltipSvg","drawMultiBlock","Origin","yTextToolitip","yText","pointer","blockHeight","Outstanding","stars","star","symbolGen","Autocorrelation","correlation","Visualization","_fact","VERTICAL_BAR_CHART","_chart","_caption","showSuggestion","_type2chart","table","Display","_paragraph","_vis","prefact","nextfact","AutoVis","_display","_spec","_shouldShowCaption","dataspec","factspec","chartspec","load","paragraph","shouldShowCaption","showCaption","autovis","preProps","a_height","a_width","dontSetMe","findInArray","int","isFunction","isNum","arrayLikeToArray","iter","unsupportedIterableToArray","trend","forecasting","frequent_pattern","univariate_outlier","univariate_distribution","similarity","multivariate_outlier","multivariate_distribution","clustering","outstanding","autocorrelation","addClassName","addEvent","handler","inputOptions","attachEvent","addUserSelectStyles","styleEl","createCSSTransform","controlPos","positionOffset","translation","getTranslation","_getPrefix","browserPrefixToKey","default","createSVGTransform","getTouch","identifier","targetTouches","_shims","changedTouches","getTouchIdentifier","computedStyle","matchesSelector","matchesSelectorAndParentsTo","baseNode","parentNode","offsetXYFromParent","evt","offsetParent","offsetParentRect","outerHeight","outerWidth","removeClassName","removeEvent","detachEvent","removeUserSelectStyles","getSelection","removeAllRanges","nodeInterop","__esModule","_getRequireWildcardCache","newObj","hasPropertyDescriptor","getOwnPropertyDescriptor","desc","_interopRequireWildcard","WeakMap","cacheBabelInterop","cacheNodeInterop","ownKeys","object","enumerableOnly","symbols","sym","getOwnPropertyDescriptors","defineProperties","matchesSelectorFunc","unitSuffix","defaultX","defaultY","classList","operateState","user","isLogin","getUserInfo","Cookies","username","uid","templates","pickFactTemplate","InsightType","template","MEDIAN","convertAggregation","aggType","langEn","converAction","ActionCaption","ActionCaptionZh","convertMeasure","convertMultiMeasure","hasBalineline","measureStr","baseline","measureList","genFactSubspace","lang","langIsEn","pickFactTemplateZh","lineReg","insightFocus","ifSeasonal","start1","end1","focuName","resultDistribution","tempMean","maxMeanValue","maxMeanMeasure","toUpperCase","objA","objB","compare","compareContext","keysA","keysB","bHasOwnProperty","idx","valueA","valueB","createdRef","firstMount","div","noticeEle","Notice","cloneList","newLocale","FILE","URL","TEXT","HTML","canDragX","canDragY","createCoreData","isStart","lastX","findDOMNode","lastY","createDraggableData","coreData","getBoundPosition","cloneBounds","boundNode","ownerWindow","boundNodeEl","nodeStyle","boundNodeStyle","_domFns","getControlPosition","touchIdentifier","draggableCore","touchObj","snapToGrid","grid","pendingX","pendingY","script","srtStartIndex","newScript","defaultEqualityCheck","defaultMemoize","equalityCheckOrOptions","providedOptions","equalityCheck","_providedOptions$equa","_providedOptions$maxS","maxSize","resultEqualityCheck","comparator","createCacheKeyComparator","put","getEntries","clear","createSingletonCache","cacheIndex","createLruCache","memoized","matchingEntry","clearCache","getDependencies","funcs","dependencies","dep","dependencyTypes","createSelectorCreator","memoize","memoizeOptionsFromArgs","_lastResult","_recomputations","directlyPassedOptions","memoizeOptions","resultFunc","_directlyPassedOption","_directlyPassedOption2","finalMemoizeOptions","memoizedResultFunc","recomputations","resetRecomputations","createRoot","fullClone","version","unmountComponentAtNode","toggleWarning","skip","__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED","usingClientEntryPoint","MARK","root","modernRender","legacyRender","modernUnmount","_modernUnmount","_asyncToGenerator","_regeneratorRuntime","_callee","_context","abrupt","_container$MARK","unmount","legacyUnmount","_x2","_unmount","_callee2","_context2","closeTimer","clearCloseTimer","noticeKey","startCloseTimer","prevProps","updateMark","restartCloseTimer","_this2","componentClass","dataOrAriaAttributeProps","acc","AsapQueue","pendingErrors","flushing","capacity","q","scan","newLength","registerPendingError","requestErrorThrow","requestFlush","makeRequestCall","makeRequestCallFromTimer","shift","enqueueTask","TaskFactory","onError","freeTasks","tasks","RawTask","without","union","itemsA","itemsB","insertItem","INIT_COORDS","BEGIN_DRAG","PUBLISH_DRAG_SOURCE","HOVER","DROP","END_DRAG","strictEquality","areCoordsEqual","offsetA","offsetB","areArraysEqual","initialState","initialSourceClientOffset","initialClientOffset","clientOffset","sourceClientOffset","ADD_SOURCE","ADD_TARGET","REMOVE_SOURCE","REMOVE_TARGET","isObject","xor","itemType","sourceId","targetIds","dropResult","isSourcePublic","targetId","ALL","areDirty","dirtyIds","handlerIds","_action$payload$targe","_action$payload$prevT","prevTargetIds","didChange","prevInnermostTargetId","innermostTargetId","dirtyHandlerIds","dragOffset","refCount","dragOperation","stateId","__IS_NONE__","__IS_ALL__","setClientOffset","ResetCoordinatesAction","createBeginDrag","manager","sourceIds","publishSource","_options$publishSourc","getSourceClientOffset","getMonitor","getRegistry","verifyInvariants","getDraggableSource","verifyGetSourceClientOffsetIsFunction","getSource","beginDrag","verifyItemIsObject","pinSource","getSourceType","canDragSource","createPublishDragSource","matchesType","targetType","draggedItemType","createHover","targetIdsArg","verifyTargetIdsIsArray","checkInvariants","getItemType","removeNonMatchingTargetIds","hoverAllTargets","getTargetType","createDrop","getDroppableTargets","determineDropResult","verifyDropResultType","getDropResult","getTargetIds","canDropOnTarget","createEndDrag","verifyIsDragging","getSourceId","endDrag","unpinSource","HandlerRole","DragDropMonitorImpl","prevStateId","currentStateId","previousState","canDrag","_getSourceClientOffset","_getDifferenceFromInitialOffset","nextUniqueId","validateType","allowArray","_arrayWithHoles","_arr","_n","_d","_s","_iterableToArrayLimit","_nonIterableRest","getNextHandlerId","SOURCE","TARGET","parseRoleFromHandlerId","handlerId","mapContainsValue","searchValue","isDone","_entries$next","HandlerRegistryImpl","types","dragSources","dropTargets","pinnedSourceId","pinnedSource","validateSourceContract","addHandler","_addSource","validateTargetContract","_addTarget","includePinned","isSourceId","isPinned","isTargetId","_removeSource","asap","_removeTarget","makeStoreInstance","debugMode","reduxDevTools","__REDUX_DEVTOOLS_EXTENSION__","instanceId","DragDropManagerImpl","isSetUp","handleRefCountChange","shouldSetUp","setup","teardown","publishDragSource","createDragDropActions","boundActions","actionCreator","createDragDropManager","backendFactory","globalContext","backendOptions","receiveBackend","DndContext","dragDropManager","createDndContext","isPlainObject","isObjectLike","getPrototypeOf","proto","registerTarget","addTarget","removeTarget","isValidType","compareResult","cloneWithRef","newRef","throwIfCompositeComponentElement","wrapConnectorHooks","hooks","wrappedHooks","hook","endsWith","wrappedHook","elementOrNode","isValidElement","wrapHookToRecognizeElement","TargetConnector","clearDropTarget","dropTargetOptions","dropTargetRef","dropTargetNode","reconnect","dropTargetOptionsInternal","lastConnectedHandlerId","lastConnectedDropTarget","lastConnectedDropTargetOptions","didHandlerIdChange","didDropTargetChange","didOptionsChange","disconnectDropTarget","unsubscribeDropTarget","newHandlerId","isCallingCanDrop","DropTargetMonitorImpl","internalMonitor","subscribeToStateChange","isOverTarget","getItem","getInitialClientOffset","getInitialSourceClientOffset","getDifferenceFromInitialOffset","isRefable","C","_item$$$typeof","$$typeof","isRefForwardingComponent","Disposable","isDisposed","dispose","isDisposable","CompositeDisposable","disposables","shouldDispose","currentDisposables","SerialDisposable","old","_setPrototypeOf","setPrototypeOf","__proto__","Derived","hasNativeReflectConstruct","Reflect","construct","sham","Proxy","_isNativeReflectConstruct","Super","_getPrototypeOf","NewTarget","_possibleConstructorReturn","self","ReferenceError","_assertThisInitialized","decorateHandler","DecoratedComponent","createHandler","createMonitor","createConnector","registerHandler","containerDisplayName","getType","_options$arePropsEqua","arePropsEqual","Decorated","DragDropContainer","subClass","superClass","decoratedRef","getCurrentState","disposable","receiveProps","currentType","receiveType","handlerMonitor","handlerConnector","_registerHandler2","receiveHandlerId","setDisposable","receiveDragDropManager","_this2$handlerConnect","getBackend","hoistStatics","ALLOWED_SPEC_METHODS","TargetImpl","instanceRef","currentRef","getDecoratedComponent","createTargetFactory","createTarget","seed","getUuid","notices","hookRefs","originNotice","_originNotice$key","noticeIndex","updatedNotices","userPassKey","removeKey","_ref2$notice","noticePropsMap","noticeKeys","_notice$onClose","CSSMotionList","changedVisible","_ref5","_this2$noticePropsMap","properties","_ref6","called","_useNotification","CheckCircleOutlinedSvg","InfoCircleOutlinedSvg","CloseCircleOutlinedSvg","ExclamationCircleOutlinedSvg","_require","Draggable","DraggableCore","generateStory","coverage","GENERATE_STORY","updateProgress","totalLength","currentLength","UPDATE_PROGRESS","UPDATE_FILEURL_AND_DATA","_DraggableCore","_propTypes","_interopRequireDefault","_reactDom","_clsx2","_positionFns","_log","excluded","sourceKeys","_objectWithoutPropertiesLoose","sourceSymbolKeys","valueOf","dragged","slackX","slackY","_getBoundPosition2","newStateX","newStateY","onDrag","onStop","_this$props$position","defaultPosition","prevPropsPosition","isElementSVG","SVGElement","_this$props$nodeRef$c","_this$props$nodeRef","nodeRef","_clsx","defaultClassName","defaultClassNameDragging","defaultClassNameDragged","draggableCoreProps","svgTransform","validPosition","transformOpts","onDragStop","Children","only","propTypes","oneOf","oneOfType","shape","number","string","clsx","browserPrefixToStyle","getPrefix","prefixes","_window$document","_window$document$docu","str","out","shouldCapitalize","kebabToTitleCase","_default","eventsFor","dragEventFor","NaN","allowAnyClick","thisNode","Node","coreEvent","enableUserSelectHack","handleDrag","handleDragStop","_snapToGrid2","MouseEvent","createEvent","initMouseEvent","_snapToGrid4","handleDragStart","_this$props2$nodeRef","bool","nodeType","arrayOf","asapQueue","taskFactory","makeRequestCallFromMutationObserver","global","BrowserMutationObserver","MutationObserver","WebKitMutationObserver","timeoutHandle","handleTimer","intervalHandle","toggle","observer","createTextNode","observe","characterData","getEmptyImage","NativeTypes","HTML5BackendImpl","sourcePreviewNodes","sourcePreviewNodeOptions","sourceNodes","sourceNodeOptions","dragStartSourceIds","dropTargetIds","dragEnterTargetIds","currentNativeSource","currentNativeHandle","currentDragSourceNode","altKeyPressed","mouseMoveTimeoutTimer","asyncEndDragFrameId","dragOverTargetIds","lastClientOffset","hoverRafId","getNodeClientOffset","endDragNativeItem","isDraggingNativeItem","removeSource","isNodeInDocument","endDragIfSourceWasRemovedFromDOM","clearCurrentDragSourceNode","cancelHover","scheduleHover","handleTopDragStartCapture","handleTopDragStart","getEventClientOffset","dataTransfer","nativeType","matchNativeItemType","setDragImage","sourceNode","dragPreview","getCurrentSourcePreviewNodeOptions","anchorPoint","anchorX","anchorY","offsetPoint","dragPreviewOffset","getDragPreviewOffset","setData","setCurrentDragSourceNode","captureDraggingState","beginDragNativeItem","hasAttribute","handleTopDragEndCapture","handleTopDragEnterCapture","loadDataTransfer","enterLeaveCounter","handleTopDragEnter","dropEffect","getCurrentDropEffect","handleTopDragOverCapture","handleTopDragOver","handleTopDragLeaveCapture","leave","handleTopDropCapture","reset","handleTopDrop","handleSelectStart","dragDrop","OptionsReader","getActions","EnterLeaveCounter","profile","rootElement","__isReactDndBackendSetUp","addEventListeners","removeEventListeners","connectDragPreview","connectDragSource","handleDragEnter","handleDragOver","handleDrop","getCurrentSourceNodeOptions","createNativeDragSource","addSource","entered","enteringNode","previousLength","leavingNode","isImage","isFirefox","isImageNode","dragPreviewNodeOffsetFromClient","offsetFromDragPreview","sourceWidth","sourceHeight","dragPreviewWidth","dragPreviewHeight","isSafari","devicePixelRatio","getDragPreviewSize","isManualOffsetY","MonotonicInterpolant","interpolate","calculateYOffset","navigator","userAgent","safari","indexes","dx","dy","dys","dxs","ms","c1s","mNext","dxNext","common","m","c2s","c3s","invDx","mid","high","xHere","diffSq","nativeTypesConfig","NativeDragSource","dataTransferTypes","nativeItemType","typeConfig","matchesTypes","exposeProperties","files","getDataFromDataTransfer","urls","typesToTry","resultSoFar","typeToTry","getData","initializeExposedProperties","newProperties","propertyFn","optionsArgs","emptyImage","Image","src","_getDndContextValue2","getGlobalContext","ctx","instanceSymbol","createSingletonDndContext","isGlobalInstance","getDndContextValue","for"],"mappings":"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","file":"static/js/13.035959a0.chunk.js","sourcesContent":["import * as React from 'react';\nvar SliderContext = /*#__PURE__*/React.createContext({\n  min: 0,\n  max: 0,\n  direction: 'ltr',\n  step: 1,\n  includedStart: 0,\n  includedEnd: 0,\n  tabIndex: 0\n});\nexport default SliderContext;","export function getOffset(value, min, max) {\n  return (value - min) / (max - min);\n}\nexport function getDirectionStyle(direction, value, min, max) {\n  var offset = getOffset(value, min, max);\n  var positionStyle = {};\n\n  switch (direction) {\n    case 'rtl':\n      positionStyle.right = \"\".concat(offset * 100, \"%\");\n      positionStyle.transform = 'translateX(50%)';\n      break;\n\n    case 'btt':\n      positionStyle.bottom = \"\".concat(offset * 100, \"%\");\n      positionStyle.transform = 'translateY(50%)';\n      break;\n\n    case 'ttb':\n      positionStyle.top = \"\".concat(offset * 100, \"%\");\n      positionStyle.transform = 'translateY(-50%)';\n      break;\n\n    default:\n      positionStyle.left = \"\".concat(offset * 100, \"%\");\n      positionStyle.transform = 'translateX(-50%)';\n      break;\n  }\n\n  return positionStyle;\n}\n/** Return index value if is list or return value directly */\n\nexport function getIndex(value, index) {\n  return Array.isArray(value) ? value[index] : value;\n}","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _excluded = [\"prefixCls\", \"value\", \"valueIndex\", \"onStartMove\", \"style\", \"render\", \"dragging\", \"onOffsetChange\"];\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport KeyCode from \"rc-util/es/KeyCode\";\nimport SliderContext from '../context';\nimport { getDirectionStyle, getIndex } from '../util';\nvar Handle = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  var _classNames, _getIndex;\n\n  var prefixCls = props.prefixCls,\n      value = props.value,\n      valueIndex = props.valueIndex,\n      onStartMove = props.onStartMove,\n      style = props.style,\n      render = props.render,\n      dragging = props.dragging,\n      onOffsetChange = props.onOffsetChange,\n      restProps = _objectWithoutProperties(props, _excluded);\n\n  var _React$useContext = React.useContext(SliderContext),\n      min = _React$useContext.min,\n      max = _React$useContext.max,\n      direction = _React$useContext.direction,\n      disabled = _React$useContext.disabled,\n      range = _React$useContext.range,\n      tabIndex = _React$useContext.tabIndex,\n      ariaLabelForHandle = _React$useContext.ariaLabelForHandle,\n      ariaLabelledByForHandle = _React$useContext.ariaLabelledByForHandle,\n      ariaValueTextFormatterForHandle = _React$useContext.ariaValueTextFormatterForHandle;\n\n  var handlePrefixCls = \"\".concat(prefixCls, \"-handle\"); // ============================ Events ============================\n\n  var onInternalStartMove = function onInternalStartMove(e) {\n    if (!disabled) {\n      onStartMove(e, valueIndex);\n    }\n  }; // =========================== Keyboard ===========================\n\n\n  var onKeyDown = function onKeyDown(e) {\n    if (!disabled) {\n      var offset = null; // Change the value\n\n      switch (e.which || e.keyCode) {\n        case KeyCode.LEFT:\n          offset = direction === 'ltr' || direction === 'btt' ? -1 : 1;\n          break;\n\n        case KeyCode.RIGHT:\n          offset = direction === 'ltr' || direction === 'btt' ? 1 : -1;\n          break;\n        // Up is plus\n\n        case KeyCode.UP:\n          offset = direction !== 'ttb' ? 1 : -1;\n          break;\n        // Down is minus\n\n        case KeyCode.DOWN:\n          offset = direction !== 'ttb' ? -1 : 1;\n          break;\n\n        case KeyCode.HOME:\n          offset = 'min';\n          break;\n\n        case KeyCode.END:\n          offset = 'max';\n          break;\n\n        case KeyCode.PAGE_UP:\n          offset = 2;\n          break;\n\n        case KeyCode.PAGE_DOWN:\n          offset = -2;\n          break;\n      }\n\n      if (offset !== null) {\n        e.preventDefault();\n        onOffsetChange(offset, valueIndex);\n      }\n    }\n  }; // ============================ Offset ============================\n\n\n  var positionStyle = getDirectionStyle(direction, value, min, max); // ============================ Render ============================\n\n  var handleNode = /*#__PURE__*/React.createElement(\"div\", _extends({\n    ref: ref,\n    className: classNames(handlePrefixCls, (_classNames = {}, _defineProperty(_classNames, \"\".concat(handlePrefixCls, \"-\").concat(valueIndex + 1), range), _defineProperty(_classNames, \"\".concat(handlePrefixCls, \"-dragging\"), dragging), _classNames)),\n    style: _objectSpread(_objectSpread({}, positionStyle), style),\n    onMouseDown: onInternalStartMove,\n    onTouchStart: onInternalStartMove,\n    onKeyDown: onKeyDown,\n    tabIndex: disabled ? null : getIndex(tabIndex, valueIndex),\n    role: \"slider\",\n    \"aria-valuemin\": min,\n    \"aria-valuemax\": max,\n    \"aria-valuenow\": value,\n    \"aria-disabled\": disabled,\n    \"aria-label\": getIndex(ariaLabelForHandle, valueIndex),\n    \"aria-labelledby\": getIndex(ariaLabelledByForHandle, valueIndex),\n    \"aria-valuetext\": (_getIndex = getIndex(ariaValueTextFormatterForHandle, valueIndex)) === null || _getIndex === void 0 ? void 0 : _getIndex(value)\n  }, restProps)); // Customize\n\n  if (render) {\n    handleNode = render(handleNode, {\n      index: valueIndex,\n      prefixCls: prefixCls,\n      value: value,\n      dragging: dragging\n    });\n  }\n\n  return handleNode;\n});\n\nif (process.env.NODE_ENV !== 'production') {\n  Handle.displayName = 'Handle';\n}\n\nexport default Handle;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _excluded = [\"prefixCls\", \"style\", \"onStartMove\", \"onOffsetChange\", \"values\", \"handleRender\", \"draggingIndex\"];\nimport * as React from 'react';\nimport Handle from './Handle';\nimport { getIndex } from '../util';\nvar Handles = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  var prefixCls = props.prefixCls,\n      style = props.style,\n      onStartMove = props.onStartMove,\n      onOffsetChange = props.onOffsetChange,\n      values = props.values,\n      handleRender = props.handleRender,\n      draggingIndex = props.draggingIndex,\n      restProps = _objectWithoutProperties(props, _excluded);\n\n  var handlesRef = React.useRef({});\n  React.useImperativeHandle(ref, function () {\n    return {\n      focus: function focus(index) {\n        var _handlesRef$current$i;\n\n        (_handlesRef$current$i = handlesRef.current[index]) === null || _handlesRef$current$i === void 0 ? void 0 : _handlesRef$current$i.focus();\n      }\n    };\n  });\n  return /*#__PURE__*/React.createElement(React.Fragment, null, values.map(function (value, index) {\n    return /*#__PURE__*/React.createElement(Handle, _extends({\n      ref: function ref(node) {\n        if (!node) {\n          delete handlesRef.current[index];\n        } else {\n          handlesRef.current[index] = node;\n        }\n      },\n      dragging: draggingIndex === index,\n      prefixCls: prefixCls,\n      style: getIndex(style, index),\n      key: index,\n      value: value,\n      valueIndex: index,\n      onStartMove: onStartMove,\n      onOffsetChange: onOffsetChange,\n      render: handleRender\n    }, restProps));\n  }));\n});\n\nif (process.env.NODE_ENV !== 'production') {\n  Handles.displayName = 'Handles';\n}\n\nexport default Handles;","import _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport * as React from 'react';\n\nfunction getPosition(e) {\n  var obj = 'touches' in e ? e.touches[0] : e;\n  return {\n    pageX: obj.pageX,\n    pageY: obj.pageY\n  };\n}\n\nexport default function useDrag(containerRef, direction, rawValues, min, max, formatValue, triggerChange, finishChange, offsetValues) {\n  var _React$useState = React.useState(null),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      draggingValue = _React$useState2[0],\n      setDraggingValue = _React$useState2[1];\n\n  var _React$useState3 = React.useState(-1),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      draggingIndex = _React$useState4[0],\n      setDraggingIndex = _React$useState4[1];\n\n  var _React$useState5 = React.useState(rawValues),\n      _React$useState6 = _slicedToArray(_React$useState5, 2),\n      cacheValues = _React$useState6[0],\n      setCacheValues = _React$useState6[1];\n\n  var _React$useState7 = React.useState(rawValues),\n      _React$useState8 = _slicedToArray(_React$useState7, 2),\n      originValues = _React$useState8[0],\n      setOriginValues = _React$useState8[1];\n\n  var mouseMoveEventRef = React.useRef(null);\n  var mouseUpEventRef = React.useRef(null);\n  React.useEffect(function () {\n    if (draggingIndex === -1) {\n      setCacheValues(rawValues);\n    }\n  }, [rawValues, draggingIndex]); // Clean up event\n\n  React.useEffect(function () {\n    return function () {\n      document.removeEventListener('mousemove', mouseMoveEventRef.current);\n      document.removeEventListener('mouseup', mouseUpEventRef.current);\n      document.removeEventListener('touchmove', mouseMoveEventRef.current);\n      document.removeEventListener('touchend', mouseUpEventRef.current);\n    };\n  }, []);\n\n  var flushValues = function flushValues(nextValues, nextValue) {\n    // Perf: Only update state when value changed\n    if (cacheValues.some(function (val, i) {\n      return val !== nextValues[i];\n    })) {\n      if (nextValue !== undefined) {\n        setDraggingValue(nextValue);\n      }\n\n      setCacheValues(nextValues);\n      triggerChange(nextValues);\n    }\n  };\n\n  var updateCacheValue = function updateCacheValue(valueIndex, offsetPercent) {\n    // Basic point offset\n    if (valueIndex === -1) {\n      // >>>> Dragging on the track\n      var startValue = originValues[0];\n      var endValue = originValues[originValues.length - 1];\n      var maxStartOffset = min - startValue;\n      var maxEndOffset = max - endValue; // Get valid offset\n\n      var offset = offsetPercent * (max - min);\n      offset = Math.max(offset, maxStartOffset);\n      offset = Math.min(offset, maxEndOffset); // Use first value to revert back of valid offset (like steps marks)\n\n      var formatStartValue = formatValue(startValue + offset);\n      offset = formatStartValue - startValue;\n      var cloneCacheValues = originValues.map(function (val) {\n        return val + offset;\n      });\n      flushValues(cloneCacheValues);\n    } else {\n      // >>>> Dragging on the handle\n      var offsetDist = (max - min) * offsetPercent; // Always start with the valueIndex origin value\n\n      var cloneValues = _toConsumableArray(cacheValues);\n\n      cloneValues[valueIndex] = originValues[valueIndex];\n      var next = offsetValues(cloneValues, offsetDist, valueIndex, 'dist');\n      flushValues(next.values, next.value);\n    }\n  }; // Resolve closure\n\n\n  var updateCacheValueRef = React.useRef(updateCacheValue);\n  updateCacheValueRef.current = updateCacheValue;\n\n  var onStartMove = function onStartMove(e, valueIndex) {\n    e.stopPropagation();\n    var originValue = rawValues[valueIndex];\n    setDraggingIndex(valueIndex);\n    setDraggingValue(originValue);\n    setOriginValues(rawValues);\n\n    var _getPosition = getPosition(e),\n        startX = _getPosition.pageX,\n        startY = _getPosition.pageY; // Moving\n\n\n    var onMouseMove = function onMouseMove(event) {\n      event.preventDefault();\n\n      var _getPosition2 = getPosition(event),\n          moveX = _getPosition2.pageX,\n          moveY = _getPosition2.pageY;\n\n      var offsetX = moveX - startX;\n      var offsetY = moveY - startY;\n\n      var _containerRef$current = containerRef.current.getBoundingClientRect(),\n          width = _containerRef$current.width,\n          height = _containerRef$current.height;\n\n      var offSetPercent;\n\n      switch (direction) {\n        case 'btt':\n          offSetPercent = -offsetY / height;\n          break;\n\n        case 'ttb':\n          offSetPercent = offsetY / height;\n          break;\n\n        case 'rtl':\n          offSetPercent = -offsetX / width;\n          break;\n\n        default:\n          offSetPercent = offsetX / width;\n      }\n\n      updateCacheValueRef.current(valueIndex, offSetPercent);\n    }; // End\n\n\n    var onMouseUp = function onMouseUp(event) {\n      event.preventDefault();\n      document.removeEventListener('mouseup', onMouseUp);\n      document.removeEventListener('mousemove', onMouseMove);\n      document.removeEventListener('touchend', onMouseUp);\n      document.removeEventListener('touchmove', onMouseMove);\n      mouseMoveEventRef.current = null;\n      mouseUpEventRef.current = null;\n      setDraggingIndex(-1);\n      finishChange();\n    };\n\n    document.addEventListener('mouseup', onMouseUp);\n    document.addEventListener('mousemove', onMouseMove);\n    document.addEventListener('touchend', onMouseUp);\n    document.addEventListener('touchmove', onMouseMove);\n    mouseMoveEventRef.current = onMouseMove;\n    mouseUpEventRef.current = onMouseUp;\n  }; // Only return cache value when it mapping with rawValues\n\n\n  var returnValues = React.useMemo(function () {\n    var sourceValues = _toConsumableArray(rawValues).sort(function (a, b) {\n      return a - b;\n    });\n\n    var targetValues = _toConsumableArray(cacheValues).sort(function (a, b) {\n      return a - b;\n    });\n\n    return sourceValues.every(function (val, index) {\n      return val === targetValues[index];\n    }) ? cacheValues : rawValues;\n  }, [rawValues, cacheValues]);\n  return [draggingIndex, draggingValue, returnValues, onStartMove];\n}","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport SliderContext from '../context';\nimport { getOffset } from '../util';\nexport default function Track(props) {\n  var prefixCls = props.prefixCls,\n      style = props.style,\n      start = props.start,\n      end = props.end,\n      index = props.index,\n      onStartMove = props.onStartMove;\n\n  var _React$useContext = React.useContext(SliderContext),\n      direction = _React$useContext.direction,\n      min = _React$useContext.min,\n      max = _React$useContext.max,\n      disabled = _React$useContext.disabled,\n      range = _React$useContext.range;\n\n  var trackPrefixCls = \"\".concat(prefixCls, \"-track\");\n  var offsetStart = getOffset(start, min, max);\n  var offsetEnd = getOffset(end, min, max); // ============================ Events ============================\n\n  var onInternalStartMove = function onInternalStartMove(e) {\n    if (!disabled && onStartMove) {\n      onStartMove(e, -1);\n    }\n  }; // ============================ Render ============================\n\n\n  var positionStyle = {};\n\n  switch (direction) {\n    case 'rtl':\n      positionStyle.right = \"\".concat(offsetStart * 100, \"%\");\n      positionStyle.width = \"\".concat(offsetEnd * 100 - offsetStart * 100, \"%\");\n      break;\n\n    case 'btt':\n      positionStyle.bottom = \"\".concat(offsetStart * 100, \"%\");\n      positionStyle.height = \"\".concat(offsetEnd * 100 - offsetStart * 100, \"%\");\n      break;\n\n    case 'ttb':\n      positionStyle.top = \"\".concat(offsetStart * 100, \"%\");\n      positionStyle.height = \"\".concat(offsetEnd * 100 - offsetStart * 100, \"%\");\n      break;\n\n    default:\n      positionStyle.left = \"\".concat(offsetStart * 100, \"%\");\n      positionStyle.width = \"\".concat(offsetEnd * 100 - offsetStart * 100, \"%\");\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: classNames(trackPrefixCls, range && \"\".concat(trackPrefixCls, \"-\").concat(index + 1)),\n    style: _objectSpread(_objectSpread({}, positionStyle), style),\n    onMouseDown: onInternalStartMove,\n    onTouchStart: onInternalStartMove\n  });\n}","import * as React from 'react';\nimport SliderContext from '../context';\nimport Track from './Track';\nimport { getIndex } from '../util';\nexport default function Tracks(props) {\n  var prefixCls = props.prefixCls,\n      style = props.style,\n      values = props.values,\n      startPoint = props.startPoint,\n      onStartMove = props.onStartMove;\n\n  var _React$useContext = React.useContext(SliderContext),\n      included = _React$useContext.included,\n      range = _React$useContext.range,\n      min = _React$useContext.min;\n\n  var trackList = React.useMemo(function () {\n    if (!range) {\n      // null value do not have track\n      if (values.length === 0) {\n        return [];\n      }\n\n      var startValue = startPoint !== null && startPoint !== void 0 ? startPoint : min;\n      var endValue = values[0];\n      return [{\n        start: Math.min(startValue, endValue),\n        end: Math.max(startValue, endValue)\n      }];\n    } // Multiple\n\n\n    var list = [];\n\n    for (var i = 0; i < values.length - 1; i += 1) {\n      list.push({\n        start: values[i],\n        end: values[i + 1]\n      });\n    }\n\n    return list;\n  }, [values, range, startPoint, min]);\n  return included ? trackList.map(function (_ref, index) {\n    var start = _ref.start,\n        end = _ref.end;\n    return /*#__PURE__*/React.createElement(Track, {\n      index: index,\n      prefixCls: prefixCls,\n      style: getIndex(style, index),\n      start: start,\n      end: end,\n      key: index,\n      onStartMove: onStartMove\n    });\n  }) : null;\n}","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport { getDirectionStyle } from '../util';\nimport SliderContext from '../context';\nexport default function Mark(props) {\n  var prefixCls = props.prefixCls,\n      style = props.style,\n      children = props.children,\n      value = props.value,\n      _onClick = props.onClick;\n\n  var _React$useContext = React.useContext(SliderContext),\n      min = _React$useContext.min,\n      max = _React$useContext.max,\n      direction = _React$useContext.direction,\n      includedStart = _React$useContext.includedStart,\n      includedEnd = _React$useContext.includedEnd,\n      included = _React$useContext.included;\n\n  var textCls = \"\".concat(prefixCls, \"-text\"); // ============================ Offset ============================\n\n  var positionStyle = getDirectionStyle(direction, value, min, max);\n  return /*#__PURE__*/React.createElement(\"span\", {\n    className: classNames(textCls, _defineProperty({}, \"\".concat(textCls, \"-active\"), included && includedStart <= value && value <= includedEnd)),\n    style: _objectSpread(_objectSpread({}, positionStyle), style),\n    onMouseDown: function onMouseDown(e) {\n      e.stopPropagation();\n    },\n    onClick: function onClick() {\n      _onClick(value);\n    }\n  }, children);\n}","import * as React from 'react';\nimport Mark from './Mark';\nexport default function Marks(props) {\n  var prefixCls = props.prefixCls,\n      marks = props.marks,\n      onClick = props.onClick;\n  var markPrefixCls = \"\".concat(prefixCls, \"-mark\"); // Not render mark if empty\n\n  if (!marks.length) {\n    return null;\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: markPrefixCls\n  }, marks.map(function (_ref) {\n    var value = _ref.value,\n        style = _ref.style,\n        label = _ref.label;\n    return /*#__PURE__*/React.createElement(Mark, {\n      key: value,\n      prefixCls: markPrefixCls,\n      style: style,\n      value: value,\n      onClick: onClick\n    }, label);\n  }));\n}","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport { getDirectionStyle } from '../util';\nimport SliderContext from '../context';\nexport default function Dot(props) {\n  var prefixCls = props.prefixCls,\n      value = props.value,\n      style = props.style,\n      activeStyle = props.activeStyle;\n\n  var _React$useContext = React.useContext(SliderContext),\n      min = _React$useContext.min,\n      max = _React$useContext.max,\n      direction = _React$useContext.direction,\n      included = _React$useContext.included,\n      includedStart = _React$useContext.includedStart,\n      includedEnd = _React$useContext.includedEnd;\n\n  var dotClassName = \"\".concat(prefixCls, \"-dot\");\n  var active = included && includedStart <= value && value <= includedEnd; // ============================ Offset ============================\n\n  var mergedStyle = _objectSpread(_objectSpread({}, getDirectionStyle(direction, value, min, max)), typeof style === 'function' ? style(value) : style);\n\n  if (active) {\n    mergedStyle = _objectSpread(_objectSpread({}, mergedStyle), typeof activeStyle === 'function' ? activeStyle(value) : activeStyle);\n  }\n\n  return /*#__PURE__*/React.createElement(\"span\", {\n    className: classNames(dotClassName, _defineProperty({}, \"\".concat(dotClassName, \"-active\"), active)),\n    style: mergedStyle\n  });\n}","import * as React from 'react';\nimport SliderContext from '../context';\nimport Dot from './Dot';\nexport default function Steps(props) {\n  var prefixCls = props.prefixCls,\n      marks = props.marks,\n      dots = props.dots,\n      style = props.style,\n      activeStyle = props.activeStyle;\n\n  var _React$useContext = React.useContext(SliderContext),\n      min = _React$useContext.min,\n      max = _React$useContext.max,\n      step = _React$useContext.step;\n\n  var stepDots = React.useMemo(function () {\n    var dotSet = new Set(); // Add marks\n\n    marks.forEach(function (mark) {\n      dotSet.add(mark.value);\n    }); // Fill dots\n\n    if (dots && step !== null) {\n      var current = min;\n\n      while (current <= max) {\n        dotSet.add(current);\n        current += step;\n      }\n    }\n\n    return Array.from(dotSet);\n  }, [min, max, step, dots, marks]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\".concat(prefixCls, \"-step\")\n  }, stepDots.map(function (dotValue) {\n    return /*#__PURE__*/React.createElement(Dot, {\n      prefixCls: prefixCls,\n      key: dotValue,\n      value: dotValue,\n      style: style,\n      activeStyle: activeStyle\n    });\n  }));\n}","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport shallowEqual from 'shallowequal';\nimport useMergedState from \"rc-util/es/hooks/useMergedState\";\nimport Handles from './Handles';\nimport useDrag from './hooks/useDrag';\nimport SliderContext from './context';\nimport Tracks from './Tracks';\nimport Marks from './Marks';\nimport Steps from './Steps';\nimport useOffset from './hooks/useOffset';\nimport warning from \"rc-util/es/warning\";\nvar Slider = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  var _classNames;\n\n  var _props$prefixCls = props.prefixCls,\n      prefixCls = _props$prefixCls === void 0 ? 'rc-slider' : _props$prefixCls,\n      className = props.className,\n      style = props.style,\n      _props$disabled = props.disabled,\n      disabled = _props$disabled === void 0 ? false : _props$disabled,\n      autoFocus = props.autoFocus,\n      onFocus = props.onFocus,\n      onBlur = props.onBlur,\n      _props$min = props.min,\n      min = _props$min === void 0 ? 0 : _props$min,\n      _props$max = props.max,\n      max = _props$max === void 0 ? 100 : _props$max,\n      _props$step = props.step,\n      step = _props$step === void 0 ? 1 : _props$step,\n      value = props.value,\n      defaultValue = props.defaultValue,\n      range = props.range,\n      count = props.count,\n      onChange = props.onChange,\n      onBeforeChange = props.onBeforeChange,\n      onAfterChange = props.onAfterChange,\n      _props$allowCross = props.allowCross,\n      allowCross = _props$allowCross === void 0 ? true : _props$allowCross,\n      _props$pushable = props.pushable,\n      pushable = _props$pushable === void 0 ? false : _props$pushable,\n      draggableTrack = props.draggableTrack,\n      reverse = props.reverse,\n      vertical = props.vertical,\n      _props$included = props.included,\n      included = _props$included === void 0 ? true : _props$included,\n      startPoint = props.startPoint,\n      trackStyle = props.trackStyle,\n      handleStyle = props.handleStyle,\n      railStyle = props.railStyle,\n      dotStyle = props.dotStyle,\n      activeDotStyle = props.activeDotStyle,\n      marks = props.marks,\n      dots = props.dots,\n      handleRender = props.handleRender,\n      _props$tabIndex = props.tabIndex,\n      tabIndex = _props$tabIndex === void 0 ? 0 : _props$tabIndex,\n      ariaLabelForHandle = props.ariaLabelForHandle,\n      ariaLabelledByForHandle = props.ariaLabelledByForHandle,\n      ariaValueTextFormatterForHandle = props.ariaValueTextFormatterForHandle;\n  var handlesRef = React.useRef();\n  var containerRef = React.useRef();\n  var direction = React.useMemo(function () {\n    if (vertical) {\n      return reverse ? 'ttb' : 'btt';\n    }\n\n    return reverse ? 'rtl' : 'ltr';\n  }, [reverse, vertical]); // ============================ Range =============================\n\n  var mergedMin = React.useMemo(function () {\n    return isFinite(min) ? min : 0;\n  }, [min]);\n  var mergedMax = React.useMemo(function () {\n    return isFinite(max) ? max : 100;\n  }, [max]); // ============================= Step =============================\n\n  var mergedStep = React.useMemo(function () {\n    return step !== null && step <= 0 ? 1 : step;\n  }, [step]); // ============================= Push =============================\n\n  var mergedPush = React.useMemo(function () {\n    if (pushable === true) {\n      return mergedStep;\n    }\n\n    return pushable >= 0 ? pushable : false;\n  }, [pushable, mergedStep]); // ============================ Marks =============================\n\n  var markList = React.useMemo(function () {\n    var keys = Object.keys(marks || {});\n    return keys.map(function (key) {\n      var mark = marks[key];\n      var markObj = {\n        value: Number(key)\n      };\n\n      if (mark && _typeof(mark) === 'object' && ! /*#__PURE__*/React.isValidElement(mark) && ('label' in mark || 'style' in mark)) {\n        markObj.style = mark.style;\n        markObj.label = mark.label;\n      } else {\n        markObj.label = mark;\n      }\n\n      return markObj;\n    }).filter(function (_ref) {\n      var label = _ref.label;\n      return label || typeof label === 'number';\n    }).sort(function (a, b) {\n      return a.value - b.value;\n    });\n  }, [marks]); // ============================ Format ============================\n\n  var _useOffset = useOffset(mergedMin, mergedMax, mergedStep, markList, allowCross, mergedPush),\n      _useOffset2 = _slicedToArray(_useOffset, 2),\n      formatValue = _useOffset2[0],\n      offsetValues = _useOffset2[1]; // ============================ Values ============================\n\n\n  var _useMergedState = useMergedState(defaultValue, {\n    value: value\n  }),\n      _useMergedState2 = _slicedToArray(_useMergedState, 2),\n      mergedValue = _useMergedState2[0],\n      setValue = _useMergedState2[1];\n\n  var rawValues = React.useMemo(function () {\n    var valueList = mergedValue === null || mergedValue === undefined ? [] : Array.isArray(mergedValue) ? mergedValue : [mergedValue];\n\n    var _valueList = _slicedToArray(valueList, 1),\n        _valueList$ = _valueList[0],\n        val0 = _valueList$ === void 0 ? mergedMin : _valueList$;\n\n    var returnValues = mergedValue === null ? [] : [val0]; // Format as range\n\n    if (range) {\n      returnValues = _toConsumableArray(valueList); // When count provided or value is `undefined`, we fill values\n\n      if (count || mergedValue === undefined) {\n        var pointCount = count >= 0 ? count + 1 : 2;\n        returnValues = returnValues.slice(0, pointCount); // Fill with count\n\n        while (returnValues.length < pointCount) {\n          var _returnValues;\n\n          returnValues.push((_returnValues = returnValues[returnValues.length - 1]) !== null && _returnValues !== void 0 ? _returnValues : mergedMin);\n        }\n      }\n\n      returnValues.sort(function (a, b) {\n        return a - b;\n      });\n    } // Align in range\n\n\n    returnValues.forEach(function (val, index) {\n      returnValues[index] = formatValue(val);\n    });\n    return returnValues;\n  }, [mergedValue, range, mergedMin, count, formatValue]); // =========================== onChange ===========================\n\n  var rawValuesRef = React.useRef(rawValues);\n  rawValuesRef.current = rawValues;\n\n  var getTriggerValue = function getTriggerValue(triggerValues) {\n    return range ? triggerValues : triggerValues[0];\n  };\n\n  var triggerChange = function triggerChange(nextValues) {\n    // Order first\n    var cloneNextValues = _toConsumableArray(nextValues).sort(function (a, b) {\n      return a - b;\n    }); // Trigger event if needed\n\n\n    if (onChange && !shallowEqual(cloneNextValues, rawValuesRef.current)) {\n      onChange(getTriggerValue(cloneNextValues));\n    } // We set this later since it will re-render component immediately\n\n\n    setValue(cloneNextValues);\n  };\n\n  var changeToCloseValue = function changeToCloseValue(newValue) {\n    if (!disabled) {\n      var valueIndex = 0;\n      var valueDist = mergedMax - mergedMin;\n      rawValues.forEach(function (val, index) {\n        var dist = Math.abs(newValue - val);\n\n        if (dist <= valueDist) {\n          valueDist = dist;\n          valueIndex = index;\n        }\n      }); // Create new values\n\n      var cloneNextValues = _toConsumableArray(rawValues);\n\n      cloneNextValues[valueIndex] = newValue; // Fill value to match default 2\n\n      if (range && !rawValues.length && count === undefined) {\n        cloneNextValues.push(newValue);\n      }\n\n      onBeforeChange === null || onBeforeChange === void 0 ? void 0 : onBeforeChange(getTriggerValue(cloneNextValues));\n      triggerChange(cloneNextValues);\n      onAfterChange === null || onAfterChange === void 0 ? void 0 : onAfterChange(getTriggerValue(cloneNextValues));\n    }\n  }; // ============================ Click =============================\n\n\n  var onSliderMouseDown = function onSliderMouseDown(e) {\n    e.preventDefault();\n\n    var _containerRef$current = containerRef.current.getBoundingClientRect(),\n        width = _containerRef$current.width,\n        height = _containerRef$current.height,\n        left = _containerRef$current.left,\n        top = _containerRef$current.top,\n        bottom = _containerRef$current.bottom,\n        right = _containerRef$current.right;\n\n    var clientX = e.clientX,\n        clientY = e.clientY;\n    var percent;\n\n    switch (direction) {\n      case 'btt':\n        percent = (bottom - clientY) / height;\n        break;\n\n      case 'ttb':\n        percent = (clientY - top) / height;\n        break;\n\n      case 'rtl':\n        percent = (right - clientX) / width;\n        break;\n\n      default:\n        percent = (clientX - left) / width;\n    }\n\n    var nextValue = mergedMin + percent * (mergedMax - mergedMin);\n    changeToCloseValue(formatValue(nextValue));\n  }; // =========================== Keyboard ===========================\n\n\n  var _React$useState = React.useState(null),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      keyboardValue = _React$useState2[0],\n      setKeyboardValue = _React$useState2[1];\n\n  var onHandleOffsetChange = function onHandleOffsetChange(offset, valueIndex) {\n    if (!disabled) {\n      var next = offsetValues(rawValues, offset, valueIndex);\n      onBeforeChange === null || onBeforeChange === void 0 ? void 0 : onBeforeChange(getTriggerValue(rawValues));\n      triggerChange(next.values);\n      onAfterChange === null || onAfterChange === void 0 ? void 0 : onAfterChange(getTriggerValue(next.values));\n      setKeyboardValue(next.value);\n    }\n  };\n\n  React.useEffect(function () {\n    if (keyboardValue !== null) {\n      var valueIndex = rawValues.indexOf(keyboardValue);\n\n      if (valueIndex >= 0) {\n        handlesRef.current.focus(valueIndex);\n      }\n    }\n\n    setKeyboardValue(null);\n  }, [keyboardValue]); // ============================= Drag =============================\n\n  var mergedDraggableTrack = React.useMemo(function () {\n    if (draggableTrack && mergedStep === null) {\n      if (process.env.NODE_ENV !== 'production') {\n        warning(false, '`draggableTrack` is not supported when `step` is `null`.');\n      }\n\n      return false;\n    }\n\n    return draggableTrack;\n  }, [draggableTrack, mergedStep]);\n\n  var finishChange = function finishChange() {\n    onAfterChange === null || onAfterChange === void 0 ? void 0 : onAfterChange(getTriggerValue(rawValuesRef.current));\n  };\n\n  var _useDrag = useDrag(containerRef, direction, rawValues, mergedMin, mergedMax, formatValue, triggerChange, finishChange, offsetValues),\n      _useDrag2 = _slicedToArray(_useDrag, 4),\n      draggingIndex = _useDrag2[0],\n      draggingValue = _useDrag2[1],\n      cacheValues = _useDrag2[2],\n      onStartDrag = _useDrag2[3];\n\n  var onStartMove = function onStartMove(e, valueIndex) {\n    onStartDrag(e, valueIndex);\n    onBeforeChange === null || onBeforeChange === void 0 ? void 0 : onBeforeChange(getTriggerValue(rawValuesRef.current));\n  }; // Auto focus for updated handle\n\n\n  var dragging = draggingIndex !== -1;\n  React.useEffect(function () {\n    if (!dragging) {\n      var valueIndex = rawValues.lastIndexOf(draggingValue);\n      handlesRef.current.focus(valueIndex);\n    }\n  }, [dragging]); // =========================== Included ===========================\n\n  var sortedCacheValues = React.useMemo(function () {\n    return _toConsumableArray(cacheValues).sort(function (a, b) {\n      return a - b;\n    });\n  }, [cacheValues]); // Provide a range values with included [min, max]\n  // Used for Track, Mark & Dot\n\n  var _React$useMemo = React.useMemo(function () {\n    if (!range) {\n      return [mergedMin, sortedCacheValues[0]];\n    }\n\n    return [sortedCacheValues[0], sortedCacheValues[sortedCacheValues.length - 1]];\n  }, [sortedCacheValues, range, mergedMin]),\n      _React$useMemo2 = _slicedToArray(_React$useMemo, 2),\n      includedStart = _React$useMemo2[0],\n      includedEnd = _React$useMemo2[1]; // ============================= Refs =============================\n\n\n  React.useImperativeHandle(ref, function () {\n    return {\n      focus: function focus() {\n        handlesRef.current.focus(0);\n      },\n      blur: function blur() {\n        var _document = document,\n            activeElement = _document.activeElement;\n\n        if (containerRef.current.contains(activeElement)) {\n          activeElement === null || activeElement === void 0 ? void 0 : activeElement.blur();\n        }\n      }\n    };\n  }); // ========================== Auto Focus ==========================\n\n  React.useEffect(function () {\n    if (autoFocus) {\n      handlesRef.current.focus(0);\n    }\n  }, []); // =========================== Context ============================\n\n  var context = React.useMemo(function () {\n    return {\n      min: mergedMin,\n      max: mergedMax,\n      direction: direction,\n      disabled: disabled,\n      step: mergedStep,\n      included: included,\n      includedStart: includedStart,\n      includedEnd: includedEnd,\n      range: range,\n      tabIndex: tabIndex,\n      ariaLabelForHandle: ariaLabelForHandle,\n      ariaLabelledByForHandle: ariaLabelledByForHandle,\n      ariaValueTextFormatterForHandle: ariaValueTextFormatterForHandle\n    };\n  }, [mergedMin, mergedMax, direction, disabled, mergedStep, included, includedStart, includedEnd, range, tabIndex, ariaLabelForHandle, ariaLabelledByForHandle, ariaValueTextFormatterForHandle]); // ============================ Render ============================\n\n  return /*#__PURE__*/React.createElement(SliderContext.Provider, {\n    value: context\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    ref: containerRef,\n    className: classNames(prefixCls, className, (_classNames = {}, _defineProperty(_classNames, \"\".concat(prefixCls, \"-disabled\"), disabled), _defineProperty(_classNames, \"\".concat(prefixCls, \"-vertical\"), vertical), _defineProperty(_classNames, \"\".concat(prefixCls, \"-horizontal\"), !vertical), _defineProperty(_classNames, \"\".concat(prefixCls, \"-with-marks\"), markList.length), _classNames)),\n    style: style,\n    onMouseDown: onSliderMouseDown\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\".concat(prefixCls, \"-rail\"),\n    style: railStyle\n  }), /*#__PURE__*/React.createElement(Tracks, {\n    prefixCls: prefixCls,\n    style: trackStyle,\n    values: sortedCacheValues,\n    startPoint: startPoint,\n    onStartMove: mergedDraggableTrack ? onStartMove : null\n  }), /*#__PURE__*/React.createElement(Steps, {\n    prefixCls: prefixCls,\n    marks: markList,\n    dots: dots,\n    style: dotStyle,\n    activeStyle: activeDotStyle\n  }), /*#__PURE__*/React.createElement(Handles, {\n    ref: handlesRef,\n    prefixCls: prefixCls,\n    style: handleStyle,\n    values: cacheValues,\n    draggingIndex: draggingIndex,\n    onStartMove: onStartMove,\n    onOffsetChange: onHandleOffsetChange,\n    onFocus: onFocus,\n    onBlur: onBlur,\n    handleRender: handleRender\n  }), /*#__PURE__*/React.createElement(Marks, {\n    prefixCls: prefixCls,\n    marks: markList,\n    onClick: changeToCloseValue\n  })));\n});\n\nif (process.env.NODE_ENV !== 'production') {\n  Slider.displayName = 'Slider';\n}\n\nexport default Slider;","import Slider from './Slider';\nexport default Slider;","import _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport * as React from 'react';\nexport default function useOffset(min, max, step, markList, allowCross, pushable) {\n  var formatRangeValue = React.useCallback(function (val) {\n    var formatNextValue = isFinite(val) ? val : min;\n    formatNextValue = Math.min(max, val);\n    formatNextValue = Math.max(min, formatNextValue);\n    return formatNextValue;\n  }, [min, max]);\n  var formatStepValue = React.useCallback(function (val) {\n    if (step !== null) {\n      var stepValue = min + Math.round((formatRangeValue(val) - min) / step) * step; // Cut number in case to be like 0.30000000000000004\n\n      var getDecimal = function getDecimal(num) {\n        return (String(num).split('.')[1] || '').length;\n      };\n\n      var maxDecimal = Math.max(getDecimal(step), getDecimal(max), getDecimal(min));\n      var fixedValue = Number(stepValue.toFixed(maxDecimal));\n      return min <= fixedValue && fixedValue <= max ? fixedValue : null;\n    }\n\n    return null;\n  }, [step, min, max, formatRangeValue]);\n  var formatValue = React.useCallback(function (val) {\n    var formatNextValue = formatRangeValue(val); // List align values\n\n    var alignValues = markList.map(function (mark) {\n      return mark.value;\n    });\n\n    if (step !== null) {\n      alignValues.push(formatStepValue(val));\n    } // min & max\n\n\n    alignValues.push(min, max); // Align with marks\n\n    var closeValue = alignValues[0];\n    var closeDist = max - min;\n    alignValues.forEach(function (alignValue) {\n      var dist = Math.abs(formatNextValue - alignValue);\n\n      if (dist <= closeDist) {\n        closeValue = alignValue;\n        closeDist = dist;\n      }\n    });\n    return closeValue;\n  }, [min, max, markList, step, formatRangeValue, formatStepValue]); // ========================== Offset ==========================\n  // Single Value\n\n  var offsetValue = function offsetValue(values, offset, valueIndex) {\n    var mode = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 'unit';\n\n    if (typeof offset === 'number') {\n      var nextValue;\n      var originValue = values[valueIndex]; // Only used for `dist` mode\n\n      var targetDistValue = originValue + offset; // Compare next step value & mark value which is best match\n\n      var potentialValues = [];\n      markList.forEach(function (mark) {\n        potentialValues.push(mark.value);\n      }); // Min & Max\n\n      potentialValues.push(min, max); // In case origin value is align with mark but not with step\n\n      potentialValues.push(formatStepValue(originValue)); // Put offset step value also\n\n      var sign = offset > 0 ? 1 : -1;\n\n      if (mode === 'unit') {\n        potentialValues.push(formatStepValue(originValue + sign * step));\n      } else {\n        potentialValues.push(formatStepValue(targetDistValue));\n      } // Find close one\n\n\n      potentialValues = potentialValues.filter(function (val) {\n        return val !== null;\n      }) // Remove reverse value\n      .filter(function (val) {\n        return offset < 0 ? val <= originValue : val >= originValue;\n      });\n\n      if (mode === 'unit') {\n        // `unit` mode can not contain itself\n        potentialValues = potentialValues.filter(function (val) {\n          return val !== originValue;\n        });\n      }\n\n      var compareValue = mode === 'unit' ? originValue : targetDistValue;\n      nextValue = potentialValues[0];\n      var valueDist = Math.abs(nextValue - compareValue);\n      potentialValues.forEach(function (potentialValue) {\n        var dist = Math.abs(potentialValue - compareValue);\n\n        if (dist < valueDist) {\n          nextValue = potentialValue;\n          valueDist = dist;\n        }\n      }); // Out of range will back to range\n\n      if (nextValue === undefined) {\n        return offset < 0 ? min : max;\n      } // `dist` mode\n\n\n      if (mode === 'dist') {\n        return nextValue;\n      } // `unit` mode may need another round\n\n\n      if (Math.abs(offset) > 1) {\n        var cloneValues = _toConsumableArray(values);\n\n        cloneValues[valueIndex] = nextValue;\n        return offsetValue(cloneValues, offset - sign, valueIndex, mode);\n      }\n\n      return nextValue;\n    } else if (offset === 'min') {\n      return min;\n    } else if (offset === 'max') {\n      return max;\n    }\n  };\n  /** Same as `offsetValue` but return `changed` mark to tell value changed */\n\n\n  var offsetChangedValue = function offsetChangedValue(values, offset, valueIndex) {\n    var mode = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 'unit';\n    var originValue = values[valueIndex];\n    var nextValue = offsetValue(values, offset, valueIndex, mode);\n    return {\n      value: nextValue,\n      changed: nextValue !== originValue\n    };\n  };\n\n  var needPush = function needPush(dist) {\n    return pushable === null && dist === 0 || typeof pushable === 'number' && dist < pushable;\n  }; // Values\n\n\n  var offsetValues = function offsetValues(values, offset, valueIndex) {\n    var mode = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 'unit';\n    var nextValues = values.map(formatValue);\n    var originValue = nextValues[valueIndex];\n    var nextValue = offsetValue(nextValues, offset, valueIndex, mode);\n    nextValues[valueIndex] = nextValue;\n\n    if (allowCross === false) {\n      // >>>>> Allow Cross\n      var pushNum = pushable || 0; // ============ AllowCross ===============\n\n      if (valueIndex > 0 && nextValues[valueIndex - 1] !== originValue) {\n        nextValues[valueIndex] = Math.max(nextValues[valueIndex], nextValues[valueIndex - 1] + pushNum);\n      }\n\n      if (valueIndex < nextValues.length - 1 && nextValues[valueIndex + 1] !== originValue) {\n        nextValues[valueIndex] = Math.min(nextValues[valueIndex], nextValues[valueIndex + 1] - pushNum);\n      }\n    } else if (typeof pushable === 'number' || pushable === null) {\n      // >>>>> Pushable\n      // =============== Push ==================\n      // >>>>>> Basic push\n      // End values\n      for (var i = valueIndex + 1; i < nextValues.length; i += 1) {\n        var changed = true;\n\n        while (needPush(nextValues[i] - nextValues[i - 1]) && changed) {\n          var _offsetChangedValue = offsetChangedValue(nextValues, 1, i);\n\n          nextValues[i] = _offsetChangedValue.value;\n          changed = _offsetChangedValue.changed;\n        }\n      } // Start values\n\n\n      for (var _i = valueIndex; _i > 0; _i -= 1) {\n        var _changed = true;\n\n        while (needPush(nextValues[_i] - nextValues[_i - 1]) && _changed) {\n          var _offsetChangedValue2 = offsetChangedValue(nextValues, -1, _i - 1);\n\n          nextValues[_i - 1] = _offsetChangedValue2.value;\n          _changed = _offsetChangedValue2.changed;\n        }\n      } // >>>>> Revert back to safe push range\n      // End to Start\n\n\n      for (var _i2 = nextValues.length - 1; _i2 > 0; _i2 -= 1) {\n        var _changed2 = true;\n\n        while (needPush(nextValues[_i2] - nextValues[_i2 - 1]) && _changed2) {\n          var _offsetChangedValue3 = offsetChangedValue(nextValues, -1, _i2 - 1);\n\n          nextValues[_i2 - 1] = _offsetChangedValue3.value;\n          _changed2 = _offsetChangedValue3.changed;\n        }\n      } // Start to End\n\n\n      for (var _i3 = 0; _i3 < nextValues.length - 1; _i3 += 1) {\n        var _changed3 = true;\n\n        while (needPush(nextValues[_i3 + 1] - nextValues[_i3]) && _changed3) {\n          var _offsetChangedValue4 = offsetChangedValue(nextValues, 1, _i3 + 1);\n\n          nextValues[_i3 + 1] = _offsetChangedValue4.value;\n          _changed3 = _offsetChangedValue4.changed;\n        }\n      }\n    }\n\n    return {\n      value: nextValues[valueIndex],\n      values: nextValues\n    };\n  };\n\n  return [formatValue, offsetValues];\n}","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport raf from \"rc-util/es/raf\";\nimport { composeRef } from \"rc-util/es/ref\";\nimport * as React from 'react';\nimport { useRef } from 'react';\nimport Tooltip from '../tooltip';\nvar SliderTooltip = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  var open = props.open;\n  var innerRef = useRef(null);\n  var rafRef = useRef(null);\n  function cancelKeepAlign() {\n    raf.cancel(rafRef.current);\n    rafRef.current = null;\n  }\n  function keepAlign() {\n    rafRef.current = raf(function () {\n      var _a;\n      (_a = innerRef.current) === null || _a === void 0 ? void 0 : _a.forcePopupAlign();\n      rafRef.current = null;\n    });\n  }\n  React.useEffect(function () {\n    if (open) {\n      keepAlign();\n    } else {\n      cancelKeepAlign();\n    }\n    return cancelKeepAlign;\n  }, [open, props.title]);\n  return /*#__PURE__*/React.createElement(Tooltip, _extends({\n    ref: composeRef(innerRef, ref)\n  }, props));\n});\nexport default SliderTooltip;","import _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\nimport classNames from 'classnames';\nimport RcSlider from 'rc-slider';\nimport * as React from 'react';\nimport { ConfigContext } from '../config-provider';\nimport warning from '../_util/warning';\nimport SliderTooltip from './SliderTooltip';\nvar Slider = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  var _React$useContext = React.useContext(ConfigContext),\n    getPrefixCls = _React$useContext.getPrefixCls,\n    direction = _React$useContext.direction,\n    getPopupContainer = _React$useContext.getPopupContainer;\n  var _React$useState = React.useState({}),\n    _React$useState2 = _slicedToArray(_React$useState, 2),\n    opens = _React$useState2[0],\n    setOpens = _React$useState2[1];\n  var toggleTooltipOpen = function toggleTooltipOpen(index, open) {\n    setOpens(function (prev) {\n      return _extends(_extends({}, prev), _defineProperty({}, index, open));\n    });\n  };\n  var getTooltipPlacement = function getTooltipPlacement(tooltipPlacement, vertical) {\n    if (tooltipPlacement) {\n      return tooltipPlacement;\n    }\n    if (!vertical) {\n      return 'top';\n    }\n    return direction === 'rtl' ? 'left' : 'right';\n  };\n  var customizePrefixCls = props.prefixCls,\n    range = props.range,\n    className = props.className,\n    restProps = __rest(props, [\"prefixCls\", \"range\", \"className\"]);\n  var prefixCls = getPrefixCls('slider', customizePrefixCls);\n  var cls = classNames(className, _defineProperty({}, \"\".concat(prefixCls, \"-rtl\"), direction === 'rtl'));\n  // make reverse default on rtl direction\n  if (direction === 'rtl' && !restProps.vertical) {\n    restProps.reverse = !restProps.reverse;\n  }\n  // Range config\n  var _React$useMemo = React.useMemo(function () {\n      if (!range) {\n        return [false];\n      }\n      return _typeof(range) === 'object' ? [true, range.draggableTrack] : [true, false];\n    }, [range]),\n    _React$useMemo2 = _slicedToArray(_React$useMemo, 2),\n    mergedRange = _React$useMemo2[0],\n    draggableTrack = _React$useMemo2[1];\n  // Warning for deprecated usage\n  if (process.env.NODE_ENV !== 'production') {\n    [['tooltipPrefixCls', 'prefixCls'], ['getTooltipPopupContainer', 'getPopupContainer'], ['tipFormatter', 'formatter'], ['tooltipPlacement', 'placement'], ['tooltipVisible', 'open']].forEach(function (_ref) {\n      var _ref2 = _slicedToArray(_ref, 2),\n        deprecatedName = _ref2[0],\n        newName = _ref2[1];\n      process.env.NODE_ENV !== \"production\" ? warning(!(deprecatedName in props), 'Slider', \"`\".concat(deprecatedName, \"` is deprecated which will be removed in next major version, please use `tooltip.\").concat(newName, \"` instead.\")) : void 0;\n    });\n  }\n  var handleRender = function handleRender(node, info) {\n    var _a;\n    var index = info.index,\n      dragging = info.dragging;\n    var rootPrefixCls = getPrefixCls();\n    var _props$tooltip = props.tooltip,\n      tooltip = _props$tooltip === void 0 ? {} : _props$tooltip,\n      vertical = props.vertical;\n    var tooltipProps = _extends({\n      formatter: (_a = props.tipFormatter) !== null && _a !== void 0 ? _a :\n      // eslint-disable-next-line func-names\n      function (value) {\n        return typeof value === 'number' ? value.toString() : '';\n      },\n      open: props.tooltipVisible,\n      placement: props.tooltipPlacement,\n      getPopupContainer: props.getTooltipPopupContainer\n    }, tooltip);\n    var tooltipOpen = tooltipProps.open,\n      tooltipPlacement = tooltipProps.placement,\n      getTooltipPopupContainer = tooltipProps.getPopupContainer,\n      customizeTooltipPrefixCls = tooltipProps.prefixCls,\n      tipFormatter = tooltipProps.formatter;\n    var isTipFormatter = tipFormatter ? opens[index] || dragging : false;\n    var open = tooltipOpen || tooltipOpen === undefined && isTipFormatter;\n    var passedProps = _extends(_extends({}, node.props), {\n      onMouseEnter: function onMouseEnter() {\n        return toggleTooltipOpen(index, true);\n      },\n      onMouseLeave: function onMouseLeave() {\n        return toggleTooltipOpen(index, false);\n      }\n    });\n    var tooltipPrefixCls = getPrefixCls('tooltip', customizeTooltipPrefixCls);\n    return /*#__PURE__*/React.createElement(SliderTooltip, {\n      prefixCls: tooltipPrefixCls,\n      title: tipFormatter ? tipFormatter(info.value) : '',\n      open: open,\n      placement: getTooltipPlacement(tooltipPlacement, vertical),\n      transitionName: \"\".concat(rootPrefixCls, \"-zoom-down\"),\n      key: index,\n      overlayClassName: \"\".concat(prefixCls, \"-tooltip\"),\n      getPopupContainer: getTooltipPopupContainer || getPopupContainer\n    }, /*#__PURE__*/React.cloneElement(node, passedProps));\n  };\n  return /*#__PURE__*/React.createElement(RcSlider, _extends({}, restProps, {\n    step: restProps.step,\n    range: mergedRange,\n    draggableTrack: draggableTrack,\n    className: cls,\n    ref: ref,\n    prefixCls: prefixCls,\n    handleRender: handleRender\n  }));\n});\nif (process.env.NODE_ENV !== 'production') {\n  Slider.displayName = 'Slider';\n}\nexport default Slider;","import React, { Component } from 'react'\r\nimport './VisOptionView.less'\r\nimport { Select } from 'antd';\r\nconst { Option } = Select;\r\nexport default class VisOptionView extends Component {\r\n    changeLayout = (value) => {\r\n\r\n    }\r\n    render() {\r\n        const { intl } = this.props;\r\n        return (\r\n            <div >\r\n                <div className='VisOptionViewDiv' style={{ display: 'flex' }}>\r\n                    {intl.get(\"timeSeires\")}\r\n                    {/* <Select\r\n                        className='optionsDiv'\r\n                        defaultValue={intl.get(\"timeSeires\")}\r\n                        onChange={this.changeLayout}>\r\n                        <Option key={intl.get(\"table\")} value={intl.get(\"table\")}>{intl.get(\"table\")}</Option>\r\n                        <Option key={intl.get(\"timeSeires\")}  value={intl.get(\"timeSeires\")}>{intl.get(\"timeSeires\")}</Option>\r\n                        <Option key={intl.get(\"factsheet\")}  value={intl.get(\"factsheet\")}>{intl.get(\"factsheet\")}</Option>\r\n                    </Select> */}\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\n\n/* eslint-disable no-underscore-dangle */\n\n/* eslint-disable react/prop-types */\nimport * as React from 'react';\nimport classnames from 'classnames';\nvar PanelContent = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  var _classnames;\n\n  var prefixCls = props.prefixCls,\n      forceRender = props.forceRender,\n      className = props.className,\n      style = props.style,\n      children = props.children,\n      isActive = props.isActive,\n      role = props.role;\n\n  var _React$useState = React.useState(isActive || forceRender),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      rendered = _React$useState2[0],\n      setRendered = _React$useState2[1];\n\n  React.useEffect(function () {\n    if (forceRender || isActive) {\n      setRendered(true);\n    }\n  }, [forceRender, isActive]);\n\n  if (!rendered) {\n    return null;\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    ref: ref,\n    className: classnames(\"\".concat(prefixCls, \"-content\"), (_classnames = {}, _defineProperty(_classnames, \"\".concat(prefixCls, \"-content-active\"), isActive), _defineProperty(_classnames, \"\".concat(prefixCls, \"-content-inactive\"), !isActive), _classnames), className),\n    style: style,\n    role: role\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\".concat(prefixCls, \"-content-box\")\n  }, children));\n});\nPanelContent.displayName = 'PanelContent';\nexport default PanelContent;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"@babel/runtime/helpers/esm/createSuper\";\nvar _excluded = [\"className\", \"id\", \"style\", \"prefixCls\", \"headerClass\", \"children\", \"isActive\", \"destroyInactivePanel\", \"accordion\", \"forceRender\", \"openMotion\", \"extra\", \"collapsible\"];\n\n/* eslint-disable react/prop-types */\nimport classNames from 'classnames';\nimport CSSMotion from 'rc-motion';\nimport * as React from 'react';\nimport shallowEqual from 'shallowequal';\nimport PanelContent from './PanelContent';\n\nvar CollapsePanel = /*#__PURE__*/function (_React$Component) {\n  _inherits(CollapsePanel, _React$Component);\n\n  var _super = _createSuper(CollapsePanel);\n\n  function CollapsePanel() {\n    var _this;\n\n    _classCallCheck(this, CollapsePanel);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _this.onItemClick = function () {\n      var _this$props = _this.props,\n          onItemClick = _this$props.onItemClick,\n          panelKey = _this$props.panelKey;\n\n      if (typeof onItemClick === 'function') {\n        onItemClick(panelKey);\n      }\n    };\n\n    _this.handleKeyPress = function (e) {\n      if (e.key === 'Enter' || e.keyCode === 13 || e.which === 13) {\n        _this.onItemClick();\n      }\n    };\n\n    _this.renderIcon = function () {\n      var _this$props2 = _this.props,\n          showArrow = _this$props2.showArrow,\n          expandIcon = _this$props2.expandIcon,\n          prefixCls = _this$props2.prefixCls,\n          collapsible = _this$props2.collapsible;\n\n      if (!showArrow) {\n        return null;\n      }\n\n      var iconNode = typeof expandIcon === 'function' ? expandIcon(_this.props) : /*#__PURE__*/React.createElement(\"i\", {\n        className: \"arrow\"\n      });\n      return iconNode && /*#__PURE__*/React.createElement(\"div\", {\n        className: \"\".concat(prefixCls, \"-expand-icon\"),\n        onClick: collapsible === 'header' || collapsible === 'icon' ? _this.onItemClick : null\n      }, iconNode);\n    };\n\n    _this.renderTitle = function () {\n      var _this$props3 = _this.props,\n          header = _this$props3.header,\n          prefixCls = _this$props3.prefixCls,\n          collapsible = _this$props3.collapsible;\n      return /*#__PURE__*/React.createElement(\"span\", {\n        className: \"\".concat(prefixCls, \"-header-text\"),\n        onClick: collapsible === 'header' ? _this.onItemClick : null\n      }, header);\n    };\n\n    return _this;\n  }\n\n  _createClass(CollapsePanel, [{\n    key: \"shouldComponentUpdate\",\n    value: function shouldComponentUpdate(nextProps) {\n      return !shallowEqual(this.props, nextProps);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _classNames, _classNames2;\n\n      var _this$props4 = this.props,\n          className = _this$props4.className,\n          id = _this$props4.id,\n          style = _this$props4.style,\n          prefixCls = _this$props4.prefixCls,\n          headerClass = _this$props4.headerClass,\n          children = _this$props4.children,\n          isActive = _this$props4.isActive,\n          destroyInactivePanel = _this$props4.destroyInactivePanel,\n          accordion = _this$props4.accordion,\n          forceRender = _this$props4.forceRender,\n          openMotion = _this$props4.openMotion,\n          extra = _this$props4.extra,\n          collapsible = _this$props4.collapsible,\n          rest = _objectWithoutProperties(_this$props4, _excluded);\n\n      var disabled = collapsible === 'disabled';\n      var collapsibleHeader = collapsible === 'header';\n      var collapsibleIcon = collapsible === 'icon';\n      var itemCls = classNames((_classNames = {}, _defineProperty(_classNames, \"\".concat(prefixCls, \"-item\"), true), _defineProperty(_classNames, \"\".concat(prefixCls, \"-item-active\"), isActive), _defineProperty(_classNames, \"\".concat(prefixCls, \"-item-disabled\"), disabled), _classNames), className);\n      var headerCls = classNames(\"\".concat(prefixCls, \"-header\"), (_classNames2 = {}, _defineProperty(_classNames2, headerClass, headerClass), _defineProperty(_classNames2, \"\".concat(prefixCls, \"-header-collapsible-only\"), collapsibleHeader), _defineProperty(_classNames2, \"\".concat(prefixCls, \"-icon-collapsible-only\"), collapsibleIcon), _classNames2));\n      /** header 节点属性 */\n\n      var headerProps = {\n        className: headerCls,\n        'aria-expanded': isActive,\n        'aria-disabled': disabled,\n        onKeyPress: this.handleKeyPress\n      };\n\n      if (!collapsibleHeader && !collapsibleIcon) {\n        headerProps.onClick = this.onItemClick;\n        headerProps.role = accordion ? 'tab' : 'button';\n        headerProps.tabIndex = disabled ? -1 : 0;\n      }\n\n      var ifExtraExist = extra !== null && extra !== undefined && typeof extra !== 'boolean'; // https://github.com/ant-design/ant-design/pull/37419#issuecomment-1238812797\n\n      delete rest.header;\n      delete rest.panelKey;\n      delete rest.onItemClick;\n      delete rest.showArrow;\n      delete rest.expandIcon;\n      return /*#__PURE__*/React.createElement(\"div\", _extends({}, rest, {\n        className: itemCls,\n        style: style,\n        id: id\n      }), /*#__PURE__*/React.createElement(\"div\", headerProps, this.renderIcon(), this.renderTitle(), ifExtraExist && /*#__PURE__*/React.createElement(\"div\", {\n        className: \"\".concat(prefixCls, \"-extra\")\n      }, extra)), /*#__PURE__*/React.createElement(CSSMotion, _extends({\n        visible: isActive,\n        leavedClassName: \"\".concat(prefixCls, \"-content-hidden\")\n      }, openMotion, {\n        forceRender: forceRender,\n        removeOnLeave: destroyInactivePanel\n      }), function (_ref, ref) {\n        var motionClassName = _ref.className,\n            motionStyle = _ref.style;\n        return /*#__PURE__*/React.createElement(PanelContent, {\n          ref: ref,\n          prefixCls: prefixCls,\n          className: motionClassName,\n          style: motionStyle,\n          isActive: isActive,\n          forceRender: forceRender,\n          role: accordion ? 'tabpanel' : null\n        }, children);\n      }));\n    }\n  }]);\n\n  return CollapsePanel;\n}(React.Component);\n\nCollapsePanel.defaultProps = {\n  showArrow: true,\n  isActive: false,\n  onItemClick: function onItemClick() {},\n  headerClass: '',\n  forceRender: false\n};\nexport default CollapsePanel;","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"@babel/runtime/helpers/esm/createSuper\";\nimport _typeof from \"@babel/runtime/helpers/esm/typeof\";\n\n/* eslint-disable react/prop-types */\nimport classNames from 'classnames';\nimport toArray from \"rc-util/es/Children/toArray\";\nimport * as React from 'react';\nimport shallowEqual from 'shallowequal';\nimport CollapsePanel from './Panel';\n\nfunction getActiveKeysArray(activeKey) {\n  var currentActiveKey = activeKey;\n\n  if (!Array.isArray(currentActiveKey)) {\n    var activeKeyType = _typeof(currentActiveKey);\n\n    currentActiveKey = activeKeyType === 'number' || activeKeyType === 'string' ? [currentActiveKey] : [];\n  }\n\n  return currentActiveKey.map(function (key) {\n    return String(key);\n  });\n}\n\nvar Collapse = /*#__PURE__*/function (_React$Component) {\n  _inherits(Collapse, _React$Component);\n\n  var _super = _createSuper(Collapse);\n\n  function Collapse(_props) {\n    var _this;\n\n    _classCallCheck(this, Collapse);\n\n    _this = _super.call(this, _props);\n\n    _this.onClickItem = function (key) {\n      var activeKey = _this.state.activeKey;\n\n      if (_this.props.accordion) {\n        activeKey = activeKey[0] === key ? [] : [key];\n      } else {\n        activeKey = _toConsumableArray(activeKey);\n        var index = activeKey.indexOf(key);\n        var isActive = index > -1;\n\n        if (isActive) {\n          // remove active state\n          activeKey.splice(index, 1);\n        } else {\n          activeKey.push(key);\n        }\n      }\n\n      _this.setActiveKey(activeKey);\n    };\n\n    _this.getNewChild = function (child, index) {\n      if (!child) return null;\n      var activeKey = _this.state.activeKey;\n      var _this$props = _this.props,\n          prefixCls = _this$props.prefixCls,\n          openMotion = _this$props.openMotion,\n          accordion = _this$props.accordion,\n          rootDestroyInactivePanel = _this$props.destroyInactivePanel,\n          expandIcon = _this$props.expandIcon,\n          collapsible = _this$props.collapsible; // If there is no key provide, use the panel order as default key\n\n      var key = child.key || String(index);\n      var _child$props = child.props,\n          header = _child$props.header,\n          headerClass = _child$props.headerClass,\n          destroyInactivePanel = _child$props.destroyInactivePanel,\n          childCollapsible = _child$props.collapsible;\n      var isActive = false;\n\n      if (accordion) {\n        isActive = activeKey[0] === key;\n      } else {\n        isActive = activeKey.indexOf(key) > -1;\n      }\n\n      var mergeCollapsible = childCollapsible !== null && childCollapsible !== void 0 ? childCollapsible : collapsible;\n      var props = {\n        key: key,\n        panelKey: key,\n        header: header,\n        headerClass: headerClass,\n        isActive: isActive,\n        prefixCls: prefixCls,\n        destroyInactivePanel: destroyInactivePanel !== null && destroyInactivePanel !== void 0 ? destroyInactivePanel : rootDestroyInactivePanel,\n        openMotion: openMotion,\n        accordion: accordion,\n        children: child.props.children,\n        onItemClick: mergeCollapsible === 'disabled' ? null : _this.onClickItem,\n        expandIcon: expandIcon,\n        collapsible: mergeCollapsible\n      }; // https://github.com/ant-design/ant-design/issues/20479\n\n      if (typeof child.type === 'string') {\n        return child;\n      }\n\n      Object.keys(props).forEach(function (propName) {\n        if (typeof props[propName] === 'undefined') {\n          delete props[propName];\n        }\n      });\n      return /*#__PURE__*/React.cloneElement(child, props);\n    };\n\n    _this.getItems = function () {\n      var children = _this.props.children;\n      return toArray(children).map(_this.getNewChild);\n    };\n\n    _this.setActiveKey = function (activeKey) {\n      if (!('activeKey' in _this.props)) {\n        _this.setState({\n          activeKey: activeKey\n        });\n      }\n\n      _this.props.onChange(_this.props.accordion ? activeKey[0] : activeKey);\n    };\n\n    var _activeKey = _props.activeKey,\n        defaultActiveKey = _props.defaultActiveKey;\n    var currentActiveKey = defaultActiveKey;\n\n    if ('activeKey' in _props) {\n      currentActiveKey = _activeKey;\n    }\n\n    _this.state = {\n      activeKey: getActiveKeysArray(currentActiveKey)\n    };\n    return _this;\n  }\n\n  _createClass(Collapse, [{\n    key: \"shouldComponentUpdate\",\n    value: function shouldComponentUpdate(nextProps, nextState) {\n      return !shallowEqual(this.props, nextProps) || !shallowEqual(this.state, nextState);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _classNames;\n\n      var _this$props2 = this.props,\n          prefixCls = _this$props2.prefixCls,\n          className = _this$props2.className,\n          style = _this$props2.style,\n          accordion = _this$props2.accordion;\n      var collapseClassName = classNames((_classNames = {}, _defineProperty(_classNames, prefixCls, true), _defineProperty(_classNames, className, !!className), _classNames));\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: collapseClassName,\n        style: style,\n        role: accordion ? 'tablist' : null\n      }, this.getItems());\n    }\n  }], [{\n    key: \"getDerivedStateFromProps\",\n    value: function getDerivedStateFromProps(nextProps) {\n      var newState = {};\n\n      if ('activeKey' in nextProps) {\n        newState.activeKey = getActiveKeysArray(nextProps.activeKey);\n      }\n\n      return newState;\n    }\n  }]);\n\n  return Collapse;\n}(React.Component);\n\nCollapse.defaultProps = {\n  prefixCls: 'rc-collapse',\n  onChange: function onChange() {},\n  accordion: false,\n  destroyInactivePanel: false\n};\nCollapse.Panel = CollapsePanel;\nexport default Collapse;","import Collapse from './Collapse';\nexport default Collapse;\nvar Panel = Collapse.Panel;\nexport { Panel };","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport RightOutlined from \"@ant-design/icons/es/icons/RightOutlined\";\nimport classNames from 'classnames';\nimport RcCollapse from 'rc-collapse';\nimport * as React from 'react';\nimport toArray from \"rc-util/es/Children/toArray\";\nimport omit from \"rc-util/es/omit\";\nimport { ConfigContext } from '../config-provider';\nimport collapseMotion from '../_util/motion';\nimport { cloneElement } from '../_util/reactNode';\nimport warning from '../_util/warning';\nimport CollapsePanel from './CollapsePanel';\nvar Collapse = function Collapse(props) {\n  var _classNames;\n  var _React$useContext = React.useContext(ConfigContext),\n    getPrefixCls = _React$useContext.getPrefixCls,\n    direction = _React$useContext.direction;\n  var customizePrefixCls = props.prefixCls,\n    _props$className = props.className,\n    className = _props$className === void 0 ? '' : _props$className,\n    _props$bordered = props.bordered,\n    bordered = _props$bordered === void 0 ? true : _props$bordered,\n    ghost = props.ghost,\n    _props$expandIconPosi = props.expandIconPosition,\n    expandIconPosition = _props$expandIconPosi === void 0 ? 'start' : _props$expandIconPosi;\n  var prefixCls = getPrefixCls('collapse', customizePrefixCls);\n  // Warning if use legacy type `expandIconPosition`\n  process.env.NODE_ENV !== \"production\" ? warning(expandIconPosition !== 'left' && expandIconPosition !== 'right', 'Collapse', '`expandIconPosition` with `left` or `right` is deprecated. Please use `start` or `end` instead.') : void 0;\n  // Align with logic position\n  var mergedExpandIconPosition = React.useMemo(function () {\n    if (expandIconPosition === 'left') {\n      return 'start';\n    }\n    return expandIconPosition === 'right' ? 'end' : expandIconPosition;\n  }, [expandIconPosition]);\n  var renderExpandIcon = function renderExpandIcon() {\n    var panelProps = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var expandIcon = props.expandIcon;\n    var icon = expandIcon ? expandIcon(panelProps) : /*#__PURE__*/React.createElement(RightOutlined, {\n      rotate: panelProps.isActive ? 90 : undefined\n    });\n    return cloneElement(icon, function () {\n      return {\n        className: classNames(icon.props.className, \"\".concat(prefixCls, \"-arrow\"))\n      };\n    });\n  };\n  var collapseClassName = classNames(\"\".concat(prefixCls, \"-icon-position-\").concat(mergedExpandIconPosition), (_classNames = {}, _defineProperty(_classNames, \"\".concat(prefixCls, \"-borderless\"), !bordered), _defineProperty(_classNames, \"\".concat(prefixCls, \"-rtl\"), direction === 'rtl'), _defineProperty(_classNames, \"\".concat(prefixCls, \"-ghost\"), !!ghost), _classNames), className);\n  var openMotion = _extends(_extends({}, collapseMotion), {\n    motionAppear: false,\n    leavedClassName: \"\".concat(prefixCls, \"-content-hidden\")\n  });\n  var getItems = function getItems() {\n    var children = props.children;\n    return toArray(children).map(function (child, index) {\n      var _a;\n      if ((_a = child.props) === null || _a === void 0 ? void 0 : _a.disabled) {\n        var key = child.key || String(index);\n        var _child$props = child.props,\n          disabled = _child$props.disabled,\n          collapsible = _child$props.collapsible;\n        var childProps = _extends(_extends({}, omit(child.props, ['disabled'])), {\n          key: key,\n          collapsible: collapsible !== null && collapsible !== void 0 ? collapsible : disabled ? 'disabled' : undefined\n        });\n        return cloneElement(child, childProps);\n      }\n      return child;\n    });\n  };\n  return /*#__PURE__*/React.createElement(RcCollapse, _extends({\n    openMotion: openMotion\n  }, props, {\n    expandIcon: renderExpandIcon,\n    prefixCls: prefixCls,\n    className: collapseClassName\n  }), getItems());\n};\nCollapse.Panel = CollapsePanel;\nexport default Collapse;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport classNames from 'classnames';\nimport RcCollapse from 'rc-collapse';\nimport * as React from 'react';\nimport { ConfigContext } from '../config-provider';\nimport warning from '../_util/warning';\nvar CollapsePanel = function CollapsePanel(props) {\n  process.env.NODE_ENV !== \"production\" ? warning(!('disabled' in props), 'Collapse.Panel', '`disabled` is deprecated. Please use `collapsible=\"disabled\"` instead.') : void 0;\n  var _React$useContext = React.useContext(ConfigContext),\n    getPrefixCls = _React$useContext.getPrefixCls;\n  var customizePrefixCls = props.prefixCls,\n    _props$className = props.className,\n    className = _props$className === void 0 ? '' : _props$className,\n    _props$showArrow = props.showArrow,\n    showArrow = _props$showArrow === void 0 ? true : _props$showArrow;\n  var prefixCls = getPrefixCls('collapse', customizePrefixCls);\n  var collapsePanelClassName = classNames(_defineProperty({}, \"\".concat(prefixCls, \"-no-arrow\"), !showArrow), className);\n  return /*#__PURE__*/React.createElement(RcCollapse.Panel, _extends({}, props, {\n    prefixCls: prefixCls,\n    className: collapsePanelClassName\n  }));\n};\nexport default CollapsePanel;","import Collapse from './Collapse';\nexport default Collapse;","import React, { Component } from 'react'\r\nimport './TopicSetting.less'\r\nimport { Collapse, Select ,Tooltip} from 'antd';\r\nconst { Panel } = Collapse;\r\nconst { Option } = Select;\r\nexport default class TopicSetting extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n    onTopicSelect = (value) => {\r\n        this.props.setTask(value)\r\n    }\r\n    render() {\r\n        const { intl } = this.props;\r\n        return (\r\n            <Collapse defaultActiveKey={[\"topic\"]}>\r\n                <Panel header={intl.get(\"TimeAnalysisTopic\")} key=\"topic\" >\r\n                    <div>\r\n                        <div className=\"topic-select-tootip\">\r\n                            <Tooltip title={\"Task\"}>\r\n                                <p className=\"topic-select-tootip-text\">{\"Task\"}</p>\r\n                            </Tooltip>\r\n                        </div>\r\n                        <div className=\"topic-select-content\" style={{ display: \"inline-block\" }}>\r\n                            <Select defaultValue={-1} style={{ width:'100%', marginLeft: \"5px\" }} onChange={this.onTopicSelect}>\r\n                                <Option value={-1}>No task</Option>\r\n                                <Option value={0}>Anomaly detection</Option>\r\n                                <Option value={1}>Summarization</Option>\r\n                                <Option value={2}>Comparison</Option>\r\n                                {/* <Option value={3}>Prediction</Option>\r\n                                <Option value={4}>Causality analysis</Option> */}\r\n                            </Select>\r\n                        </div>\r\n                    </div>\r\n                </Panel>\r\n            </Collapse>\r\n        )\r\n    }\r\n}\r\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"@babel/runtime/helpers/esm/createSuper\";\n// eslint-disable-next-line import/no-extraneous-dependencies\nimport React, { Component } from 'react';\nimport classNames from 'classnames';\n\nvar Checkbox = /*#__PURE__*/function (_Component) {\n  _inherits(Checkbox, _Component);\n\n  var _super = _createSuper(Checkbox);\n\n  function Checkbox(props) {\n    var _this;\n\n    _classCallCheck(this, Checkbox);\n\n    _this = _super.call(this, props);\n\n    _this.handleChange = function (e) {\n      var _this$props = _this.props,\n          disabled = _this$props.disabled,\n          onChange = _this$props.onChange;\n\n      if (disabled) {\n        return;\n      }\n\n      if (!('checked' in _this.props)) {\n        _this.setState({\n          checked: e.target.checked\n        });\n      }\n\n      if (onChange) {\n        onChange({\n          target: _objectSpread(_objectSpread({}, _this.props), {}, {\n            checked: e.target.checked\n          }),\n          stopPropagation: function stopPropagation() {\n            e.stopPropagation();\n          },\n          preventDefault: function preventDefault() {\n            e.preventDefault();\n          },\n          nativeEvent: e.nativeEvent\n        });\n      }\n    };\n\n    _this.saveInput = function (node) {\n      _this.input = node;\n    };\n\n    var checked = 'checked' in props ? props.checked : props.defaultChecked;\n    _this.state = {\n      checked: checked\n    };\n    return _this;\n  }\n\n  _createClass(Checkbox, [{\n    key: \"focus\",\n    value: function focus() {\n      this.input.focus();\n    }\n  }, {\n    key: \"blur\",\n    value: function blur() {\n      this.input.blur();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _classNames;\n\n      var _this$props2 = this.props,\n          prefixCls = _this$props2.prefixCls,\n          className = _this$props2.className,\n          style = _this$props2.style,\n          name = _this$props2.name,\n          id = _this$props2.id,\n          type = _this$props2.type,\n          disabled = _this$props2.disabled,\n          readOnly = _this$props2.readOnly,\n          tabIndex = _this$props2.tabIndex,\n          onClick = _this$props2.onClick,\n          onFocus = _this$props2.onFocus,\n          onBlur = _this$props2.onBlur,\n          onKeyDown = _this$props2.onKeyDown,\n          onKeyPress = _this$props2.onKeyPress,\n          onKeyUp = _this$props2.onKeyUp,\n          autoFocus = _this$props2.autoFocus,\n          value = _this$props2.value,\n          required = _this$props2.required,\n          others = _objectWithoutProperties(_this$props2, [\"prefixCls\", \"className\", \"style\", \"name\", \"id\", \"type\", \"disabled\", \"readOnly\", \"tabIndex\", \"onClick\", \"onFocus\", \"onBlur\", \"onKeyDown\", \"onKeyPress\", \"onKeyUp\", \"autoFocus\", \"value\", \"required\"]);\n\n      var globalProps = Object.keys(others).reduce(function (prev, key) {\n        if (key.substr(0, 5) === 'aria-' || key.substr(0, 5) === 'data-' || key === 'role') {\n          // eslint-disable-next-line no-param-reassign\n          prev[key] = others[key];\n        }\n\n        return prev;\n      }, {});\n      var checked = this.state.checked;\n      var classString = classNames(prefixCls, className, (_classNames = {}, _defineProperty(_classNames, \"\".concat(prefixCls, \"-checked\"), checked), _defineProperty(_classNames, \"\".concat(prefixCls, \"-disabled\"), disabled), _classNames));\n      return /*#__PURE__*/React.createElement(\"span\", {\n        className: classString,\n        style: style\n      }, /*#__PURE__*/React.createElement(\"input\", _extends({\n        name: name,\n        id: id,\n        type: type,\n        required: required,\n        readOnly: readOnly,\n        disabled: disabled,\n        tabIndex: tabIndex,\n        className: \"\".concat(prefixCls, \"-input\"),\n        checked: !!checked,\n        onClick: onClick,\n        onFocus: onFocus,\n        onBlur: onBlur,\n        onKeyUp: onKeyUp,\n        onKeyDown: onKeyDown,\n        onKeyPress: onKeyPress,\n        onChange: this.handleChange,\n        autoFocus: autoFocus,\n        ref: this.saveInput,\n        value: value\n      }, globalProps)), /*#__PURE__*/React.createElement(\"span\", {\n        className: \"\".concat(prefixCls, \"-inner\")\n      }));\n    }\n  }], [{\n    key: \"getDerivedStateFromProps\",\n    value: function getDerivedStateFromProps(props, state) {\n      if ('checked' in props) {\n        return _objectSpread(_objectSpread({}, state), {}, {\n          checked: props.checked\n        });\n      }\n\n      return null;\n    }\n  }]);\n\n  return Checkbox;\n}(Component);\n\nCheckbox.defaultProps = {\n  prefixCls: 'rc-checkbox',\n  className: '',\n  style: {},\n  type: 'checkbox',\n  defaultChecked: false,\n  onFocus: function onFocus() {},\n  onBlur: function onBlur() {},\n  onChange: function onChange() {},\n  onKeyDown: function onKeyDown() {},\n  onKeyPress: function onKeyPress() {},\n  onKeyUp: function onKeyUp() {}\n};\nexport default Checkbox;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\nimport classNames from 'classnames';\nimport omit from \"rc-util/es/omit\";\nimport * as React from 'react';\nimport { ConfigContext } from '../config-provider';\nimport Checkbox from './Checkbox';\nexport var GroupContext = /*#__PURE__*/React.createContext(null);\nvar InternalCheckboxGroup = function InternalCheckboxGroup(_a, ref) {\n  var defaultValue = _a.defaultValue,\n    children = _a.children,\n    _a$options = _a.options,\n    options = _a$options === void 0 ? [] : _a$options,\n    customizePrefixCls = _a.prefixCls,\n    className = _a.className,\n    style = _a.style,\n    onChange = _a.onChange,\n    restProps = __rest(_a, [\"defaultValue\", \"children\", \"options\", \"prefixCls\", \"className\", \"style\", \"onChange\"]);\n  var _React$useContext = React.useContext(ConfigContext),\n    getPrefixCls = _React$useContext.getPrefixCls,\n    direction = _React$useContext.direction;\n  var _React$useState = React.useState(restProps.value || defaultValue || []),\n    _React$useState2 = _slicedToArray(_React$useState, 2),\n    value = _React$useState2[0],\n    setValue = _React$useState2[1];\n  var _React$useState3 = React.useState([]),\n    _React$useState4 = _slicedToArray(_React$useState3, 2),\n    registeredValues = _React$useState4[0],\n    setRegisteredValues = _React$useState4[1];\n  React.useEffect(function () {\n    if ('value' in restProps) {\n      setValue(restProps.value || []);\n    }\n  }, [restProps.value]);\n  var getOptions = function getOptions() {\n    return options.map(function (option) {\n      if (typeof option === 'string' || typeof option === 'number') {\n        return {\n          label: option,\n          value: option\n        };\n      }\n      return option;\n    });\n  };\n  var cancelValue = function cancelValue(val) {\n    setRegisteredValues(function (prevValues) {\n      return prevValues.filter(function (v) {\n        return v !== val;\n      });\n    });\n  };\n  var registerValue = function registerValue(val) {\n    setRegisteredValues(function (prevValues) {\n      return [].concat(_toConsumableArray(prevValues), [val]);\n    });\n  };\n  var toggleOption = function toggleOption(option) {\n    var optionIndex = value.indexOf(option.value);\n    var newValue = _toConsumableArray(value);\n    if (optionIndex === -1) {\n      newValue.push(option.value);\n    } else {\n      newValue.splice(optionIndex, 1);\n    }\n    if (!('value' in restProps)) {\n      setValue(newValue);\n    }\n    var opts = getOptions();\n    onChange === null || onChange === void 0 ? void 0 : onChange(newValue.filter(function (val) {\n      return registeredValues.includes(val);\n    }).sort(function (a, b) {\n      var indexA = opts.findIndex(function (opt) {\n        return opt.value === a;\n      });\n      var indexB = opts.findIndex(function (opt) {\n        return opt.value === b;\n      });\n      return indexA - indexB;\n    }));\n  };\n  var prefixCls = getPrefixCls('checkbox', customizePrefixCls);\n  var groupPrefixCls = \"\".concat(prefixCls, \"-group\");\n  var domProps = omit(restProps, ['value', 'disabled']);\n  if (options && options.length > 0) {\n    children = getOptions().map(function (option) {\n      return /*#__PURE__*/React.createElement(Checkbox, {\n        prefixCls: prefixCls,\n        key: option.value.toString(),\n        disabled: 'disabled' in option ? option.disabled : restProps.disabled,\n        value: option.value,\n        checked: value.includes(option.value),\n        onChange: option.onChange,\n        className: \"\".concat(groupPrefixCls, \"-item\"),\n        style: option.style\n      }, option.label);\n    });\n  }\n  // eslint-disable-next-line react/jsx-no-constructed-context-values\n  var context = {\n    toggleOption: toggleOption,\n    value: value,\n    disabled: restProps.disabled,\n    name: restProps.name,\n    // https://github.com/ant-design/ant-design/issues/16376\n    registerValue: registerValue,\n    cancelValue: cancelValue\n  };\n  var classString = classNames(groupPrefixCls, _defineProperty({}, \"\".concat(groupPrefixCls, \"-rtl\"), direction === 'rtl'), className);\n  return /*#__PURE__*/React.createElement(\"div\", _extends({\n    className: classString,\n    style: style\n  }, domProps, {\n    ref: ref\n  }), /*#__PURE__*/React.createElement(GroupContext.Provider, {\n    value: context\n  }, children));\n};\nvar CheckboxGroup = /*#__PURE__*/React.forwardRef(InternalCheckboxGroup);\nexport default /*#__PURE__*/React.memo(CheckboxGroup);","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\nimport classNames from 'classnames';\nimport RcCheckbox from 'rc-checkbox';\nimport * as React from 'react';\nimport { useContext } from 'react';\nimport { ConfigContext } from '../config-provider';\nimport { FormItemInputContext } from '../form/context';\nimport warning from '../_util/warning';\nimport { GroupContext } from './Group';\nimport DisabledContext from '../config-provider/DisabledContext';\nvar InternalCheckbox = function InternalCheckbox(_a, ref) {\n  var _classNames;\n  var _b;\n  var customizePrefixCls = _a.prefixCls,\n    className = _a.className,\n    children = _a.children,\n    _a$indeterminate = _a.indeterminate,\n    indeterminate = _a$indeterminate === void 0 ? false : _a$indeterminate,\n    style = _a.style,\n    onMouseEnter = _a.onMouseEnter,\n    onMouseLeave = _a.onMouseLeave,\n    _a$skipGroup = _a.skipGroup,\n    skipGroup = _a$skipGroup === void 0 ? false : _a$skipGroup,\n    disabled = _a.disabled,\n    restProps = __rest(_a, [\"prefixCls\", \"className\", \"children\", \"indeterminate\", \"style\", \"onMouseEnter\", \"onMouseLeave\", \"skipGroup\", \"disabled\"]);\n  var _React$useContext = React.useContext(ConfigContext),\n    getPrefixCls = _React$useContext.getPrefixCls,\n    direction = _React$useContext.direction;\n  var checkboxGroup = React.useContext(GroupContext);\n  var _useContext = useContext(FormItemInputContext),\n    isFormItemInput = _useContext.isFormItemInput;\n  var contextDisabled = useContext(DisabledContext);\n  var mergedDisabled = (_b = (checkboxGroup === null || checkboxGroup === void 0 ? void 0 : checkboxGroup.disabled) || disabled) !== null && _b !== void 0 ? _b : contextDisabled;\n  var prevValue = React.useRef(restProps.value);\n  React.useEffect(function () {\n    checkboxGroup === null || checkboxGroup === void 0 ? void 0 : checkboxGroup.registerValue(restProps.value);\n    process.env.NODE_ENV !== \"production\" ? warning('checked' in restProps || !!checkboxGroup || !('value' in restProps), 'Checkbox', '`value` is not a valid prop, do you mean `checked`?') : void 0;\n  }, []);\n  React.useEffect(function () {\n    if (skipGroup) {\n      return;\n    }\n    if (restProps.value !== prevValue.current) {\n      checkboxGroup === null || checkboxGroup === void 0 ? void 0 : checkboxGroup.cancelValue(prevValue.current);\n      checkboxGroup === null || checkboxGroup === void 0 ? void 0 : checkboxGroup.registerValue(restProps.value);\n      prevValue.current = restProps.value;\n    }\n    return function () {\n      return checkboxGroup === null || checkboxGroup === void 0 ? void 0 : checkboxGroup.cancelValue(restProps.value);\n    };\n  }, [restProps.value]);\n  var prefixCls = getPrefixCls('checkbox', customizePrefixCls);\n  var checkboxProps = _extends({}, restProps);\n  if (checkboxGroup && !skipGroup) {\n    checkboxProps.onChange = function () {\n      if (restProps.onChange) {\n        restProps.onChange.apply(restProps, arguments);\n      }\n      if (checkboxGroup.toggleOption) {\n        checkboxGroup.toggleOption({\n          label: children,\n          value: restProps.value\n        });\n      }\n    };\n    checkboxProps.name = checkboxGroup.name;\n    checkboxProps.checked = checkboxGroup.value.includes(restProps.value);\n  }\n  var classString = classNames((_classNames = {}, _defineProperty(_classNames, \"\".concat(prefixCls, \"-wrapper\"), true), _defineProperty(_classNames, \"\".concat(prefixCls, \"-rtl\"), direction === 'rtl'), _defineProperty(_classNames, \"\".concat(prefixCls, \"-wrapper-checked\"), checkboxProps.checked), _defineProperty(_classNames, \"\".concat(prefixCls, \"-wrapper-disabled\"), mergedDisabled), _defineProperty(_classNames, \"\".concat(prefixCls, \"-wrapper-in-form-item\"), isFormItemInput), _classNames), className);\n  var checkboxClass = classNames(_defineProperty({}, \"\".concat(prefixCls, \"-indeterminate\"), indeterminate));\n  var ariaChecked = indeterminate ? 'mixed' : undefined;\n  return (\n    /*#__PURE__*/\n    // eslint-disable-next-line jsx-a11y/label-has-associated-control\n    React.createElement(\"label\", {\n      className: classString,\n      style: style,\n      onMouseEnter: onMouseEnter,\n      onMouseLeave: onMouseLeave\n    }, /*#__PURE__*/React.createElement(RcCheckbox, _extends({\n      \"aria-checked\": ariaChecked\n    }, checkboxProps, {\n      prefixCls: prefixCls,\n      className: checkboxClass,\n      disabled: mergedDisabled,\n      ref: ref\n    })), children !== undefined && /*#__PURE__*/React.createElement(\"span\", null, children))\n  );\n};\nvar Checkbox = /*#__PURE__*/React.forwardRef(InternalCheckbox);\nif (process.env.NODE_ENV !== 'production') {\n  Checkbox.displayName = 'Checkbox';\n}\nexport default Checkbox;","import InternalCheckbox from './Checkbox';\nimport Group from './Group';\nvar Checkbox = InternalCheckbox;\nCheckbox.Group = Group;\nCheckbox.__ANT_CHECKBOX = true;\nexport default Checkbox;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\nimport classNames from 'classnames';\nimport * as React from 'react';\nimport { ConfigContext } from '../config-provider';\nvar CheckableTag = function CheckableTag(_a) {\n  var _classNames;\n  var customizePrefixCls = _a.prefixCls,\n    className = _a.className,\n    checked = _a.checked,\n    onChange = _a.onChange,\n    onClick = _a.onClick,\n    restProps = __rest(_a, [\"prefixCls\", \"className\", \"checked\", \"onChange\", \"onClick\"]);\n  var _React$useContext = React.useContext(ConfigContext),\n    getPrefixCls = _React$useContext.getPrefixCls;\n  var handleClick = function handleClick(e) {\n    onChange === null || onChange === void 0 ? void 0 : onChange(!checked);\n    onClick === null || onClick === void 0 ? void 0 : onClick(e);\n  };\n  var prefixCls = getPrefixCls('tag', customizePrefixCls);\n  var cls = classNames(prefixCls, (_classNames = {}, _defineProperty(_classNames, \"\".concat(prefixCls, \"-checkable\"), true), _defineProperty(_classNames, \"\".concat(prefixCls, \"-checkable-checked\"), checked), _classNames), className);\n  return /*#__PURE__*/React.createElement(\"span\", _extends({}, restProps, {\n    className: cls,\n    onClick: handleClick\n  }));\n};\nexport default CheckableTag;","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\nimport CloseOutlined from \"@ant-design/icons/es/icons/CloseOutlined\";\nimport classNames from 'classnames';\nimport omit from \"rc-util/es/omit\";\nimport * as React from 'react';\nimport { ConfigContext } from '../config-provider';\nimport { PresetColorTypes, PresetStatusColorTypes } from '../_util/colors';\nimport Wave from '../_util/wave';\nimport warning from '../_util/warning';\nimport CheckableTag from './CheckableTag';\nvar PresetColorRegex = new RegExp(\"^(\".concat(PresetColorTypes.join('|'), \")(-inverse)?$\"));\nvar PresetStatusColorRegex = new RegExp(\"^(\".concat(PresetStatusColorTypes.join('|'), \")$\"));\nvar InternalTag = function InternalTag(_a, ref) {\n  var _classNames;\n  var customizePrefixCls = _a.prefixCls,\n    className = _a.className,\n    style = _a.style,\n    children = _a.children,\n    icon = _a.icon,\n    color = _a.color,\n    onClose = _a.onClose,\n    closeIcon = _a.closeIcon,\n    _a$closable = _a.closable,\n    closable = _a$closable === void 0 ? false : _a$closable,\n    props = __rest(_a, [\"prefixCls\", \"className\", \"style\", \"children\", \"icon\", \"color\", \"onClose\", \"closeIcon\", \"closable\"]);\n  var _React$useContext = React.useContext(ConfigContext),\n    getPrefixCls = _React$useContext.getPrefixCls,\n    direction = _React$useContext.direction;\n  var _React$useState = React.useState(true),\n    _React$useState2 = _slicedToArray(_React$useState, 2),\n    visible = _React$useState2[0],\n    setVisible = _React$useState2[1];\n  // Warning for deprecated usage\n  if (process.env.NODE_ENV !== 'production') {\n    process.env.NODE_ENV !== \"production\" ? warning(!('visible' in props), 'Tag', '`visible` will be removed in next major version, please use `visible && <Tag />` instead.') : void 0;\n  }\n  React.useEffect(function () {\n    if ('visible' in props) {\n      setVisible(props.visible);\n    }\n  }, [props.visible]);\n  var isPresetColor = function isPresetColor() {\n    if (!color) {\n      return false;\n    }\n    return PresetColorRegex.test(color) || PresetStatusColorRegex.test(color);\n  };\n  var tagStyle = _extends({\n    backgroundColor: color && !isPresetColor() ? color : undefined\n  }, style);\n  var presetColor = isPresetColor();\n  var prefixCls = getPrefixCls('tag', customizePrefixCls);\n  var tagClassName = classNames(prefixCls, (_classNames = {}, _defineProperty(_classNames, \"\".concat(prefixCls, \"-\").concat(color), presetColor), _defineProperty(_classNames, \"\".concat(prefixCls, \"-has-color\"), color && !presetColor), _defineProperty(_classNames, \"\".concat(prefixCls, \"-hidden\"), !visible), _defineProperty(_classNames, \"\".concat(prefixCls, \"-rtl\"), direction === 'rtl'), _classNames), className);\n  var handleCloseClick = function handleCloseClick(e) {\n    e.stopPropagation();\n    onClose === null || onClose === void 0 ? void 0 : onClose(e);\n    if (e.defaultPrevented) {\n      return;\n    }\n    if (!('visible' in props)) {\n      setVisible(false);\n    }\n  };\n  var renderCloseIcon = function renderCloseIcon() {\n    if (closable) {\n      return closeIcon ? /*#__PURE__*/React.createElement(\"span\", {\n        className: \"\".concat(prefixCls, \"-close-icon\"),\n        onClick: handleCloseClick\n      }, closeIcon) : /*#__PURE__*/React.createElement(CloseOutlined, {\n        className: \"\".concat(prefixCls, \"-close-icon\"),\n        onClick: handleCloseClick\n      });\n    }\n    return null;\n  };\n  var isNeedWave = 'onClick' in props || children && children.type === 'a';\n  var tagProps = omit(props, ['visible']);\n  var iconNode = icon || null;\n  var kids = iconNode ? /*#__PURE__*/React.createElement(React.Fragment, null, iconNode, /*#__PURE__*/React.createElement(\"span\", null, children)) : children;\n  var tagNode = /*#__PURE__*/React.createElement(\"span\", _extends({}, tagProps, {\n    ref: ref,\n    className: tagClassName,\n    style: tagStyle\n  }), kids, renderCloseIcon());\n  return isNeedWave ? /*#__PURE__*/React.createElement(Wave, null, tagNode) : tagNode;\n};\nvar Tag = /*#__PURE__*/React.forwardRef(InternalTag);\nif (process.env.NODE_ENV !== 'production') {\n  Tag.displayName = 'Tag';\n}\nTag.CheckableTag = CheckableTag;\nexport default Tag;","import React, { Component } from 'react'\r\nimport {Tooltip,Slider,Divider } from 'antd';\r\nimport * as d3 from 'd3'\r\n// let values = [\"2003/3/17\",\"2003/3/17\",\"2003/3/17\",\"2003/3/17\",\"2003/3/17\",\r\n// \"2003/3/18\",\"2003/3/18\",\"2003/3/18\",\"2003/3/18\",\"2003/3/18\",\"2003/3/18\",\"2003/3/18\",\"2003/3/18\",\r\n// \"2003/3/19\",\"2003/3/19\",\"2003/3/19\",\"2003/3/19\",\"2003/3/19\",\r\n// \"2003/3/20\",\"2003/3/20\",\"2003/3/20\",\"2003/3/20\",\"2003/3/20\",\"2003/3/20\",\r\n// \"2003/3/21\",\"2003/3/21\",\"2003/3/21\",\"2003/3/21\"]\r\nexport default class TemporalSetting extends Component {\r\n    componentDidMount(){\r\n        this.props.setProcessTime([0,this.props.originTimeValue.length-1])\r\n    }\r\n    changeSlider = () => {\r\n        \r\n    }\r\n    afterChange=(value)=>{\r\n        console.log(value)\r\n        this.props.setProcessTime(value)\r\n    }\r\n    formatter=(value)=>{\r\n        return `${this.props.originTimeValue[value]}`\r\n    }\r\n    render() {\r\n        let field = \"Time\"\r\n        let values=this.props.originTimeValue\r\n        return (\r\n            <div className=\"time-temporal\">\r\n                <div className=\"time-temporal-tootip\">\r\n                    <Tooltip title={field}>\r\n                        <p className=\"time-temporal-text\">{field}</p>\r\n                    </Tooltip>\r\n                </div>\r\n\r\n                <div className=\"time-temporal-content\">\r\n                    <Slider\r\n                        range={true}\r\n                        defaultValue={[0, values.length-1]}\r\n                        dots={true}\r\n                        step={1}\r\n                        min={0}\r\n                        max={values.length-1}\r\n                        tipFormatter={this.formatter}\r\n                        onChange={this.changeSlider}\r\n                        onAfterChange={this.afterChange}\r\n                    />\r\n                </div>\r\n                <Divider />\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React, { Component } from 'react'\r\nimport './FileSetting.less'\r\nimport { Tooltip, Collapse, Tag, Divider, Checkbox } from 'antd';\r\nimport TemporalSetting from './TemporalSetting/TemporalSetting';\r\nconst { Panel } = Collapse;\r\nconst { CheckableTag } = Tag;\r\n// const granularityName = ['Year', 'Month', 'Day', 'Hour', 'Minute'];\r\n// const columnsName = ['CPU usage[MHZ]', 'CPU usage[%]', 'Memory usage[KB]', 'CPU cores', 'Network received throughput[]KB'];\r\n\r\nexport default class FileSetting extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      selectTags: true,\r\n      selectedGranularity: this.props.granularityName[this.props.granularityName.length - 1],\r\n      selectedColumns: this.props.originColumnName\r\n    }\r\n  }\r\n  componentDidMount() {\r\n    this.props.setProcessGranularity(this.props.granularityName[this.props.granularityName.length - 1])\r\n    this.props.setProcessColumns(this.props.originColumnName)\r\n  }\r\n  handleGranularityChange = (tag, checked) => {\r\n    const { selectedGranularity } = this.state;\r\n    const nextSelectedTags = checked ? tag : selectedGranularity\r\n    this.setState(state => ({ selectedGranularity: nextSelectedTags }), () => {\r\n      this.props.setProcessGranularity(this.state.selectedGranularity)\r\n      console.log(this.state.selectedGranularity)\r\n    })\r\n    this.setState({ selectedGranularity: nextSelectedTags });\r\n  }\r\n  handleColumnsChange = (tag, checked) => {\r\n    const { selectedColumns, selectTags } = this.state;\r\n    const nextSelectedTags = checked ? [...selectedColumns, tag] : selectedColumns.filter(t => t !== tag);\r\n\r\n    this.setState(state => ({ selectedColumns: nextSelectedTags }), () => {\r\n      //全选状态or非全选状态（联动）\r\n      if (nextSelectedTags.length === this.props.originColumnName.length) {\r\n        this.setState({ selectTags: true });\r\n      } else {\r\n        this.setState({ selectTags: false });\r\n      }\r\n      this.props.setProcessColumns(this.state.selectedColumns)\r\n      console.log(this.state.selectedColumns)\r\n    });\r\n  }\r\n  selectAllTags = (e) => {\r\n    if (e.target.checked) {\r\n      this.setState({ selectedColumns: this.props.originColumnName, selectTags: true });\r\n    } else {\r\n      this.setState({ selectedColumns: [], selectTags: false });\r\n    }\r\n\r\n  }\r\n  render() {\r\n    const { selectedGranularity, selectedColumns, selectTags } = this.state;\r\n    const { intl } = this.props;\r\n    return (\r\n      <Collapse defaultActiveKey={[\"data-options\"]}>\r\n        <Panel header={intl.get(\"DataOptions\")} key=\"data-options\" >\r\n          <div className='data-option'>\r\n            <TemporalSetting {...this.props} />\r\n            <div className='time-granularity'>\r\n              <div className=\"time-granularity-tootip\">\r\n                <Tooltip title={intl.get(\"Granularity\")}>\r\n                  <p className=\"time-granularity-tootip-text\">{intl.get(\"Granularity\")}</p>\r\n                </Tooltip>\r\n              </div>\r\n              <div className='time-granularity-content'>\r\n                {\r\n                  this.props.granularityName.map(tag => (\r\n                    <CheckableTag\r\n                      key={tag}\r\n                      checked={selectedGranularity.indexOf(tag) > -1}\r\n                      onChange={checked => this.handleGranularityChange(tag, checked)}>\r\n                      {tag}\r\n                    </CheckableTag>\r\n                  ))}\r\n              </div>\r\n              <Divider />\r\n            </div>\r\n            <div className='time-columns'>\r\n              <div className=\"time-columns-tootip\">\r\n                <Tooltip title={\"Columns\"}>\r\n                  <p className=\"time-columns-tootip-text\">{\"Variables\"}</p>\r\n                </Tooltip>\r\n              </div>\r\n              <div className='time-columns-content'>\r\n                <div className='select-all-tags'>\r\n                  <Checkbox\r\n                    onChange={this.selectAllTags}\r\n                    checked={selectTags}>\r\n                    {intl.get(\"SelectAll\")}\r\n                  </Checkbox>\r\n                </div>\r\n                {\r\n                  this.props.originColumnName.map(tag => (\r\n                    <CheckableTag\r\n                      key={tag}\r\n                      checked={selectedColumns.indexOf(tag) > -1}\r\n                      onChange={checked => this.handleColumnsChange(tag, checked)}>\r\n                      {tag}\r\n                    </CheckableTag>\r\n                  ))\r\n                }\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </Panel>\r\n      </Collapse>\r\n    )\r\n  }\r\n}\r\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport useState from \"rc-util/es/hooks/useState\";\nimport * as React from 'react';\nimport Button from '../button';\nimport { convertLegacyProps } from '../button/button';\nfunction isThenable(thing) {\n  return !!(thing && !!thing.then);\n}\nvar ActionButton = function ActionButton(props) {\n  var clickedRef = React.useRef(false);\n  var ref = React.useRef(null);\n  var _useState = useState(false),\n    _useState2 = _slicedToArray(_useState, 2),\n    loading = _useState2[0],\n    setLoading = _useState2[1];\n  var close = props.close;\n  var onInternalClose = function onInternalClose() {\n    close === null || close === void 0 ? void 0 : close.apply(void 0, arguments);\n  };\n  React.useEffect(function () {\n    var timeoutId = null;\n    if (props.autoFocus) {\n      timeoutId = setTimeout(function () {\n        var _a;\n        (_a = ref.current) === null || _a === void 0 ? void 0 : _a.focus();\n      });\n    }\n    return function () {\n      if (timeoutId) {\n        clearTimeout(timeoutId);\n      }\n    };\n  }, []);\n  var handlePromiseOnOk = function handlePromiseOnOk(returnValueOfOnOk) {\n    if (!isThenable(returnValueOfOnOk)) {\n      return;\n    }\n    setLoading(true);\n    returnValueOfOnOk.then(function () {\n      setLoading(false, true);\n      onInternalClose.apply(void 0, arguments);\n      clickedRef.current = false;\n    }, function (e) {\n      // Emit error when catch promise reject\n      // eslint-disable-next-line no-console\n      console.error(e);\n      // See: https://github.com/ant-design/ant-design/issues/6183\n      setLoading(false, true);\n      clickedRef.current = false;\n    });\n  };\n  var onClick = function onClick(e) {\n    var actionFn = props.actionFn;\n    if (clickedRef.current) {\n      return;\n    }\n    clickedRef.current = true;\n    if (!actionFn) {\n      onInternalClose();\n      return;\n    }\n    var returnValueOfOnOk;\n    if (props.emitEvent) {\n      returnValueOfOnOk = actionFn(e);\n      if (props.quitOnNullishReturnValue && !isThenable(returnValueOfOnOk)) {\n        clickedRef.current = false;\n        onInternalClose(e);\n        return;\n      }\n    } else if (actionFn.length) {\n      returnValueOfOnOk = actionFn(close);\n      // https://github.com/ant-design/ant-design/issues/23358\n      clickedRef.current = false;\n    } else {\n      returnValueOfOnOk = actionFn();\n      if (!returnValueOfOnOk) {\n        onInternalClose();\n        return;\n      }\n    }\n    handlePromiseOnOk(returnValueOfOnOk);\n  };\n  var type = props.type,\n    children = props.children,\n    prefixCls = props.prefixCls,\n    buttonProps = props.buttonProps;\n  return /*#__PURE__*/React.createElement(Button, _extends({}, convertLegacyProps(type), {\n    onClick: onClick,\n    loading: loading,\n    prefixCls: prefixCls\n  }, buttonProps, {\n    ref: ref\n  }), children);\n};\nexport default ActionButton;","import * as React from 'react';\nvar OrderContext = /*#__PURE__*/React.createContext(null);\nexport default OrderContext;","import _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport * as React from 'react';\nimport useLayoutEffect from \"rc-util/es/hooks/useLayoutEffect\";\nimport canUseDom from \"rc-util/es/Dom/canUseDom\";\nimport OrderContext from \"./Context\";\nvar EMPTY_LIST = [];\n/**\n * Will add `div` to document. Nest call will keep order\n * @param render Render DOM in document\n */\n\nexport default function useDom(render, debug) {\n  var _React$useState = React.useState(function () {\n    if (!canUseDom()) {\n      return null;\n    }\n\n    var defaultEle = document.createElement('div');\n\n    if (process.env.NODE_ENV !== 'production' && debug) {\n      defaultEle.setAttribute('data-debug', debug);\n    }\n\n    return defaultEle;\n  }),\n      _React$useState2 = _slicedToArray(_React$useState, 1),\n      ele = _React$useState2[0]; // ========================== Order ==========================\n\n\n  var appendedRef = React.useRef(false);\n  var queueCreate = React.useContext(OrderContext);\n\n  var _React$useState3 = React.useState(EMPTY_LIST),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      queue = _React$useState4[0],\n      setQueue = _React$useState4[1];\n\n  var mergedQueueCreate = queueCreate || (appendedRef.current ? undefined : function (appendFn) {\n    setQueue(function (origin) {\n      var newQueue = [appendFn].concat(_toConsumableArray(origin));\n      return newQueue;\n    });\n  }); // =========================== DOM ===========================\n\n  function append() {\n    if (!ele.parentElement) {\n      document.body.appendChild(ele);\n    }\n\n    appendedRef.current = true;\n  }\n\n  function cleanup() {\n    var _ele$parentElement;\n\n    (_ele$parentElement = ele.parentElement) === null || _ele$parentElement === void 0 ? void 0 : _ele$parentElement.removeChild(ele);\n    appendedRef.current = false;\n  }\n\n  useLayoutEffect(function () {\n    if (render) {\n      if (queueCreate) {\n        queueCreate(append);\n      } else {\n        append();\n      }\n    } else {\n      cleanup();\n    }\n\n    return cleanup;\n  }, [render]);\n  useLayoutEffect(function () {\n    if (queue.length) {\n      queue.forEach(function (appendFn) {\n        return appendFn();\n      });\n      setQueue(EMPTY_LIST);\n    }\n  }, [queue]);\n  return [ele, mergedQueueCreate];\n}","/* eslint-disable no-param-reassign */\n\nvar cached;\nexport default function getScrollBarSize(fresh) {\n  if (typeof document === 'undefined') {\n    return 0;\n  }\n  if (fresh || cached === undefined) {\n    var inner = document.createElement('div');\n    inner.style.width = '100%';\n    inner.style.height = '200px';\n    var outer = document.createElement('div');\n    var outerStyle = outer.style;\n    outerStyle.position = 'absolute';\n    outerStyle.top = '0';\n    outerStyle.left = '0';\n    outerStyle.pointerEvents = 'none';\n    outerStyle.visibility = 'hidden';\n    outerStyle.width = '200px';\n    outerStyle.height = '150px';\n    outerStyle.overflow = 'hidden';\n    outer.appendChild(inner);\n    document.body.appendChild(outer);\n    var widthContained = inner.offsetWidth;\n    outer.style.overflow = 'scroll';\n    var widthScroll = inner.offsetWidth;\n    if (widthContained === widthScroll) {\n      widthScroll = outer.clientWidth;\n    }\n    document.body.removeChild(outer);\n    cached = widthContained - widthScroll;\n  }\n  return cached;\n}\nfunction ensureSize(str) {\n  var match = str.match(/^(.*)px$/);\n  var value = Number(match === null || match === void 0 ? void 0 : match[1]);\n  return Number.isNaN(value) ? getScrollBarSize() : value;\n}\nexport function getTargetScrollBarSize(target) {\n  if (typeof document === 'undefined' || !target || !(target instanceof Element)) {\n    return {\n      width: 0,\n      height: 0\n    };\n  }\n  var _getComputedStyle = getComputedStyle(target, '::-webkit-scrollbar'),\n    width = _getComputedStyle.width,\n    height = _getComputedStyle.height;\n  return {\n    width: ensureSize(width),\n    height: ensureSize(height)\n  };\n}","import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport * as React from 'react';\nimport { updateCSS, removeCSS } from \"rc-util/es/Dom/dynamicCSS\";\nimport useLayoutEffect from \"rc-util/es/hooks/useLayoutEffect\";\nimport getScrollBarSize from \"rc-util/es/getScrollBarSize\";\nimport { isBodyOverflowing } from \"./util\";\nvar UNIQUE_ID = \"rc-util-locker-\".concat(Date.now());\nvar uuid = 0;\nexport default function useScrollLocker(lock) {\n  var mergedLock = !!lock;\n\n  var _React$useState = React.useState(function () {\n    uuid += 1;\n    return \"\".concat(UNIQUE_ID, \"_\").concat(uuid);\n  }),\n      _React$useState2 = _slicedToArray(_React$useState, 1),\n      id = _React$useState2[0];\n\n  useLayoutEffect(function () {\n    if (mergedLock) {\n      var scrollbarSize = getScrollBarSize();\n      var isOverflow = isBodyOverflowing();\n      updateCSS(\"\\nhtml body {\\n  overflow-y: hidden;\\n  \".concat(isOverflow ? \"width: calc(100% - \".concat(scrollbarSize, \"px);\") : '', \"\\n}\"), id);\n    } else {\n      removeCSS(id);\n    }\n\n    return function () {\n      removeCSS(id);\n    };\n  }, [mergedLock, id]);\n}","/**\n * Test usage export. Do not use in your production\n */\nexport function isBodyOverflowing() {\n  return document.body.scrollHeight > (window.innerHeight || document.documentElement.clientHeight) && window.innerWidth > document.body.offsetWidth;\n}","export var inline = false;\nexport function inlineMock(nextInline) {\n  if (typeof nextInline === 'boolean') {\n    inline = nextInline;\n  }\n\n  return inline;\n}","import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport * as React from 'react';\nimport { createPortal } from 'react-dom';\nimport canUseDom from \"rc-util/es/Dom/canUseDom\";\nimport { supportRef, useComposeRef } from \"rc-util/es/ref\";\nimport OrderContext from \"./Context\";\nimport useDom from \"./useDom\";\nimport useScrollLocker from \"./useScrollLocker\";\nimport { inlineMock } from \"./mock\";\n\nvar getPortalContainer = function getPortalContainer(getContainer) {\n  if (getContainer === false) {\n    return false;\n  }\n\n  if (!canUseDom() || !getContainer) {\n    return null;\n  }\n\n  if (typeof getContainer === 'string') {\n    return document.querySelector(getContainer);\n  }\n\n  if (typeof getContainer === 'function') {\n    return getContainer();\n  }\n\n  return getContainer;\n};\n\nvar Portal = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  var open = props.open,\n      autoLock = props.autoLock,\n      getContainer = props.getContainer,\n      debug = props.debug,\n      _props$autoDestroy = props.autoDestroy,\n      autoDestroy = _props$autoDestroy === void 0 ? true : _props$autoDestroy,\n      children = props.children;\n\n  var _React$useState = React.useState(open),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      shouldRender = _React$useState2[0],\n      setShouldRender = _React$useState2[1];\n\n  var mergedRender = shouldRender || open; // ====================== Should Render ======================\n\n  React.useEffect(function () {\n    if (autoDestroy || open) {\n      setShouldRender(open);\n    }\n  }, [open, autoDestroy]); // ======================== Container ========================\n\n  var _React$useState3 = React.useState(function () {\n    return getPortalContainer(getContainer);\n  }),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      innerContainer = _React$useState4[0],\n      setInnerContainer = _React$useState4[1];\n\n  React.useEffect(function () {\n    var customizeContainer = getPortalContainer(getContainer); // Tell component that we check this in effect which is safe to be `null`\n\n    setInnerContainer(customizeContainer !== null && customizeContainer !== void 0 ? customizeContainer : null);\n  });\n\n  var _useDom = useDom(mergedRender && !innerContainer, debug),\n      _useDom2 = _slicedToArray(_useDom, 2),\n      defaultContainer = _useDom2[0],\n      queueCreate = _useDom2[1];\n\n  var mergedContainer = innerContainer !== null && innerContainer !== void 0 ? innerContainer : defaultContainer; // ========================= Locker ==========================\n\n  useScrollLocker(autoLock && open && canUseDom() && (mergedContainer === defaultContainer || mergedContainer === document.body)); // =========================== Ref ===========================\n\n  var childRef = null;\n\n  if (children && supportRef(children) && ref) {\n    var _ref = children;\n    childRef = _ref.ref;\n  }\n\n  var mergedRef = useComposeRef(childRef, ref); // ========================= Render ==========================\n  // Do not render when nothing need render\n  // When innerContainer is `undefined`, it may not ready since user use ref in the same render\n\n  if (!mergedRender || !canUseDom() || innerContainer === undefined) {\n    return null;\n  } // Render inline\n\n\n  var renderInline = mergedContainer === false || inlineMock();\n  var reffedChildren = children;\n\n  if (ref) {\n    reffedChildren = /*#__PURE__*/React.cloneElement(children, {\n      ref: mergedRef\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(OrderContext.Provider, {\n    value: queueCreate\n  }, renderInline ? reffedChildren : /*#__PURE__*/createPortal(reffedChildren, mergedContainer));\n});\n\nif (process.env.NODE_ENV !== 'production') {\n  Portal.displayName = 'Portal';\n}\n\nexport default Portal;","import Portal from \"./Portal\";\nimport { inlineMock } from \"./mock\";\nexport { inlineMock };\nexport default Portal;","import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport * as React from 'react';\nfunction getUseId() {\n  // We need fully clone React function here to avoid webpack warning React 17 do not export `useId`\n  var fullClone = _objectSpread({}, React);\n  return fullClone.useId;\n}\nvar uuid = 0;\n\n/** @private Note only worked in develop env. Not work in production. */\nexport function resetUuid() {\n  if (process.env.NODE_ENV !== 'production') {\n    uuid = 0;\n  }\n}\nexport default function useId(id) {\n  // Inner id for accessibility usage. Only work in client side\n  var _React$useState = React.useState('ssr-id'),\n    _React$useState2 = _slicedToArray(_React$useState, 2),\n    innerId = _React$useState2[0],\n    setInnerId = _React$useState2[1];\n  var useOriginId = getUseId();\n  var reactNativeId = useOriginId === null || useOriginId === void 0 ? void 0 : useOriginId();\n  React.useEffect(function () {\n    if (!useOriginId) {\n      var nextId = uuid;\n      uuid += 1;\n      setInnerId(\"rc_unique_\".concat(nextId));\n    }\n  }, []);\n\n  // Developer passed id is single source of truth\n  if (id) {\n    return id;\n  }\n\n  // Test env always return mock id\n  if (process.env.NODE_ENV === 'test') {\n    return 'test-id';\n  }\n\n  // Return react native id or inner id\n  return reactNativeId || innerId;\n}","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport CSSMotion from 'rc-motion';\nexport default function Mask(props) {\n  var prefixCls = props.prefixCls,\n    style = props.style,\n    visible = props.visible,\n    maskProps = props.maskProps,\n    motionName = props.motionName;\n  return /*#__PURE__*/React.createElement(CSSMotion, {\n    key: \"mask\",\n    visible: visible,\n    motionName: motionName,\n    leavedClassName: \"\".concat(prefixCls, \"-mask-hidden\")\n  }, function (_ref, ref) {\n    var motionClassName = _ref.className,\n      motionStyle = _ref.style;\n    return /*#__PURE__*/React.createElement(\"div\", _extends({\n      ref: ref,\n      style: _objectSpread(_objectSpread({}, motionStyle), style),\n      className: classNames(\"\".concat(prefixCls, \"-mask\"), motionClassName)\n    }, maskProps));\n  });\n}","// =============================== Motion ===============================\nexport function getMotionName(prefixCls, transitionName, animationName) {\n  var motionName = transitionName;\n  if (!motionName && animationName) {\n    motionName = \"\".concat(prefixCls, \"-\").concat(animationName);\n  }\n  return motionName;\n}\n// =============================== Offset ===============================\nfunction getScroll(w, top) {\n  var ret = w[\"page\".concat(top ? 'Y' : 'X', \"Offset\")];\n  var method = \"scroll\".concat(top ? 'Top' : 'Left');\n  if (typeof ret !== 'number') {\n    var d = w.document;\n    ret = d.documentElement[method];\n    if (typeof ret !== 'number') {\n      ret = d.body[method];\n    }\n  }\n  return ret;\n}\nexport function offset(el) {\n  var rect = el.getBoundingClientRect();\n  var pos = {\n    left: rect.left,\n    top: rect.top\n  };\n  var doc = el.ownerDocument;\n  var w = doc.defaultView || doc.parentWindow;\n  pos.left += getScroll(w);\n  pos.top += getScroll(w, true);\n  return pos;\n}","import * as React from 'react';\nexport default /*#__PURE__*/React.memo(function (_ref) {\n  var children = _ref.children;\n  return children;\n}, function (_, _ref2) {\n  var shouldUpdate = _ref2.shouldUpdate;\n  return !shouldUpdate;\n});","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport React, { useRef } from 'react';\nimport classNames from 'classnames';\nimport MemoChildren from './MemoChildren';\nvar sentinelStyle = {\n  width: 0,\n  height: 0,\n  overflow: 'hidden',\n  outline: 'none'\n};\nvar Panel = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  var prefixCls = props.prefixCls,\n    className = props.className,\n    style = props.style,\n    title = props.title,\n    ariaId = props.ariaId,\n    footer = props.footer,\n    closable = props.closable,\n    closeIcon = props.closeIcon,\n    onClose = props.onClose,\n    children = props.children,\n    bodyStyle = props.bodyStyle,\n    bodyProps = props.bodyProps,\n    modalRender = props.modalRender,\n    onMouseDown = props.onMouseDown,\n    onMouseUp = props.onMouseUp,\n    holderRef = props.holderRef,\n    visible = props.visible,\n    forceRender = props.forceRender,\n    width = props.width,\n    height = props.height;\n  // ================================= Refs =================================\n  var sentinelStartRef = useRef();\n  var sentinelEndRef = useRef();\n  React.useImperativeHandle(ref, function () {\n    return {\n      focus: function focus() {\n        var _sentinelStartRef$cur;\n        (_sentinelStartRef$cur = sentinelStartRef.current) === null || _sentinelStartRef$cur === void 0 ? void 0 : _sentinelStartRef$cur.focus();\n      },\n      changeActive: function changeActive(next) {\n        var _document = document,\n          activeElement = _document.activeElement;\n        if (next && activeElement === sentinelEndRef.current) {\n          sentinelStartRef.current.focus();\n        } else if (!next && activeElement === sentinelStartRef.current) {\n          sentinelEndRef.current.focus();\n        }\n      }\n    };\n  });\n  // ================================ Style =================================\n  var contentStyle = {};\n  if (width !== undefined) {\n    contentStyle.width = width;\n  }\n  if (height !== undefined) {\n    contentStyle.height = height;\n  }\n  // ================================ Render ================================\n  var footerNode;\n  if (footer) {\n    footerNode = /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\".concat(prefixCls, \"-footer\")\n    }, footer);\n  }\n  var headerNode;\n  if (title) {\n    headerNode = /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\".concat(prefixCls, \"-header\")\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\".concat(prefixCls, \"-title\"),\n      id: ariaId\n    }, title));\n  }\n  var closer;\n  if (closable) {\n    closer = /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      onClick: onClose,\n      \"aria-label\": \"Close\",\n      className: \"\".concat(prefixCls, \"-close\")\n    }, closeIcon || /*#__PURE__*/React.createElement(\"span\", {\n      className: \"\".concat(prefixCls, \"-close-x\")\n    }));\n  }\n  var content = /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\".concat(prefixCls, \"-content\")\n  }, closer, headerNode, /*#__PURE__*/React.createElement(\"div\", _extends({\n    className: \"\".concat(prefixCls, \"-body\"),\n    style: bodyStyle\n  }, bodyProps), children), footerNode);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    key: \"dialog-element\",\n    role: \"dialog\",\n    \"aria-labelledby\": title ? ariaId : null,\n    \"aria-modal\": \"true\",\n    ref: holderRef,\n    style: _objectSpread(_objectSpread({}, style), contentStyle),\n    className: classNames(prefixCls, className),\n    onMouseDown: onMouseDown,\n    onMouseUp: onMouseUp\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    tabIndex: 0,\n    ref: sentinelStartRef,\n    style: sentinelStyle,\n    \"aria-hidden\": \"true\"\n  }), /*#__PURE__*/React.createElement(MemoChildren, {\n    shouldUpdate: visible || forceRender\n  }, modalRender ? modalRender(content) : content), /*#__PURE__*/React.createElement(\"div\", {\n    tabIndex: 0,\n    ref: sentinelEndRef,\n    style: sentinelStyle,\n    \"aria-hidden\": \"true\"\n  }));\n});\nif (process.env.NODE_ENV !== 'production') {\n  Panel.displayName = 'Panel';\n}\nexport default Panel;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport * as React from 'react';\nimport { useRef } from 'react';\nimport classNames from 'classnames';\nimport CSSMotion from 'rc-motion';\nimport { offset } from '../../util';\nimport Panel from './Panel';\nvar Content = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  var prefixCls = props.prefixCls,\n    title = props.title,\n    style = props.style,\n    className = props.className,\n    visible = props.visible,\n    forceRender = props.forceRender,\n    destroyOnClose = props.destroyOnClose,\n    motionName = props.motionName,\n    ariaId = props.ariaId,\n    onVisibleChanged = props.onVisibleChanged,\n    mousePosition = props.mousePosition;\n  var dialogRef = useRef();\n  // ============================= Style ==============================\n  var _React$useState = React.useState(),\n    _React$useState2 = _slicedToArray(_React$useState, 2),\n    transformOrigin = _React$useState2[0],\n    setTransformOrigin = _React$useState2[1];\n  var contentStyle = {};\n  if (transformOrigin) {\n    contentStyle.transformOrigin = transformOrigin;\n  }\n  function onPrepare() {\n    var elementOffset = offset(dialogRef.current);\n    setTransformOrigin(mousePosition ? \"\".concat(mousePosition.x - elementOffset.left, \"px \").concat(mousePosition.y - elementOffset.top, \"px\") : '');\n  }\n  // ============================= Render =============================\n  return /*#__PURE__*/React.createElement(CSSMotion, {\n    visible: visible,\n    onVisibleChanged: onVisibleChanged,\n    onAppearPrepare: onPrepare,\n    onEnterPrepare: onPrepare,\n    forceRender: forceRender,\n    motionName: motionName,\n    removeOnLeave: destroyOnClose,\n    ref: dialogRef\n  }, function (_ref, motionRef) {\n    var motionClassName = _ref.className,\n      motionStyle = _ref.style;\n    return /*#__PURE__*/React.createElement(Panel, _extends({}, props, {\n      ref: ref,\n      title: title,\n      ariaId: ariaId,\n      prefixCls: prefixCls,\n      holderRef: motionRef,\n      style: _objectSpread(_objectSpread(_objectSpread({}, motionStyle), style), contentStyle),\n      className: classNames(className, motionClassName)\n    }));\n  });\n});\nContent.displayName = 'Content';\nexport default Content;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport * as React from 'react';\nimport { useRef, useEffect } from 'react';\nimport classNames from 'classnames';\nimport KeyCode from \"rc-util/es/KeyCode\";\nimport useId from \"rc-util/es/hooks/useId\";\nimport contains from \"rc-util/es/Dom/contains\";\nimport pickAttrs from \"rc-util/es/pickAttrs\";\nimport Mask from './Mask';\nimport { getMotionName } from '../util';\nimport Content from './Content';\nexport default function Dialog(props) {\n  var _props$prefixCls = props.prefixCls,\n    prefixCls = _props$prefixCls === void 0 ? 'rc-dialog' : _props$prefixCls,\n    zIndex = props.zIndex,\n    _props$visible = props.visible,\n    visible = _props$visible === void 0 ? false : _props$visible,\n    _props$keyboard = props.keyboard,\n    keyboard = _props$keyboard === void 0 ? true : _props$keyboard,\n    _props$focusTriggerAf = props.focusTriggerAfterClose,\n    focusTriggerAfterClose = _props$focusTriggerAf === void 0 ? true : _props$focusTriggerAf,\n    wrapStyle = props.wrapStyle,\n    wrapClassName = props.wrapClassName,\n    wrapProps = props.wrapProps,\n    onClose = props.onClose,\n    afterClose = props.afterClose,\n    transitionName = props.transitionName,\n    animation = props.animation,\n    _props$closable = props.closable,\n    closable = _props$closable === void 0 ? true : _props$closable,\n    _props$mask = props.mask,\n    mask = _props$mask === void 0 ? true : _props$mask,\n    maskTransitionName = props.maskTransitionName,\n    maskAnimation = props.maskAnimation,\n    _props$maskClosable = props.maskClosable,\n    maskClosable = _props$maskClosable === void 0 ? true : _props$maskClosable,\n    maskStyle = props.maskStyle,\n    maskProps = props.maskProps,\n    rootClassName = props.rootClassName;\n  var lastOutSideActiveElementRef = useRef();\n  var wrapperRef = useRef();\n  var contentRef = useRef();\n  var _React$useState = React.useState(visible),\n    _React$useState2 = _slicedToArray(_React$useState, 2),\n    animatedVisible = _React$useState2[0],\n    setAnimatedVisible = _React$useState2[1];\n  // ========================== Init ==========================\n  var ariaId = useId();\n  function saveLastOutSideActiveElementRef() {\n    if (!contains(wrapperRef.current, document.activeElement)) {\n      lastOutSideActiveElementRef.current = document.activeElement;\n    }\n  }\n  function focusDialogContent() {\n    if (!contains(wrapperRef.current, document.activeElement)) {\n      var _contentRef$current;\n      (_contentRef$current = contentRef.current) === null || _contentRef$current === void 0 ? void 0 : _contentRef$current.focus();\n    }\n  }\n  // ========================= Events =========================\n  function onDialogVisibleChanged(newVisible) {\n    // Try to focus\n    if (newVisible) {\n      focusDialogContent();\n    } else {\n      // Clean up scroll bar & focus back\n      setAnimatedVisible(false);\n      if (mask && lastOutSideActiveElementRef.current && focusTriggerAfterClose) {\n        try {\n          lastOutSideActiveElementRef.current.focus({\n            preventScroll: true\n          });\n        } catch (e) {\n          // Do nothing\n        }\n        lastOutSideActiveElementRef.current = null;\n      }\n      // Trigger afterClose only when change visible from true to false\n      if (animatedVisible) {\n        afterClose === null || afterClose === void 0 ? void 0 : afterClose();\n      }\n    }\n  }\n  function onInternalClose(e) {\n    onClose === null || onClose === void 0 ? void 0 : onClose(e);\n  }\n  // >>> Content\n  var contentClickRef = useRef(false);\n  var contentTimeoutRef = useRef();\n  // We need record content click incase content popup out of dialog\n  var onContentMouseDown = function onContentMouseDown() {\n    clearTimeout(contentTimeoutRef.current);\n    contentClickRef.current = true;\n  };\n  var onContentMouseUp = function onContentMouseUp() {\n    contentTimeoutRef.current = setTimeout(function () {\n      contentClickRef.current = false;\n    });\n  };\n  // >>> Wrapper\n  // Close only when element not on dialog\n  var onWrapperClick = null;\n  if (maskClosable) {\n    onWrapperClick = function onWrapperClick(e) {\n      if (contentClickRef.current) {\n        contentClickRef.current = false;\n      } else if (wrapperRef.current === e.target) {\n        onInternalClose(e);\n      }\n    };\n  }\n  function onWrapperKeyDown(e) {\n    if (keyboard && e.keyCode === KeyCode.ESC) {\n      e.stopPropagation();\n      onInternalClose(e);\n      return;\n    }\n    // keep focus inside dialog\n    if (visible) {\n      if (e.keyCode === KeyCode.TAB) {\n        contentRef.current.changeActive(!e.shiftKey);\n      }\n    }\n  }\n  // ========================= Effect =========================\n  useEffect(function () {\n    if (visible) {\n      setAnimatedVisible(true);\n      saveLastOutSideActiveElementRef();\n    }\n  }, [visible]);\n  // Remove direct should also check the scroll bar update\n  useEffect(function () {\n    return function () {\n      clearTimeout(contentTimeoutRef.current);\n    };\n  }, []);\n  // ========================= Render =========================\n  return /*#__PURE__*/React.createElement(\"div\", _extends({\n    className: classNames(\"\".concat(prefixCls, \"-root\"), rootClassName)\n  }, pickAttrs(props, {\n    data: true\n  })), /*#__PURE__*/React.createElement(Mask, {\n    prefixCls: prefixCls,\n    visible: mask && visible,\n    motionName: getMotionName(prefixCls, maskTransitionName, maskAnimation),\n    style: _objectSpread({\n      zIndex: zIndex\n    }, maskStyle),\n    maskProps: maskProps\n  }), /*#__PURE__*/React.createElement(\"div\", _extends({\n    tabIndex: -1,\n    onKeyDown: onWrapperKeyDown,\n    className: classNames(\"\".concat(prefixCls, \"-wrap\"), wrapClassName),\n    ref: wrapperRef,\n    onClick: onWrapperClick,\n    style: _objectSpread(_objectSpread({\n      zIndex: zIndex\n    }, wrapStyle), {}, {\n      display: !animatedVisible ? 'none' : null\n    })\n  }, wrapProps), /*#__PURE__*/React.createElement(Content, _extends({}, props, {\n    onMouseDown: onContentMouseDown,\n    onMouseUp: onContentMouseUp,\n    ref: contentRef,\n    closable: closable,\n    ariaId: ariaId,\n    prefixCls: prefixCls,\n    visible: visible && animatedVisible,\n    onClose: onInternalClose,\n    onVisibleChanged: onDialogVisibleChanged,\n    motionName: getMotionName(prefixCls, transitionName, animation)\n  }))));\n}","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport * as React from 'react';\nimport Portal from '@rc-component/portal';\nimport Dialog from './Dialog';\n// fix issue #10656\n/*\n * getContainer remarks\n * Custom container should not be return, because in the Portal component, it will remove the\n * return container element here, if the custom container is the only child of it's component,\n * like issue #10656, It will has a conflict with removeChild method in react-dom.\n * So here should add a child (div element) to custom container.\n * */\nvar DialogWrap = function DialogWrap(props) {\n  var visible = props.visible,\n    getContainer = props.getContainer,\n    forceRender = props.forceRender,\n    _props$destroyOnClose = props.destroyOnClose,\n    destroyOnClose = _props$destroyOnClose === void 0 ? false : _props$destroyOnClose,\n    _afterClose = props.afterClose;\n  var _React$useState = React.useState(visible),\n    _React$useState2 = _slicedToArray(_React$useState, 2),\n    animatedVisible = _React$useState2[0],\n    setAnimatedVisible = _React$useState2[1];\n  React.useEffect(function () {\n    if (visible) {\n      setAnimatedVisible(true);\n    }\n  }, [visible]);\n  // // 渲染在当前 dom 里；\n  // if (getContainer === false) {\n  //   return (\n  //     <Dialog\n  //       {...props}\n  //       getOpenCount={() => 2} // 不对 body 做任何操作。。\n  //     />\n  //   );\n  // }\n  // Destroy on close will remove wrapped div\n  if (!forceRender && destroyOnClose && !animatedVisible) {\n    return null;\n  }\n  return /*#__PURE__*/React.createElement(Portal, {\n    open: visible || forceRender || animatedVisible,\n    autoDestroy: false,\n    getContainer: getContainer,\n    autoLock: visible || animatedVisible\n  }, /*#__PURE__*/React.createElement(Dialog, _extends({}, props, {\n    destroyOnClose: destroyOnClose,\n    afterClose: function afterClose() {\n      _afterClose === null || _afterClose === void 0 ? void 0 : _afterClose();\n      setAnimatedVisible(false);\n    }\n  })));\n};\nDialogWrap.displayName = 'Dialog';\nexport default DialogWrap;","import DialogWrap from './DialogWrap';\nimport Panel from './Dialog/Content/Panel';\nexport { Panel };\nexport default DialogWrap;","import canUseDom from \"rc-util/es/Dom/canUseDom\";\nimport { isStyleSupport } from \"rc-util/es/Dom/styleChecker\";\nexport var canUseDocElement = function canUseDocElement() {\n  return canUseDom() && window.document.documentElement;\n};\nexport { isStyleSupport };\nvar flexGapSupported;\nexport var detectFlexGapSupported = function detectFlexGapSupported() {\n  if (!canUseDocElement()) {\n    return false;\n  }\n  if (flexGapSupported !== undefined) {\n    return flexGapSupported;\n  }\n  // create flex container with row-gap set\n  var flex = document.createElement('div');\n  flex.style.display = 'flex';\n  flex.style.flexDirection = 'column';\n  flex.style.rowGap = '1px';\n  // create two, elements inside it\n  flex.appendChild(document.createElement('div'));\n  flex.appendChild(document.createElement('div'));\n  // append to the DOM (needed to obtain scrollHeight)\n  document.body.appendChild(flex);\n  flexGapSupported = flex.scrollHeight === 1; // flex container should be 1px high from the row-gap\n  document.body.removeChild(flex);\n  return flexGapSupported;\n};","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\nimport CloseOutlined from \"@ant-design/icons/es/icons/CloseOutlined\";\nimport classNames from 'classnames';\nimport Dialog from 'rc-dialog';\nimport * as React from 'react';\nimport Button from '../button';\nimport { convertLegacyProps } from '../button/button';\nimport { ConfigContext } from '../config-provider';\nimport { NoFormStyle } from '../form/context';\nimport LocaleReceiver from '../locale-provider/LocaleReceiver';\nimport { NoCompactStyle } from '../space/Compact';\nimport { getTransitionName } from '../_util/motion';\nimport { canUseDocElement } from '../_util/styleChecker';\nimport warning from '../_util/warning';\nimport { getConfirmLocale } from './locale';\nvar mousePosition;\n// ref: https://github.com/ant-design/ant-design/issues/15795\nvar getClickPosition = function getClickPosition(e) {\n  mousePosition = {\n    x: e.pageX,\n    y: e.pageY\n  };\n  // 100ms 内发生过点击事件，则从点击位置动画展示\n  // 否则直接 zoom 展示\n  // 这样可以兼容非点击方式展开\n  setTimeout(function () {\n    mousePosition = null;\n  }, 100);\n};\n// 只有点击事件支持从鼠标位置动画展开\nif (canUseDocElement()) {\n  document.documentElement.addEventListener('click', getClickPosition, true);\n}\nvar Modal = function Modal(props) {\n  var _classNames;\n  var _a;\n  var _React$useContext = React.useContext(ConfigContext),\n    getContextPopupContainer = _React$useContext.getPopupContainer,\n    getPrefixCls = _React$useContext.getPrefixCls,\n    direction = _React$useContext.direction;\n  var handleCancel = function handleCancel(e) {\n    var onCancel = props.onCancel;\n    onCancel === null || onCancel === void 0 ? void 0 : onCancel(e);\n  };\n  var handleOk = function handleOk(e) {\n    var onOk = props.onOk;\n    onOk === null || onOk === void 0 ? void 0 : onOk(e);\n  };\n  process.env.NODE_ENV !== \"production\" ? warning(!('visible' in props), 'Modal', \"`visible` will be removed in next major version, please use `open` instead.\") : void 0;\n  var customizePrefixCls = props.prefixCls,\n    footer = props.footer,\n    visible = props.visible,\n    _props$open = props.open,\n    open = _props$open === void 0 ? false : _props$open,\n    wrapClassName = props.wrapClassName,\n    centered = props.centered,\n    getContainer = props.getContainer,\n    closeIcon = props.closeIcon,\n    _props$focusTriggerAf = props.focusTriggerAfterClose,\n    focusTriggerAfterClose = _props$focusTriggerAf === void 0 ? true : _props$focusTriggerAf,\n    _props$width = props.width,\n    width = _props$width === void 0 ? 520 : _props$width,\n    restProps = __rest(props, [\"prefixCls\", \"footer\", \"visible\", \"open\", \"wrapClassName\", \"centered\", \"getContainer\", \"closeIcon\", \"focusTriggerAfterClose\", \"width\"]);\n  var prefixCls = getPrefixCls('modal', customizePrefixCls);\n  var rootPrefixCls = getPrefixCls();\n  var defaultFooter = /*#__PURE__*/React.createElement(LocaleReceiver, {\n    componentName: \"Modal\",\n    defaultLocale: getConfirmLocale()\n  }, function (contextLocale) {\n    var okText = props.okText,\n      _props$okType = props.okType,\n      okType = _props$okType === void 0 ? 'primary' : _props$okType,\n      cancelText = props.cancelText,\n      _props$confirmLoading = props.confirmLoading,\n      confirmLoading = _props$confirmLoading === void 0 ? false : _props$confirmLoading;\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Button, _extends({\n      onClick: handleCancel\n    }, props.cancelButtonProps), cancelText || contextLocale.cancelText), /*#__PURE__*/React.createElement(Button, _extends({}, convertLegacyProps(okType), {\n      loading: confirmLoading,\n      onClick: handleOk\n    }, props.okButtonProps), okText !== null && okText !== void 0 ? okText : contextLocale.okText));\n  });\n  var closeIconToRender = /*#__PURE__*/React.createElement(\"span\", {\n    className: \"\".concat(prefixCls, \"-close-x\")\n  }, closeIcon || /*#__PURE__*/React.createElement(CloseOutlined, {\n    className: \"\".concat(prefixCls, \"-close-icon\")\n  }));\n  var wrapClassNameExtended = classNames(wrapClassName, (_classNames = {}, _defineProperty(_classNames, \"\".concat(prefixCls, \"-centered\"), !!centered), _defineProperty(_classNames, \"\".concat(prefixCls, \"-wrap-rtl\"), direction === 'rtl'), _classNames));\n  return /*#__PURE__*/React.createElement(NoCompactStyle, null, /*#__PURE__*/React.createElement(NoFormStyle, {\n    status: true,\n    override: true\n  }, /*#__PURE__*/React.createElement(Dialog, _extends({\n    width: width\n  }, restProps, {\n    getContainer: getContainer === undefined ? getContextPopupContainer : getContainer,\n    prefixCls: prefixCls,\n    wrapClassName: wrapClassNameExtended,\n    footer: footer === undefined ? defaultFooter : footer,\n    visible: open || visible,\n    mousePosition: (_a = restProps.mousePosition) !== null && _a !== void 0 ? _a : mousePosition,\n    onClose: handleCancel,\n    closeIcon: closeIconToRender,\n    focusTriggerAfterClose: focusTriggerAfterClose,\n    transitionName: getTransitionName(rootPrefixCls, 'zoom', props.transitionName),\n    maskTransitionName: getTransitionName(rootPrefixCls, 'fade', props.maskTransitionName)\n  }))));\n};\nexport default Modal;","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport classNames from 'classnames';\nimport * as React from 'react';\nimport ConfigProvider from '../config-provider';\nimport ActionButton from '../_util/ActionButton';\nimport { getTransitionName } from '../_util/motion';\nimport warning from '../_util/warning';\nimport Dialog from './Modal';\nvar ConfirmDialog = function ConfirmDialog(props) {\n  var icon = props.icon,\n    onCancel = props.onCancel,\n    onOk = props.onOk,\n    close = props.close,\n    zIndex = props.zIndex,\n    afterClose = props.afterClose,\n    visible = props.visible,\n    open = props.open,\n    keyboard = props.keyboard,\n    centered = props.centered,\n    getContainer = props.getContainer,\n    maskStyle = props.maskStyle,\n    okText = props.okText,\n    okButtonProps = props.okButtonProps,\n    cancelText = props.cancelText,\n    cancelButtonProps = props.cancelButtonProps,\n    direction = props.direction,\n    prefixCls = props.prefixCls,\n    wrapClassName = props.wrapClassName,\n    rootPrefixCls = props.rootPrefixCls,\n    iconPrefixCls = props.iconPrefixCls,\n    bodyStyle = props.bodyStyle,\n    _props$closable = props.closable,\n    closable = _props$closable === void 0 ? false : _props$closable,\n    closeIcon = props.closeIcon,\n    modalRender = props.modalRender,\n    focusTriggerAfterClose = props.focusTriggerAfterClose;\n  if (process.env.NODE_ENV !== 'production') {\n    process.env.NODE_ENV !== \"production\" ? warning(!(typeof icon === 'string' && icon.length > 2), 'Modal', \"`icon` is using ReactNode instead of string naming in v4. Please check `\".concat(icon, \"` at https://ant.design/components/icon\")) : void 0;\n    process.env.NODE_ENV !== \"production\" ? warning(visible === undefined, 'Modal', \"`visible` is deprecated, please use `open` instead.\") : void 0;\n  }\n  // 支持传入{ icon: null }来隐藏`Modal.confirm`默认的Icon\n  var okType = props.okType || 'primary';\n  var contentPrefixCls = \"\".concat(prefixCls, \"-confirm\");\n  // 默认为 true，保持向下兼容\n  var okCancel = 'okCancel' in props ? props.okCancel : true;\n  var width = props.width || 416;\n  var style = props.style || {};\n  var mask = props.mask === undefined ? true : props.mask;\n  // 默认为 false，保持旧版默认行为\n  var maskClosable = props.maskClosable === undefined ? false : props.maskClosable;\n  var autoFocusButton = props.autoFocusButton === null ? false : props.autoFocusButton || 'ok';\n  var classString = classNames(contentPrefixCls, \"\".concat(contentPrefixCls, \"-\").concat(props.type), _defineProperty({}, \"\".concat(contentPrefixCls, \"-rtl\"), direction === 'rtl'), props.className);\n  var cancelButton = okCancel && /*#__PURE__*/React.createElement(ActionButton, {\n    actionFn: onCancel,\n    close: close,\n    autoFocus: autoFocusButton === 'cancel',\n    buttonProps: cancelButtonProps,\n    prefixCls: \"\".concat(rootPrefixCls, \"-btn\")\n  }, cancelText);\n  return /*#__PURE__*/React.createElement(ConfigProvider, {\n    prefixCls: rootPrefixCls,\n    iconPrefixCls: iconPrefixCls,\n    direction: direction\n  }, /*#__PURE__*/React.createElement(Dialog, {\n    prefixCls: prefixCls,\n    className: classString,\n    wrapClassName: classNames(_defineProperty({}, \"\".concat(contentPrefixCls, \"-centered\"), !!props.centered), wrapClassName),\n    onCancel: function onCancel() {\n      return close === null || close === void 0 ? void 0 : close({\n        triggerCancel: true\n      });\n    },\n    open: open || visible,\n    title: \"\",\n    footer: \"\",\n    transitionName: getTransitionName(rootPrefixCls, 'zoom', props.transitionName),\n    maskTransitionName: getTransitionName(rootPrefixCls, 'fade', props.maskTransitionName),\n    mask: mask,\n    maskClosable: maskClosable,\n    maskStyle: maskStyle,\n    style: style,\n    bodyStyle: bodyStyle,\n    width: width,\n    zIndex: zIndex,\n    afterClose: afterClose,\n    keyboard: keyboard,\n    centered: centered,\n    getContainer: getContainer,\n    closable: closable,\n    closeIcon: closeIcon,\n    modalRender: modalRender,\n    focusTriggerAfterClose: focusTriggerAfterClose\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\".concat(contentPrefixCls, \"-body-wrapper\")\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\".concat(contentPrefixCls, \"-body\")\n  }, icon, props.title === undefined ? null : /*#__PURE__*/React.createElement(\"span\", {\n    className: \"\".concat(contentPrefixCls, \"-title\")\n  }, props.title), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\".concat(contentPrefixCls, \"-content\")\n  }, props.content)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\".concat(contentPrefixCls, \"-btns\")\n  }, cancelButton, /*#__PURE__*/React.createElement(ActionButton, {\n    type: okType,\n    actionFn: onOk,\n    close: close,\n    autoFocus: autoFocusButton === 'ok',\n    buttonProps: okButtonProps,\n    prefixCls: \"\".concat(rootPrefixCls, \"-btn\")\n  }, okText)))));\n};\nexport default ConfirmDialog;","var destroyFns = [];\nexport default destroyFns;","import _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\nimport CheckCircleOutlined from \"@ant-design/icons/es/icons/CheckCircleOutlined\";\nimport CloseCircleOutlined from \"@ant-design/icons/es/icons/CloseCircleOutlined\";\nimport ExclamationCircleOutlined from \"@ant-design/icons/es/icons/ExclamationCircleOutlined\";\nimport InfoCircleOutlined from \"@ant-design/icons/es/icons/InfoCircleOutlined\";\nimport { render as reactRender, unmount as reactUnmount } from \"rc-util/es/React/render\";\nimport * as React from 'react';\nimport { globalConfig } from '../config-provider';\nimport warning from '../_util/warning';\nimport ConfirmDialog from './ConfirmDialog';\nimport destroyFns from './destroyFns';\nimport { getConfirmLocale } from './locale';\nvar defaultRootPrefixCls = '';\nfunction getRootPrefixCls() {\n  return defaultRootPrefixCls;\n}\nexport default function confirm(config) {\n  var container = document.createDocumentFragment();\n  // eslint-disable-next-line @typescript-eslint/no-use-before-define\n  var currentConfig = _extends(_extends({}, config), {\n    close: close,\n    open: true\n  });\n  var timeoutId;\n  function destroy() {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    var triggerCancel = args.some(function (param) {\n      return param && param.triggerCancel;\n    });\n    if (config.onCancel && triggerCancel) {\n      config.onCancel.apply(config, [function () {}].concat(_toConsumableArray(args.slice(1))));\n    }\n    for (var i = 0; i < destroyFns.length; i++) {\n      var fn = destroyFns[i];\n      // eslint-disable-next-line @typescript-eslint/no-use-before-define\n      if (fn === close) {\n        destroyFns.splice(i, 1);\n        break;\n      }\n    }\n    reactUnmount(container);\n  }\n  function render(_a) {\n    var okText = _a.okText,\n      cancelText = _a.cancelText,\n      customizePrefixCls = _a.prefixCls,\n      props = __rest(_a, [\"okText\", \"cancelText\", \"prefixCls\"]);\n    clearTimeout(timeoutId);\n    /**\n     * https://github.com/ant-design/ant-design/issues/23623\n     *\n     * Sync render blocks React event. Let's make this async.\n     */\n    timeoutId = setTimeout(function () {\n      var runtimeLocale = getConfirmLocale();\n      var _globalConfig = globalConfig(),\n        getPrefixCls = _globalConfig.getPrefixCls,\n        getIconPrefixCls = _globalConfig.getIconPrefixCls;\n      // because Modal.config \b set rootPrefixCls, which is different from other components\n      var rootPrefixCls = getPrefixCls(undefined, getRootPrefixCls());\n      var prefixCls = customizePrefixCls || \"\".concat(rootPrefixCls, \"-modal\");\n      var iconPrefixCls = getIconPrefixCls();\n      reactRender( /*#__PURE__*/React.createElement(ConfirmDialog, _extends({}, props, {\n        prefixCls: prefixCls,\n        rootPrefixCls: rootPrefixCls,\n        iconPrefixCls: iconPrefixCls,\n        okText: okText || (props.okCancel ? runtimeLocale.okText : runtimeLocale.justOkText),\n        cancelText: cancelText || runtimeLocale.cancelText\n      })), container);\n    });\n  }\n  function close() {\n    var _this = this;\n    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n    currentConfig = _extends(_extends({}, currentConfig), {\n      open: false,\n      afterClose: function afterClose() {\n        if (typeof config.afterClose === 'function') {\n          config.afterClose();\n        }\n        destroy.apply(_this, args);\n      }\n    });\n    // Legacy support\n    if (currentConfig.visible) {\n      delete currentConfig.visible;\n    }\n    render(currentConfig);\n  }\n  function update(configUpdate) {\n    if (typeof configUpdate === 'function') {\n      currentConfig = configUpdate(currentConfig);\n    } else {\n      currentConfig = _extends(_extends({}, currentConfig), configUpdate);\n    }\n    render(currentConfig);\n  }\n  render(currentConfig);\n  destroyFns.push(close);\n  return {\n    destroy: close,\n    update: update\n  };\n}\nexport function withWarn(props) {\n  return _extends(_extends({\n    icon: /*#__PURE__*/React.createElement(ExclamationCircleOutlined, null),\n    okCancel: false\n  }, props), {\n    type: 'warning'\n  });\n}\nexport function withInfo(props) {\n  return _extends(_extends({\n    icon: /*#__PURE__*/React.createElement(InfoCircleOutlined, null),\n    okCancel: false\n  }, props), {\n    type: 'info'\n  });\n}\nexport function withSuccess(props) {\n  return _extends(_extends({\n    icon: /*#__PURE__*/React.createElement(CheckCircleOutlined, null),\n    okCancel: false\n  }, props), {\n    type: 'success'\n  });\n}\nexport function withError(props) {\n  return _extends(_extends({\n    icon: /*#__PURE__*/React.createElement(CloseCircleOutlined, null),\n    okCancel: false\n  }, props), {\n    type: 'error'\n  });\n}\nexport function withConfirm(props) {\n  return _extends(_extends({\n    icon: /*#__PURE__*/React.createElement(ExclamationCircleOutlined, null),\n    okCancel: true\n  }, props), {\n    type: 'confirm'\n  });\n}\nexport function modalGlobalConfig(_ref) {\n  var rootPrefixCls = _ref.rootPrefixCls;\n  process.env.NODE_ENV !== \"production\" ? warning(false, 'Modal', 'Modal.config is deprecated. Please use ConfigProvider.config instead.') : void 0;\n  defaultRootPrefixCls = rootPrefixCls;\n}","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport * as React from 'react';\nimport { ConfigContext } from '../../config-provider';\nimport LocaleReceiver from '../../locale-provider/LocaleReceiver';\nimport defaultLocale from '../../locale/default';\nimport ConfirmDialog from '../ConfirmDialog';\nvar HookModal = function HookModal(_ref, ref) {\n  var afterClose = _ref.afterClose,\n    config = _ref.config;\n  var _React$useState = React.useState(true),\n    _React$useState2 = _slicedToArray(_React$useState, 2),\n    open = _React$useState2[0],\n    setOpen = _React$useState2[1];\n  var _React$useState3 = React.useState(config),\n    _React$useState4 = _slicedToArray(_React$useState3, 2),\n    innerConfig = _React$useState4[0],\n    setInnerConfig = _React$useState4[1];\n  var _React$useContext = React.useContext(ConfigContext),\n    direction = _React$useContext.direction,\n    getPrefixCls = _React$useContext.getPrefixCls;\n  var prefixCls = getPrefixCls('modal');\n  var rootPrefixCls = getPrefixCls();\n  var close = function close() {\n    setOpen(false);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    var triggerCancel = args.some(function (param) {\n      return param && param.triggerCancel;\n    });\n    if (innerConfig.onCancel && triggerCancel) {\n      innerConfig.onCancel.apply(innerConfig, [function () {}].concat(_toConsumableArray(args.slice(1))));\n    }\n  };\n  React.useImperativeHandle(ref, function () {\n    return {\n      destroy: close,\n      update: function update(newConfig) {\n        setInnerConfig(function (originConfig) {\n          return _extends(_extends({}, originConfig), newConfig);\n        });\n      }\n    };\n  });\n  return /*#__PURE__*/React.createElement(LocaleReceiver, {\n    componentName: \"Modal\",\n    defaultLocale: defaultLocale.Modal\n  }, function (contextLocale) {\n    return /*#__PURE__*/React.createElement(ConfirmDialog, _extends({\n      prefixCls: prefixCls,\n      rootPrefixCls: rootPrefixCls\n    }, innerConfig, {\n      close: close,\n      open: open,\n      afterClose: afterClose,\n      okText: innerConfig.okText || (innerConfig.okCancel ? contextLocale.okText : contextLocale.justOkText),\n      direction: direction,\n      cancelText: innerConfig.cancelText || contextLocale.cancelText\n    }));\n  });\n};\nexport default /*#__PURE__*/React.forwardRef(HookModal);","import _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport * as React from 'react';\nimport usePatchElement from '../../_util/hooks/usePatchElement';\nimport { withConfirm, withError, withInfo, withSuccess, withWarn } from '../confirm';\nimport HookModal from './HookModal';\nvar uuid = 0;\nvar ElementsHolder = /*#__PURE__*/React.memo( /*#__PURE__*/React.forwardRef(function (_props, ref) {\n  var _usePatchElement = usePatchElement(),\n    _usePatchElement2 = _slicedToArray(_usePatchElement, 2),\n    elements = _usePatchElement2[0],\n    patchElement = _usePatchElement2[1];\n  React.useImperativeHandle(ref, function () {\n    return {\n      patchElement: patchElement\n    };\n  }, []);\n  // eslint-disable-next-line react/jsx-no-useless-fragment\n  return /*#__PURE__*/React.createElement(React.Fragment, null, elements);\n}));\nexport default function useModal() {\n  var holderRef = React.useRef(null);\n  // ========================== Effect ==========================\n  var _React$useState = React.useState([]),\n    _React$useState2 = _slicedToArray(_React$useState, 2),\n    actionQueue = _React$useState2[0],\n    setActionQueue = _React$useState2[1];\n  React.useEffect(function () {\n    if (actionQueue.length) {\n      var cloneQueue = _toConsumableArray(actionQueue);\n      cloneQueue.forEach(function (action) {\n        action();\n      });\n      setActionQueue([]);\n    }\n  }, [actionQueue]);\n  // =========================== Hook ===========================\n  var getConfirmFunc = React.useCallback(function (withFunc) {\n    return function hookConfirm(config) {\n      var _a;\n      uuid += 1;\n      var modalRef = /*#__PURE__*/React.createRef();\n      var closeFunc;\n      var modal = /*#__PURE__*/React.createElement(HookModal, {\n        key: \"modal-\".concat(uuid),\n        config: withFunc(config),\n        ref: modalRef,\n        afterClose: function afterClose() {\n          closeFunc === null || closeFunc === void 0 ? void 0 : closeFunc();\n        }\n      });\n      closeFunc = (_a = holderRef.current) === null || _a === void 0 ? void 0 : _a.patchElement(modal);\n      return {\n        destroy: function destroy() {\n          function destroyAction() {\n            var _a;\n            (_a = modalRef.current) === null || _a === void 0 ? void 0 : _a.destroy();\n          }\n          if (modalRef.current) {\n            destroyAction();\n          } else {\n            setActionQueue(function (prev) {\n              return [].concat(_toConsumableArray(prev), [destroyAction]);\n            });\n          }\n        },\n        update: function update(newConfig) {\n          function updateAction() {\n            var _a;\n            (_a = modalRef.current) === null || _a === void 0 ? void 0 : _a.update(newConfig);\n          }\n          if (modalRef.current) {\n            updateAction();\n          } else {\n            setActionQueue(function (prev) {\n              return [].concat(_toConsumableArray(prev), [updateAction]);\n            });\n          }\n        }\n      };\n    };\n  }, []);\n  var fns = React.useMemo(function () {\n    return {\n      info: getConfirmFunc(withInfo),\n      success: getConfirmFunc(withSuccess),\n      error: getConfirmFunc(withError),\n      warning: getConfirmFunc(withWarn),\n      confirm: getConfirmFunc(withConfirm)\n    };\n  }, []);\n  // eslint-disable-next-line react/jsx-key\n  return [fns, /*#__PURE__*/React.createElement(ElementsHolder, {\n    ref: holderRef\n  })];\n}","import _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport * as React from 'react';\nexport default function usePatchElement() {\n  var _React$useState = React.useState([]),\n    _React$useState2 = _slicedToArray(_React$useState, 2),\n    elements = _React$useState2[0],\n    setElements = _React$useState2[1];\n  var patchElement = React.useCallback(function (element) {\n    // append a new element to elements (and create a new ref)\n    setElements(function (originElements) {\n      return [].concat(_toConsumableArray(originElements), [element]);\n    });\n    // return a function that removes the new element out of elements (and create a new ref)\n    // it works a little like useEffect\n    return function () {\n      setElements(function (originElements) {\n        return originElements.filter(function (ele) {\n          return ele !== element;\n        });\n      });\n    };\n  }, []);\n  return [elements, patchElement];\n}","import confirm, { modalGlobalConfig, withConfirm, withError, withInfo, withSuccess, withWarn } from './confirm';\nimport destroyFns from './destroyFns';\nimport OriginModal from './Modal';\nimport useModal from './useModal';\nfunction modalWarn(props) {\n  return confirm(withWarn(props));\n}\nvar Modal = OriginModal;\nModal.useModal = useModal;\nModal.info = function infoFn(props) {\n  return confirm(withInfo(props));\n};\nModal.success = function successFn(props) {\n  return confirm(withSuccess(props));\n};\nModal.error = function errorFn(props) {\n  return confirm(withError(props));\n};\nModal.warning = modalWarn;\nModal.warn = modalWarn;\nModal.confirm = function confirmFn(props) {\n  return confirm(withConfirm(props));\n};\nModal.destroyAll = function destroyAllFn() {\n  while (destroyFns.length) {\n    var close = destroyFns.pop();\n    if (close) {\n      close();\n    }\n  }\n};\nModal.config = modalGlobalConfig;\nexport default Modal;","// This icon file is generated automatically.\nvar EllipsisOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M176 511a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0z\" } }] }, \"name\": \"ellipsis\", \"theme\": \"outlined\" };\nexport default EllipsisOutlined;\n","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport EllipsisOutlinedSvg from \"@ant-design/icons-svg/es/asn/EllipsisOutlined\";\nimport AntdIcon from '../components/AntdIcon';\nvar EllipsisOutlined = function EllipsisOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _objectSpread(_objectSpread({}, props), {}, {\n    ref: ref,\n    icon: EllipsisOutlinedSvg\n  }));\n};\nEllipsisOutlined.displayName = 'EllipsisOutlined';\nexport default /*#__PURE__*/React.forwardRef(EllipsisOutlined);","// This icon file is generated automatically.\nvar PlusOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"defs\", \"attrs\": {}, \"children\": [{ \"tag\": \"style\", \"attrs\": {} }] }, { \"tag\": \"path\", \"attrs\": { \"d\": \"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z\" } }, { \"tag\": \"path\", \"attrs\": { \"d\": \"M176 474h672q8 0 8 8v60q0 8-8 8H176q-8 0-8-8v-60q0-8 8-8z\" } }] }, \"name\": \"plus\", \"theme\": \"outlined\" };\nexport default PlusOutlined;\n","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport PlusOutlinedSvg from \"@ant-design/icons-svg/es/asn/PlusOutlined\";\nimport AntdIcon from '../components/AntdIcon';\nvar PlusOutlined = function PlusOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _objectSpread(_objectSpread({}, props), {}, {\n    ref: ref,\n    icon: PlusOutlinedSvg\n  }));\n};\nPlusOutlined.displayName = 'PlusOutlined';\nexport default /*#__PURE__*/React.forwardRef(PlusOutlined);","import { createContext } from 'react';\nexport default /*#__PURE__*/createContext(null);","import * as React from 'react';\nimport classNames from 'classnames';\nvar TabPane = /*#__PURE__*/React.forwardRef(function (_ref, ref) {\n  var prefixCls = _ref.prefixCls,\n      className = _ref.className,\n      style = _ref.style,\n      id = _ref.id,\n      active = _ref.active,\n      tabKey = _ref.tabKey,\n      children = _ref.children;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    id: id && \"\".concat(id, \"-panel-\").concat(tabKey),\n    role: \"tabpanel\",\n    tabIndex: active ? 0 : -1,\n    \"aria-labelledby\": id && \"\".concat(id, \"-tab-\").concat(tabKey),\n    \"aria-hidden\": !active,\n    style: style,\n    className: classNames(prefixCls, active && \"\".concat(prefixCls, \"-active\"), className),\n    ref: ref\n  }, children);\n});\n\nif (process.env.NODE_ENV !== 'production') {\n  TabPane.displayName = 'TabPane';\n}\n\nexport default TabPane;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nvar _excluded = [\"key\", \"forceRender\", \"style\", \"className\"];\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport CSSMotion from 'rc-motion';\nimport TabContext from \"../TabContext\";\nimport TabPane from \"./TabPane\";\nexport default function TabPanelList(_ref) {\n  var id = _ref.id,\n      activeKey = _ref.activeKey,\n      animated = _ref.animated,\n      tabPosition = _ref.tabPosition,\n      destroyInactiveTabPane = _ref.destroyInactiveTabPane;\n\n  var _React$useContext = React.useContext(TabContext),\n      prefixCls = _React$useContext.prefixCls,\n      tabs = _React$useContext.tabs;\n\n  var tabPaneAnimated = animated.tabPane;\n  var tabPanePrefixCls = \"\".concat(prefixCls, \"-tabpane\");\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: classNames(\"\".concat(prefixCls, \"-content-holder\"))\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: classNames(\"\".concat(prefixCls, \"-content\"), \"\".concat(prefixCls, \"-content-\").concat(tabPosition), _defineProperty({}, \"\".concat(prefixCls, \"-content-animated\"), tabPaneAnimated))\n  }, tabs.map(function (_ref2) {\n    var key = _ref2.key,\n        forceRender = _ref2.forceRender,\n        paneStyle = _ref2.style,\n        paneClassName = _ref2.className,\n        restTabProps = _objectWithoutProperties(_ref2, _excluded);\n\n    var active = key === activeKey;\n    return /*#__PURE__*/React.createElement(CSSMotion, _extends({\n      key: key,\n      visible: active,\n      forceRender: forceRender,\n      removeOnLeave: !!destroyInactiveTabPane,\n      leavedClassName: \"\".concat(tabPanePrefixCls, \"-hidden\")\n    }, animated.tabPaneMotion), function (_ref3, ref) {\n      var motionStyle = _ref3.style,\n          motionClassName = _ref3.className;\n      return /*#__PURE__*/React.createElement(TabPane, _extends({}, restTabProps, {\n        prefixCls: tabPanePrefixCls,\n        id: id,\n        tabKey: key,\n        animated: tabPaneAnimated,\n        active: active,\n        style: _objectSpread(_objectSpread({}, paneStyle), motionStyle),\n        className: classNames(paneClassName, motionClassName),\n        ref: ref\n      }));\n    });\n  })));\n}","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport { useMemo } from 'react';\nvar DEFAULT_SIZE = {\n  width: 0,\n  height: 0,\n  left: 0,\n  top: 0\n};\nexport default function useOffsets(tabs, tabSizes, holderScrollWidth) {\n  return useMemo(function () {\n    var _tabs$;\n\n    var map = new Map();\n    var lastOffset = tabSizes.get((_tabs$ = tabs[0]) === null || _tabs$ === void 0 ? void 0 : _tabs$.key) || DEFAULT_SIZE;\n    var rightOffset = lastOffset.left + lastOffset.width;\n\n    for (var i = 0; i < tabs.length; i += 1) {\n      var key = tabs[i].key;\n      var data = tabSizes.get(key); // Reuse last one when not exist yet\n\n      if (!data) {\n        var _tabs;\n\n        data = tabSizes.get((_tabs = tabs[i - 1]) === null || _tabs === void 0 ? void 0 : _tabs.key) || DEFAULT_SIZE;\n      }\n\n      var entity = map.get(key) || _objectSpread({}, data); // Right\n\n\n      entity.right = rightOffset - entity.left - entity.width; // Update entity\n\n      map.set(key, entity);\n    }\n\n    return map;\n  }, [tabs.map(function (tab) {\n    return tab.key;\n  }).join('_'), tabSizes, holderScrollWidth]);\n}","import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport { useRef, useState, useEffect } from 'react';\nimport raf from \"rc-util/es/raf\";\nexport default function useRaf(callback) {\n  var rafRef = useRef();\n  var removedRef = useRef(false);\n\n  function trigger() {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    if (!removedRef.current) {\n      raf.cancel(rafRef.current);\n      rafRef.current = raf(function () {\n        callback.apply(void 0, args);\n      });\n    }\n  }\n\n  useEffect(function () {\n    //be compatible with react 18 StrictMode in dev\n    removedRef.current = false;\n    return function () {\n      removedRef.current = true;\n      raf.cancel(rafRef.current);\n    };\n  }, []);\n  return trigger;\n}\nexport function useRafState(defaultState) {\n  var batchRef = useRef([]);\n\n  var _useState = useState({}),\n      _useState2 = _slicedToArray(_useState, 2),\n      forceUpdate = _useState2[1];\n\n  var state = useRef(typeof defaultState === 'function' ? defaultState() : defaultState);\n  var flushUpdate = useRaf(function () {\n    var current = state.current;\n    batchRef.current.forEach(function (callback) {\n      current = callback(current);\n    });\n    batchRef.current = [];\n    state.current = current;\n    forceUpdate({});\n  });\n\n  function updater(callback) {\n    batchRef.current.push(callback);\n    flushUpdate();\n  }\n\n  return [state.current, updater];\n}","import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport * as React from 'react';\nexport default function useSyncState(defaultState, onChange) {\n  var stateRef = React.useRef(defaultState);\n\n  var _React$useState = React.useState({}),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      forceUpdate = _React$useState2[1];\n\n  function setState(updater) {\n    var newValue = typeof updater === 'function' ? updater(stateRef.current) : updater;\n\n    if (newValue !== stateRef.current) {\n      onChange(newValue, stateRef.current);\n    }\n\n    stateRef.current = newValue;\n    forceUpdate({});\n  }\n\n  return [stateRef.current, setState];\n}","import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport * as React from 'react';\nimport { useState, useRef } from 'react';\nvar MIN_SWIPE_DISTANCE = 0.1;\nvar STOP_SWIPE_DISTANCE = 0.01;\nvar REFRESH_INTERVAL = 20;\nvar SPEED_OFF_MULTIPLE = Math.pow(0.995, REFRESH_INTERVAL); // ================================= Hook =================================\n\nexport default function useTouchMove(ref, onOffset) {\n  var _useState = useState(),\n      _useState2 = _slicedToArray(_useState, 2),\n      touchPosition = _useState2[0],\n      setTouchPosition = _useState2[1];\n\n  var _useState3 = useState(0),\n      _useState4 = _slicedToArray(_useState3, 2),\n      lastTimestamp = _useState4[0],\n      setLastTimestamp = _useState4[1];\n\n  var _useState5 = useState(0),\n      _useState6 = _slicedToArray(_useState5, 2),\n      lastTimeDiff = _useState6[0],\n      setLastTimeDiff = _useState6[1];\n\n  var _useState7 = useState(),\n      _useState8 = _slicedToArray(_useState7, 2),\n      lastOffset = _useState8[0],\n      setLastOffset = _useState8[1];\n\n  var motionRef = useRef(); // ========================= Events =========================\n  // >>> Touch events\n\n  function onTouchStart(e) {\n    var _e$touches$ = e.touches[0],\n        screenX = _e$touches$.screenX,\n        screenY = _e$touches$.screenY;\n    setTouchPosition({\n      x: screenX,\n      y: screenY\n    });\n    window.clearInterval(motionRef.current);\n  }\n\n  function onTouchMove(e) {\n    if (!touchPosition) return;\n    e.preventDefault();\n    var _e$touches$2 = e.touches[0],\n        screenX = _e$touches$2.screenX,\n        screenY = _e$touches$2.screenY;\n    setTouchPosition({\n      x: screenX,\n      y: screenY\n    });\n    var offsetX = screenX - touchPosition.x;\n    var offsetY = screenY - touchPosition.y;\n    onOffset(offsetX, offsetY);\n    var now = Date.now();\n    setLastTimestamp(now);\n    setLastTimeDiff(now - lastTimestamp);\n    setLastOffset({\n      x: offsetX,\n      y: offsetY\n    });\n  }\n\n  function onTouchEnd() {\n    if (!touchPosition) return;\n    setTouchPosition(null);\n    setLastOffset(null); // Swipe if needed\n\n    if (lastOffset) {\n      var distanceX = lastOffset.x / lastTimeDiff;\n      var distanceY = lastOffset.y / lastTimeDiff;\n      var absX = Math.abs(distanceX);\n      var absY = Math.abs(distanceY); // Skip swipe if low distance\n\n      if (Math.max(absX, absY) < MIN_SWIPE_DISTANCE) return;\n      var currentX = distanceX;\n      var currentY = distanceY;\n      motionRef.current = window.setInterval(function () {\n        if (Math.abs(currentX) < STOP_SWIPE_DISTANCE && Math.abs(currentY) < STOP_SWIPE_DISTANCE) {\n          window.clearInterval(motionRef.current);\n          return;\n        }\n\n        currentX *= SPEED_OFF_MULTIPLE;\n        currentY *= SPEED_OFF_MULTIPLE;\n        onOffset(currentX * REFRESH_INTERVAL, currentY * REFRESH_INTERVAL);\n      }, REFRESH_INTERVAL);\n    }\n  } // >>> Wheel event\n\n\n  var lastWheelDirectionRef = useRef();\n\n  function onWheel(e) {\n    var deltaX = e.deltaX,\n        deltaY = e.deltaY; // Convert both to x & y since wheel only happened on PC\n\n    var mixed = 0;\n    var absX = Math.abs(deltaX);\n    var absY = Math.abs(deltaY);\n\n    if (absX === absY) {\n      mixed = lastWheelDirectionRef.current === 'x' ? deltaX : deltaY;\n    } else if (absX > absY) {\n      mixed = deltaX;\n      lastWheelDirectionRef.current = 'x';\n    } else {\n      mixed = deltaY;\n      lastWheelDirectionRef.current = 'y';\n    }\n\n    if (onOffset(-mixed, -mixed)) {\n      e.preventDefault();\n    }\n  } // ========================= Effect =========================\n\n\n  var touchEventsRef = useRef(null);\n  touchEventsRef.current = {\n    onTouchStart: onTouchStart,\n    onTouchMove: onTouchMove,\n    onTouchEnd: onTouchEnd,\n    onWheel: onWheel\n  };\n  React.useEffect(function () {\n    function onProxyTouchStart(e) {\n      touchEventsRef.current.onTouchStart(e);\n    }\n\n    function onProxyTouchMove(e) {\n      touchEventsRef.current.onTouchMove(e);\n    }\n\n    function onProxyTouchEnd(e) {\n      touchEventsRef.current.onTouchEnd(e);\n    }\n\n    function onProxyWheel(e) {\n      touchEventsRef.current.onWheel(e);\n    }\n\n    document.addEventListener('touchmove', onProxyTouchMove, {\n      passive: false\n    });\n    document.addEventListener('touchend', onProxyTouchEnd, {\n      passive: false\n    }); // No need to clean up since element removed\n\n    ref.current.addEventListener('touchstart', onProxyTouchStart, {\n      passive: false\n    });\n    ref.current.addEventListener('wheel', onProxyWheel);\n    return function () {\n      document.removeEventListener('touchmove', onProxyTouchMove);\n      document.removeEventListener('touchend', onProxyTouchEnd);\n    };\n  }, []);\n}","import { useMemo } from 'react';\nvar DEFAULT_SIZE = {\n  width: 0,\n  height: 0,\n  left: 0,\n  top: 0,\n  right: 0\n};\nexport default function useVisibleRange(tabOffsets, visibleTabContentValue, transform, tabContentSizeValue, addNodeSizeValue, operationNodeSizeValue, _ref) {\n  var tabs = _ref.tabs,\n      tabPosition = _ref.tabPosition,\n      rtl = _ref.rtl;\n  var charUnit;\n  var position;\n  var transformSize;\n\n  if (['top', 'bottom'].includes(tabPosition)) {\n    charUnit = 'width';\n    position = rtl ? 'right' : 'left';\n    transformSize = Math.abs(transform);\n  } else {\n    charUnit = 'height';\n    position = 'top';\n    transformSize = -transform;\n  }\n\n  return useMemo(function () {\n    if (!tabs.length) {\n      return [0, 0];\n    }\n\n    var len = tabs.length;\n    var endIndex = len;\n\n    for (var i = 0; i < len; i += 1) {\n      var offset = tabOffsets.get(tabs[i].key) || DEFAULT_SIZE;\n\n      if (offset[position] + offset[charUnit] > transformSize + visibleTabContentValue) {\n        endIndex = i - 1;\n        break;\n      }\n    }\n\n    var startIndex = 0;\n\n    for (var _i = len - 1; _i >= 0; _i -= 1) {\n      var _offset = tabOffsets.get(tabs[_i].key) || DEFAULT_SIZE;\n\n      if (_offset[position] < transformSize) {\n        startIndex = _i + 1;\n        break;\n      }\n    }\n\n    return [startIndex, endIndex];\n  }, [tabOffsets, visibleTabContentValue, tabContentSizeValue, addNodeSizeValue, operationNodeSizeValue, transformSize, tabPosition, tabs.map(function (tab) {\n    return tab.key;\n  }).join('_'), rtl]);\n}","/**\n * We trade Map as deps which may change with same value but different ref object.\n * We should make it as hash for deps\n * */\nexport function stringify(obj) {\n  var tgt;\n\n  if (obj instanceof Map) {\n    tgt = {};\n    obj.forEach(function (v, k) {\n      tgt[k] = v;\n    });\n  } else {\n    tgt = obj;\n  }\n\n  return JSON.stringify(tgt);\n}","import * as React from 'react';\n\nfunction AddButton(_ref, ref) {\n  var prefixCls = _ref.prefixCls,\n      editable = _ref.editable,\n      locale = _ref.locale,\n      style = _ref.style;\n\n  if (!editable || editable.showAdd === false) {\n    return null;\n  }\n\n  return /*#__PURE__*/React.createElement(\"button\", {\n    ref: ref,\n    type: \"button\",\n    className: \"\".concat(prefixCls, \"-nav-add\"),\n    style: style,\n    \"aria-label\": (locale === null || locale === void 0 ? void 0 : locale.addAriaLabel) || 'Add tab',\n    onClick: function onClick(event) {\n      editable.onEdit('add', {\n        event: event\n      });\n    }\n  }, editable.addIcon || '+');\n}\n\nexport default /*#__PURE__*/React.forwardRef(AddButton);","import _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport * as React from 'react';\nvar ExtraContent = /*#__PURE__*/React.forwardRef(function (_ref, ref) {\n  var position = _ref.position,\n      prefixCls = _ref.prefixCls,\n      extra = _ref.extra;\n  if (!extra) return null;\n  var content; // Parse extra\n\n  var assertExtra = {};\n\n  if (_typeof(extra) === 'object' && ! /*#__PURE__*/React.isValidElement(extra)) {\n    assertExtra = extra;\n  } else {\n    assertExtra.right = extra;\n  }\n\n  if (position === 'right') {\n    content = assertExtra.right;\n  }\n\n  if (position === 'left') {\n    content = assertExtra.left;\n  }\n\n  return content ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\".concat(prefixCls, \"-extra-content\"),\n    ref: ref\n  }, content) : null;\n});\n\nif (process.env.NODE_ENV !== 'production') {\n  ExtraContent.displayName = 'ExtraContent';\n}\n\nexport default ExtraContent;","var autoAdjustOverflow = {\n  adjustX: 1,\n  adjustY: 1\n};\nvar targetOffset = [0, 0];\nvar placements = {\n  topLeft: {\n    points: ['bl', 'tl'],\n    overflow: autoAdjustOverflow,\n    offset: [0, -4],\n    targetOffset: targetOffset\n  },\n  topCenter: {\n    points: ['bc', 'tc'],\n    overflow: autoAdjustOverflow,\n    offset: [0, -4],\n    targetOffset: targetOffset\n  },\n  topRight: {\n    points: ['br', 'tr'],\n    overflow: autoAdjustOverflow,\n    offset: [0, -4],\n    targetOffset: targetOffset\n  },\n  bottomLeft: {\n    points: ['tl', 'bl'],\n    overflow: autoAdjustOverflow,\n    offset: [0, 4],\n    targetOffset: targetOffset\n  },\n  bottomCenter: {\n    points: ['tc', 'bc'],\n    overflow: autoAdjustOverflow,\n    offset: [0, 4],\n    targetOffset: targetOffset\n  },\n  bottomRight: {\n    points: ['tr', 'br'],\n    overflow: autoAdjustOverflow,\n    offset: [0, 4],\n    targetOffset: targetOffset\n  }\n};\nexport default placements;","import _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport isVisible from \"./isVisible\";\nfunction focusable(node) {\n  var includePositive = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n  if (isVisible(node)) {\n    var nodeName = node.nodeName.toLowerCase();\n    var isFocusableElement =\n    // Focusable element\n    ['input', 'select', 'textarea', 'button'].includes(nodeName) ||\n    // Editable element\n    node.isContentEditable ||\n    // Anchor with href element\n    nodeName === 'a' && !!node.getAttribute('href');\n\n    // Get tabIndex\n    var tabIndexAttr = node.getAttribute('tabindex');\n    var tabIndexNum = Number(tabIndexAttr);\n\n    // Parse as number if validate\n    var tabIndex = null;\n    if (tabIndexAttr && !Number.isNaN(tabIndexNum)) {\n      tabIndex = tabIndexNum;\n    } else if (isFocusableElement && tabIndex === null) {\n      tabIndex = 0;\n    }\n\n    // Block focusable if disabled\n    if (isFocusableElement && node.disabled) {\n      tabIndex = null;\n    }\n    return tabIndex !== null && (tabIndex >= 0 || includePositive && tabIndex < 0);\n  }\n  return false;\n}\nexport function getFocusNodeList(node) {\n  var includePositive = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n  var res = _toConsumableArray(node.querySelectorAll('*')).filter(function (child) {\n    return focusable(child, includePositive);\n  });\n  if (focusable(node, includePositive)) {\n    res.unshift(node);\n  }\n  return res;\n}\nvar lastFocusElement = null;\n\n/** @deprecated Do not use since this may failed when used in async */\nexport function saveLastFocusNode() {\n  lastFocusElement = document.activeElement;\n}\n\n/** @deprecated Do not use since this may failed when used in async */\nexport function clearLastFocusNode() {\n  lastFocusElement = null;\n}\n\n/** @deprecated Do not use since this may failed when used in async */\nexport function backLastFocusNode() {\n  if (lastFocusElement) {\n    try {\n      // 元素可能已经被移动了\n      lastFocusElement.focus();\n\n      /* eslint-disable no-empty */\n    } catch (e) {\n      // empty\n    }\n    /* eslint-enable no-empty */\n  }\n}\n\nexport function limitTabRange(node, e) {\n  if (e.keyCode === 9) {\n    var tabNodeList = getFocusNodeList(node);\n    var lastTabNode = tabNodeList[e.shiftKey ? 0 : tabNodeList.length - 1];\n    var leavingTab = lastTabNode === document.activeElement || node === document.activeElement;\n    if (leavingTab) {\n      var target = tabNodeList[e.shiftKey ? tabNodeList.length - 1 : 0];\n      target.focus();\n      e.preventDefault();\n    }\n  }\n}","import * as React from 'react';\nimport KeyCode from \"rc-util/es/KeyCode\";\nimport raf from \"rc-util/es/raf\";\nimport { getFocusNodeList } from \"rc-util/es/Dom/focus\";\nvar ESC = KeyCode.ESC,\n    TAB = KeyCode.TAB;\nexport default function useAccessibility(_ref) {\n  var visible = _ref.visible,\n      setTriggerVisible = _ref.setTriggerVisible,\n      triggerRef = _ref.triggerRef,\n      onVisibleChange = _ref.onVisibleChange,\n      autoFocus = _ref.autoFocus;\n  var focusMenuRef = React.useRef(false);\n\n  var handleCloseMenuAndReturnFocus = function handleCloseMenuAndReturnFocus() {\n    if (visible && triggerRef.current) {\n      var _triggerRef$current, _triggerRef$current$t, _triggerRef$current$t2, _triggerRef$current$t3;\n\n      (_triggerRef$current = triggerRef.current) === null || _triggerRef$current === void 0 ? void 0 : (_triggerRef$current$t = _triggerRef$current.triggerRef) === null || _triggerRef$current$t === void 0 ? void 0 : (_triggerRef$current$t2 = _triggerRef$current$t.current) === null || _triggerRef$current$t2 === void 0 ? void 0 : (_triggerRef$current$t3 = _triggerRef$current$t2.focus) === null || _triggerRef$current$t3 === void 0 ? void 0 : _triggerRef$current$t3.call(_triggerRef$current$t2);\n      setTriggerVisible(false);\n\n      if (typeof onVisibleChange === 'function') {\n        onVisibleChange(false);\n      }\n    }\n  };\n\n  var focusMenu = function focusMenu() {\n    var _triggerRef$current2, _triggerRef$current2$, _triggerRef$current2$2, _triggerRef$current2$3;\n\n    var elements = getFocusNodeList((_triggerRef$current2 = triggerRef.current) === null || _triggerRef$current2 === void 0 ? void 0 : (_triggerRef$current2$ = _triggerRef$current2.popupRef) === null || _triggerRef$current2$ === void 0 ? void 0 : (_triggerRef$current2$2 = _triggerRef$current2$.current) === null || _triggerRef$current2$2 === void 0 ? void 0 : (_triggerRef$current2$3 = _triggerRef$current2$2.getElement) === null || _triggerRef$current2$3 === void 0 ? void 0 : _triggerRef$current2$3.call(_triggerRef$current2$2));\n    var firstElement = elements[0];\n\n    if (firstElement === null || firstElement === void 0 ? void 0 : firstElement.focus) {\n      firstElement.focus();\n      focusMenuRef.current = true;\n      return true;\n    }\n\n    return false;\n  };\n\n  var handleKeyDown = function handleKeyDown(event) {\n    switch (event.keyCode) {\n      case ESC:\n        handleCloseMenuAndReturnFocus();\n        break;\n\n      case TAB:\n        {\n          var focusResult = false;\n\n          if (!focusMenuRef.current) {\n            focusResult = focusMenu();\n          }\n\n          if (focusResult) {\n            event.preventDefault();\n          } else {\n            handleCloseMenuAndReturnFocus();\n          }\n\n          break;\n        }\n    }\n  };\n\n  React.useEffect(function () {\n    if (visible) {\n      window.addEventListener('keydown', handleKeyDown);\n\n      if (autoFocus) {\n        // FIXME: hack with raf\n        raf(focusMenu, 3);\n      }\n\n      return function () {\n        window.removeEventListener('keydown', handleKeyDown);\n        focusMenuRef.current = false;\n      };\n    }\n\n    return function () {\n      focusMenuRef.current = false;\n    };\n  }, [visible]); // eslint-disable-line react-hooks/exhaustive-deps\n}","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _excluded = [\"arrow\", \"prefixCls\", \"transitionName\", \"animation\", \"align\", \"placement\", \"placements\", \"getPopupContainer\", \"showAction\", \"hideAction\", \"overlayClassName\", \"overlayStyle\", \"visible\", \"trigger\", \"autoFocus\"];\nimport * as React from 'react';\nimport Trigger from 'rc-trigger';\nimport classNames from 'classnames';\nimport Placements from './placements';\nimport useAccessibility from './hooks/useAccessibility';\n\nfunction Dropdown(props, ref) {\n  var _props$arrow = props.arrow,\n      arrow = _props$arrow === void 0 ? false : _props$arrow,\n      _props$prefixCls = props.prefixCls,\n      prefixCls = _props$prefixCls === void 0 ? 'rc-dropdown' : _props$prefixCls,\n      transitionName = props.transitionName,\n      animation = props.animation,\n      align = props.align,\n      _props$placement = props.placement,\n      placement = _props$placement === void 0 ? 'bottomLeft' : _props$placement,\n      _props$placements = props.placements,\n      placements = _props$placements === void 0 ? Placements : _props$placements,\n      getPopupContainer = props.getPopupContainer,\n      showAction = props.showAction,\n      hideAction = props.hideAction,\n      overlayClassName = props.overlayClassName,\n      overlayStyle = props.overlayStyle,\n      visible = props.visible,\n      _props$trigger = props.trigger,\n      trigger = _props$trigger === void 0 ? ['hover'] : _props$trigger,\n      autoFocus = props.autoFocus,\n      otherProps = _objectWithoutProperties(props, _excluded);\n\n  var _React$useState = React.useState(),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      triggerVisible = _React$useState2[0],\n      setTriggerVisible = _React$useState2[1];\n\n  var mergedVisible = 'visible' in props ? visible : triggerVisible;\n  var triggerRef = React.useRef(null);\n  React.useImperativeHandle(ref, function () {\n    return triggerRef.current;\n  });\n  useAccessibility({\n    visible: mergedVisible,\n    setTriggerVisible: setTriggerVisible,\n    triggerRef: triggerRef,\n    onVisibleChange: props.onVisibleChange,\n    autoFocus: autoFocus\n  });\n\n  var getOverlayElement = function getOverlayElement() {\n    var overlay = props.overlay;\n    var overlayElement;\n\n    if (typeof overlay === 'function') {\n      overlayElement = overlay();\n    } else {\n      overlayElement = overlay;\n    }\n\n    return overlayElement;\n  };\n\n  var onClick = function onClick(e) {\n    var onOverlayClick = props.onOverlayClick;\n    setTriggerVisible(false);\n\n    if (onOverlayClick) {\n      onOverlayClick(e);\n    }\n  };\n\n  var onVisibleChange = function onVisibleChange(newVisible) {\n    var onVisibleChangeProp = props.onVisibleChange;\n    setTriggerVisible(newVisible);\n\n    if (typeof onVisibleChangeProp === 'function') {\n      onVisibleChangeProp(newVisible);\n    }\n  };\n\n  var getMenuElement = function getMenuElement() {\n    var overlayElement = getOverlayElement();\n    return /*#__PURE__*/React.createElement(React.Fragment, null, arrow && /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\".concat(prefixCls, \"-arrow\")\n    }), overlayElement);\n  };\n\n  var getMenuElementOrLambda = function getMenuElementOrLambda() {\n    var overlay = props.overlay;\n\n    if (typeof overlay === 'function') {\n      return getMenuElement;\n    }\n\n    return getMenuElement();\n  };\n\n  var getMinOverlayWidthMatchTrigger = function getMinOverlayWidthMatchTrigger() {\n    var minOverlayWidthMatchTrigger = props.minOverlayWidthMatchTrigger,\n        alignPoint = props.alignPoint;\n\n    if ('minOverlayWidthMatchTrigger' in props) {\n      return minOverlayWidthMatchTrigger;\n    }\n\n    return !alignPoint;\n  };\n\n  var getOpenClassName = function getOpenClassName() {\n    var openClassName = props.openClassName;\n\n    if (openClassName !== undefined) {\n      return openClassName;\n    }\n\n    return \"\".concat(prefixCls, \"-open\");\n  };\n\n  var renderChildren = function renderChildren() {\n    var children = props.children;\n    var childrenProps = children.props ? children.props : {};\n    var childClassName = classNames(childrenProps.className, getOpenClassName());\n    return mergedVisible && children ? /*#__PURE__*/React.cloneElement(children, {\n      className: childClassName\n    }) : children;\n  };\n\n  var triggerHideAction = hideAction;\n\n  if (!triggerHideAction && trigger.indexOf('contextMenu') !== -1) {\n    triggerHideAction = ['click'];\n  }\n\n  return /*#__PURE__*/React.createElement(Trigger, _objectSpread(_objectSpread({\n    builtinPlacements: placements\n  }, otherProps), {}, {\n    prefixCls: prefixCls,\n    ref: triggerRef,\n    popupClassName: classNames(overlayClassName, _defineProperty({}, \"\".concat(prefixCls, \"-show-arrow\"), arrow)),\n    popupStyle: overlayStyle,\n    action: trigger,\n    showAction: showAction,\n    hideAction: triggerHideAction || [],\n    popupPlacement: placement,\n    popupAlign: align,\n    popupTransitionName: transitionName,\n    popupAnimation: animation,\n    popupVisible: mergedVisible,\n    stretch: getMinOverlayWidthMatchTrigger() ? 'minWidth' : '',\n    popup: getMenuElementOrLambda(),\n    onPopupVisibleChange: onVisibleChange,\n    onPopupClick: onClick,\n    getPopupContainer: getPopupContainer\n  }), renderChildren());\n}\n\nexport default /*#__PURE__*/React.forwardRef(Dropdown);","import Dropdown from './Dropdown';\nexport default Dropdown;","import * as React from 'react';\nexport var IdContext = /*#__PURE__*/React.createContext(null);\nexport function getMenuId(uuid, eventKey) {\n  if (uuid === undefined) {\n    return null;\n  }\n  return \"\".concat(uuid, \"-\").concat(eventKey);\n}\n\n/**\n * Get `data-menu-id`\n */\nexport function useMenuId(eventKey) {\n  var id = React.useContext(IdContext);\n  return getMenuId(id, eventKey);\n}","import _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nvar _excluded = [\"children\", \"locked\"];\nimport * as React from 'react';\nimport useMemo from \"rc-util/es/hooks/useMemo\";\nimport isEqual from \"rc-util/es/isEqual\";\nexport var MenuContext = /*#__PURE__*/React.createContext(null);\nfunction mergeProps(origin, target) {\n  var clone = _objectSpread({}, origin);\n  Object.keys(target).forEach(function (key) {\n    var value = target[key];\n    if (value !== undefined) {\n      clone[key] = value;\n    }\n  });\n  return clone;\n}\nexport default function InheritableContextProvider(_ref) {\n  var children = _ref.children,\n    locked = _ref.locked,\n    restProps = _objectWithoutProperties(_ref, _excluded);\n  var context = React.useContext(MenuContext);\n  var inheritableContext = useMemo(function () {\n    return mergeProps(context, restProps);\n  }, [context, restProps], function (prev, next) {\n    return !locked && (prev[0] !== next[0] || !isEqual(prev[1], next[1], true));\n  });\n  return /*#__PURE__*/React.createElement(MenuContext.Provider, {\n    value: inheritableContext\n  }, children);\n}","import _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport * as React from 'react';\nvar EmptyList = [];\n\n// ========================= Path Register =========================\n\nexport var PathRegisterContext = /*#__PURE__*/React.createContext(null);\nexport function useMeasure() {\n  return React.useContext(PathRegisterContext);\n}\n\n// ========================= Path Tracker ==========================\nexport var PathTrackerContext = /*#__PURE__*/React.createContext(EmptyList);\nexport function useFullPath(eventKey) {\n  var parentKeyPath = React.useContext(PathTrackerContext);\n  return React.useMemo(function () {\n    return eventKey !== undefined ? [].concat(_toConsumableArray(parentKeyPath), [eventKey]) : parentKeyPath;\n  }, [parentKeyPath, eventKey]);\n}\n\n// =========================== Path User ===========================\n\nexport var PathUserContext = /*#__PURE__*/React.createContext(null);","import * as React from 'react';\nvar PrivateContext = /*#__PURE__*/React.createContext({});\nexport default PrivateContext;","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport * as React from 'react';\nimport KeyCode from \"rc-util/es/KeyCode\";\nimport raf from \"rc-util/es/raf\";\nimport { getFocusNodeList } from \"rc-util/es/Dom/focus\";\nimport { getMenuId } from \"../context/IdContext\";\n\n// destruct to reduce minify size\nvar LEFT = KeyCode.LEFT,\n  RIGHT = KeyCode.RIGHT,\n  UP = KeyCode.UP,\n  DOWN = KeyCode.DOWN,\n  ENTER = KeyCode.ENTER,\n  ESC = KeyCode.ESC,\n  HOME = KeyCode.HOME,\n  END = KeyCode.END;\nvar ArrowKeys = [UP, DOWN, LEFT, RIGHT];\nfunction getOffset(mode, isRootLevel, isRtl, which) {\n  var _inline, _horizontal, _vertical, _offsets;\n  var prev = 'prev';\n  var next = 'next';\n  var children = 'children';\n  var parent = 'parent';\n\n  // Inline enter is special that we use unique operation\n  if (mode === 'inline' && which === ENTER) {\n    return {\n      inlineTrigger: true\n    };\n  }\n  var inline = (_inline = {}, _defineProperty(_inline, UP, prev), _defineProperty(_inline, DOWN, next), _inline);\n  var horizontal = (_horizontal = {}, _defineProperty(_horizontal, LEFT, isRtl ? next : prev), _defineProperty(_horizontal, RIGHT, isRtl ? prev : next), _defineProperty(_horizontal, DOWN, children), _defineProperty(_horizontal, ENTER, children), _horizontal);\n  var vertical = (_vertical = {}, _defineProperty(_vertical, UP, prev), _defineProperty(_vertical, DOWN, next), _defineProperty(_vertical, ENTER, children), _defineProperty(_vertical, ESC, parent), _defineProperty(_vertical, LEFT, isRtl ? children : parent), _defineProperty(_vertical, RIGHT, isRtl ? parent : children), _vertical);\n  var offsets = {\n    inline: inline,\n    horizontal: horizontal,\n    vertical: vertical,\n    inlineSub: inline,\n    horizontalSub: vertical,\n    verticalSub: vertical\n  };\n  var type = (_offsets = offsets[\"\".concat(mode).concat(isRootLevel ? '' : 'Sub')]) === null || _offsets === void 0 ? void 0 : _offsets[which];\n  switch (type) {\n    case prev:\n      return {\n        offset: -1,\n        sibling: true\n      };\n    case next:\n      return {\n        offset: 1,\n        sibling: true\n      };\n    case parent:\n      return {\n        offset: -1,\n        sibling: false\n      };\n    case children:\n      return {\n        offset: 1,\n        sibling: false\n      };\n    default:\n      return null;\n  }\n}\nfunction findContainerUL(element) {\n  var current = element;\n  while (current) {\n    if (current.getAttribute('data-menu-list')) {\n      return current;\n    }\n    current = current.parentElement;\n  }\n\n  // Normally should not reach this line\n  /* istanbul ignore next */\n  return null;\n}\n\n/**\n * Find focused element within element set provided\n */\nfunction getFocusElement(activeElement, elements) {\n  var current = activeElement || document.activeElement;\n  while (current) {\n    if (elements.has(current)) {\n      return current;\n    }\n    current = current.parentElement;\n  }\n  return null;\n}\n\n/**\n * Get focusable elements from the element set under provided container\n */\nfunction getFocusableElements(container, elements) {\n  var list = getFocusNodeList(container, true);\n  return list.filter(function (ele) {\n    return elements.has(ele);\n  });\n}\nfunction getNextFocusElement(parentQueryContainer, elements, focusMenuElement) {\n  var offset = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 1;\n  // Key on the menu item will not get validate parent container\n  if (!parentQueryContainer) {\n    return null;\n  }\n\n  // List current level menu item elements\n  var sameLevelFocusableMenuElementList = getFocusableElements(parentQueryContainer, elements);\n\n  // Find next focus index\n  var count = sameLevelFocusableMenuElementList.length;\n  var focusIndex = sameLevelFocusableMenuElementList.findIndex(function (ele) {\n    return focusMenuElement === ele;\n  });\n  if (offset < 0) {\n    if (focusIndex === -1) {\n      focusIndex = count - 1;\n    } else {\n      focusIndex -= 1;\n    }\n  } else if (offset > 0) {\n    focusIndex += 1;\n  }\n  focusIndex = (focusIndex + count) % count;\n\n  // Focus menu item\n  return sameLevelFocusableMenuElementList[focusIndex];\n}\nexport default function useAccessibility(mode, activeKey, isRtl, id, containerRef, getKeys, getKeyPath, triggerActiveKey, triggerAccessibilityOpen, originOnKeyDown) {\n  var rafRef = React.useRef();\n  var activeRef = React.useRef();\n  activeRef.current = activeKey;\n  var cleanRaf = function cleanRaf() {\n    raf.cancel(rafRef.current);\n  };\n  React.useEffect(function () {\n    return function () {\n      cleanRaf();\n    };\n  }, []);\n  return function (e) {\n    var which = e.which;\n    if ([].concat(ArrowKeys, [ENTER, ESC, HOME, END]).includes(which)) {\n      // Convert key to elements\n      var elements;\n      var key2element;\n      var element2key;\n\n      // >>> Wrap as function since we use raf for some case\n      var refreshElements = function refreshElements() {\n        elements = new Set();\n        key2element = new Map();\n        element2key = new Map();\n        var keys = getKeys();\n        keys.forEach(function (key) {\n          var element = document.querySelector(\"[data-menu-id='\".concat(getMenuId(id, key), \"']\"));\n          if (element) {\n            elements.add(element);\n            element2key.set(element, key);\n            key2element.set(key, element);\n          }\n        });\n        return elements;\n      };\n      refreshElements();\n\n      // First we should find current focused MenuItem/SubMenu element\n      var activeElement = key2element.get(activeKey);\n      var focusMenuElement = getFocusElement(activeElement, elements);\n      var focusMenuKey = element2key.get(focusMenuElement);\n      var offsetObj = getOffset(mode, getKeyPath(focusMenuKey, true).length === 1, isRtl, which);\n\n      // Some mode do not have fully arrow operation like inline\n      if (!offsetObj && which !== HOME && which !== END) {\n        return;\n      }\n\n      // Arrow prevent default to avoid page scroll\n      if (ArrowKeys.includes(which) || [HOME, END].includes(which)) {\n        e.preventDefault();\n      }\n      var tryFocus = function tryFocus(menuElement) {\n        if (menuElement) {\n          var focusTargetElement = menuElement;\n\n          // Focus to link instead of menu item if possible\n          var link = menuElement.querySelector('a');\n          if (link !== null && link !== void 0 && link.getAttribute('href')) {\n            focusTargetElement = link;\n          }\n          var targetKey = element2key.get(menuElement);\n          triggerActiveKey(targetKey);\n\n          /**\n           * Do not `useEffect` here since `tryFocus` may trigger async\n           * which makes React sync update the `activeKey`\n           * that force render before `useRef` set the next activeKey\n           */\n          cleanRaf();\n          rafRef.current = raf(function () {\n            if (activeRef.current === targetKey) {\n              focusTargetElement.focus();\n            }\n          });\n        }\n      };\n      if ([HOME, END].includes(which) || offsetObj.sibling || !focusMenuElement) {\n        // ========================== Sibling ==========================\n        // Find walkable focus menu element container\n        var parentQueryContainer;\n        if (!focusMenuElement || mode === 'inline') {\n          parentQueryContainer = containerRef.current;\n        } else {\n          parentQueryContainer = findContainerUL(focusMenuElement);\n        }\n\n        // Get next focus element\n        var targetElement;\n        var focusableElements = getFocusableElements(parentQueryContainer, elements);\n        if (which === HOME) {\n          targetElement = focusableElements[0];\n        } else if (which === END) {\n          targetElement = focusableElements[focusableElements.length - 1];\n        } else {\n          targetElement = getNextFocusElement(parentQueryContainer, elements, focusMenuElement, offsetObj.offset);\n        }\n        // Focus menu item\n        tryFocus(targetElement);\n\n        // ======================= InlineTrigger =======================\n      } else if (offsetObj.inlineTrigger) {\n        // Inline trigger no need switch to sub menu item\n        triggerAccessibilityOpen(focusMenuKey);\n        // =========================== Level ===========================\n      } else if (offsetObj.offset > 0) {\n        triggerAccessibilityOpen(focusMenuKey, true);\n        cleanRaf();\n        rafRef.current = raf(function () {\n          // Async should resync elements\n          refreshElements();\n          var controlId = focusMenuElement.getAttribute('aria-controls');\n          var subQueryContainer = document.getElementById(controlId);\n\n          // Get sub focusable menu item\n          var targetElement = getNextFocusElement(subQueryContainer, elements);\n\n          // Focus menu item\n          tryFocus(targetElement);\n        }, 5);\n      } else if (offsetObj.offset < 0) {\n        var keyPath = getKeyPath(focusMenuKey, true);\n        var parentKey = keyPath[keyPath.length - 2];\n        var parentMenuElement = key2element.get(parentKey);\n\n        // Focus menu item\n        triggerAccessibilityOpen(parentKey, false);\n        tryFocus(parentMenuElement);\n      }\n    }\n\n    // Pass origin key down event\n    originOnKeyDown === null || originOnKeyDown === void 0 ? void 0 : originOnKeyDown(e);\n  };\n}","import _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport * as React from 'react';\nimport { useRef, useCallback } from 'react';\nimport warning from \"rc-util/es/warning\";\nimport { nextSlice } from \"../utils/timeUtil\";\nvar PATH_SPLIT = '__RC_UTIL_PATH_SPLIT__';\nvar getPathStr = function getPathStr(keyPath) {\n  return keyPath.join(PATH_SPLIT);\n};\nvar getPathKeys = function getPathKeys(keyPathStr) {\n  return keyPathStr.split(PATH_SPLIT);\n};\nexport var OVERFLOW_KEY = 'rc-menu-more';\nexport default function useKeyRecords() {\n  var _React$useState = React.useState({}),\n    _React$useState2 = _slicedToArray(_React$useState, 2),\n    internalForceUpdate = _React$useState2[1];\n  var key2pathRef = useRef(new Map());\n  var path2keyRef = useRef(new Map());\n  var _React$useState3 = React.useState([]),\n    _React$useState4 = _slicedToArray(_React$useState3, 2),\n    overflowKeys = _React$useState4[0],\n    setOverflowKeys = _React$useState4[1];\n  var updateRef = useRef(0);\n  var destroyRef = useRef(false);\n  var forceUpdate = function forceUpdate() {\n    if (!destroyRef.current) {\n      internalForceUpdate({});\n    }\n  };\n  var registerPath = useCallback(function (key, keyPath) {\n    // Warning for invalidate or duplicated `key`\n    if (process.env.NODE_ENV !== 'production') {\n      warning(!key2pathRef.current.has(key), \"Duplicated key '\".concat(key, \"' used in Menu by path [\").concat(keyPath.join(' > '), \"]\"));\n    }\n\n    // Fill map\n    var connectedPath = getPathStr(keyPath);\n    path2keyRef.current.set(connectedPath, key);\n    key2pathRef.current.set(key, connectedPath);\n    updateRef.current += 1;\n    var id = updateRef.current;\n    nextSlice(function () {\n      if (id === updateRef.current) {\n        forceUpdate();\n      }\n    });\n  }, []);\n  var unregisterPath = useCallback(function (key, keyPath) {\n    var connectedPath = getPathStr(keyPath);\n    path2keyRef.current.delete(connectedPath);\n    key2pathRef.current.delete(key);\n  }, []);\n  var refreshOverflowKeys = useCallback(function (keys) {\n    setOverflowKeys(keys);\n  }, []);\n  var getKeyPath = useCallback(function (eventKey, includeOverflow) {\n    var fullPath = key2pathRef.current.get(eventKey) || '';\n    var keys = getPathKeys(fullPath);\n    if (includeOverflow && overflowKeys.includes(keys[0])) {\n      keys.unshift(OVERFLOW_KEY);\n    }\n    return keys;\n  }, [overflowKeys]);\n  var isSubPathKey = useCallback(function (pathKeys, eventKey) {\n    return pathKeys.some(function (pathKey) {\n      var pathKeyList = getKeyPath(pathKey, true);\n      return pathKeyList.includes(eventKey);\n    });\n  }, [getKeyPath]);\n  var getKeys = function getKeys() {\n    var keys = _toConsumableArray(key2pathRef.current.keys());\n    if (overflowKeys.length) {\n      keys.push(OVERFLOW_KEY);\n    }\n    return keys;\n  };\n\n  /**\n   * Find current key related child path keys\n   */\n  var getSubPathKeys = useCallback(function (key) {\n    var connectedPath = \"\".concat(key2pathRef.current.get(key)).concat(PATH_SPLIT);\n    var pathKeys = new Set();\n    _toConsumableArray(path2keyRef.current.keys()).forEach(function (pathKey) {\n      if (pathKey.startsWith(connectedPath)) {\n        pathKeys.add(path2keyRef.current.get(pathKey));\n      }\n    });\n    return pathKeys;\n  }, []);\n  React.useEffect(function () {\n    return function () {\n      destroyRef.current = true;\n    };\n  }, []);\n  return {\n    // Register\n    registerPath: registerPath,\n    unregisterPath: unregisterPath,\n    refreshOverflowKeys: refreshOverflowKeys,\n    // Util\n    isSubPathKey: isSubPathKey,\n    getKeyPath: getKeyPath,\n    getKeys: getKeys,\n    getSubPathKeys: getSubPathKeys\n  };\n}","export function nextSlice(callback) {\n  /* istanbul ignore next */\n  Promise.resolve().then(callback);\n}","import * as React from 'react';\n\n/**\n * Cache callback function that always return same ref instead.\n * This is used for context optimization.\n */\nexport default function useMemoCallback(func) {\n  var funRef = React.useRef(func);\n  funRef.current = func;\n  var callback = React.useCallback(function () {\n    var _funRef$current;\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    return (_funRef$current = funRef.current) === null || _funRef$current === void 0 ? void 0 : _funRef$current.call.apply(_funRef$current, [funRef].concat(args));\n  }, []);\n  return func ? callback : undefined;\n}","import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport * as React from 'react';\nimport useMergedState from \"rc-util/es/hooks/useMergedState\";\nvar uniquePrefix = Math.random().toFixed(5).toString().slice(2);\nvar internalId = 0;\nexport default function useUUID(id) {\n  var _useMergedState = useMergedState(id, {\n      value: id\n    }),\n    _useMergedState2 = _slicedToArray(_useMergedState, 2),\n    uuid = _useMergedState2[0],\n    setUUID = _useMergedState2[1];\n  React.useEffect(function () {\n    internalId += 1;\n    var newId = process.env.NODE_ENV === 'test' ? 'test' : \"\".concat(uniquePrefix, \"-\").concat(internalId);\n    setUUID(\"rc-menu-uuid-\".concat(newId));\n  }, []);\n  return uuid;\n}","import * as React from 'react';\nimport { MenuContext } from \"../context/MenuContext\";\nexport default function useActive(eventKey, disabled, onMouseEnter, onMouseLeave) {\n  var _React$useContext = React.useContext(MenuContext),\n    activeKey = _React$useContext.activeKey,\n    onActive = _React$useContext.onActive,\n    onInactive = _React$useContext.onInactive;\n  var ret = {\n    active: activeKey === eventKey\n  };\n\n  // Skip when disabled\n  if (!disabled) {\n    ret.onMouseEnter = function (domEvent) {\n      onMouseEnter === null || onMouseEnter === void 0 ? void 0 : onMouseEnter({\n        key: eventKey,\n        domEvent: domEvent\n      });\n      onActive(eventKey);\n    };\n    ret.onMouseLeave = function (domEvent) {\n      onMouseLeave === null || onMouseLeave === void 0 ? void 0 : onMouseLeave({\n        key: eventKey,\n        domEvent: domEvent\n      });\n      onInactive(eventKey);\n    };\n  }\n  return ret;\n}","import _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _excluded = [\"item\"];\nimport warning from \"rc-util/es/warning\";\n\n/**\n * `onClick` event return `info.item` which point to react node directly.\n * We should warning this since it will not work on FC.\n */\nexport function warnItemProp(_ref) {\n  var item = _ref.item,\n    restInfo = _objectWithoutProperties(_ref, _excluded);\n  Object.defineProperty(restInfo, 'item', {\n    get: function get() {\n      warning(false, '`info.item` is deprecated since we will move to function component that not provides React Node instance in future.');\n      return item;\n    }\n  });\n  return restInfo;\n}","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport * as React from 'react';\nexport default function Icon(_ref) {\n  var icon = _ref.icon,\n    props = _ref.props,\n    children = _ref.children;\n  var iconNode;\n  if (typeof icon === 'function') {\n    iconNode = /*#__PURE__*/React.createElement(icon, _objectSpread({}, props));\n  } else {\n    // Compatible for origin definition\n    iconNode = icon;\n  }\n  return iconNode || children || null;\n}","import * as React from 'react';\nimport { MenuContext } from \"../context/MenuContext\";\nexport default function useDirectionStyle(level) {\n  var _React$useContext = React.useContext(MenuContext),\n    mode = _React$useContext.mode,\n    rtl = _React$useContext.rtl,\n    inlineIndent = _React$useContext.inlineIndent;\n  if (mode !== 'inline') {\n    return null;\n  }\n  var len = level;\n  return rtl ? {\n    paddingRight: len * inlineIndent\n  } : {\n    paddingLeft: len * inlineIndent\n  };\n}","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"@babel/runtime/helpers/esm/createSuper\";\nvar _excluded = [\"title\", \"attribute\", \"elementRef\"],\n  _excluded2 = [\"style\", \"className\", \"eventKey\", \"warnKey\", \"disabled\", \"itemIcon\", \"children\", \"role\", \"onMouseEnter\", \"onMouseLeave\", \"onClick\", \"onKeyDown\", \"onFocus\"],\n  _excluded3 = [\"active\"];\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport Overflow from 'rc-overflow';\nimport warning from \"rc-util/es/warning\";\nimport KeyCode from \"rc-util/es/KeyCode\";\nimport omit from \"rc-util/es/omit\";\nimport { MenuContext } from \"./context/MenuContext\";\nimport useActive from \"./hooks/useActive\";\nimport { warnItemProp } from \"./utils/warnUtil\";\nimport Icon from \"./Icon\";\nimport useDirectionStyle from \"./hooks/useDirectionStyle\";\nimport { useFullPath, useMeasure } from \"./context/PathContext\";\nimport { useMenuId } from \"./context/IdContext\";\nimport PrivateContext from \"./context/PrivateContext\";\n// Since Menu event provide the `info.item` which point to the MenuItem node instance.\n// We have to use class component here.\n// This should be removed from doc & api in future.\nvar LegacyMenuItem = /*#__PURE__*/function (_React$Component) {\n  _inherits(LegacyMenuItem, _React$Component);\n  var _super = _createSuper(LegacyMenuItem);\n  function LegacyMenuItem() {\n    _classCallCheck(this, LegacyMenuItem);\n    return _super.apply(this, arguments);\n  }\n  _createClass(LegacyMenuItem, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n        title = _this$props.title,\n        attribute = _this$props.attribute,\n        elementRef = _this$props.elementRef,\n        restProps = _objectWithoutProperties(_this$props, _excluded);\n      var passedProps = omit(restProps, ['eventKey']);\n      warning(!attribute, '`attribute` of Menu.Item is deprecated. Please pass attribute directly.');\n      return /*#__PURE__*/React.createElement(Overflow.Item, _extends({}, attribute, {\n        title: typeof title === 'string' ? title : undefined\n      }, passedProps, {\n        ref: elementRef\n      }));\n    }\n  }]);\n  return LegacyMenuItem;\n}(React.Component);\n/**\n * Real Menu Item component\n */\nvar InternalMenuItem = function InternalMenuItem(props) {\n  var _classNames;\n  var style = props.style,\n    className = props.className,\n    eventKey = props.eventKey,\n    warnKey = props.warnKey,\n    disabled = props.disabled,\n    itemIcon = props.itemIcon,\n    children = props.children,\n    role = props.role,\n    onMouseEnter = props.onMouseEnter,\n    onMouseLeave = props.onMouseLeave,\n    onClick = props.onClick,\n    onKeyDown = props.onKeyDown,\n    onFocus = props.onFocus,\n    restProps = _objectWithoutProperties(props, _excluded2);\n  var domDataId = useMenuId(eventKey);\n  var _React$useContext = React.useContext(MenuContext),\n    prefixCls = _React$useContext.prefixCls,\n    onItemClick = _React$useContext.onItemClick,\n    contextDisabled = _React$useContext.disabled,\n    overflowDisabled = _React$useContext.overflowDisabled,\n    contextItemIcon = _React$useContext.itemIcon,\n    selectedKeys = _React$useContext.selectedKeys,\n    onActive = _React$useContext.onActive;\n  var _React$useContext2 = React.useContext(PrivateContext),\n    _internalRenderMenuItem = _React$useContext2._internalRenderMenuItem;\n  var itemCls = \"\".concat(prefixCls, \"-item\");\n  var legacyMenuItemRef = React.useRef();\n  var elementRef = React.useRef();\n  var mergedDisabled = contextDisabled || disabled;\n  var connectedKeys = useFullPath(eventKey);\n\n  // ================================ Warn ================================\n  if (process.env.NODE_ENV !== 'production' && warnKey) {\n    warning(false, 'MenuItem should not leave undefined `key`.');\n  }\n\n  // ============================= Info =============================\n  var getEventInfo = function getEventInfo(e) {\n    return {\n      key: eventKey,\n      // Note: For legacy code is reversed which not like other antd component\n      keyPath: _toConsumableArray(connectedKeys).reverse(),\n      item: legacyMenuItemRef.current,\n      domEvent: e\n    };\n  };\n\n  // ============================= Icon =============================\n  var mergedItemIcon = itemIcon || contextItemIcon;\n\n  // ============================ Active ============================\n  var _useActive = useActive(eventKey, mergedDisabled, onMouseEnter, onMouseLeave),\n    active = _useActive.active,\n    activeProps = _objectWithoutProperties(_useActive, _excluded3);\n\n  // ============================ Select ============================\n  var selected = selectedKeys.includes(eventKey);\n\n  // ======================== DirectionStyle ========================\n  var directionStyle = useDirectionStyle(connectedKeys.length);\n\n  // ============================ Events ============================\n  var onInternalClick = function onInternalClick(e) {\n    if (mergedDisabled) {\n      return;\n    }\n    var info = getEventInfo(e);\n    onClick === null || onClick === void 0 ? void 0 : onClick(warnItemProp(info));\n    onItemClick(info);\n  };\n  var onInternalKeyDown = function onInternalKeyDown(e) {\n    onKeyDown === null || onKeyDown === void 0 ? void 0 : onKeyDown(e);\n    if (e.which === KeyCode.ENTER) {\n      var info = getEventInfo(e);\n\n      // Legacy. Key will also trigger click event\n      onClick === null || onClick === void 0 ? void 0 : onClick(warnItemProp(info));\n      onItemClick(info);\n    }\n  };\n\n  /**\n   * Used for accessibility. Helper will focus element without key board.\n   * We should manually trigger an active\n   */\n  var onInternalFocus = function onInternalFocus(e) {\n    onActive(eventKey);\n    onFocus === null || onFocus === void 0 ? void 0 : onFocus(e);\n  };\n\n  // ============================ Render ============================\n  var optionRoleProps = {};\n  if (props.role === 'option') {\n    optionRoleProps['aria-selected'] = selected;\n  }\n  var renderNode = /*#__PURE__*/React.createElement(LegacyMenuItem, _extends({\n    ref: legacyMenuItemRef,\n    elementRef: elementRef,\n    role: role === null ? 'none' : role || 'menuitem',\n    tabIndex: disabled ? null : -1,\n    \"data-menu-id\": overflowDisabled && domDataId ? null : domDataId\n  }, restProps, activeProps, optionRoleProps, {\n    component: \"li\",\n    \"aria-disabled\": disabled,\n    style: _objectSpread(_objectSpread({}, directionStyle), style),\n    className: classNames(itemCls, (_classNames = {}, _defineProperty(_classNames, \"\".concat(itemCls, \"-active\"), active), _defineProperty(_classNames, \"\".concat(itemCls, \"-selected\"), selected), _defineProperty(_classNames, \"\".concat(itemCls, \"-disabled\"), mergedDisabled), _classNames), className),\n    onClick: onInternalClick,\n    onKeyDown: onInternalKeyDown,\n    onFocus: onInternalFocus\n  }), children, /*#__PURE__*/React.createElement(Icon, {\n    props: _objectSpread(_objectSpread({}, props), {}, {\n      isSelected: selected\n    }),\n    icon: mergedItemIcon\n  }));\n  if (_internalRenderMenuItem) {\n    renderNode = _internalRenderMenuItem(renderNode, props, {\n      selected: selected\n    });\n  }\n  return renderNode;\n};\nfunction MenuItem(props) {\n  var eventKey = props.eventKey;\n\n  // ==================== Record KeyPath ====================\n  var measure = useMeasure();\n  var connectedKeyPath = useFullPath(eventKey);\n\n  // eslint-disable-next-line consistent-return\n  React.useEffect(function () {\n    if (measure) {\n      measure.registerPath(eventKey, connectedKeyPath);\n      return function () {\n        measure.unregisterPath(eventKey, connectedKeyPath);\n      };\n    }\n  }, [connectedKeyPath]);\n  if (measure) {\n    return null;\n  }\n\n  // ======================== Render ========================\n  return /*#__PURE__*/React.createElement(InternalMenuItem, props);\n}\nexport default MenuItem;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _excluded = [\"className\", \"children\"];\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport { MenuContext } from \"../context/MenuContext\";\nvar InternalSubMenuList = function InternalSubMenuList(_ref, ref) {\n  var className = _ref.className,\n    children = _ref.children,\n    restProps = _objectWithoutProperties(_ref, _excluded);\n  var _React$useContext = React.useContext(MenuContext),\n    prefixCls = _React$useContext.prefixCls,\n    mode = _React$useContext.mode,\n    rtl = _React$useContext.rtl;\n  return /*#__PURE__*/React.createElement(\"ul\", _extends({\n    className: classNames(prefixCls, rtl && \"\".concat(prefixCls, \"-rtl\"), \"\".concat(prefixCls, \"-sub\"), \"\".concat(prefixCls, \"-\").concat(mode === 'inline' ? 'inline' : 'vertical'), className),\n    role: \"menu\"\n  }, restProps, {\n    \"data-menu-list\": true,\n    ref: ref\n  }), children);\n};\nvar SubMenuList = /*#__PURE__*/React.forwardRef(InternalSubMenuList);\nSubMenuList.displayName = 'SubMenuList';\nexport default SubMenuList;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nvar _excluded = [\"label\", \"children\", \"key\", \"type\"];\nimport * as React from 'react';\nimport toArray from \"rc-util/es/Children/toArray\";\nimport { Divider, MenuItem, MenuItemGroup, SubMenu } from '..';\nexport function parseChildren(children, keyPath) {\n  return toArray(children).map(function (child, index) {\n    if ( /*#__PURE__*/React.isValidElement(child)) {\n      var _eventKey, _child$props;\n      var key = child.key;\n      var eventKey = (_eventKey = (_child$props = child.props) === null || _child$props === void 0 ? void 0 : _child$props.eventKey) !== null && _eventKey !== void 0 ? _eventKey : key;\n      var emptyKey = eventKey === null || eventKey === undefined;\n      if (emptyKey) {\n        eventKey = \"tmp_key-\".concat([].concat(_toConsumableArray(keyPath), [index]).join('-'));\n      }\n      var cloneProps = {\n        key: eventKey,\n        eventKey: eventKey\n      };\n      if (process.env.NODE_ENV !== 'production' && emptyKey) {\n        cloneProps.warnKey = true;\n      }\n      return /*#__PURE__*/React.cloneElement(child, cloneProps);\n    }\n    return child;\n  });\n}\nfunction convertItemsToNodes(list) {\n  return (list || []).map(function (opt, index) {\n    if (opt && _typeof(opt) === 'object') {\n      var _ref = opt,\n        label = _ref.label,\n        children = _ref.children,\n        key = _ref.key,\n        type = _ref.type,\n        restProps = _objectWithoutProperties(_ref, _excluded);\n      var mergedKey = key !== null && key !== void 0 ? key : \"tmp-\".concat(index);\n\n      // MenuItemGroup & SubMenuItem\n      if (children || type === 'group') {\n        if (type === 'group') {\n          // Group\n          return /*#__PURE__*/React.createElement(MenuItemGroup, _extends({\n            key: mergedKey\n          }, restProps, {\n            title: label\n          }), convertItemsToNodes(children));\n        }\n\n        // Sub Menu\n        return /*#__PURE__*/React.createElement(SubMenu, _extends({\n          key: mergedKey\n        }, restProps, {\n          title: label\n        }), convertItemsToNodes(children));\n      }\n\n      // MenuItem & Divider\n      if (type === 'divider') {\n        return /*#__PURE__*/React.createElement(Divider, _extends({\n          key: mergedKey\n        }, restProps));\n      }\n      return /*#__PURE__*/React.createElement(MenuItem, _extends({\n        key: mergedKey\n      }, restProps), label);\n    }\n    return null;\n  }).filter(function (opt) {\n    return opt;\n  });\n}\nexport function parseItems(children, items, keyPath) {\n  var childNodes = children;\n  if (items) {\n    childNodes = convertItemsToNodes(items);\n  }\n  return parseChildren(childNodes, keyPath);\n}","var autoAdjustOverflow = {\n  adjustX: 1,\n  adjustY: 1\n};\nexport var placements = {\n  topLeft: {\n    points: ['bl', 'tl'],\n    overflow: autoAdjustOverflow,\n    offset: [0, -7]\n  },\n  bottomLeft: {\n    points: ['tl', 'bl'],\n    overflow: autoAdjustOverflow,\n    offset: [0, 7]\n  },\n  leftTop: {\n    points: ['tr', 'tl'],\n    overflow: autoAdjustOverflow,\n    offset: [-4, 0]\n  },\n  rightTop: {\n    points: ['tl', 'tr'],\n    overflow: autoAdjustOverflow,\n    offset: [4, 0]\n  }\n};\nexport var placementsRtl = {\n  topLeft: {\n    points: ['bl', 'tl'],\n    overflow: autoAdjustOverflow,\n    offset: [0, -7]\n  },\n  bottomLeft: {\n    points: ['tl', 'bl'],\n    overflow: autoAdjustOverflow,\n    offset: [0, 7]\n  },\n  rightTop: {\n    points: ['tr', 'tl'],\n    overflow: autoAdjustOverflow,\n    offset: [-4, 0]\n  },\n  leftTop: {\n    points: ['tl', 'tr'],\n    overflow: autoAdjustOverflow,\n    offset: [4, 0]\n  }\n};\nexport default placements;","export function getMotion(mode, motion, defaultMotions) {\n  if (motion) {\n    return motion;\n  }\n  if (defaultMotions) {\n    return defaultMotions[mode] || defaultMotions.other;\n  }\n  return undefined;\n}","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport * as React from 'react';\nimport Trigger from 'rc-trigger';\nimport classNames from 'classnames';\nimport raf from \"rc-util/es/raf\";\nimport { MenuContext } from \"../context/MenuContext\";\nimport { placements, placementsRtl } from \"../placements\";\nimport { getMotion } from \"../utils/motionUtil\";\nvar popupPlacementMap = {\n  horizontal: 'bottomLeft',\n  vertical: 'rightTop',\n  'vertical-left': 'rightTop',\n  'vertical-right': 'leftTop'\n};\nexport default function PopupTrigger(_ref) {\n  var prefixCls = _ref.prefixCls,\n    visible = _ref.visible,\n    children = _ref.children,\n    popup = _ref.popup,\n    popupClassName = _ref.popupClassName,\n    popupOffset = _ref.popupOffset,\n    disabled = _ref.disabled,\n    mode = _ref.mode,\n    onVisibleChange = _ref.onVisibleChange;\n  var _React$useContext = React.useContext(MenuContext),\n    getPopupContainer = _React$useContext.getPopupContainer,\n    rtl = _React$useContext.rtl,\n    subMenuOpenDelay = _React$useContext.subMenuOpenDelay,\n    subMenuCloseDelay = _React$useContext.subMenuCloseDelay,\n    builtinPlacements = _React$useContext.builtinPlacements,\n    triggerSubMenuAction = _React$useContext.triggerSubMenuAction,\n    forceSubMenuRender = _React$useContext.forceSubMenuRender,\n    rootClassName = _React$useContext.rootClassName,\n    motion = _React$useContext.motion,\n    defaultMotions = _React$useContext.defaultMotions;\n  var _React$useState = React.useState(false),\n    _React$useState2 = _slicedToArray(_React$useState, 2),\n    innerVisible = _React$useState2[0],\n    setInnerVisible = _React$useState2[1];\n  var placement = rtl ? _objectSpread(_objectSpread({}, placementsRtl), builtinPlacements) : _objectSpread(_objectSpread({}, placements), builtinPlacements);\n  var popupPlacement = popupPlacementMap[mode];\n  var targetMotion = getMotion(mode, motion, defaultMotions);\n  var targetMotionRef = React.useRef(targetMotion);\n  if (mode !== 'inline') {\n    /**\n     * PopupTrigger is only used for vertical and horizontal types.\n     * When collapsed is unfolded, the inline animation will destroy the vertical animation.\n     */\n    targetMotionRef.current = targetMotion;\n  }\n  var mergedMotion = _objectSpread(_objectSpread({}, targetMotionRef.current), {}, {\n    leavedClassName: \"\".concat(prefixCls, \"-hidden\"),\n    removeOnLeave: false,\n    motionAppear: true\n  });\n\n  // Delay to change visible\n  var visibleRef = React.useRef();\n  React.useEffect(function () {\n    visibleRef.current = raf(function () {\n      setInnerVisible(visible);\n    });\n    return function () {\n      raf.cancel(visibleRef.current);\n    };\n  }, [visible]);\n  return /*#__PURE__*/React.createElement(Trigger, {\n    prefixCls: prefixCls,\n    popupClassName: classNames(\"\".concat(prefixCls, \"-popup\"), _defineProperty({}, \"\".concat(prefixCls, \"-rtl\"), rtl), popupClassName, rootClassName),\n    stretch: mode === 'horizontal' ? 'minWidth' : null,\n    getPopupContainer: getPopupContainer,\n    builtinPlacements: placement,\n    popupPlacement: popupPlacement,\n    popupVisible: innerVisible,\n    popup: popup,\n    popupAlign: popupOffset && {\n      offset: popupOffset\n    },\n    action: disabled ? [] : [triggerSubMenuAction],\n    mouseEnterDelay: subMenuOpenDelay,\n    mouseLeaveDelay: subMenuCloseDelay,\n    onPopupVisibleChange: onVisibleChange,\n    forceRender: forceSubMenuRender,\n    popupMotion: mergedMotion\n  }, children);\n}","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport * as React from 'react';\nimport CSSMotion from 'rc-motion';\nimport { getMotion } from \"../utils/motionUtil\";\nimport MenuContextProvider, { MenuContext } from \"../context/MenuContext\";\nimport SubMenuList from \"./SubMenuList\";\nexport default function InlineSubMenuList(_ref) {\n  var id = _ref.id,\n    open = _ref.open,\n    keyPath = _ref.keyPath,\n    children = _ref.children;\n  var fixedMode = 'inline';\n  var _React$useContext = React.useContext(MenuContext),\n    prefixCls = _React$useContext.prefixCls,\n    forceSubMenuRender = _React$useContext.forceSubMenuRender,\n    motion = _React$useContext.motion,\n    defaultMotions = _React$useContext.defaultMotions,\n    mode = _React$useContext.mode;\n\n  // Always use latest mode check\n  var sameModeRef = React.useRef(false);\n  sameModeRef.current = mode === fixedMode;\n\n  // We record `destroy` mark here since when mode change from `inline` to others.\n  // The inline list should remove when motion end.\n  var _React$useState = React.useState(!sameModeRef.current),\n    _React$useState2 = _slicedToArray(_React$useState, 2),\n    destroy = _React$useState2[0],\n    setDestroy = _React$useState2[1];\n  var mergedOpen = sameModeRef.current ? open : false;\n\n  // ================================= Effect =================================\n  // Reset destroy state when mode change back\n  React.useEffect(function () {\n    if (sameModeRef.current) {\n      setDestroy(false);\n    }\n  }, [mode]);\n\n  // ================================= Render =================================\n  var mergedMotion = _objectSpread({}, getMotion(fixedMode, motion, defaultMotions));\n\n  // No need appear since nest inlineCollapse changed\n  if (keyPath.length > 1) {\n    mergedMotion.motionAppear = false;\n  }\n\n  // Hide inline list when mode changed and motion end\n  var originOnVisibleChanged = mergedMotion.onVisibleChanged;\n  mergedMotion.onVisibleChanged = function (newVisible) {\n    if (!sameModeRef.current && !newVisible) {\n      setDestroy(true);\n    }\n    return originOnVisibleChanged === null || originOnVisibleChanged === void 0 ? void 0 : originOnVisibleChanged(newVisible);\n  };\n  if (destroy) {\n    return null;\n  }\n  return /*#__PURE__*/React.createElement(MenuContextProvider, {\n    mode: fixedMode,\n    locked: !sameModeRef.current\n  }, /*#__PURE__*/React.createElement(CSSMotion, _extends({\n    visible: mergedOpen\n  }, mergedMotion, {\n    forceRender: forceSubMenuRender,\n    removeOnLeave: false,\n    leavedClassName: \"\".concat(prefixCls, \"-hidden\")\n  }), function (_ref2) {\n    var motionClassName = _ref2.className,\n      motionStyle = _ref2.style;\n    return /*#__PURE__*/React.createElement(SubMenuList, {\n      id: id,\n      className: motionClassName,\n      style: motionStyle\n    }, children);\n  }));\n}","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _excluded = [\"style\", \"className\", \"title\", \"eventKey\", \"warnKey\", \"disabled\", \"internalPopupClose\", \"children\", \"itemIcon\", \"expandIcon\", \"popupClassName\", \"popupOffset\", \"onClick\", \"onMouseEnter\", \"onMouseLeave\", \"onTitleClick\", \"onTitleMouseEnter\", \"onTitleMouseLeave\"],\n  _excluded2 = [\"active\"];\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport Overflow from 'rc-overflow';\nimport warning from \"rc-util/es/warning\";\nimport SubMenuList from \"./SubMenuList\";\nimport { parseChildren } from \"../utils/nodeUtil\";\nimport MenuContextProvider, { MenuContext } from \"../context/MenuContext\";\nimport useMemoCallback from \"../hooks/useMemoCallback\";\nimport PopupTrigger from \"./PopupTrigger\";\nimport Icon from \"../Icon\";\nimport useActive from \"../hooks/useActive\";\nimport { warnItemProp } from \"../utils/warnUtil\";\nimport useDirectionStyle from \"../hooks/useDirectionStyle\";\nimport InlineSubMenuList from \"./InlineSubMenuList\";\nimport { PathTrackerContext, PathUserContext, useFullPath, useMeasure } from \"../context/PathContext\";\nimport { useMenuId } from \"../context/IdContext\";\nimport PrivateContext from \"../context/PrivateContext\";\nvar InternalSubMenu = function InternalSubMenu(props) {\n  var _classNames;\n  var style = props.style,\n    className = props.className,\n    title = props.title,\n    eventKey = props.eventKey,\n    warnKey = props.warnKey,\n    disabled = props.disabled,\n    internalPopupClose = props.internalPopupClose,\n    children = props.children,\n    itemIcon = props.itemIcon,\n    expandIcon = props.expandIcon,\n    popupClassName = props.popupClassName,\n    popupOffset = props.popupOffset,\n    onClick = props.onClick,\n    onMouseEnter = props.onMouseEnter,\n    onMouseLeave = props.onMouseLeave,\n    onTitleClick = props.onTitleClick,\n    onTitleMouseEnter = props.onTitleMouseEnter,\n    onTitleMouseLeave = props.onTitleMouseLeave,\n    restProps = _objectWithoutProperties(props, _excluded);\n  var domDataId = useMenuId(eventKey);\n  var _React$useContext = React.useContext(MenuContext),\n    prefixCls = _React$useContext.prefixCls,\n    mode = _React$useContext.mode,\n    openKeys = _React$useContext.openKeys,\n    contextDisabled = _React$useContext.disabled,\n    overflowDisabled = _React$useContext.overflowDisabled,\n    activeKey = _React$useContext.activeKey,\n    selectedKeys = _React$useContext.selectedKeys,\n    contextItemIcon = _React$useContext.itemIcon,\n    contextExpandIcon = _React$useContext.expandIcon,\n    onItemClick = _React$useContext.onItemClick,\n    onOpenChange = _React$useContext.onOpenChange,\n    onActive = _React$useContext.onActive;\n  var _React$useContext2 = React.useContext(PrivateContext),\n    _internalRenderSubMenuItem = _React$useContext2._internalRenderSubMenuItem;\n  var _React$useContext3 = React.useContext(PathUserContext),\n    isSubPathKey = _React$useContext3.isSubPathKey;\n  var connectedPath = useFullPath();\n  var subMenuPrefixCls = \"\".concat(prefixCls, \"-submenu\");\n  var mergedDisabled = contextDisabled || disabled;\n  var elementRef = React.useRef();\n  var popupRef = React.useRef();\n\n  // ================================ Warn ================================\n  if (process.env.NODE_ENV !== 'production' && warnKey) {\n    warning(false, 'SubMenu should not leave undefined `key`.');\n  }\n\n  // ================================ Icon ================================\n  var mergedItemIcon = itemIcon || contextItemIcon;\n  var mergedExpandIcon = expandIcon || contextExpandIcon;\n\n  // ================================ Open ================================\n  var originOpen = openKeys.includes(eventKey);\n  var open = !overflowDisabled && originOpen;\n\n  // =============================== Select ===============================\n  var childrenSelected = isSubPathKey(selectedKeys, eventKey);\n\n  // =============================== Active ===============================\n  var _useActive = useActive(eventKey, mergedDisabled, onTitleMouseEnter, onTitleMouseLeave),\n    active = _useActive.active,\n    activeProps = _objectWithoutProperties(_useActive, _excluded2);\n\n  // Fallback of active check to avoid hover on menu title or disabled item\n  var _React$useState = React.useState(false),\n    _React$useState2 = _slicedToArray(_React$useState, 2),\n    childrenActive = _React$useState2[0],\n    setChildrenActive = _React$useState2[1];\n  var triggerChildrenActive = function triggerChildrenActive(newActive) {\n    if (!mergedDisabled) {\n      setChildrenActive(newActive);\n    }\n  };\n  var onInternalMouseEnter = function onInternalMouseEnter(domEvent) {\n    triggerChildrenActive(true);\n    onMouseEnter === null || onMouseEnter === void 0 ? void 0 : onMouseEnter({\n      key: eventKey,\n      domEvent: domEvent\n    });\n  };\n  var onInternalMouseLeave = function onInternalMouseLeave(domEvent) {\n    triggerChildrenActive(false);\n    onMouseLeave === null || onMouseLeave === void 0 ? void 0 : onMouseLeave({\n      key: eventKey,\n      domEvent: domEvent\n    });\n  };\n  var mergedActive = React.useMemo(function () {\n    if (active) {\n      return active;\n    }\n    if (mode !== 'inline') {\n      return childrenActive || isSubPathKey([activeKey], eventKey);\n    }\n    return false;\n  }, [mode, active, activeKey, childrenActive, eventKey, isSubPathKey]);\n\n  // ========================== DirectionStyle ==========================\n  var directionStyle = useDirectionStyle(connectedPath.length);\n\n  // =============================== Events ===============================\n  // >>>> Title click\n  var onInternalTitleClick = function onInternalTitleClick(e) {\n    // Skip if disabled\n    if (mergedDisabled) {\n      return;\n    }\n    onTitleClick === null || onTitleClick === void 0 ? void 0 : onTitleClick({\n      key: eventKey,\n      domEvent: e\n    });\n\n    // Trigger open by click when mode is `inline`\n    if (mode === 'inline') {\n      onOpenChange(eventKey, !originOpen);\n    }\n  };\n\n  // >>>> Context for children click\n  var onMergedItemClick = useMemoCallback(function (info) {\n    onClick === null || onClick === void 0 ? void 0 : onClick(warnItemProp(info));\n    onItemClick(info);\n  });\n\n  // >>>>> Visible change\n  var onPopupVisibleChange = function onPopupVisibleChange(newVisible) {\n    if (mode !== 'inline') {\n      onOpenChange(eventKey, newVisible);\n    }\n  };\n\n  /**\n   * Used for accessibility. Helper will focus element without key board.\n   * We should manually trigger an active\n   */\n  var onInternalFocus = function onInternalFocus() {\n    onActive(eventKey);\n  };\n\n  // =============================== Render ===============================\n  var popupId = domDataId && \"\".concat(domDataId, \"-popup\");\n\n  // >>>>> Title\n  var titleNode = /*#__PURE__*/React.createElement(\"div\", _extends({\n    role: \"menuitem\",\n    style: directionStyle,\n    className: \"\".concat(subMenuPrefixCls, \"-title\"),\n    tabIndex: mergedDisabled ? null : -1,\n    ref: elementRef,\n    title: typeof title === 'string' ? title : null,\n    \"data-menu-id\": overflowDisabled && domDataId ? null : domDataId,\n    \"aria-expanded\": open,\n    \"aria-haspopup\": true,\n    \"aria-controls\": popupId,\n    \"aria-disabled\": mergedDisabled,\n    onClick: onInternalTitleClick,\n    onFocus: onInternalFocus\n  }, activeProps), title, /*#__PURE__*/React.createElement(Icon, {\n    icon: mode !== 'horizontal' ? mergedExpandIcon : null,\n    props: _objectSpread(_objectSpread({}, props), {}, {\n      isOpen: open,\n      // [Legacy] Not sure why need this mark\n      isSubMenu: true\n    })\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"\".concat(subMenuPrefixCls, \"-arrow\")\n  })));\n\n  // Cache mode if it change to `inline` which do not have popup motion\n  var triggerModeRef = React.useRef(mode);\n  if (mode !== 'inline' && connectedPath.length > 1) {\n    triggerModeRef.current = 'vertical';\n  } else {\n    triggerModeRef.current = mode;\n  }\n  if (!overflowDisabled) {\n    var triggerMode = triggerModeRef.current;\n\n    // Still wrap with Trigger here since we need avoid react re-mount dom node\n    // Which makes motion failed\n    titleNode = /*#__PURE__*/React.createElement(PopupTrigger, {\n      mode: triggerMode,\n      prefixCls: subMenuPrefixCls,\n      visible: !internalPopupClose && open && mode !== 'inline',\n      popupClassName: popupClassName,\n      popupOffset: popupOffset,\n      popup: /*#__PURE__*/React.createElement(MenuContextProvider\n      // Special handle of horizontal mode\n      , {\n        mode: triggerMode === 'horizontal' ? 'vertical' : triggerMode\n      }, /*#__PURE__*/React.createElement(SubMenuList, {\n        id: popupId,\n        ref: popupRef\n      }, children)),\n      disabled: mergedDisabled,\n      onVisibleChange: onPopupVisibleChange\n    }, titleNode);\n  }\n\n  // >>>>> List node\n  var listNode = /*#__PURE__*/React.createElement(Overflow.Item, _extends({\n    role: \"none\"\n  }, restProps, {\n    component: \"li\",\n    style: style,\n    className: classNames(subMenuPrefixCls, \"\".concat(subMenuPrefixCls, \"-\").concat(mode), className, (_classNames = {}, _defineProperty(_classNames, \"\".concat(subMenuPrefixCls, \"-open\"), open), _defineProperty(_classNames, \"\".concat(subMenuPrefixCls, \"-active\"), mergedActive), _defineProperty(_classNames, \"\".concat(subMenuPrefixCls, \"-selected\"), childrenSelected), _defineProperty(_classNames, \"\".concat(subMenuPrefixCls, \"-disabled\"), mergedDisabled), _classNames)),\n    onMouseEnter: onInternalMouseEnter,\n    onMouseLeave: onInternalMouseLeave\n  }), titleNode, !overflowDisabled && /*#__PURE__*/React.createElement(InlineSubMenuList, {\n    id: popupId,\n    open: open,\n    keyPath: connectedPath\n  }, children));\n  if (_internalRenderSubMenuItem) {\n    listNode = _internalRenderSubMenuItem(listNode, props, {\n      selected: childrenSelected,\n      active: mergedActive,\n      open: open,\n      disabled: mergedDisabled\n    });\n  }\n\n  // >>>>> Render\n  return /*#__PURE__*/React.createElement(MenuContextProvider, {\n    onItemClick: onMergedItemClick,\n    mode: mode === 'horizontal' ? 'vertical' : mode,\n    itemIcon: mergedItemIcon,\n    expandIcon: mergedExpandIcon\n  }, listNode);\n};\nexport default function SubMenu(props) {\n  var eventKey = props.eventKey,\n    children = props.children;\n  var connectedKeyPath = useFullPath(eventKey);\n  var childList = parseChildren(children, connectedKeyPath);\n\n  // ==================== Record KeyPath ====================\n  var measure = useMeasure();\n\n  // eslint-disable-next-line consistent-return\n  React.useEffect(function () {\n    if (measure) {\n      measure.registerPath(eventKey, connectedKeyPath);\n      return function () {\n        measure.unregisterPath(eventKey, connectedKeyPath);\n      };\n    }\n  }, [connectedKeyPath]);\n  var renderNode;\n\n  // ======================== Render ========================\n  if (measure) {\n    renderNode = childList;\n  } else {\n    renderNode = /*#__PURE__*/React.createElement(InternalSubMenu, props, childList);\n  }\n  return /*#__PURE__*/React.createElement(PathTrackerContext.Provider, {\n    value: connectedKeyPath\n  }, renderNode);\n}","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _excluded = [\"prefixCls\", \"rootClassName\", \"style\", \"className\", \"tabIndex\", \"items\", \"children\", \"direction\", \"id\", \"mode\", \"inlineCollapsed\", \"disabled\", \"disabledOverflow\", \"subMenuOpenDelay\", \"subMenuCloseDelay\", \"forceSubMenuRender\", \"defaultOpenKeys\", \"openKeys\", \"activeKey\", \"defaultActiveFirst\", \"selectable\", \"multiple\", \"defaultSelectedKeys\", \"selectedKeys\", \"onSelect\", \"onDeselect\", \"inlineIndent\", \"motion\", \"defaultMotions\", \"triggerSubMenuAction\", \"builtinPlacements\", \"itemIcon\", \"expandIcon\", \"overflowedIndicator\", \"overflowedIndicatorPopupClassName\", \"getPopupContainer\", \"onClick\", \"onOpenChange\", \"onKeyDown\", \"openAnimation\", \"openTransitionName\", \"_internalRenderMenuItem\", \"_internalRenderSubMenuItem\"];\nimport classNames from 'classnames';\nimport Overflow from 'rc-overflow';\nimport useMergedState from \"rc-util/es/hooks/useMergedState\";\nimport warning from \"rc-util/es/warning\";\nimport * as React from 'react';\nimport { useImperativeHandle } from 'react';\nimport { flushSync } from 'react-dom';\nimport isEqual from \"rc-util/es/isEqual\";\nimport { getMenuId, IdContext } from \"./context/IdContext\";\nimport MenuContextProvider from \"./context/MenuContext\";\nimport { PathRegisterContext, PathUserContext } from \"./context/PathContext\";\nimport PrivateContext from \"./context/PrivateContext\";\nimport useAccessibility from \"./hooks/useAccessibility\";\nimport useKeyRecords, { OVERFLOW_KEY } from \"./hooks/useKeyRecords\";\nimport useMemoCallback from \"./hooks/useMemoCallback\";\nimport useUUID from \"./hooks/useUUID\";\nimport MenuItem from \"./MenuItem\";\nimport SubMenu from \"./SubMenu\";\nimport { parseItems } from \"./utils/nodeUtil\";\nimport { warnItemProp } from \"./utils/warnUtil\";\n\n/**\n * Menu modify after refactor:\n * ## Add\n * - disabled\n *\n * ## Remove\n * - openTransitionName\n * - openAnimation\n * - onDestroy\n * - siderCollapsed: Seems antd do not use this prop (Need test in antd)\n * - collapsedWidth: Seems this logic should be handle by antd Layout.Sider\n */\n\n// optimize for render\nvar EMPTY_LIST = [];\nvar Menu = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  var _childList$, _classNames;\n  var _ref = props,\n    _ref$prefixCls = _ref.prefixCls,\n    prefixCls = _ref$prefixCls === void 0 ? 'rc-menu' : _ref$prefixCls,\n    rootClassName = _ref.rootClassName,\n    style = _ref.style,\n    className = _ref.className,\n    _ref$tabIndex = _ref.tabIndex,\n    tabIndex = _ref$tabIndex === void 0 ? 0 : _ref$tabIndex,\n    items = _ref.items,\n    children = _ref.children,\n    direction = _ref.direction,\n    id = _ref.id,\n    _ref$mode = _ref.mode,\n    mode = _ref$mode === void 0 ? 'vertical' : _ref$mode,\n    inlineCollapsed = _ref.inlineCollapsed,\n    disabled = _ref.disabled,\n    disabledOverflow = _ref.disabledOverflow,\n    _ref$subMenuOpenDelay = _ref.subMenuOpenDelay,\n    subMenuOpenDelay = _ref$subMenuOpenDelay === void 0 ? 0.1 : _ref$subMenuOpenDelay,\n    _ref$subMenuCloseDela = _ref.subMenuCloseDelay,\n    subMenuCloseDelay = _ref$subMenuCloseDela === void 0 ? 0.1 : _ref$subMenuCloseDela,\n    forceSubMenuRender = _ref.forceSubMenuRender,\n    defaultOpenKeys = _ref.defaultOpenKeys,\n    openKeys = _ref.openKeys,\n    activeKey = _ref.activeKey,\n    defaultActiveFirst = _ref.defaultActiveFirst,\n    _ref$selectable = _ref.selectable,\n    selectable = _ref$selectable === void 0 ? true : _ref$selectable,\n    _ref$multiple = _ref.multiple,\n    multiple = _ref$multiple === void 0 ? false : _ref$multiple,\n    defaultSelectedKeys = _ref.defaultSelectedKeys,\n    selectedKeys = _ref.selectedKeys,\n    onSelect = _ref.onSelect,\n    onDeselect = _ref.onDeselect,\n    _ref$inlineIndent = _ref.inlineIndent,\n    inlineIndent = _ref$inlineIndent === void 0 ? 24 : _ref$inlineIndent,\n    motion = _ref.motion,\n    defaultMotions = _ref.defaultMotions,\n    _ref$triggerSubMenuAc = _ref.triggerSubMenuAction,\n    triggerSubMenuAction = _ref$triggerSubMenuAc === void 0 ? 'hover' : _ref$triggerSubMenuAc,\n    builtinPlacements = _ref.builtinPlacements,\n    itemIcon = _ref.itemIcon,\n    expandIcon = _ref.expandIcon,\n    _ref$overflowedIndica = _ref.overflowedIndicator,\n    overflowedIndicator = _ref$overflowedIndica === void 0 ? '...' : _ref$overflowedIndica,\n    overflowedIndicatorPopupClassName = _ref.overflowedIndicatorPopupClassName,\n    getPopupContainer = _ref.getPopupContainer,\n    onClick = _ref.onClick,\n    onOpenChange = _ref.onOpenChange,\n    onKeyDown = _ref.onKeyDown,\n    openAnimation = _ref.openAnimation,\n    openTransitionName = _ref.openTransitionName,\n    _internalRenderMenuItem = _ref._internalRenderMenuItem,\n    _internalRenderSubMenuItem = _ref._internalRenderSubMenuItem,\n    restProps = _objectWithoutProperties(_ref, _excluded);\n  var childList = React.useMemo(function () {\n    return parseItems(children, items, EMPTY_LIST);\n  }, [children, items]);\n  var _React$useState = React.useState(false),\n    _React$useState2 = _slicedToArray(_React$useState, 2),\n    mounted = _React$useState2[0],\n    setMounted = _React$useState2[1];\n  var containerRef = React.useRef();\n  var uuid = useUUID(id);\n  var isRtl = direction === 'rtl';\n\n  // ========================= Warn =========================\n  if (process.env.NODE_ENV !== 'production') {\n    warning(!openAnimation && !openTransitionName, '`openAnimation` and `openTransitionName` is removed. Please use `motion` or `defaultMotion` instead.');\n  }\n\n  // ========================= Open =========================\n  var _useMergedState = useMergedState(defaultOpenKeys, {\n      value: openKeys,\n      postState: function postState(keys) {\n        return keys || EMPTY_LIST;\n      }\n    }),\n    _useMergedState2 = _slicedToArray(_useMergedState, 2),\n    mergedOpenKeys = _useMergedState2[0],\n    setMergedOpenKeys = _useMergedState2[1];\n\n  // React 18 will merge mouse event which means we open key will not sync\n  // ref: https://github.com/ant-design/ant-design/issues/38818\n  var triggerOpenKeys = function triggerOpenKeys(keys) {\n    var forceFlush = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n    function doUpdate() {\n      setMergedOpenKeys(keys);\n      onOpenChange === null || onOpenChange === void 0 ? void 0 : onOpenChange(keys);\n    }\n    if (forceFlush) {\n      flushSync(doUpdate);\n    } else {\n      doUpdate();\n    }\n  };\n\n  // >>>>> Cache & Reset open keys when inlineCollapsed changed\n  var _React$useState3 = React.useState(mergedOpenKeys),\n    _React$useState4 = _slicedToArray(_React$useState3, 2),\n    inlineCacheOpenKeys = _React$useState4[0],\n    setInlineCacheOpenKeys = _React$useState4[1];\n  var mountRef = React.useRef(false);\n\n  // ========================= Mode =========================\n  var _React$useMemo = React.useMemo(function () {\n      if ((mode === 'inline' || mode === 'vertical') && inlineCollapsed) {\n        return ['vertical', inlineCollapsed];\n      }\n      return [mode, false];\n    }, [mode, inlineCollapsed]),\n    _React$useMemo2 = _slicedToArray(_React$useMemo, 2),\n    mergedMode = _React$useMemo2[0],\n    mergedInlineCollapsed = _React$useMemo2[1];\n  var isInlineMode = mergedMode === 'inline';\n  var _React$useState5 = React.useState(mergedMode),\n    _React$useState6 = _slicedToArray(_React$useState5, 2),\n    internalMode = _React$useState6[0],\n    setInternalMode = _React$useState6[1];\n  var _React$useState7 = React.useState(mergedInlineCollapsed),\n    _React$useState8 = _slicedToArray(_React$useState7, 2),\n    internalInlineCollapsed = _React$useState8[0],\n    setInternalInlineCollapsed = _React$useState8[1];\n  React.useEffect(function () {\n    setInternalMode(mergedMode);\n    setInternalInlineCollapsed(mergedInlineCollapsed);\n    if (!mountRef.current) {\n      return;\n    }\n    // Synchronously update MergedOpenKeys\n    if (isInlineMode) {\n      setMergedOpenKeys(inlineCacheOpenKeys);\n    } else {\n      // Trigger open event in case its in control\n      triggerOpenKeys(EMPTY_LIST);\n    }\n  }, [mergedMode, mergedInlineCollapsed]);\n\n  // ====================== Responsive ======================\n  var _React$useState9 = React.useState(0),\n    _React$useState10 = _slicedToArray(_React$useState9, 2),\n    lastVisibleIndex = _React$useState10[0],\n    setLastVisibleIndex = _React$useState10[1];\n  var allVisible = lastVisibleIndex >= childList.length - 1 || internalMode !== 'horizontal' || disabledOverflow;\n\n  // Cache\n  React.useEffect(function () {\n    if (isInlineMode) {\n      setInlineCacheOpenKeys(mergedOpenKeys);\n    }\n  }, [mergedOpenKeys]);\n  React.useEffect(function () {\n    mountRef.current = true;\n    return function () {\n      mountRef.current = false;\n    };\n  }, []);\n\n  // ========================= Path =========================\n  var _useKeyRecords = useKeyRecords(),\n    registerPath = _useKeyRecords.registerPath,\n    unregisterPath = _useKeyRecords.unregisterPath,\n    refreshOverflowKeys = _useKeyRecords.refreshOverflowKeys,\n    isSubPathKey = _useKeyRecords.isSubPathKey,\n    getKeyPath = _useKeyRecords.getKeyPath,\n    getKeys = _useKeyRecords.getKeys,\n    getSubPathKeys = _useKeyRecords.getSubPathKeys;\n  var registerPathContext = React.useMemo(function () {\n    return {\n      registerPath: registerPath,\n      unregisterPath: unregisterPath\n    };\n  }, [registerPath, unregisterPath]);\n  var pathUserContext = React.useMemo(function () {\n    return {\n      isSubPathKey: isSubPathKey\n    };\n  }, [isSubPathKey]);\n  React.useEffect(function () {\n    refreshOverflowKeys(allVisible ? EMPTY_LIST : childList.slice(lastVisibleIndex + 1).map(function (child) {\n      return child.key;\n    }));\n  }, [lastVisibleIndex, allVisible]);\n\n  // ======================== Active ========================\n  var _useMergedState3 = useMergedState(activeKey || defaultActiveFirst && ((_childList$ = childList[0]) === null || _childList$ === void 0 ? void 0 : _childList$.key), {\n      value: activeKey\n    }),\n    _useMergedState4 = _slicedToArray(_useMergedState3, 2),\n    mergedActiveKey = _useMergedState4[0],\n    setMergedActiveKey = _useMergedState4[1];\n  var onActive = useMemoCallback(function (key) {\n    setMergedActiveKey(key);\n  });\n  var onInactive = useMemoCallback(function () {\n    setMergedActiveKey(undefined);\n  });\n  useImperativeHandle(ref, function () {\n    return {\n      list: containerRef.current,\n      focus: function focus(options) {\n        var _childList$find;\n        var shouldFocusKey = mergedActiveKey !== null && mergedActiveKey !== void 0 ? mergedActiveKey : (_childList$find = childList.find(function (node) {\n          return !node.props.disabled;\n        })) === null || _childList$find === void 0 ? void 0 : _childList$find.key;\n        if (shouldFocusKey) {\n          var _containerRef$current, _containerRef$current2, _containerRef$current3;\n          (_containerRef$current = containerRef.current) === null || _containerRef$current === void 0 ? void 0 : (_containerRef$current2 = _containerRef$current.querySelector(\"li[data-menu-id='\".concat(getMenuId(uuid, shouldFocusKey), \"']\"))) === null || _containerRef$current2 === void 0 ? void 0 : (_containerRef$current3 = _containerRef$current2.focus) === null || _containerRef$current3 === void 0 ? void 0 : _containerRef$current3.call(_containerRef$current2, options);\n        }\n      }\n    };\n  });\n\n  // ======================== Select ========================\n  // >>>>> Select keys\n  var _useMergedState5 = useMergedState(defaultSelectedKeys || [], {\n      value: selectedKeys,\n      // Legacy convert key to array\n      postState: function postState(keys) {\n        if (Array.isArray(keys)) {\n          return keys;\n        }\n        if (keys === null || keys === undefined) {\n          return EMPTY_LIST;\n        }\n        return [keys];\n      }\n    }),\n    _useMergedState6 = _slicedToArray(_useMergedState5, 2),\n    mergedSelectKeys = _useMergedState6[0],\n    setMergedSelectKeys = _useMergedState6[1];\n\n  // >>>>> Trigger select\n  var triggerSelection = function triggerSelection(info) {\n    if (selectable) {\n      // Insert or Remove\n      var targetKey = info.key;\n      var exist = mergedSelectKeys.includes(targetKey);\n      var newSelectKeys;\n      if (multiple) {\n        if (exist) {\n          newSelectKeys = mergedSelectKeys.filter(function (key) {\n            return key !== targetKey;\n          });\n        } else {\n          newSelectKeys = [].concat(_toConsumableArray(mergedSelectKeys), [targetKey]);\n        }\n      } else {\n        newSelectKeys = [targetKey];\n      }\n      setMergedSelectKeys(newSelectKeys);\n\n      // Trigger event\n      var selectInfo = _objectSpread(_objectSpread({}, info), {}, {\n        selectedKeys: newSelectKeys\n      });\n      if (exist) {\n        onDeselect === null || onDeselect === void 0 ? void 0 : onDeselect(selectInfo);\n      } else {\n        onSelect === null || onSelect === void 0 ? void 0 : onSelect(selectInfo);\n      }\n    }\n\n    // Whatever selectable, always close it\n    if (!multiple && mergedOpenKeys.length && internalMode !== 'inline') {\n      triggerOpenKeys(EMPTY_LIST);\n    }\n  };\n\n  // ========================= Open =========================\n  /**\n   * Click for item. SubMenu do not have selection status\n   */\n  var onInternalClick = useMemoCallback(function (info) {\n    onClick === null || onClick === void 0 ? void 0 : onClick(warnItemProp(info));\n    triggerSelection(info);\n  });\n  var onInternalOpenChange = useMemoCallback(function (key, open) {\n    var newOpenKeys = mergedOpenKeys.filter(function (k) {\n      return k !== key;\n    });\n    if (open) {\n      newOpenKeys.push(key);\n    } else if (internalMode !== 'inline') {\n      // We need find all related popup to close\n      var subPathKeys = getSubPathKeys(key);\n      newOpenKeys = newOpenKeys.filter(function (k) {\n        return !subPathKeys.has(k);\n      });\n    }\n    if (!isEqual(mergedOpenKeys, newOpenKeys, true)) {\n      triggerOpenKeys(newOpenKeys, true);\n    }\n  });\n  var getInternalPopupContainer = useMemoCallback(getPopupContainer);\n\n  // ==================== Accessibility =====================\n  var triggerAccessibilityOpen = function triggerAccessibilityOpen(key, open) {\n    var nextOpen = open !== null && open !== void 0 ? open : !mergedOpenKeys.includes(key);\n    onInternalOpenChange(key, nextOpen);\n  };\n  var onInternalKeyDown = useAccessibility(internalMode, mergedActiveKey, isRtl, uuid, containerRef, getKeys, getKeyPath, setMergedActiveKey, triggerAccessibilityOpen, onKeyDown);\n\n  // ======================== Effect ========================\n  React.useEffect(function () {\n    setMounted(true);\n  }, []);\n\n  // ======================= Context ========================\n  var privateContext = React.useMemo(function () {\n    return {\n      _internalRenderMenuItem: _internalRenderMenuItem,\n      _internalRenderSubMenuItem: _internalRenderSubMenuItem\n    };\n  }, [_internalRenderMenuItem, _internalRenderSubMenuItem]);\n\n  // ======================== Render ========================\n\n  // >>>>> Children\n  var wrappedChildList = internalMode !== 'horizontal' || disabledOverflow ? childList :\n  // Need wrap for overflow dropdown that do not response for open\n  childList.map(function (child, index) {\n    return (\n      /*#__PURE__*/\n      // Always wrap provider to avoid sub node re-mount\n      React.createElement(MenuContextProvider, {\n        key: child.key,\n        overflowDisabled: index > lastVisibleIndex\n      }, child)\n    );\n  });\n\n  // >>>>> Container\n  var container = /*#__PURE__*/React.createElement(Overflow, _extends({\n    id: id,\n    ref: containerRef,\n    prefixCls: \"\".concat(prefixCls, \"-overflow\"),\n    component: \"ul\",\n    itemComponent: MenuItem,\n    className: classNames(prefixCls, \"\".concat(prefixCls, \"-root\"), \"\".concat(prefixCls, \"-\").concat(internalMode), className, (_classNames = {}, _defineProperty(_classNames, \"\".concat(prefixCls, \"-inline-collapsed\"), internalInlineCollapsed), _defineProperty(_classNames, \"\".concat(prefixCls, \"-rtl\"), isRtl), _classNames), rootClassName),\n    dir: direction,\n    style: style,\n    role: \"menu\",\n    tabIndex: tabIndex,\n    data: wrappedChildList,\n    renderRawItem: function renderRawItem(node) {\n      return node;\n    },\n    renderRawRest: function renderRawRest(omitItems) {\n      // We use origin list since wrapped list use context to prevent open\n      var len = omitItems.length;\n      var originOmitItems = len ? childList.slice(-len) : null;\n      return /*#__PURE__*/React.createElement(SubMenu, {\n        eventKey: OVERFLOW_KEY,\n        title: overflowedIndicator,\n        disabled: allVisible,\n        internalPopupClose: len === 0,\n        popupClassName: overflowedIndicatorPopupClassName\n      }, originOmitItems);\n    },\n    maxCount: internalMode !== 'horizontal' || disabledOverflow ? Overflow.INVALIDATE : Overflow.RESPONSIVE,\n    ssr: \"full\",\n    \"data-menu-list\": true,\n    onVisibleChange: function onVisibleChange(newLastIndex) {\n      setLastVisibleIndex(newLastIndex);\n    },\n    onKeyDown: onInternalKeyDown\n  }, restProps));\n\n  // >>>>> Render\n  return /*#__PURE__*/React.createElement(PrivateContext.Provider, {\n    value: privateContext\n  }, /*#__PURE__*/React.createElement(IdContext.Provider, {\n    value: uuid\n  }, /*#__PURE__*/React.createElement(MenuContextProvider, {\n    prefixCls: prefixCls,\n    rootClassName: rootClassName,\n    mode: internalMode,\n    openKeys: mergedOpenKeys,\n    rtl: isRtl\n    // Disabled\n    ,\n    disabled: disabled\n    // Motion\n    ,\n    motion: mounted ? motion : null,\n    defaultMotions: mounted ? defaultMotions : null\n    // Active\n    ,\n    activeKey: mergedActiveKey,\n    onActive: onActive,\n    onInactive: onInactive\n    // Selection\n    ,\n    selectedKeys: mergedSelectKeys\n    // Level\n    ,\n    inlineIndent: inlineIndent\n    // Popup\n    ,\n    subMenuOpenDelay: subMenuOpenDelay,\n    subMenuCloseDelay: subMenuCloseDelay,\n    forceSubMenuRender: forceSubMenuRender,\n    builtinPlacements: builtinPlacements,\n    triggerSubMenuAction: triggerSubMenuAction,\n    getPopupContainer: getInternalPopupContainer\n    // Icon\n    ,\n    itemIcon: itemIcon,\n    expandIcon: expandIcon\n    // Events\n    ,\n    onItemClick: onInternalClick,\n    onOpenChange: onInternalOpenChange\n  }, /*#__PURE__*/React.createElement(PathUserContext.Provider, {\n    value: pathUserContext\n  }, container), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: 'none'\n    },\n    \"aria-hidden\": true\n  }, /*#__PURE__*/React.createElement(PathRegisterContext.Provider, {\n    value: registerPathContext\n  }, childList)))));\n});\nexport default Menu;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _excluded = [\"className\", \"title\", \"eventKey\", \"children\"],\n  _excluded2 = [\"children\"];\nimport classNames from 'classnames';\nimport omit from \"rc-util/es/omit\";\nimport * as React from 'react';\nimport { MenuContext } from \"./context/MenuContext\";\nimport { useFullPath, useMeasure } from \"./context/PathContext\";\nimport { parseChildren } from \"./utils/nodeUtil\";\nvar InternalMenuItemGroup = function InternalMenuItemGroup(_ref) {\n  var className = _ref.className,\n    title = _ref.title,\n    eventKey = _ref.eventKey,\n    children = _ref.children,\n    restProps = _objectWithoutProperties(_ref, _excluded);\n  var _React$useContext = React.useContext(MenuContext),\n    prefixCls = _React$useContext.prefixCls;\n  var groupPrefixCls = \"\".concat(prefixCls, \"-item-group\");\n  return /*#__PURE__*/React.createElement(\"li\", _extends({\n    role: \"presentation\"\n  }, restProps, {\n    onClick: function onClick(e) {\n      return e.stopPropagation();\n    },\n    className: classNames(groupPrefixCls, className)\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    role: \"presentation\",\n    className: \"\".concat(groupPrefixCls, \"-title\"),\n    title: typeof title === 'string' ? title : undefined\n  }, title), /*#__PURE__*/React.createElement(\"ul\", {\n    role: \"group\",\n    className: \"\".concat(groupPrefixCls, \"-list\")\n  }, children));\n};\nexport default function MenuItemGroup(_ref2) {\n  var children = _ref2.children,\n    props = _objectWithoutProperties(_ref2, _excluded2);\n  var connectedKeyPath = useFullPath(props.eventKey);\n  var childList = parseChildren(children, connectedKeyPath);\n  var measure = useMeasure();\n  if (measure) {\n    return childList;\n  }\n  return /*#__PURE__*/React.createElement(InternalMenuItemGroup, omit(props, ['warnKey']), childList);\n}","import * as React from 'react';\nimport classNames from 'classnames';\nimport { MenuContext } from \"./context/MenuContext\";\nimport { useMeasure } from \"./context/PathContext\";\nexport default function Divider(_ref) {\n  var className = _ref.className,\n    style = _ref.style;\n  var _React$useContext = React.useContext(MenuContext),\n    prefixCls = _React$useContext.prefixCls;\n  var measure = useMeasure();\n  if (measure) {\n    return null;\n  }\n  return /*#__PURE__*/React.createElement(\"li\", {\n    className: classNames(\"\".concat(prefixCls, \"-item-divider\"), className),\n    style: style\n  });\n}","import Menu from \"./Menu\";\nimport MenuItem from \"./MenuItem\";\nimport SubMenu from \"./SubMenu\";\nimport MenuItemGroup from \"./MenuItemGroup\";\nimport { useFullPath } from \"./context/PathContext\";\nimport Divider from \"./Divider\";\nexport { SubMenu, MenuItem as Item, MenuItem, MenuItemGroup, MenuItemGroup as ItemGroup, Divider, /** @private Only used for antd internal. Do not use in your production. */\nuseFullPath };\nvar ExportMenu = Menu;\nExportMenu.Item = MenuItem;\nExportMenu.SubMenu = SubMenu;\nExportMenu.ItemGroup = MenuItemGroup;\nExportMenu.Divider = Divider;\nexport default ExportMenu;","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport classNames from 'classnames';\nimport Dropdown from 'rc-dropdown';\nimport Menu, { MenuItem } from 'rc-menu';\nimport KeyCode from \"rc-util/es/KeyCode\";\nimport * as React from 'react';\nimport { useEffect, useState } from 'react';\nimport AddButton from \"./AddButton\";\n\nfunction OperationNode(_ref, ref) {\n  var prefixCls = _ref.prefixCls,\n      id = _ref.id,\n      tabs = _ref.tabs,\n      locale = _ref.locale,\n      mobile = _ref.mobile,\n      _ref$moreIcon = _ref.moreIcon,\n      moreIcon = _ref$moreIcon === void 0 ? 'More' : _ref$moreIcon,\n      moreTransitionName = _ref.moreTransitionName,\n      style = _ref.style,\n      className = _ref.className,\n      editable = _ref.editable,\n      tabBarGutter = _ref.tabBarGutter,\n      rtl = _ref.rtl,\n      removeAriaLabel = _ref.removeAriaLabel,\n      onTabClick = _ref.onTabClick,\n      getPopupContainer = _ref.getPopupContainer,\n      popupClassName = _ref.popupClassName;\n\n  // ======================== Dropdown ========================\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      open = _useState2[0],\n      setOpen = _useState2[1];\n\n  var _useState3 = useState(null),\n      _useState4 = _slicedToArray(_useState3, 2),\n      selectedKey = _useState4[0],\n      setSelectedKey = _useState4[1];\n\n  var popupId = \"\".concat(id, \"-more-popup\");\n  var dropdownPrefix = \"\".concat(prefixCls, \"-dropdown\");\n  var selectedItemId = selectedKey !== null ? \"\".concat(popupId, \"-\").concat(selectedKey) : null;\n  var dropdownAriaLabel = locale === null || locale === void 0 ? void 0 : locale.dropdownAriaLabel;\n\n  function onRemoveTab(event, key) {\n    event.preventDefault();\n    event.stopPropagation();\n    editable.onEdit('remove', {\n      key: key,\n      event: event\n    });\n  }\n\n  var menu = /*#__PURE__*/React.createElement(Menu, {\n    onClick: function onClick(_ref2) {\n      var key = _ref2.key,\n          domEvent = _ref2.domEvent;\n      onTabClick(key, domEvent);\n      setOpen(false);\n    },\n    prefixCls: \"\".concat(dropdownPrefix, \"-menu\"),\n    id: popupId,\n    tabIndex: -1,\n    role: \"listbox\",\n    \"aria-activedescendant\": selectedItemId,\n    selectedKeys: [selectedKey],\n    \"aria-label\": dropdownAriaLabel !== undefined ? dropdownAriaLabel : 'expanded dropdown'\n  }, tabs.map(function (tab) {\n    var removable = editable && tab.closable !== false && !tab.disabled;\n    return /*#__PURE__*/React.createElement(MenuItem, {\n      key: tab.key,\n      id: \"\".concat(popupId, \"-\").concat(tab.key),\n      role: \"option\",\n      \"aria-controls\": id && \"\".concat(id, \"-panel-\").concat(tab.key),\n      disabled: tab.disabled\n    }, /*#__PURE__*/React.createElement(\"span\", null, tab.label), removable && /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      \"aria-label\": removeAriaLabel || 'remove',\n      tabIndex: 0,\n      className: \"\".concat(dropdownPrefix, \"-menu-item-remove\"),\n      onClick: function onClick(e) {\n        e.stopPropagation();\n        onRemoveTab(e, tab.key);\n      }\n    }, tab.closeIcon || editable.removeIcon || '×'));\n  }));\n\n  function selectOffset(offset) {\n    var enabledTabs = tabs.filter(function (tab) {\n      return !tab.disabled;\n    });\n    var selectedIndex = enabledTabs.findIndex(function (tab) {\n      return tab.key === selectedKey;\n    }) || 0;\n    var len = enabledTabs.length;\n\n    for (var i = 0; i < len; i += 1) {\n      selectedIndex = (selectedIndex + offset + len) % len;\n      var tab = enabledTabs[selectedIndex];\n\n      if (!tab.disabled) {\n        setSelectedKey(tab.key);\n        return;\n      }\n    }\n  }\n\n  function onKeyDown(e) {\n    var which = e.which;\n\n    if (!open) {\n      if ([KeyCode.DOWN, KeyCode.SPACE, KeyCode.ENTER].includes(which)) {\n        setOpen(true);\n        e.preventDefault();\n      }\n\n      return;\n    }\n\n    switch (which) {\n      case KeyCode.UP:\n        selectOffset(-1);\n        e.preventDefault();\n        break;\n\n      case KeyCode.DOWN:\n        selectOffset(1);\n        e.preventDefault();\n        break;\n\n      case KeyCode.ESC:\n        setOpen(false);\n        break;\n\n      case KeyCode.SPACE:\n      case KeyCode.ENTER:\n        if (selectedKey !== null) onTabClick(selectedKey, e);\n        break;\n    }\n  } // ========================= Effect =========================\n\n\n  useEffect(function () {\n    // We use query element here to avoid React strict warning\n    var ele = document.getElementById(selectedItemId);\n\n    if (ele && ele.scrollIntoView) {\n      ele.scrollIntoView(false);\n    }\n  }, [selectedKey]);\n  useEffect(function () {\n    if (!open) {\n      setSelectedKey(null);\n    }\n  }, [open]); // ========================= Render =========================\n\n  var moreStyle = _defineProperty({}, rtl ? 'marginRight' : 'marginLeft', tabBarGutter);\n\n  if (!tabs.length) {\n    moreStyle.visibility = 'hidden';\n    moreStyle.order = 1;\n  }\n\n  var overlayClassName = classNames(_defineProperty({}, \"\".concat(dropdownPrefix, \"-rtl\"), rtl));\n  var moreNode = mobile ? null : /*#__PURE__*/React.createElement(Dropdown, {\n    prefixCls: dropdownPrefix,\n    overlay: menu,\n    trigger: ['hover'],\n    visible: tabs.length ? open : false,\n    transitionName: moreTransitionName,\n    onVisibleChange: setOpen,\n    overlayClassName: classNames(overlayClassName, popupClassName),\n    mouseEnterDelay: 0.1,\n    mouseLeaveDelay: 0.1,\n    getPopupContainer: getPopupContainer\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    className: \"\".concat(prefixCls, \"-nav-more\"),\n    style: moreStyle,\n    tabIndex: -1,\n    \"aria-hidden\": \"true\",\n    \"aria-haspopup\": \"listbox\",\n    \"aria-controls\": popupId,\n    id: \"\".concat(id, \"-more\"),\n    \"aria-expanded\": open,\n    onKeyDown: onKeyDown\n  }, moreIcon));\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: classNames(\"\".concat(prefixCls, \"-nav-operations\"), className),\n    style: style,\n    ref: ref\n  }, moreNode, /*#__PURE__*/React.createElement(AddButton, {\n    prefixCls: prefixCls,\n    locale: locale,\n    editable: editable\n  }));\n}\n\nexport default /*#__PURE__*/React.memo( /*#__PURE__*/React.forwardRef(OperationNode), function (_, next) {\n  return (// https://github.com/ant-design/ant-design/issues/32544\n    // We'd better remove syntactic sugar in `rc-menu` since this has perf issue\n    next.tabMoving\n  );\n});","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport classNames from 'classnames';\nimport KeyCode from \"rc-util/es/KeyCode\";\nimport * as React from 'react';\n\nfunction TabNode(_ref) {\n  var _classNames;\n\n  var prefixCls = _ref.prefixCls,\n      id = _ref.id,\n      active = _ref.active,\n      _ref$tab = _ref.tab,\n      key = _ref$tab.key,\n      label = _ref$tab.label,\n      disabled = _ref$tab.disabled,\n      closeIcon = _ref$tab.closeIcon,\n      closable = _ref.closable,\n      renderWrapper = _ref.renderWrapper,\n      removeAriaLabel = _ref.removeAriaLabel,\n      editable = _ref.editable,\n      onClick = _ref.onClick,\n      onFocus = _ref.onFocus,\n      style = _ref.style;\n  var tabPrefix = \"\".concat(prefixCls, \"-tab\");\n  var removable = editable && closable !== false && !disabled;\n\n  function onInternalClick(e) {\n    if (disabled) {\n      return;\n    }\n\n    onClick(e);\n  }\n\n  function onRemoveTab(event) {\n    event.preventDefault();\n    event.stopPropagation();\n    editable.onEdit('remove', {\n      key: key,\n      event: event\n    });\n  }\n\n  var node = /*#__PURE__*/React.createElement(\"div\", {\n    key: key // ref={ref}\n    ,\n    \"data-node-key\": key,\n    className: classNames(tabPrefix, (_classNames = {}, _defineProperty(_classNames, \"\".concat(tabPrefix, \"-with-remove\"), removable), _defineProperty(_classNames, \"\".concat(tabPrefix, \"-active\"), active), _defineProperty(_classNames, \"\".concat(tabPrefix, \"-disabled\"), disabled), _classNames)),\n    style: style,\n    onClick: onInternalClick\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    role: \"tab\",\n    \"aria-selected\": active,\n    id: id && \"\".concat(id, \"-tab-\").concat(key),\n    className: \"\".concat(tabPrefix, \"-btn\"),\n    \"aria-controls\": id && \"\".concat(id, \"-panel-\").concat(key),\n    \"aria-disabled\": disabled,\n    tabIndex: disabled ? null : 0,\n    onClick: function onClick(e) {\n      e.stopPropagation();\n      onInternalClick(e);\n    },\n    onKeyDown: function onKeyDown(e) {\n      if ([KeyCode.SPACE, KeyCode.ENTER].includes(e.which)) {\n        e.preventDefault();\n        onInternalClick(e);\n      }\n    },\n    onFocus: onFocus\n  }, label), removable && /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    \"aria-label\": removeAriaLabel || 'remove',\n    tabIndex: 0,\n    className: \"\".concat(tabPrefix, \"-remove\"),\n    onClick: function onClick(e) {\n      e.stopPropagation();\n      onRemoveTab(e);\n    }\n  }, closeIcon || editable.removeIcon || '×'));\n  return renderWrapper ? renderWrapper(node) : node;\n}\n\nexport default TabNode;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport classNames from 'classnames';\nimport ResizeObserver from 'rc-resize-observer';\nimport raf from \"rc-util/es/raf\";\nimport { useComposeRef } from \"rc-util/es/ref\";\nimport * as React from 'react';\nimport { useEffect, useRef, useState } from 'react';\nimport useOffsets from \"../hooks/useOffsets\";\nimport useRaf, { useRafState } from \"../hooks/useRaf\";\nimport useSyncState from \"../hooks/useSyncState\";\nimport useTouchMove from \"../hooks/useTouchMove\";\nimport useVisibleRange from \"../hooks/useVisibleRange\";\nimport TabContext from \"../TabContext\";\nimport { stringify } from \"../util\";\nimport AddButton from \"./AddButton\";\nimport ExtraContent from \"./ExtraContent\";\nimport OperationNode from \"./OperationNode\";\nimport TabNode from \"./TabNode\";\n\nvar getSize = function getSize(refObj) {\n  var _ref = refObj.current || {},\n      _ref$offsetWidth = _ref.offsetWidth,\n      offsetWidth = _ref$offsetWidth === void 0 ? 0 : _ref$offsetWidth,\n      _ref$offsetHeight = _ref.offsetHeight,\n      offsetHeight = _ref$offsetHeight === void 0 ? 0 : _ref$offsetHeight;\n\n  return [offsetWidth, offsetHeight];\n};\n/**\n * Convert `SizeInfo` to unit value. Such as [123, 456] with `top` position get `123`\n */\n\n\nvar getUnitValue = function getUnitValue(size, tabPositionTopOrBottom) {\n  return size[tabPositionTopOrBottom ? 0 : 1];\n};\n\nfunction TabNavList(props, ref) {\n  var _classNames;\n\n  var _React$useContext = React.useContext(TabContext),\n      prefixCls = _React$useContext.prefixCls,\n      tabs = _React$useContext.tabs;\n\n  var className = props.className,\n      style = props.style,\n      id = props.id,\n      animated = props.animated,\n      activeKey = props.activeKey,\n      rtl = props.rtl,\n      extra = props.extra,\n      editable = props.editable,\n      locale = props.locale,\n      tabPosition = props.tabPosition,\n      tabBarGutter = props.tabBarGutter,\n      children = props.children,\n      onTabClick = props.onTabClick,\n      onTabScroll = props.onTabScroll;\n  var containerRef = useRef();\n  var extraLeftRef = useRef();\n  var extraRightRef = useRef();\n  var tabsWrapperRef = useRef();\n  var tabListRef = useRef();\n  var operationsRef = useRef();\n  var innerAddButtonRef = useRef(); // const [getBtnRef, removeBtnRef] = useRefs<HTMLDivElement>();\n\n  var tabPositionTopOrBottom = tabPosition === 'top' || tabPosition === 'bottom';\n\n  var _useSyncState = useSyncState(0, function (next, prev) {\n    if (tabPositionTopOrBottom && onTabScroll) {\n      onTabScroll({\n        direction: next > prev ? 'left' : 'right'\n      });\n    }\n  }),\n      _useSyncState2 = _slicedToArray(_useSyncState, 2),\n      transformLeft = _useSyncState2[0],\n      setTransformLeft = _useSyncState2[1];\n\n  var _useSyncState3 = useSyncState(0, function (next, prev) {\n    if (!tabPositionTopOrBottom && onTabScroll) {\n      onTabScroll({\n        direction: next > prev ? 'top' : 'bottom'\n      });\n    }\n  }),\n      _useSyncState4 = _slicedToArray(_useSyncState3, 2),\n      transformTop = _useSyncState4[0],\n      setTransformTop = _useSyncState4[1];\n\n  var _useState = useState([0, 0]),\n      _useState2 = _slicedToArray(_useState, 2),\n      containerExcludeExtraSize = _useState2[0],\n      setContainerExcludeExtraSize = _useState2[1];\n\n  var _useState3 = useState([0, 0]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      tabContentSize = _useState4[0],\n      setTabContentSize = _useState4[1];\n\n  var _useState5 = useState([0, 0]),\n      _useState6 = _slicedToArray(_useState5, 2),\n      addSize = _useState6[0],\n      setAddSize = _useState6[1];\n\n  var _useState7 = useState([0, 0]),\n      _useState8 = _slicedToArray(_useState7, 2),\n      operationSize = _useState8[0],\n      setOperationSize = _useState8[1];\n\n  var _useRafState = useRafState(new Map()),\n      _useRafState2 = _slicedToArray(_useRafState, 2),\n      tabSizes = _useRafState2[0],\n      setTabSizes = _useRafState2[1];\n\n  var tabOffsets = useOffsets(tabs, tabSizes, tabContentSize[0]); // ========================== Unit =========================\n\n  var containerExcludeExtraSizeValue = getUnitValue(containerExcludeExtraSize, tabPositionTopOrBottom);\n  var tabContentSizeValue = getUnitValue(tabContentSize, tabPositionTopOrBottom);\n  var addSizeValue = getUnitValue(addSize, tabPositionTopOrBottom);\n  var operationSizeValue = getUnitValue(operationSize, tabPositionTopOrBottom);\n  var needScroll = containerExcludeExtraSizeValue < tabContentSizeValue + addSizeValue;\n  var visibleTabContentValue = needScroll ? containerExcludeExtraSizeValue - operationSizeValue : containerExcludeExtraSizeValue - addSizeValue; // ========================== Util =========================\n\n  var operationsHiddenClassName = \"\".concat(prefixCls, \"-nav-operations-hidden\");\n  var transformMin = 0;\n  var transformMax = 0;\n\n  if (!tabPositionTopOrBottom) {\n    transformMin = Math.min(0, visibleTabContentValue - tabContentSizeValue);\n    transformMax = 0;\n  } else if (rtl) {\n    transformMin = 0;\n    transformMax = Math.max(0, tabContentSizeValue - visibleTabContentValue);\n  } else {\n    transformMin = Math.min(0, visibleTabContentValue - tabContentSizeValue);\n    transformMax = 0;\n  }\n\n  function alignInRange(value) {\n    if (value < transformMin) {\n      return transformMin;\n    }\n\n    if (value > transformMax) {\n      return transformMax;\n    }\n\n    return value;\n  } // ========================= Mobile ========================\n\n\n  var touchMovingRef = useRef();\n\n  var _useState9 = useState(),\n      _useState10 = _slicedToArray(_useState9, 2),\n      lockAnimation = _useState10[0],\n      setLockAnimation = _useState10[1];\n\n  function doLockAnimation() {\n    setLockAnimation(Date.now());\n  }\n\n  function clearTouchMoving() {\n    window.clearTimeout(touchMovingRef.current);\n  }\n\n  useTouchMove(tabsWrapperRef, function (offsetX, offsetY) {\n    function doMove(setState, offset) {\n      setState(function (value) {\n        var newValue = alignInRange(value + offset);\n        return newValue;\n      });\n    } // Skip scroll if place is enough\n\n\n    if (containerExcludeExtraSizeValue >= tabContentSizeValue) {\n      return false;\n    }\n\n    if (tabPositionTopOrBottom) {\n      doMove(setTransformLeft, offsetX);\n    } else {\n      doMove(setTransformTop, offsetY);\n    }\n\n    clearTouchMoving();\n    doLockAnimation();\n    return true;\n  });\n  useEffect(function () {\n    clearTouchMoving();\n\n    if (lockAnimation) {\n      touchMovingRef.current = window.setTimeout(function () {\n        setLockAnimation(0);\n      }, 100);\n    }\n\n    return clearTouchMoving;\n  }, [lockAnimation]); // ===================== Visible Range =====================\n  // Render tab node & collect tab offset\n\n  var _useVisibleRange = useVisibleRange(tabOffsets, // Container\n  visibleTabContentValue, // Transform\n  tabPositionTopOrBottom ? transformLeft : transformTop, // Tabs\n  tabContentSizeValue, // Add\n  addSizeValue, // Operation\n  operationSizeValue, _objectSpread(_objectSpread({}, props), {}, {\n    tabs: tabs\n  })),\n      _useVisibleRange2 = _slicedToArray(_useVisibleRange, 2),\n      visibleStart = _useVisibleRange2[0],\n      visibleEnd = _useVisibleRange2[1]; // ========================= Scroll ========================\n\n\n  var scrollToTab = function scrollToTab() {\n    var key = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : activeKey;\n    var tabOffset = tabOffsets.get(key) || {\n      width: 0,\n      height: 0,\n      left: 0,\n      right: 0,\n      top: 0\n    };\n\n    if (tabPositionTopOrBottom) {\n      // ============ Align with top & bottom ============\n      var newTransform = transformLeft; // RTL\n\n      if (rtl) {\n        if (tabOffset.right < transformLeft) {\n          newTransform = tabOffset.right;\n        } else if (tabOffset.right + tabOffset.width > transformLeft + visibleTabContentValue) {\n          newTransform = tabOffset.right + tabOffset.width - visibleTabContentValue;\n        }\n      } // LTR\n      else if (tabOffset.left < -transformLeft) {\n        newTransform = -tabOffset.left;\n      } else if (tabOffset.left + tabOffset.width > -transformLeft + visibleTabContentValue) {\n        newTransform = -(tabOffset.left + tabOffset.width - visibleTabContentValue);\n      }\n\n      setTransformTop(0);\n      setTransformLeft(alignInRange(newTransform));\n    } else {\n      // ============ Align with left & right ============\n      var _newTransform = transformTop;\n\n      if (tabOffset.top < -transformTop) {\n        _newTransform = -tabOffset.top;\n      } else if (tabOffset.top + tabOffset.height > -transformTop + visibleTabContentValue) {\n        _newTransform = -(tabOffset.top + tabOffset.height - visibleTabContentValue);\n      }\n\n      setTransformLeft(0);\n      setTransformTop(alignInRange(_newTransform));\n    }\n  }; // ========================== Tab ==========================\n\n\n  var tabNodeStyle = {};\n\n  if (tabPosition === 'top' || tabPosition === 'bottom') {\n    tabNodeStyle[rtl ? 'marginRight' : 'marginLeft'] = tabBarGutter;\n  } else {\n    tabNodeStyle.marginTop = tabBarGutter;\n  }\n\n  var tabNodes = tabs.map(function (tab, i) {\n    var key = tab.key;\n    return /*#__PURE__*/React.createElement(TabNode, {\n      id: id,\n      prefixCls: prefixCls,\n      key: key,\n      tab: tab\n      /* first node should not have margin left */\n      ,\n      style: i === 0 ? undefined : tabNodeStyle,\n      closable: tab.closable,\n      editable: editable,\n      active: key === activeKey,\n      renderWrapper: children,\n      removeAriaLabel: locale === null || locale === void 0 ? void 0 : locale.removeAriaLabel,\n      onClick: function onClick(e) {\n        onTabClick(key, e);\n      },\n      onFocus: function onFocus() {\n        scrollToTab(key);\n        doLockAnimation();\n\n        if (!tabsWrapperRef.current) {\n          return;\n        } // Focus element will make scrollLeft change which we should reset back\n\n\n        if (!rtl) {\n          tabsWrapperRef.current.scrollLeft = 0;\n        }\n\n        tabsWrapperRef.current.scrollTop = 0;\n      }\n    });\n  }); // Update buttons records\n\n  var updateTabSizes = function updateTabSizes() {\n    return setTabSizes(function () {\n      var newSizes = new Map();\n      tabs.forEach(function (_ref2) {\n        var _tabListRef$current;\n\n        var key = _ref2.key;\n        var btnNode = (_tabListRef$current = tabListRef.current) === null || _tabListRef$current === void 0 ? void 0 : _tabListRef$current.querySelector(\"[data-node-key=\\\"\".concat(key, \"\\\"]\"));\n\n        if (btnNode) {\n          newSizes.set(key, {\n            width: btnNode.offsetWidth,\n            height: btnNode.offsetHeight,\n            left: btnNode.offsetLeft,\n            top: btnNode.offsetTop\n          });\n        }\n      });\n      return newSizes;\n    });\n  };\n\n  useEffect(function () {\n    updateTabSizes();\n  }, [tabs.map(function (tab) {\n    return tab.key;\n  }).join('_')]);\n  var onListHolderResize = useRaf(function () {\n    // Update wrapper records\n    var containerSize = getSize(containerRef);\n    var extraLeftSize = getSize(extraLeftRef);\n    var extraRightSize = getSize(extraRightRef);\n    setContainerExcludeExtraSize([containerSize[0] - extraLeftSize[0] - extraRightSize[0], containerSize[1] - extraLeftSize[1] - extraRightSize[1]]);\n    var newAddSize = getSize(innerAddButtonRef);\n    setAddSize(newAddSize);\n    var newOperationSize = getSize(operationsRef);\n    setOperationSize(newOperationSize); // Which includes add button size\n\n    var tabContentFullSize = getSize(tabListRef);\n    setTabContentSize([tabContentFullSize[0] - newAddSize[0], tabContentFullSize[1] - newAddSize[1]]); // Update buttons records\n\n    updateTabSizes();\n  }); // ======================== Dropdown =======================\n\n  var startHiddenTabs = tabs.slice(0, visibleStart);\n  var endHiddenTabs = tabs.slice(visibleEnd + 1);\n  var hiddenTabs = [].concat(_toConsumableArray(startHiddenTabs), _toConsumableArray(endHiddenTabs)); // =================== Link & Operations ===================\n\n  var _useState11 = useState(),\n      _useState12 = _slicedToArray(_useState11, 2),\n      inkStyle = _useState12[0],\n      setInkStyle = _useState12[1];\n\n  var activeTabOffset = tabOffsets.get(activeKey); // Delay set ink style to avoid remove tab blink\n\n  var inkBarRafRef = useRef();\n\n  function cleanInkBarRaf() {\n    raf.cancel(inkBarRafRef.current);\n  }\n\n  useEffect(function () {\n    var newInkStyle = {};\n\n    if (activeTabOffset) {\n      if (tabPositionTopOrBottom) {\n        if (rtl) {\n          newInkStyle.right = activeTabOffset.right;\n        } else {\n          newInkStyle.left = activeTabOffset.left;\n        }\n\n        newInkStyle.width = activeTabOffset.width;\n      } else {\n        newInkStyle.top = activeTabOffset.top;\n        newInkStyle.height = activeTabOffset.height;\n      }\n    }\n\n    cleanInkBarRaf();\n    inkBarRafRef.current = raf(function () {\n      setInkStyle(newInkStyle);\n    });\n    return cleanInkBarRaf;\n  }, [activeTabOffset, tabPositionTopOrBottom, rtl]); // ========================= Effect ========================\n\n  useEffect(function () {\n    scrollToTab(); // eslint-disable-next-line\n  }, [activeKey, stringify(activeTabOffset), stringify(tabOffsets), tabPositionTopOrBottom]); // Should recalculate when rtl changed\n\n  useEffect(function () {\n    onListHolderResize(); // eslint-disable-next-line\n  }, [rtl]); // ========================= Render ========================\n\n  var hasDropdown = !!hiddenTabs.length;\n  var wrapPrefix = \"\".concat(prefixCls, \"-nav-wrap\");\n  var pingLeft;\n  var pingRight;\n  var pingTop;\n  var pingBottom;\n\n  if (tabPositionTopOrBottom) {\n    if (rtl) {\n      pingRight = transformLeft > 0;\n      pingLeft = transformLeft + containerExcludeExtraSizeValue < tabContentSizeValue;\n    } else {\n      pingLeft = transformLeft < 0;\n      pingRight = -transformLeft + containerExcludeExtraSizeValue < tabContentSizeValue;\n    }\n  } else {\n    pingTop = transformTop < 0;\n    pingBottom = -transformTop + containerExcludeExtraSizeValue < tabContentSizeValue;\n  }\n\n  return /*#__PURE__*/React.createElement(ResizeObserver, {\n    onResize: onListHolderResize\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    ref: useComposeRef(ref, containerRef),\n    role: \"tablist\",\n    className: classNames(\"\".concat(prefixCls, \"-nav\"), className),\n    style: style,\n    onKeyDown: function onKeyDown() {\n      // No need animation when use keyboard\n      doLockAnimation();\n    }\n  }, /*#__PURE__*/React.createElement(ExtraContent, {\n    ref: extraLeftRef,\n    position: \"left\",\n    extra: extra,\n    prefixCls: prefixCls\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: classNames(wrapPrefix, (_classNames = {}, _defineProperty(_classNames, \"\".concat(wrapPrefix, \"-ping-left\"), pingLeft), _defineProperty(_classNames, \"\".concat(wrapPrefix, \"-ping-right\"), pingRight), _defineProperty(_classNames, \"\".concat(wrapPrefix, \"-ping-top\"), pingTop), _defineProperty(_classNames, \"\".concat(wrapPrefix, \"-ping-bottom\"), pingBottom), _classNames)),\n    ref: tabsWrapperRef\n  }, /*#__PURE__*/React.createElement(ResizeObserver, {\n    onResize: onListHolderResize\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    ref: tabListRef,\n    className: \"\".concat(prefixCls, \"-nav-list\"),\n    style: {\n      transform: \"translate(\".concat(transformLeft, \"px, \").concat(transformTop, \"px)\"),\n      transition: lockAnimation ? 'none' : undefined\n    }\n  }, tabNodes, /*#__PURE__*/React.createElement(AddButton, {\n    ref: innerAddButtonRef,\n    prefixCls: prefixCls,\n    locale: locale,\n    editable: editable,\n    style: _objectSpread(_objectSpread({}, tabNodes.length === 0 ? undefined : tabNodeStyle), {}, {\n      visibility: hasDropdown ? 'hidden' : null\n    })\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: classNames(\"\".concat(prefixCls, \"-ink-bar\"), _defineProperty({}, \"\".concat(prefixCls, \"-ink-bar-animated\"), animated.inkBar)),\n    style: inkStyle\n  })))), /*#__PURE__*/React.createElement(OperationNode, _extends({}, props, {\n    removeAriaLabel: locale === null || locale === void 0 ? void 0 : locale.removeAriaLabel,\n    ref: operationsRef,\n    prefixCls: prefixCls,\n    tabs: hiddenTabs,\n    className: !hasDropdown && operationsHiddenClassName,\n    tabMoving: !!lockAnimation\n  })), /*#__PURE__*/React.createElement(ExtraContent, {\n    ref: extraRightRef,\n    position: \"right\",\n    extra: extra,\n    prefixCls: prefixCls\n  })));\n  /* eslint-enable */\n}\n\nexport default /*#__PURE__*/React.forwardRef(TabNavList);","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _excluded = [\"renderTabBar\"],\n    _excluded2 = [\"label\", \"key\"];\n// zombieJ: To compatible with `renderTabBar` usage.\nimport * as React from 'react';\nimport TabNavList from '.';\nimport TabContext from \"../TabContext\";\nimport TabPane from \"../TabPanelList/TabPane\";\n// We have to create a TabNavList components.\nexport default function TabNavListWrapper(_ref) {\n  var renderTabBar = _ref.renderTabBar,\n      restProps = _objectWithoutProperties(_ref, _excluded);\n\n  var _React$useContext = React.useContext(TabContext),\n      tabs = _React$useContext.tabs;\n\n  if (renderTabBar) {\n    var tabNavBarProps = _objectSpread(_objectSpread({}, restProps), {}, {\n      // Legacy support. We do not use this actually\n      panes: tabs.map(function (_ref2) {\n        var label = _ref2.label,\n            key = _ref2.key,\n            restTabProps = _objectWithoutProperties(_ref2, _excluded2);\n\n        return /*#__PURE__*/React.createElement(TabPane, _extends({\n          tab: label,\n          key: key,\n          tabKey: key\n        }, restTabProps));\n      })\n    });\n\n    return renderTabBar(tabNavBarProps, TabNavList);\n  }\n\n  return /*#__PURE__*/React.createElement(TabNavList, restProps);\n}","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _excluded = [\"id\", \"prefixCls\", \"className\", \"items\", \"direction\", \"activeKey\", \"defaultActiveKey\", \"editable\", \"animated\", \"tabPosition\", \"tabBarGutter\", \"tabBarStyle\", \"tabBarExtraContent\", \"locale\", \"moreIcon\", \"moreTransitionName\", \"destroyInactiveTabPane\", \"renderTabBar\", \"onChange\", \"onTabClick\", \"onTabScroll\", \"getPopupContainer\", \"popupClassName\"];\n// Accessibility https://developer.mozilla.org/en-US/docs/Web/Accessibility/ARIA/Roles/Tab_Role\nimport * as React from 'react';\nimport { useEffect, useState } from 'react';\nimport classNames from 'classnames';\nimport isMobile from \"rc-util/es/isMobile\";\nimport useMergedState from \"rc-util/es/hooks/useMergedState\";\nimport TabPanelList from \"./TabPanelList\";\nimport TabContext from \"./TabContext\";\nimport TabNavListWrapper from \"./TabNavList/Wrapper\";\nimport useAnimateConfig from \"./hooks/useAnimateConfig\";\n/**\n * Should added antd:\n * - type\n *\n * Removed:\n * - onNextClick\n * - onPrevClick\n * - keyboard\n */\n// Used for accessibility\n\nvar uuid = 0;\n\nfunction Tabs(_ref, ref) {\n  var _classNames;\n\n  var id = _ref.id,\n      _ref$prefixCls = _ref.prefixCls,\n      prefixCls = _ref$prefixCls === void 0 ? 'rc-tabs' : _ref$prefixCls,\n      className = _ref.className,\n      items = _ref.items,\n      direction = _ref.direction,\n      activeKey = _ref.activeKey,\n      defaultActiveKey = _ref.defaultActiveKey,\n      editable = _ref.editable,\n      animated = _ref.animated,\n      _ref$tabPosition = _ref.tabPosition,\n      tabPosition = _ref$tabPosition === void 0 ? 'top' : _ref$tabPosition,\n      tabBarGutter = _ref.tabBarGutter,\n      tabBarStyle = _ref.tabBarStyle,\n      tabBarExtraContent = _ref.tabBarExtraContent,\n      locale = _ref.locale,\n      moreIcon = _ref.moreIcon,\n      moreTransitionName = _ref.moreTransitionName,\n      destroyInactiveTabPane = _ref.destroyInactiveTabPane,\n      renderTabBar = _ref.renderTabBar,\n      onChange = _ref.onChange,\n      onTabClick = _ref.onTabClick,\n      onTabScroll = _ref.onTabScroll,\n      getPopupContainer = _ref.getPopupContainer,\n      popupClassName = _ref.popupClassName,\n      restProps = _objectWithoutProperties(_ref, _excluded);\n\n  var tabs = React.useMemo(function () {\n    return (items || []).filter(function (item) {\n      return item && _typeof(item) === 'object' && 'key' in item;\n    });\n  }, [items]);\n  var rtl = direction === 'rtl';\n  var mergedAnimated = useAnimateConfig(animated); // ======================== Mobile ========================\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      mobile = _useState2[0],\n      setMobile = _useState2[1];\n\n  useEffect(function () {\n    // Only update on the client side\n    setMobile(isMobile());\n  }, []); // ====================== Active Key ======================\n\n  var _useMergedState = useMergedState(function () {\n    var _tabs$;\n\n    return (_tabs$ = tabs[0]) === null || _tabs$ === void 0 ? void 0 : _tabs$.key;\n  }, {\n    value: activeKey,\n    defaultValue: defaultActiveKey\n  }),\n      _useMergedState2 = _slicedToArray(_useMergedState, 2),\n      mergedActiveKey = _useMergedState2[0],\n      setMergedActiveKey = _useMergedState2[1];\n\n  var _useState3 = useState(function () {\n    return tabs.findIndex(function (tab) {\n      return tab.key === mergedActiveKey;\n    });\n  }),\n      _useState4 = _slicedToArray(_useState3, 2),\n      activeIndex = _useState4[0],\n      setActiveIndex = _useState4[1]; // Reset active key if not exist anymore\n\n\n  useEffect(function () {\n    var newActiveIndex = tabs.findIndex(function (tab) {\n      return tab.key === mergedActiveKey;\n    });\n\n    if (newActiveIndex === -1) {\n      var _tabs$newActiveIndex;\n\n      newActiveIndex = Math.max(0, Math.min(activeIndex, tabs.length - 1));\n      setMergedActiveKey((_tabs$newActiveIndex = tabs[newActiveIndex]) === null || _tabs$newActiveIndex === void 0 ? void 0 : _tabs$newActiveIndex.key);\n    }\n\n    setActiveIndex(newActiveIndex);\n  }, [tabs.map(function (tab) {\n    return tab.key;\n  }).join('_'), mergedActiveKey, activeIndex]); // ===================== Accessibility ====================\n\n  var _useMergedState3 = useMergedState(null, {\n    value: id\n  }),\n      _useMergedState4 = _slicedToArray(_useMergedState3, 2),\n      mergedId = _useMergedState4[0],\n      setMergedId = _useMergedState4[1]; // Async generate id to avoid ssr mapping failed\n\n\n  useEffect(function () {\n    if (!id) {\n      setMergedId(\"rc-tabs-\".concat(process.env.NODE_ENV === 'test' ? 'test' : uuid));\n      uuid += 1;\n    }\n  }, []); // ======================== Events ========================\n\n  function onInternalTabClick(key, e) {\n    onTabClick === null || onTabClick === void 0 ? void 0 : onTabClick(key, e);\n    var isActiveChanged = key !== mergedActiveKey;\n    setMergedActiveKey(key);\n\n    if (isActiveChanged) {\n      onChange === null || onChange === void 0 ? void 0 : onChange(key);\n    }\n  } // ======================== Render ========================\n\n\n  var sharedProps = {\n    id: mergedId,\n    activeKey: mergedActiveKey,\n    animated: mergedAnimated,\n    tabPosition: tabPosition,\n    rtl: rtl,\n    mobile: mobile\n  };\n  var tabNavBar;\n\n  var tabNavBarProps = _objectSpread(_objectSpread({}, sharedProps), {}, {\n    editable: editable,\n    locale: locale,\n    moreIcon: moreIcon,\n    moreTransitionName: moreTransitionName,\n    tabBarGutter: tabBarGutter,\n    onTabClick: onInternalTabClick,\n    onTabScroll: onTabScroll,\n    extra: tabBarExtraContent,\n    style: tabBarStyle,\n    panes: null,\n    getPopupContainer: getPopupContainer,\n    popupClassName: popupClassName\n  });\n\n  return /*#__PURE__*/React.createElement(TabContext.Provider, {\n    value: {\n      tabs: tabs,\n      prefixCls: prefixCls\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", _extends({\n    ref: ref,\n    id: id,\n    className: classNames(prefixCls, \"\".concat(prefixCls, \"-\").concat(tabPosition), (_classNames = {}, _defineProperty(_classNames, \"\".concat(prefixCls, \"-mobile\"), mobile), _defineProperty(_classNames, \"\".concat(prefixCls, \"-editable\"), editable), _defineProperty(_classNames, \"\".concat(prefixCls, \"-rtl\"), rtl), _classNames), className)\n  }, restProps), tabNavBar, /*#__PURE__*/React.createElement(TabNavListWrapper, _extends({}, tabNavBarProps, {\n    renderTabBar: renderTabBar\n  })), /*#__PURE__*/React.createElement(TabPanelList, _extends({\n    destroyInactiveTabPane: destroyInactiveTabPane\n  }, sharedProps, {\n    animated: mergedAnimated\n  }))));\n}\n\nvar ForwardTabs = /*#__PURE__*/React.forwardRef(Tabs);\n\nif (process.env.NODE_ENV !== 'production') {\n  ForwardTabs.displayName = 'Tabs';\n}\n\nexport default ForwardTabs;","import _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport warning from \"rc-util/es/warning\";\nexport default function useAnimateConfig() {\n  var animated = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {\n    inkBar: true,\n    tabPane: false\n  };\n  var mergedAnimated;\n\n  if (animated === false) {\n    mergedAnimated = {\n      inkBar: false,\n      tabPane: false\n    };\n  } else if (animated === true) {\n    mergedAnimated = {\n      inkBar: true,\n      tabPane: false\n    };\n  } else {\n    mergedAnimated = _objectSpread({\n      inkBar: true\n    }, _typeof(animated) === 'object' ? animated : {});\n  } // Enable tabPane animation if provide motion\n\n\n  if (mergedAnimated.tabPaneMotion && mergedAnimated.tabPane === undefined) {\n    mergedAnimated.tabPane = true;\n  }\n\n  if (!mergedAnimated.tabPaneMotion && mergedAnimated.tabPane) {\n    if (process.env.NODE_ENV !== 'production') {\n      warning(false, '`animated.tabPane` is true but `animated.tabPaneMotion` is not provided. Motion will not work.');\n    }\n\n    mergedAnimated.tabPane = false;\n  }\n\n  return mergedAnimated;\n}","import Tabs from \"./Tabs\";\nexport default Tabs;","import _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport { getTransitionName } from '../../_util/motion';\nvar motion = {\n  motionAppear: false,\n  motionEnter: true,\n  motionLeave: true\n};\nexport default function useAnimateConfig(prefixCls) {\n  var animated = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n    inkBar: true,\n    tabPane: false\n  };\n  var mergedAnimated;\n  if (animated === false) {\n    mergedAnimated = {\n      inkBar: false,\n      tabPane: false\n    };\n  } else if (animated === true) {\n    mergedAnimated = {\n      inkBar: true,\n      tabPane: true\n    };\n  } else {\n    mergedAnimated = _extends({\n      inkBar: true\n    }, _typeof(animated) === 'object' ? animated : {});\n  }\n  if (mergedAnimated.tabPane) {\n    mergedAnimated.tabPaneMotion = _extends(_extends({}, motion), {\n      motionName: getTransitionName(prefixCls, 'switch')\n    });\n  }\n  return mergedAnimated;\n}","import _extends from \"@babel/runtime/helpers/esm/extends\";\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\nimport * as React from 'react';\nimport toArray from \"rc-util/es/Children/toArray\";\nimport warning from '../../_util/warning';\nfunction filter(items) {\n  return items.filter(function (item) {\n    return item;\n  });\n}\nexport default function useLegacyItems(items, children) {\n  if (items) {\n    return items;\n  }\n  process.env.NODE_ENV !== \"production\" ? warning(!children, 'Tabs', 'Tabs.TabPane is deprecated. Please use `items` directly.') : void 0;\n  var childrenItems = toArray(children).map(function (node) {\n    if ( /*#__PURE__*/React.isValidElement(node)) {\n      var key = node.key,\n        props = node.props;\n      var _a = props || {},\n        tab = _a.tab,\n        restProps = __rest(_a, [\"tab\"]);\n      var item = _extends(_extends({\n        key: String(key)\n      }, restProps), {\n        label: tab\n      });\n      return item;\n    }\n    return null;\n  });\n  return filter(childrenItems);\n}","var TabPane = function TabPane() {\n  return null;\n};\nif (process.env.NODE_ENV !== 'production') {\n  TabPane.displayName = 'DeprecatedTabPane';\n}\nexport default TabPane;","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\nimport CloseOutlined from \"@ant-design/icons/es/icons/CloseOutlined\";\nimport EllipsisOutlined from \"@ant-design/icons/es/icons/EllipsisOutlined\";\nimport PlusOutlined from \"@ant-design/icons/es/icons/PlusOutlined\";\nimport classNames from 'classnames';\nimport RcTabs from 'rc-tabs';\nimport * as React from 'react';\nimport { ConfigContext } from '../config-provider';\nimport SizeContext from '../config-provider/SizeContext';\nimport warning from '../_util/warning';\nimport useAnimateConfig from './hooks/useAnimateConfig';\nimport useLegacyItems from './hooks/useLegacyItems';\nimport TabPane from './TabPane';\nfunction Tabs(_a) {\n  var type = _a.type,\n    className = _a.className,\n    propSize = _a.size,\n    _onEdit = _a.onEdit,\n    hideAdd = _a.hideAdd,\n    centered = _a.centered,\n    addIcon = _a.addIcon,\n    children = _a.children,\n    items = _a.items,\n    animated = _a.animated,\n    props = __rest(_a, [\"type\", \"className\", \"size\", \"onEdit\", \"hideAdd\", \"centered\", \"addIcon\", \"children\", \"items\", \"animated\"]);\n  var customizePrefixCls = props.prefixCls,\n    _props$moreIcon = props.moreIcon,\n    moreIcon = _props$moreIcon === void 0 ? /*#__PURE__*/React.createElement(EllipsisOutlined, null) : _props$moreIcon;\n  var _React$useContext = React.useContext(ConfigContext),\n    getPrefixCls = _React$useContext.getPrefixCls,\n    direction = _React$useContext.direction,\n    getPopupContainer = _React$useContext.getPopupContainer;\n  var prefixCls = getPrefixCls('tabs', customizePrefixCls);\n  var editable;\n  if (type === 'editable-card') {\n    editable = {\n      onEdit: function onEdit(editType, _ref) {\n        var key = _ref.key,\n          event = _ref.event;\n        _onEdit === null || _onEdit === void 0 ? void 0 : _onEdit(editType === 'add' ? event : key, editType);\n      },\n      removeIcon: /*#__PURE__*/React.createElement(CloseOutlined, null),\n      addIcon: addIcon || /*#__PURE__*/React.createElement(PlusOutlined, null),\n      showAdd: hideAdd !== true\n    };\n  }\n  var rootPrefixCls = getPrefixCls();\n  process.env.NODE_ENV !== \"production\" ? warning(!('onPrevClick' in props) && !('onNextClick' in props), 'Tabs', '`onPrevClick` and `onNextClick` has been removed. Please use `onTabScroll` instead.') : void 0;\n  var mergedItems = useLegacyItems(items, children);\n  var mergedAnimated = useAnimateConfig(prefixCls, animated);\n  return /*#__PURE__*/React.createElement(SizeContext.Consumer, null, function (contextSize) {\n    var _classNames;\n    var size = propSize !== undefined ? propSize : contextSize;\n    return /*#__PURE__*/React.createElement(RcTabs, _extends({\n      direction: direction,\n      getPopupContainer: getPopupContainer,\n      moreTransitionName: \"\".concat(rootPrefixCls, \"-slide-up\")\n    }, props, {\n      items: mergedItems,\n      className: classNames((_classNames = {}, _defineProperty(_classNames, \"\".concat(prefixCls, \"-\").concat(size), size), _defineProperty(_classNames, \"\".concat(prefixCls, \"-card\"), ['card', 'editable-card'].includes(type)), _defineProperty(_classNames, \"\".concat(prefixCls, \"-editable-card\"), type === 'editable-card'), _defineProperty(_classNames, \"\".concat(prefixCls, \"-centered\"), centered), _classNames), className),\n      editable: editable,\n      moreIcon: moreIcon,\n      prefixCls: prefixCls,\n      animated: mergedAnimated\n    }));\n  });\n}\nTabs.TabPane = TabPane;\nexport default Tabs;","// This icon file is generated automatically.\nvar PlusCircleOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M696 480H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z\" } }, { \"tag\": \"path\", \"attrs\": { \"d\": \"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z\" } }] }, \"name\": \"plus-circle\", \"theme\": \"outlined\" };\nexport default PlusCircleOutlined;\n","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport PlusCircleOutlinedSvg from \"@ant-design/icons-svg/es/asn/PlusCircleOutlined\";\nimport AntdIcon from '../components/AntdIcon';\nvar PlusCircleOutlined = function PlusCircleOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _objectSpread(_objectSpread({}, props), {}, {\n    ref: ref,\n    icon: PlusCircleOutlinedSvg\n  }));\n};\nPlusCircleOutlined.displayName = 'PlusCircleOutlined';\nexport default /*#__PURE__*/React.forwardRef(PlusCircleOutlined);","import React, { Component } from 'react'\r\nimport Chart from '../../../../insight_charts/Chart'\r\nimport { originChartSize } from '../../../../constant/ChartSize';\r\nexport default class PopInsightCardContent extends Component {\r\n    componentDidMount() {\r\n        if (this.visNode) {\r\n            let vis = this.visNode.children[0];\r\n            if (vis) {\r\n                let chartType = this.props.factType\r\n                let x,y\r\n                if(chartType==\"multivariate_distribution\"||chartType==\"multivariate_outlier\"){\r\n                    x = 350 / originChartSize[chartType].width\r\n                    y = 200 / originChartSize[chartType].height\r\n                }else{\r\n                    x = 446 / originChartSize[chartType].width\r\n                    y = 222 / originChartSize[chartType].height\r\n                }\r\n                vis.style.transform = `scaleX(${x})scaleY(${y})`;\r\n            }\r\n        }\r\n    }\r\n    shouldComponentUpdate(nextProps){\r\n        const { currentPopInsightList } = this.props\r\n        return !_.isEqual(currentPopInsightList, nextProps.currentPopInsightList);\r\n    }\r\n    componentDidUpdate() {\r\n        if (this.visNode) {\r\n            let vis = this.visNode.children[0];\r\n            if (vis) {\r\n                let chartType = this.props.factType\r\n                let x,y\r\n                if(chartType==\"multivariate_distribution\"||chartType==\"multivariate_outlier\"){\r\n                    x = 400 / originChartSize[chartType].width\r\n                    y = 222 / originChartSize[chartType].height\r\n                }else{\r\n                    x = 446 / originChartSize[chartType].width\r\n                    y = 222 / originChartSize[chartType].height\r\n                }\r\n                vis.style.transform = `scaleX(${x})scaleY(${y})`;\r\n            }\r\n        }\r\n    }\r\n  shouldComponentUpdate(nextProps){\r\n        const { insightSpec} = this.props\r\n        let nextFact = nextProps.insightSpec[\"fact\"];\r\n        return !_.isEqual(insightSpec[\"fact\"], nextFact);\r\n  }\r\n  render() {\r\n    const{index,insightSpec,factType}=this.props\r\n    //修改图表显示的格式\r\n    insightSpec.chart.id = 'popCard-' + index.toString()\r\n    insightSpec.chart.width = originChartSize[factType].width\r\n    insightSpec.chart.height = 0 // originChartSize[factType].height\r\n    insightSpec.chart.showTooltip = true\r\n    return (\r\n        <div \r\n            className='vis' \r\n            ref={(node) => this.visNode = node}>\r\n            <Chart spec={insightSpec} />\r\n        </div>\r\n    )\r\n  }\r\n}\r\n\r\n// style = {(factType === \"multivariate_outlier\" || factType === \"similarity\") ? { overflowY: 'scroll', overflowX: 'hidden' } : null}","import React, { Component } from 'react'\r\nimport { Modal, Tabs } from 'antd';\r\nimport Draggable from 'react-draggable';\r\nimport './PopInsightCard.less'\r\nimport { PlusCircleOutlined } from '@ant-design/icons';\r\nimport PopInsightCardContent from './PopInsightCardContent';\r\nimport _ from 'lodash'\r\nimport { findInsight } from '../../../../axios';\r\nimport { message ,Spin } from 'antd';\r\nimport InsightTypeTrans from '../../../../constant/InsightTypeTrans';\r\nconst { TabPane } = Tabs;\r\n\r\nconst insights_list = [\"trend\", \"univariate_distribution\", \"seasonality\"]\r\n\r\nexport default class PopInsightCard extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            tabKey: \"0\",\r\n            disabled: true,\r\n            bounds: { left: 0, top: 0, bottom: 0, right: 0 },\r\n        }\r\n        this.draggleRef = React.createRef();\r\n\r\n    }\r\n    shouldComponentUpdate(nextProps) {\r\n        const { currentPopInsightList } = this.props\r\n        if (!_.isEqual(currentPopInsightList, nextProps.currentPopInsightList)) this.clearTooltip()\r\n        return true\r\n    }\r\n    componentWillUnmount(){\r\n        \r\n    }\r\n    onCancel = () => {\r\n        if (this.props.isPopInsightCard) {\r\n            this.props.setPopInsightCardState(false)\r\n        }\r\n        let block = document.getElementsByClassName(\"insight-block\");\r\n        for (let i = 0; i < block.length; i++) {\r\n            block[i].setAttribute(\"class\", \"insight-block false\")\r\n        }\r\n        this.setState({\r\n            tabKey: \"0\",\r\n            getCurrentPopinsight: false\r\n        })\r\n        // this.clearTooltip()\r\n        // this.props.setCurrentPopInsights([])\r\n        this.props.setCurrentPopInsights([])\r\n        //clear hover-tooltip\r\n        // this.clearTooltip()\r\n    }\r\n    clearTooltip = () => {\r\n        let parentContainer = document.querySelectorAll(\"#whole-container\")[0]\r\n        if (parentContainer) {\r\n            let willDeleted = parentContainer.querySelectorAll(\"#hover-tooltip\");\r\n            let willDeletedValue = parentContainer.querySelectorAll(\"#value-tooltip\")\r\n            for (let i = 0; i < willDeleted.length; i++) {\r\n                parentContainer.removeChild(willDeleted[i])\r\n            }\r\n            for (let i = 0; i < willDeletedValue.length; i++) {\r\n                parentContainer.removeChild(willDeletedValue[i])\r\n            }\r\n        }\r\n    }\r\n    addInsightToSequence = e => {\r\n        const { tabKey } = this.state\r\n        const { currentPopInsightList, selectedRecommendCardIndex, sequence, selectedCardIndex } = this.props\r\n        //TODO:如果type不相等的话\r\n\r\n        let sequenceInsightSpec = sequence[selectedCardIndex].spec\r\n        let willAddInsight = currentPopInsightList[parseInt(tabKey)]\r\n        if (sequenceInsightSpec !== \"empty\") {\r\n            // console.log(sequenceInsightSpec.chart.type, willAddInsight.spec.chart.type,_.isEqual(sequenceInsightSpec.chart.type, willAddInsight.spec.chart.type))\r\n            // console.log(sequenceInsightSpec.data.schema.sort(), willAddInsight.spec.data.schema.sort(),_.isEqual(sequenceInsightSpec.data.schema.sort(), willAddInsight.spec.data.schema.sort()))\r\n            // console.log(sequenceInsightSpec.fact.subspace.sort(), willAddInsight.spec.fact.subspace.sort(),_.isEqual(sequenceInsightSpec.fact.subspace.sort(), willAddInsight.spec.fact.subspace.sort()))\r\n            if (_.isEqual(sequenceInsightSpec.chart.type, willAddInsight.spec.chart.type)\r\n                && _.isEqual(sequenceInsightSpec.fact.subspace.sort(), willAddInsight.spec.fact.subspace.sort())\r\n                // && _.isEqual(sequenceInsightSpec.data.schema.sort(), willAddInsight.spec.data.schema.sort())\r\n                ) {\r\n                message.warning({ content: 'Now insight is equal to the one you want add!', duration: 1, style: { marginTop: '35vh' } })\r\n            }\r\n            else {\r\n                //要看现在的是recommendedList的segment还是卡片的\r\n                if(selectedRecommendCardIndex===-1){\r\n                    //获取之前再这个位置上的卡片的recommend List\r\n                    let recommededList = sequence[selectedCardIndex].recommendList\r\n                    let oriBlock = sequence[selectedCardIndex].oriBlock\r\n                    let captionId = sequence[selectedCardIndex].captionId\r\n                    this.props.fixCard(selectedCardIndex, willAddInsight.spec, willAddInsight.type, recommededList, oriBlock, captionId)\r\n                    message.success({ content: 'Add success!', duration: 1, style: { marginTop: '35vh' } })\r\n                    setTimeout(() => {\r\n                        this.props.setSelectedCardIndex(selectedCardIndex)\r\n                    }, 200)\r\n                }else{\r\n                    //获取之前再这个位置上的卡片的recommend List\r\n                    let recommededList = sequence[selectedCardIndex].recommendList\r\n                    let oriBlock = recommededList[selectedRecommendCardIndex].block\r\n                    let captionId = recommededList[selectedRecommendCardIndex].captionId\r\n                    this.props.fixCard(selectedCardIndex, willAddInsight.spec, willAddInsight.type, recommededList, oriBlock, captionId)\r\n                    message.success({ content: 'Add success!', duration: 1, style: { marginTop: '35vh' } })\r\n                    setTimeout(() => {\r\n                        this.props.setSelectedCardIndex(selectedCardIndex)\r\n                    }, 200)\r\n                }\r\n                \r\n            }\r\n        } else {\r\n            //空白卡片一定是recommendList的内容\r\n            //获取之前再这个位置上的卡片的recommend List\r\n            let recommededList = sequence[selectedCardIndex].recommendList\r\n            let oriBlock = recommededList[selectedRecommendCardIndex].block\r\n            let captionId = recommededList[selectedRecommendCardIndex].captionId\r\n            this.props.fixCard(selectedCardIndex, willAddInsight.spec, willAddInsight.type, recommededList, oriBlock, captionId)\r\n            message.success({ content: 'Add success!', duration: 1, style: { marginTop: '35vh' } })\r\n            setTimeout(() => {\r\n                this.props.setSelectedCardIndex(selectedCardIndex)\r\n            }, 200)\r\n        }\r\n    };\r\n    onStart = (event, uiData) => {\r\n        const { clientWidth, clientHeight } = window.document.documentElement;\r\n        const targetRect = this.draggleRef.current?.getBoundingClientRect();\r\n        if (!targetRect) {\r\n            return;\r\n        }\r\n        this.setState({\r\n            bounds: {\r\n                left: -targetRect.left + uiData.x,\r\n                right: clientWidth - (targetRect.right - uiData.x),\r\n                top: -targetRect.top + uiData.y,\r\n                bottom: clientHeight - (targetRect.bottom - uiData.y),\r\n            },\r\n        });\r\n    };\r\n\r\n    setActiveKey = (key) => {\r\n        this.setState({\r\n            tabKey: key,\r\n            getCurrentPopinsight: true\r\n        })\r\n    }\r\n\r\n    setCurrentPopContent = () => {\r\n        const { sequence, selectedCardIndex, selectedRecommendCardIndex } = this.props\r\n        const { configureInsightColumns, configureInsightTime, timeColumnName, file_url } = this.props\r\n        // this.setState({\r\n        //     getCurrentPopinsight:true\r\n        // })\r\n        //拼接\r\n        let fields = []\r\n        let location = []\r\n        let time_field = timeColumnName\r\n        let file_path = file_url\r\n        if (selectedRecommendCardIndex !== -1 && sequence[selectedCardIndex][\"recommendList\"].length > 0) {\r\n            let timeBlock = sequence[selectedCardIndex][\"recommendList\"][selectedRecommendCardIndex].block\r\n            if (timeBlock.length > 0) {\r\n                for (let i = 0; i < timeBlock.length; i++) {\r\n                    fields.push(timeBlock[i].field)\r\n                }\r\n                location = [timeBlock[0].value[0].start, timeBlock[0].value[0].end]\r\n            }\r\n        } else if (selectedRecommendCardIndex === -1) {\r\n            fields = configureInsightColumns;\r\n            location = configureInsightTime\r\n            // let timeBlock=sequence[selectedCardIndex].oriBlock\r\n            // timeSeriesSpec.fact.focus=timeBlock\r\n        }\r\n        findInsight(file_path, fields, time_field, location).then(response => {\r\n            // message.destroy()\r\n            // message.success({content:'Generate success!',duration:1,style:{ marginTop: '35vh'}})\r\n            this.props.setCurrentPopInsights(response.data.insights)\r\n            // this.props.setSequence(response.data)\r\n            // this.props.changeBtnState(\"Back\")\r\n\r\n        }).catch(error => {\r\n            console.log('失败', error)\r\n        })\r\n        //请求，\r\n    }\r\n\r\n    render() {\r\n        const { bounds, disabled, tabKey } = this.state;\r\n        const { intl, currentPopInsightList, isPopInsightCard } = this.props\r\n\r\n        return (\r\n            <Modal\r\n                wrapClassName=\"pop-insights-card\"\r\n                title={<div\r\n                    style={{ width: '100%', cursor: 'move'}}\r\n                    onMouseOver={() => { if (disabled) { this.setState({ disabled: false }); } }}\r\n                    onMouseOut={() => { this.setState({ disabled: true }); }}\r\n                    onFocus={() => { }}\r\n                    onBlur={() => { }}>\r\n                    Insight\r\n                </div>}\r\n                // visible={isPopInsightCard}\r\n                //TODO:\r\n                visible={isPopInsightCard}\r\n            \r\n                style={{textAlign:'center',justifyContent:'center',alignItems:'center',display:'flex'}}\r\n                onCancel={this.onCancel}\r\n                footer={\r\n                    <div className='pop-card-footer'>\r\n                        <div className='card-footer-btn' onClick={this.addInsightToSequence} >\r\n                            <div className='footer-btn-icon'>\r\n                                <PlusCircleOutlined />\r\n                            </div>\r\n                            <div className='footer-btn-text'>{intl.get(\"AddToAnalysisFlow\")}</div>\r\n                        </div>\r\n                    </div>\r\n                }\r\n                modalRender={modal => (\r\n                    <Draggable\r\n                        disabled={disabled}\r\n                        bounds={bounds}\r\n                        onStart={(event, uiData) => this.onStart(event, uiData)}>\r\n                        <div ref={this.draggleRef}>{modal}</div>\r\n                    </Draggable>\r\n                )}>\r\n                    \r\n                {!isPopInsightCard&&currentPopInsightList!==undefined ? null :currentPopInsightList.length===0?<Spin wrapperClassName=\"pop-spin\"/>:\r\n                    (<Tabs defaultActiveKey=\"0\" onChange={this.setActiveKey} activeKey={tabKey}>\r\n                        {currentPopInsightList===undefined?null:currentPopInsightList.map((insight, index) => {\r\n                            return (\r\n                                \r\n                                <TabPane tab={InsightTypeTrans[insight.type]} key={index.toString()} style={{ position: 'relative' }}>\r\n                                    <PopInsightCardContent\r\n                                        insightSpec={insight.spec}\r\n                                        factType={insight.type}\r\n                                        index={index}\r\n                                        currentPopInsightList={currentPopInsightList}\r\n                                    />\r\n                                </TabPane>\r\n                            )\r\n                        })}\r\n                    </Tabs>)\r\n                }\r\n            </Modal>\r\n        )\r\n    }\r\n}","import { connect } from 'react-redux';\r\nimport * as seriesAction from '../../../../action/seriesAction'\r\nimport {sequence,selectedCardIndex,selectedRecommendCardIndex,isPopInsightCard,configureInsightColumns,configureInsightTime,currentPopInsightList,timeColumnName} from '@/selector/series'\r\nimport { file_url } from '@/selector/story';\r\n\r\nimport PopInsightCard from './PopInsightCard';\r\n\r\nconst mapStateToProps = (state) => ({\r\n    sequence:sequence(state),\r\n    selectedCardIndex:selectedCardIndex(state),\r\n    isPopInsightCard: isPopInsightCard(state),\r\n    currentPopInsightList:currentPopInsightList(state),\r\n    selectedRecommendCardIndex:selectedRecommendCardIndex(state),\r\n    configureInsightColumns:configureInsightColumns(state),\r\n    configureInsightTime:configureInsightTime(state),\r\n    timeColumnName:timeColumnName(state),\r\n    file_url:file_url(state)\r\n})\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n        setSelectedCardIndex:(index)=> dispatch(seriesAction.setSelectedCardIndex(index)),\r\n        setCurrentPopInsights:(insights)=> dispatch(seriesAction.setCurrentPopInsights(insights)),\r\n        setPopInsightCardState: (state) => dispatch(seriesAction.setPopInsightCardState(state)),\r\n        fixCard:(index,spec,factType,recommendList,oriBlock,captionId)=> dispatch(seriesAction.fixCard(index,spec,factType,recommendList,oriBlock,captionId))\r\n    }\r\n    \r\n}\r\nexport default connect(mapStateToProps, mapDispatchToProps)(PopInsightCard);","export default [\r\n    {field:[\"FailureRate\",\"GPUUsage\",\"CPUUsage\"],location:[5,60],insight:[{spec:getSpecByType(\"similarity\"),type:\"similarity\"},{spec:getSpecByType(\"seasonality\"),type:\"seasonality\"},{spec:getSpecByType(\"frequent_pattern\"),type:\"frequent_pattern\"}]},\r\n    {field:[\"GPUUsage\"],location:[8,90],insight:[{spec:getSpecByType(\"univariate_distribution\"),type:\"univariate_distribution\"}]},\r\n    {field:[\"CPUUsage\"],location:[20,199],insight:[{spec:getSpecByType(\"seasonality\"),type:\"seasonality\"},{spec:getSpecByType(\"similarity\"),type:\"similarity\"}]},\r\n    {field:[\"GPUUsage\"],location:[99,200],insight:[{spec:getSpecByType(\"trend\"),type:\"trend\"}]},\r\n    {field:[\"FailureRate\"],location:[300,370],insight:[{spec:getSpecByType(\"seasonality\"),type:\"seasonality\"},{spec:getSpecByType(\"similarity\"),type:\"similarity\"}]},\r\n    {field:[\"CPUUsage\"],location:[200,280],insight:[{spec:getSpecByType(\"univariate_distribution\"),type:\"univariate_distribution\"}]},\r\n    {field:[\"CPUUsage\"],location:[300,400],insight:[{spec:getSpecByType(\"univariate_distribution\"),type:\"univariate_distribution\"},{spec:getSpecByType(\"similarity\"),type:\"similarity\"}]},\r\n    {field:[\"GPUUsage\"],location:[400,480],insight:[{spec:getSpecByType(\"seasonality\"),type:\"seasonality\"},{spec:getSpecByType(\"similarity\"),type:\"similarity\"}]},\r\n    {field:[\"FailureRate\"],location:[450,556],insight:[{spec:getSpecByType(\"trend\"),type:\"seasonality\"},{spec:getSpecByType(\"similarity\"),type:\"similarity\"},{spec:getSpecByType(\"frequent_pattern\"),type:\"frequent_pattern\"}]},\r\n]\r\nfunction getSpecByType(type) {\r\n    let oriSpec = require('../insight_charts/spec/' + type + '.json');\r\n    let spec = _.cloneDeep(oriSpec);\r\n    return spec\r\n}","import React, { Component } from 'react'\r\nimport { Tooltip } from 'antd';\r\nimport { message ,Spin } from 'antd';\r\nimport { insightColors } from '../../../../constant/RecommendedInsightColor';\r\nimport PopInsightCard from '../../SequenceView/PopInsightCard';\r\nimport Chart from '../../../../insight_charts/Chart';\r\nimport { originChartSize } from '../../../../constant/ChartSize';\r\nimport FindPopInsight from '../../../../constant/FindPopInsight';\r\nimport { findInsight } from '../../../../axios';\r\nimport InsightTypeTrans from '../../../../constant/InsightTypeTrans';\r\nimport * as d3 from 'd3';\r\n\r\nexport default class RecommendedInsightCard extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        //如果父组件传来该方法 则调用方法将子组件this指针传过去\r\n        if (props.onRef) {\r\n            props.onRef(this)\r\n        }\r\n    }\r\n    componentDidMount() {\r\n        if (this.visNode) {\r\n            let vis = this.visNode.children[0];\r\n            if (vis) {\r\n                let chartType = this.props.factType\r\n                let x = 0\r\n                if (chartType === \"multivariate_distribution\") {\r\n                    x = 180 / originChartSize[chartType].width\r\n                } else {\r\n                    x = 260 / originChartSize[chartType].width\r\n                }\r\n                let y = 110 / originChartSize[chartType].height\r\n                vis.style.transform = `scaleX(${x})scaleY(${y})`;\r\n            }\r\n        }\r\n\r\n        //------------计算滚动条的位置所需要的------------\r\n        //设置比例尺\r\n        const { dataRange, columnsName, chartScale, chartMargin } = this.props\r\n\r\n        let chartWidth = Math.max(dataRange[1] * 2, 1000)\r\n\r\n        this.scale = d3.scaleLinear().domain(dataRange).range([60, chartWidth - chartMargin])\r\n        //计算每列的高度(参照origin.js中oneYLength的计算法则)\r\n        this.oneYLength = (120 * columnsName.length - 20) / columnsName.length\r\n    }\r\n    shouldComponentUpdate(nextProps) {\r\n        const { insightSpec, selected } = this.props\r\n        if (selected !== nextProps.selected) return true\r\n        let nextFact = nextProps.insightSpec[\"fact\"];\r\n        return !_.isEqual(insightSpec[\"fact\"], nextFact);\r\n    }\r\n    componentDidUpdate() {\r\n        if (this.visNode) {\r\n            let vis = this.visNode.children[0];\r\n            if (vis) {\r\n                let chartType = this.props.factType\r\n                let x = 0\r\n                if (chartType === \"multivariate_distribution\") {\r\n                    x = 180 / originChartSize[chartType].width\r\n                } else {\r\n                    x = 260 / originChartSize[chartType].width\r\n                }\r\n                let y = 110 / originChartSize[chartType].height\r\n                vis.style.transform = `scaleX(${x})scaleY(${y})`;\r\n            }\r\n        }\r\n    }\r\n    calcuRecommendScrollLocation = (start, end, fields) => {\r\n        //fields只分两种:全部和单个\r\n        const { columnsName } = this.props\r\n        let position = columnsName.indexOf(fields[Math.floor(fields.length / 2)])\r\n        let divLeft = this.scale(start) + 30\r\n        let divWidth = this.scale(end) - this.scale(start)\r\n        let divTop = 15 + position * this.oneYLength\r\n        let divHeight = this.oneYLength * fields.length - 30\r\n        let boxWrapper = document.getElementById('time-seires-view')\r\n\r\n        let heightPx = window.getComputedStyle(boxWrapper, null).getPropertyValue('height')\r\n        let h = parseFloat(heightPx.substring(0, heightPx.length - 2))\r\n        let widthPx = window.getComputedStyle(boxWrapper, null).getPropertyValue('width')\r\n        let w = parseFloat(widthPx.substring(0, widthPx.length - 2))\r\n\r\n        boxWrapper.scrollTop = divTop + divHeight / 2 - h / 2;\r\n        boxWrapper.scrollLeft = divLeft + divWidth / 2 - w / 2 + 100;\r\n    }\r\n    clickRecommendCard = () => {\r\n        const { factType, insightSpec, index, segmentInsightsStorage, file_url, timeColumnName, sequence, insightIndex } = this.props;\r\n        this.props.setSelectedRecommendCard(index)\r\n\r\n        let block = this.props.block\r\n        let field = []\r\n        let location = [block[0].value[0].start, block[0].value[0].end]\r\n        for (let item in block) {\r\n            field.push(block[item].field)\r\n        }\r\n\r\n        this.calcuRecommendScrollLocation(location[0], location[1], field)\r\n        // set current segment's pop insights\r\n        //TODO:之后可以改成访问API获取pop insight，而不是查表\r\n        let fieldStr = field.sort().toString()\r\n        let locationStr = location.sort().toString()\r\n        let segmentKey = fieldStr + '-' + locationStr\r\n        this.props.setCurrentPopInsights([])\r\n        if (!segmentInsightsStorage.hasOwnProperty(segmentKey)) {\r\n            //请求api,response成功后再set current pop insights\r\n            findInsight(file_url, field, timeColumnName, location).then(response => {\r\n                // message.destroy()\r\n                // message.success({content:'Generate success!',duration:1,style:{ marginTop: '35vh'}})\r\n                // this.props.addPopInsights(segmentKey, response.data.insights)\r\n                // this.props.setCurrentPopInsights(response.data.insights)\r\n                //判断是否有当前这张卡片的内容\r\n                let pop_insights = []\r\n                let insight_type = []\r\n                for (let item in response.data.insights) {\r\n                    insight_type.push(response.data.insights[item].type)\r\n                }\r\n                if (!insight_type.includes(factType)) {\r\n                    pop_insights = [{ \"spec\": insightSpec, \"type\": factType, \"action\": -1 }].concat(response.data.insights)\r\n                    this.props.setCurrentPopInsights(pop_insights)\r\n                } else {\r\n                    pop_insights = response.data.insights\r\n                    this.props.setCurrentPopInsights(pop_insights)\r\n                }\r\n                this.props.addPopInsights(segmentKey, pop_insights)\r\n\r\n            }).catch(error => {\r\n                console.log('失败', error)\r\n                let pop_insights = [{\r\n                    \"spec\": insightSpec,\r\n                    \"type\": factType,\r\n                    \"action\": -1\r\n                }]\r\n                this.props.addPopInsights(segmentKey, pop_insights)\r\n                this.props.setCurrentPopInsights(pop_insights)\r\n                // this.props.setCurrentPopInsights([])\r\n            })\r\n\r\n        } else {\r\n            // this.props.setCurrentPopInsights(segmentInsightsStorage[segmentKey])\r\n            //throught key value set current pop insights\r\n            let pop_insights = []\r\n            let insight_type = []\r\n            for (let item in segmentInsightsStorage[segmentKey]) {\r\n                insight_type.push(segmentInsightsStorage[segmentKey][item].type)\r\n            }\r\n            if (!insight_type.includes(factType)) {\r\n                pop_insights = [{ \"spec\": insightSpec, \"type\": factType, \"action\": -1 }].concat(segmentInsightsStorage[segmentKey])\r\n                this.props.addPopInsights(segmentKey, pop_insights)\r\n                this.props.setCurrentPopInsights(pop_insights)\r\n            } else {\r\n                this.props.setCurrentPopInsights(segmentInsightsStorage[segmentKey])\r\n            }\r\n        }\r\n    }\r\n    deleteRecommendCard = () => {\r\n        // this.props.setSelectedRecommendCard(this.props.index)\r\n        // this.props.removeRecommendCard(this.props.index)\r\n        // this.props.setSelectedRecommendCard(-1)\r\n        const { index, sequence, insightIndex } = this.props;\r\n        this.props.setSelectedRecommendCard(index)\r\n        let sequenceInsightSpec = sequence[insightIndex].spec\r\n        let willAddInsight = sequence[insightIndex].recommendList[index]\r\n        if (sequenceInsightSpec !== \"empty\") {\r\n            if (_.isEqual(sequenceInsightSpec.chart.type, willAddInsight.spec.chart.type)\r\n                && _.isEqual(sequenceInsightSpec.fact.subspace.sort(), willAddInsight.spec.fact.subspace.sort())\r\n                // && _.isEqual(sequenceInsightSpec.data.schema.sort(), willAddInsight.spec.data.schema.sort())\r\n                ) {\r\n                message.warning({ content: 'Now insight is equal to the one you want add!', duration: 1, style: { marginTop: '35vh' } })\r\n            }\r\n            else {\r\n                //获取之前再这个位置上的卡片的recommend List\r\n                sequence[insightIndex].recommendList.splice(index, 1)\r\n                let recommedList = sequence[insightIndex].recommendList\r\n                let oriBlock = willAddInsight.block\r\n                let captionId = willAddInsight.captionId\r\n                this.props.fixCard(insightIndex, willAddInsight.spec, willAddInsight.type, recommedList, oriBlock, captionId)\r\n                message.success({ content: 'Add success!', duration: 1, style: { marginTop: '35vh' } })\r\n                // setTimeout(() => {\r\n                //     this.props.setInsightIndex(insightIndex)\r\n                // }, 200)\r\n            }\r\n        } else {\r\n            //空白卡片一定是recommendList的内容\r\n            //获取之前再这个位置上的卡片的recommend List\r\n            sequence[insightIndex].recommendList.splice(index, 1)\r\n            let recommedList = sequence[insightIndex].recommendList\r\n            let oriBlock = willAddInsight.block\r\n            let captionId = willAddInsight.captionId\r\n            this.props.fixCard(insightIndex, willAddInsight.spec, willAddInsight.type, recommedList, oriBlock, captionId)\r\n            message.success({ content: 'Add success!', duration: 1, style: { marginTop: '35vh' } })\r\n            // setTimeout(() => {\r\n            //     this.props.setInsightIndex(insightIndex)\r\n            // }, 200)\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const { factType, insightSpec, index, selected } = this.props;\r\n        //修改图表显示的格式\r\n        insightSpec.chart.id = 'recommend-' + index.toString()\r\n        insightSpec.chart.width = originChartSize[factType].width\r\n        insightSpec.chart.height = originChartSize[factType].height\r\n        insightSpec.chart.showTooltip = false\r\n        return (\r\n            <li>\r\n                <div className='single-insight' style={{ border: selected ? 'rgb(244, 158, 40) 3px solid' : `${insightColors[InsightTypeTrans[factType].toLowerCase()]} 3px solid `, boxShadow: selected ? \"rgba(0, 0,0,0.2) 1px 1px 0px 2px\" : \"rgb(0, 0 ,0) 0px 0px 0px 0px\" }} >\r\n                    <Tooltip title={InsightTypeTrans[factType]}>\r\n                        <div className=\"insight-title\">{InsightTypeTrans[factType]}</div>\r\n                    </Tooltip>\r\n                    <div className='delete' onClick={this.deleteRecommendCard}></div>\r\n                    <div\r\n                        className='vis'\r\n                        ref={(node) => this.visNode = node}\r\n                        onClick={this.clickRecommendCard}\r\n                        style={(factType === \"multivariate_outlier\") ? { overflowY: 'scroll', overflowX: 'hidden' } : null}\r\n                    >\r\n                        <Chart spec={insightSpec} />\r\n                    </div>\r\n                </div>\r\n            </li>\r\n        )\r\n    }\r\n}\r\n","import { connect } from 'react-redux';\r\nimport {dataRange, chartMargin,chartScale,columnsName,timeColumnName,segmentInsightsStorage,recommendList,selectedRecommendCardIndex} from '@/selector/series';\r\nimport * as seriesAction from '../../../../action/seriesAction'\r\nimport { file_url } from '@/selector/story';\r\nimport RecommendedInsightCard from './RecommendedInsightCard';\r\n\r\nconst mapStateToProps = (state) => ({\r\n    chartScale:chartScale(state),\r\n    chartMargin:chartMargin(state),\r\n    dataRange:dataRange(state),\r\n    columnsName:columnsName(state),\r\n    recommendList: recommendList(state),\r\n    selectedRecommendCardIndex: selectedRecommendCardIndex(state),\r\n    segmentInsightsStorage:segmentInsightsStorage(state),\r\n    timeColumnName:timeColumnName(state),\r\n    file_url:file_url(state)\r\n})\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n        setSelectedRecommendCard: (index) => dispatch(seriesAction.setSelectedRecommendCard(index)),\r\n        removeRecommendCard: (index) => dispatch(seriesAction.removeRecommendCard(index)),\r\n        setCurrentPopInsights:(insights) => dispatch(seriesAction.setCurrentPopInsights(insights)),\r\n        addPopInsights:(segment_key,segment_insights)=>dispatch(seriesAction.addPopInsights(segment_key,segment_insights)),\r\n        fixCard:(index,spec,factType,recommendList,oriBlock,captionId)=> dispatch(seriesAction.fixCard(index,spec,factType,recommendList,oriBlock,captionId))\r\n    }\r\n}\r\nexport default connect(mapStateToProps, mapDispatchToProps)(RecommendedInsightCard);","import React, { Component } from 'react'\r\nimport './RecommendedList.less'\r\nimport { Collapse } from 'antd';\r\nimport RecommendedInsightCard from '../RecommendedInsightCard';\r\nconst { Panel } = Collapse;\r\nimport { Spin } from 'antd';\r\nexport default class RecommendedList extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n    }\r\n\r\n    render() {\r\n        const { intl, sequence, selectedCardIndex } = this.props\r\n        return (\r\n            <Collapse defaultActiveKey={[\"insights-list\"]}>\r\n                <Panel header={intl.get(\"InsightList\")} key=\"insights-list\" >\r\n                    <div className='insights-list'>\r\n                        <div className='insights-card-list'>\r\n                            {sequence[selectedCardIndex] === undefined ? null : selectedCardIndex !== 0 && sequence[selectedCardIndex][\"recommendList\"].length == 0 ? <Spin style={{ marginTop: '20px', marginBottom: '20px' }} /> :\r\n                                <ul>\r\n                                    {sequence[selectedCardIndex] === undefined ? null :\r\n                                        sequence[selectedCardIndex][\"recommendList\"].map((value, index) => {\r\n                                            return (\r\n                                                <RecommendedInsightCard\r\n                                                    insightSpec={value.spec}\r\n                                                    factType={value.type}\r\n                                                    key={index}\r\n                                                    intl={intl}\r\n                                                    index={index}\r\n                                                    insightIndex={selectedCardIndex}\r\n                                                    block={value.block}\r\n                                                    sequence={sequence}\r\n                                                    selected={this.props.selectedRecommendCardIndex === index}\r\n                                                    onRef={c => this.RecommendCard = c}\r\n                                                />\r\n                                            )\r\n                                        })\r\n                                    }\r\n                                </ul>\r\n                            }\r\n                        </div>\r\n                    </div>\r\n                </Panel>\r\n            </Collapse>\r\n        )\r\n    }\r\n}\r\n","import { connect } from 'react-redux';\r\nimport { sequence,selectedCardIndex,recommendList,selectedRecommendCardIndex} from '@/selector/series';\r\nimport * as seriesAction from '../../../../action/seriesAction'\r\nimport RecommendedList from './RecommendedList';\r\n\r\nconst mapStateToProps = (state) => ({\r\n    sequence:sequence(state),\r\n    selectedCardIndex:selectedCardIndex(state),\r\n    recommendList: recommendList(state),\r\n    selectedRecommendCardIndex: selectedRecommendCardIndex(state),\r\n})\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n        setSelectedRecommendCard: (index) => dispatch(seriesAction.setSelectedRecommendCard(index)),\r\n        removeRecommendCard: (index) => dispatch(seriesAction.removeRecommendCard(index)),\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(RecommendedList);","import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport * as React from 'react';\nimport { detectFlexGapSupported } from '../styleChecker';\nexport default (function () {\n  var _React$useState = React.useState(false),\n    _React$useState2 = _slicedToArray(_React$useState, 2),\n    flexible = _React$useState2[0],\n    setFlexible = _React$useState2[1];\n  React.useEffect(function () {\n    setFlexible(detectFlexGapSupported());\n  }, []);\n  return flexible;\n});","import { createContext } from 'react';\nvar RowContext = /*#__PURE__*/createContext({});\nexport default RowContext;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\nimport classNames from 'classnames';\nimport * as React from 'react';\nimport { ConfigContext } from '../config-provider';\nimport useFlexGapSupport from '../_util/hooks/useFlexGapSupport';\nimport ResponsiveObserve, { responsiveArray } from '../_util/responsiveObserve';\nimport { tuple } from '../_util/type';\nimport RowContext from './RowContext';\nvar RowAligns = tuple('top', 'middle', 'bottom', 'stretch');\nvar RowJustify = tuple('start', 'end', 'center', 'space-around', 'space-between', 'space-evenly');\nfunction useMergePropByScreen(oriProp, screen) {\n  var _React$useState = React.useState(typeof oriProp === 'string' ? oriProp : ''),\n    _React$useState2 = _slicedToArray(_React$useState, 2),\n    prop = _React$useState2[0],\n    setProp = _React$useState2[1];\n  var clacMergeAlignOrJustify = function clacMergeAlignOrJustify() {\n    if (typeof oriProp === 'string') {\n      setProp(oriProp);\n    }\n    if (_typeof(oriProp) !== 'object') {\n      return;\n    }\n    for (var i = 0; i < responsiveArray.length; i++) {\n      var breakpoint = responsiveArray[i];\n      // if do not match, do nothing\n      if (!screen[breakpoint]) continue;\n      var curVal = oriProp[breakpoint];\n      if (curVal !== undefined) {\n        setProp(curVal);\n        return;\n      }\n    }\n  };\n  React.useEffect(function () {\n    clacMergeAlignOrJustify();\n  }, [JSON.stringify(oriProp), screen]);\n  return prop;\n}\nvar Row = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  var _classNames;\n  var customizePrefixCls = props.prefixCls,\n    justify = props.justify,\n    align = props.align,\n    className = props.className,\n    style = props.style,\n    children = props.children,\n    _props$gutter = props.gutter,\n    gutter = _props$gutter === void 0 ? 0 : _props$gutter,\n    wrap = props.wrap,\n    others = __rest(props, [\"prefixCls\", \"justify\", \"align\", \"className\", \"style\", \"children\", \"gutter\", \"wrap\"]);\n  var _React$useContext = React.useContext(ConfigContext),\n    getPrefixCls = _React$useContext.getPrefixCls,\n    direction = _React$useContext.direction;\n  var _React$useState3 = React.useState({\n      xs: true,\n      sm: true,\n      md: true,\n      lg: true,\n      xl: true,\n      xxl: true\n    }),\n    _React$useState4 = _slicedToArray(_React$useState3, 2),\n    screens = _React$useState4[0],\n    setScreens = _React$useState4[1];\n  // to save screens info when responsiveObserve callback had been call\n  var _React$useState5 = React.useState({\n      xs: false,\n      sm: false,\n      md: false,\n      lg: false,\n      xl: false,\n      xxl: false\n    }),\n    _React$useState6 = _slicedToArray(_React$useState5, 2),\n    curScreens = _React$useState6[0],\n    setCurScreens = _React$useState6[1];\n  // ================================== calc reponsive data ==================================\n  var mergeAlign = useMergePropByScreen(align, curScreens);\n  var mergeJustify = useMergePropByScreen(justify, curScreens);\n  var supportFlexGap = useFlexGapSupport();\n  var gutterRef = React.useRef(gutter);\n  // ================================== Effect ==================================\n  React.useEffect(function () {\n    var token = ResponsiveObserve.subscribe(function (screen) {\n      setCurScreens(screen);\n      var currentGutter = gutterRef.current || 0;\n      if (!Array.isArray(currentGutter) && _typeof(currentGutter) === 'object' || Array.isArray(currentGutter) && (_typeof(currentGutter[0]) === 'object' || _typeof(currentGutter[1]) === 'object')) {\n        setScreens(screen);\n      }\n    });\n    return function () {\n      return ResponsiveObserve.unsubscribe(token);\n    };\n  }, []);\n  // ================================== Render ==================================\n  var getGutter = function getGutter() {\n    var results = [undefined, undefined];\n    var normalizedGutter = Array.isArray(gutter) ? gutter : [gutter, undefined];\n    normalizedGutter.forEach(function (g, index) {\n      if (_typeof(g) === 'object') {\n        for (var i = 0; i < responsiveArray.length; i++) {\n          var breakpoint = responsiveArray[i];\n          if (screens[breakpoint] && g[breakpoint] !== undefined) {\n            results[index] = g[breakpoint];\n            break;\n          }\n        }\n      } else {\n        results[index] = g;\n      }\n    });\n    return results;\n  };\n  var prefixCls = getPrefixCls('row', customizePrefixCls);\n  var gutters = getGutter();\n  var classes = classNames(prefixCls, (_classNames = {}, _defineProperty(_classNames, \"\".concat(prefixCls, \"-no-wrap\"), wrap === false), _defineProperty(_classNames, \"\".concat(prefixCls, \"-\").concat(mergeJustify), mergeJustify), _defineProperty(_classNames, \"\".concat(prefixCls, \"-\").concat(mergeAlign), mergeAlign), _defineProperty(_classNames, \"\".concat(prefixCls, \"-rtl\"), direction === 'rtl'), _classNames), className);\n  // Add gutter related style\n  var rowStyle = {};\n  var horizontalGutter = gutters[0] != null && gutters[0] > 0 ? gutters[0] / -2 : undefined;\n  var verticalGutter = gutters[1] != null && gutters[1] > 0 ? gutters[1] / -2 : undefined;\n  if (horizontalGutter) {\n    rowStyle.marginLeft = horizontalGutter;\n    rowStyle.marginRight = horizontalGutter;\n  }\n  if (supportFlexGap) {\n    // Set gap direct if flex gap support\n    var _gutters = _slicedToArray(gutters, 2);\n    rowStyle.rowGap = _gutters[1];\n  } else if (verticalGutter) {\n    rowStyle.marginTop = verticalGutter;\n    rowStyle.marginBottom = verticalGutter;\n  }\n  // \"gutters\" is a new array in each rendering phase, it'll make 'React.useMemo' effectless.\n  // So we deconstruct \"gutters\" variable here.\n  var _gutters2 = _slicedToArray(gutters, 2),\n    gutterH = _gutters2[0],\n    gutterV = _gutters2[1];\n  var rowContext = React.useMemo(function () {\n    return {\n      gutter: [gutterH, gutterV],\n      wrap: wrap,\n      supportFlexGap: supportFlexGap\n    };\n  }, [gutterH, gutterV, wrap, supportFlexGap]);\n  return /*#__PURE__*/React.createElement(RowContext.Provider, {\n    value: rowContext\n  }, /*#__PURE__*/React.createElement(\"div\", _extends({}, others, {\n    className: classes,\n    style: _extends(_extends({}, rowStyle), style),\n    ref: ref\n  }), children));\n});\nif (process.env.NODE_ENV !== 'production') {\n  Row.displayName = 'Row';\n}\nexport default Row;","import { Row } from '../grid';\nexport default Row;","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _typeof from \"@babel/runtime/helpers/esm/typeof\";\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\nimport classNames from 'classnames';\nimport * as React from 'react';\nimport { ConfigContext } from '../config-provider';\nimport RowContext from './RowContext';\nfunction parseFlex(flex) {\n  if (typeof flex === 'number') {\n    return \"\".concat(flex, \" \").concat(flex, \" auto\");\n  }\n  if (/^\\d+(\\.\\d+)?(px|em|rem|%)$/.test(flex)) {\n    return \"0 0 \".concat(flex);\n  }\n  return flex;\n}\nvar sizes = ['xs', 'sm', 'md', 'lg', 'xl', 'xxl'];\nvar Col = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  var _classNames;\n  var _React$useContext = React.useContext(ConfigContext),\n    getPrefixCls = _React$useContext.getPrefixCls,\n    direction = _React$useContext.direction;\n  var _React$useContext2 = React.useContext(RowContext),\n    gutter = _React$useContext2.gutter,\n    wrap = _React$useContext2.wrap,\n    supportFlexGap = _React$useContext2.supportFlexGap;\n  var customizePrefixCls = props.prefixCls,\n    span = props.span,\n    order = props.order,\n    offset = props.offset,\n    push = props.push,\n    pull = props.pull,\n    className = props.className,\n    children = props.children,\n    flex = props.flex,\n    style = props.style,\n    others = __rest(props, [\"prefixCls\", \"span\", \"order\", \"offset\", \"push\", \"pull\", \"className\", \"children\", \"flex\", \"style\"]);\n  var prefixCls = getPrefixCls('col', customizePrefixCls);\n  var sizeClassObj = {};\n  sizes.forEach(function (size) {\n    var _extends2;\n    var sizeProps = {};\n    var propSize = props[size];\n    if (typeof propSize === 'number') {\n      sizeProps.span = propSize;\n    } else if (_typeof(propSize) === 'object') {\n      sizeProps = propSize || {};\n    }\n    delete others[size];\n    sizeClassObj = _extends(_extends({}, sizeClassObj), (_extends2 = {}, _defineProperty(_extends2, \"\".concat(prefixCls, \"-\").concat(size, \"-\").concat(sizeProps.span), sizeProps.span !== undefined), _defineProperty(_extends2, \"\".concat(prefixCls, \"-\").concat(size, \"-order-\").concat(sizeProps.order), sizeProps.order || sizeProps.order === 0), _defineProperty(_extends2, \"\".concat(prefixCls, \"-\").concat(size, \"-offset-\").concat(sizeProps.offset), sizeProps.offset || sizeProps.offset === 0), _defineProperty(_extends2, \"\".concat(prefixCls, \"-\").concat(size, \"-push-\").concat(sizeProps.push), sizeProps.push || sizeProps.push === 0), _defineProperty(_extends2, \"\".concat(prefixCls, \"-\").concat(size, \"-pull-\").concat(sizeProps.pull), sizeProps.pull || sizeProps.pull === 0), _defineProperty(_extends2, \"\".concat(prefixCls, \"-rtl\"), direction === 'rtl'), _extends2));\n  });\n  var classes = classNames(prefixCls, (_classNames = {}, _defineProperty(_classNames, \"\".concat(prefixCls, \"-\").concat(span), span !== undefined), _defineProperty(_classNames, \"\".concat(prefixCls, \"-order-\").concat(order), order), _defineProperty(_classNames, \"\".concat(prefixCls, \"-offset-\").concat(offset), offset), _defineProperty(_classNames, \"\".concat(prefixCls, \"-push-\").concat(push), push), _defineProperty(_classNames, \"\".concat(prefixCls, \"-pull-\").concat(pull), pull), _classNames), className, sizeClassObj);\n  var mergedStyle = {};\n  // Horizontal gutter use padding\n  if (gutter && gutter[0] > 0) {\n    var horizontalGutter = gutter[0] / 2;\n    mergedStyle.paddingLeft = horizontalGutter;\n    mergedStyle.paddingRight = horizontalGutter;\n  }\n  // Vertical gutter use padding when gap not support\n  if (gutter && gutter[1] > 0 && !supportFlexGap) {\n    var verticalGutter = gutter[1] / 2;\n    mergedStyle.paddingTop = verticalGutter;\n    mergedStyle.paddingBottom = verticalGutter;\n  }\n  if (flex) {\n    mergedStyle.flex = parseFlex(flex);\n    // Hack for Firefox to avoid size issue\n    // https://github.com/ant-design/ant-design/pull/20023#issuecomment-564389553\n    if (wrap === false && !mergedStyle.minWidth) {\n      mergedStyle.minWidth = 0;\n    }\n  }\n  return /*#__PURE__*/React.createElement(\"div\", _extends({}, others, {\n    style: _extends(_extends({}, mergedStyle), style),\n    className: classes,\n    ref: ref\n  }), children);\n});\nif (process.env.NODE_ENV !== 'production') {\n  Col.displayName = 'Col';\n}\nexport default Col;","import { Col } from '../grid';\nexport default Col;","import React, { Component } from 'react'\r\nimport { Row, Col } from 'antd';\r\nimport { generateSequence, processFile } from '../../../../axios';\r\nimport { message, Button } from 'antd';\r\nimport _ from 'lodash'\r\nimport * as d3 from 'd3'\r\n\r\nexport default class StartBackButton extends Component {\r\n    constructor(props){\r\n        super(props)\r\n        this.state={\r\n            isRequest:false\r\n        }\r\n    }\r\n    clickBtn = () => {\r\n        const {isRequest} =this.state\r\n        const { originFileUrl, originTimeValue,file_url, timeColumnName, processTime, processGranularity, processColumns } = this.props\r\n        if (this.props.rightBtnState === \"Start\") {\r\n            // this.props.changeBtnState(\"Back\")\r\n            if(isRequest){\r\n                message.warning({ content: 'Requesting, please wait!', duration: 1, style: { marginTop: '35vh' } })\r\n                return \r\n            }\r\n            this.setState({isRequest:true})\r\n            message.loading({ content: 'Generating, please wait a moment', duration: 0, style: { marginTop: '35vh' } })\r\n            //TODO:先请求文件处理函数\r\n            processFile(originFileUrl, processTime[0], processTime[1], processColumns, processGranularity).then(response => {\r\n                let result = response.data\r\n                let newSchema = []\r\n                let timeValue=_.cloneDeep(originTimeValue).slice(processTime[0],processTime[1])\r\n                let _that = this\r\n                newSchema.push({ \"type\": \"temporal\", \"field\": timeColumnName})\r\n                for (let i = 0; i < processColumns.length; i++) {\r\n                    newSchema.push({ \"type\": \"numerical\", \"field\": processColumns[i] })\r\n                }\r\n                let numericalFields = []\r\n                let numerical = newSchema.filter(d => d.type === \"numerical\")\r\n                numericalFields = numerical.map(d => d.field)\r\n                d3.csv(result.file_url)\r\n                    .then(function (data) {\r\n                        data.forEach((d, i) => {\r\n                            for (let key in d) {\r\n                                if (numericalFields.indexOf(key) !== -1) {\r\n                                    d[key] = parseFloat(d[key])\r\n                                }\r\n                            }\r\n                        })\r\n                        //TODO:Time value change \r\n                        _that.props.updateColumnsAndRange (processColumns, [0,data.length-1], result.timeValues)\r\n                        _that.props.updateFileAndData(newSchema, data, result.file_url)\r\n                        generateSequence(result.file_url, timeColumnName, _that.props.task).then(response => {\r\n                            message.destroy()\r\n                            message.success({ content: 'Generate success!', duration: 1, style: { marginTop: '35vh' } })\r\n                            _that.props.setSequence(response.data.sequence)\r\n                            // _that.props.setRedundantRecommend(response.data.add[\"recommendList\"])\r\n                            _that.props.changeBtnState(\"Back\")\r\n                            _that.setState({isRequest:false})\r\n                        }).catch(error => {\r\n                            console.log('失败', error)\r\n                            _that.setState({isRequest:false})\r\n                            message.error({ content: 'Sorry, time series analysis flow generation failed!', duration: 1, style: { marginTop: '35vh' } })\r\n                            setTimeout(()=>{ message.destroy()},1000)\r\n                        })\r\n                    }).catch(function (error) {\r\n                        _that.log(error)\r\n                        this.setState({isRequest:false})\r\n                    })\r\n            }).catch(error => {\r\n                console.log('失败', error)\r\n                this.setState({isRequest:false})\r\n                message.error({ content: 'Sorry, file preprocessing failed!', duration: 1, style: { marginTop: '35vh' } })\r\n                setTimeout(()=>{ message.destroy()},1000)\r\n            })\r\n            \r\n        } else {\r\n            this.props.changeBtnState(\"Start\")\r\n        }\r\n    }\r\n    \r\n    render() {\r\n        const { intl, rightBtnState } = this.props;\r\n        return (\r\n            <div className=\"start-back-btn\" style={{ width: \"290px\" }}>\r\n                <Row className='edit-panel-btn'>\r\n                    <Col onClick={this.clickBtn}>\r\n                        <p> {rightBtnState === \"Start\" ? intl.get(\"Start\") : intl.get(\"Back\")}</p>\r\n                    </Col>\r\n                </Row>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import { connect } from 'react-redux';\r\nimport { processTime,originTimeValue,processGranularity,processColumns,rightBtnState,timeColumnName,task} from '@/selector/series';\r\nimport StartBackButton from './StartBackButton';\r\nimport * as seriesAction from '../../../../action/seriesAction'\r\nimport * as storyAction from '../../../../action/storyAction'\r\nimport { file_url,originFileUrl} from '@/selector/story';\r\n\r\n\r\nconst mapStateToProps = (state) => ({\r\n    originFileUrl:originFileUrl(state),\r\n    originTimeValue:originTimeValue(state),\r\n    rightBtnState: rightBtnState(state),\r\n    file_url:file_url(state),\r\n    timeColumnName:timeColumnName(state),\r\n    task:task(state),\r\n    processTime:processTime(state),\r\n    processGranularity:processGranularity(state),\r\n    processColumns:processColumns(state),\r\n})\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n        changeBtnState: (state) => dispatch(seriesAction.changeBtnState(state)),\r\n        setSequence:(sequence)=> dispatch(seriesAction.setSequence(sequence)),\r\n        setRedundantRecommend :(recommededList) => dispatch(seriesAction.setRedundantRecommend(recommededList)),\r\n        updateColumnsAndRange : (columns,dataRange,timeValues) =>dispatch(seriesAction.updateColumnsAndRange(columns,dataRange,timeValues)),\r\n        updateFileAndData : (schema,data,file_url)=>dispatch(storyAction.updateFileAndData(schema,data,file_url)),\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(StartBackButton);","import React, { Component } from 'react'\r\nimport { Slider, Switch } from 'antd';\r\n\r\nexport default class TimeRange extends Component {\r\n  setTipValue=(index)=>{\r\n    const {timeValue}=this.props\r\n    if (timeValue.length===0)return\r\n    return timeValue[index]\r\n  }\r\n\r\n  render() {\r\n    const {min,max,start,end}=this.props\r\n    return (\r\n        <Slider \r\n            range={true}\r\n            min={min}\r\n            max={max}\r\n            defaultValue={[start, end]} \r\n            value={[start, end]}\r\n            // tooltipVisible={true}\r\n            tipFormatter={this.setTipValue}\r\n            onChange={this.props.changeTime}\r\n        />\r\n    )\r\n  }\r\n}\r\n","import React, { Component } from 'react'\r\nimport { Collapse, Select, Row, Col, } from 'antd';\r\nimport './ConfigureInsightSetting.less'\r\nimport TimeRange from \"../SeriesInsightsEditor/Settings/TimeRange/TimeRange\"\r\nimport _, { findLastKey } from 'lodash';\r\nimport { generateRecommendList } from '../../../axios';\r\nimport { message } from 'antd';\r\nimport { generateSingleInsight, generateSubsequent, findInsight } from '../../../axios';\r\nimport * as d3 from 'd3';\r\nimport InsightTypeTrans from '../../../constant/InsightTypeTrans';\r\nimport ConfigureInsightTypeOptions from '../../../constant/ConfigureInsightTypeOptions';\r\nconst { Panel } = Collapse;\r\nconst { Option } = Select;\r\n\r\nlet univariate_type = [\"trend\", \"frequent pattern\", \"univariate distribution\", \"univariate outlier\", \"seasonality\", \"outstanding\", \"autocorrelation\"]\r\nlet multivariable_type = [\"multivariate distribution\", \"multivariate outlier\", \"similarity\"]\r\n// let insightTypeList = [\"trend\", \"frequent_pattern\", \"univariate_distribution\", \"univariate_outlier\", \"seasonality\", \"forecasting\",\r\n//     \"multivariate_distribution\", \"multivariate_outlier\", \"clustering\", \"similarity\"]\r\nlet insightTypeList = [\"trend\", \"frequent_pattern\", \"univariate_distribution\", \"univariate_outlier\", \"seasonality\",\r\n    \"multivariate_distribution\", \"multivariate_outlier\", \"similarity\", \"outstanding\", \"autocorrelation\"]\r\n// let columnList=[\"selectAll\",\"CPUUsage\",\"GPUUsage\",\"FailureRate\",\"value\",\"value1\",\"value2\",\"value3\"]\r\nexport default class ConfigureInsightSetting extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n        let columns = this.props.columnsName.slice()\r\n        columns.unshift(\"selectAll\")\r\n        this.state = {\r\n            selectValue: \"\",\r\n            columnList: columns,\r\n            onlyColumns: this.props.columnsName.slice(),\r\n            requestRecommend: false,\r\n            isRequest: false,\r\n            isRequestInisght: false\r\n        }\r\n        this.changeTime = this.changeTime.bind(this)\r\n    }\r\n    componentDidMount() {\r\n        //------------计算滚动条的位置所需要的------------\r\n        //设置比例尺\r\n        //1900是画布的宽度\r\n        const { dataRange, columnsName, chartScale, chartMargin } = this.props\r\n        let chartWidth = Math.max(dataRange[1] * 2, 1000)\r\n\r\n        this.scale = d3.scaleLinear().domain(dataRange).range([60, chartWidth - chartMargin])\r\n        //计算每列的高度(参照origin.js中oneYLength的计算法则)\r\n        this.oneYLength = (120 * columnsName.length - 20) / columnsName.length\r\n    }\r\n    changeType = (value) => {\r\n        this.props.setConfigureInsightType(value)\r\n    }\r\n    changeColumns = (value) => {\r\n        const { columnList, onlyColumns } = this.state\r\n        let selected = value[value.length - 1]\r\n        if (selected === \"selectAll\") {\r\n            this.props.setConfigureInsightColumns(onlyColumns)\r\n            setTimeout(() => {\r\n                this.calcuScrollLocation(onlyColumns)\r\n            }, 200)\r\n        } else {\r\n            this.props.setConfigureInsightColumns(value)\r\n            setTimeout(() => {\r\n                this.calcuScrollLocation(value)\r\n            }, 200)\r\n        }\r\n    }\r\n    changeBreakdown = (breakdown) => {\r\n        this.props.setConfigureInsightBreakdown(breakdown)\r\n    }\r\n    calcuScrollLocation = (fields) => {\r\n\r\n        const { columnsName, configureInsightTime } = this.props\r\n\r\n        //fields只分两种:全部和单个\r\n\r\n        let position = columnsName.indexOf(fields[Math.floor(fields.length / 2)])\r\n        let divLeft = this.scale(configureInsightTime[0]) + 30\r\n        let divWidth = this.scale(configureInsightTime[1]) - this.scale(configureInsightTime[0])\r\n        let divTop = 15 + position * this.oneYLength\r\n        let divHeight = this.oneYLength * fields.length - 30\r\n        let boxWrapper = document.getElementById('time-seires-view')\r\n\r\n        let heightPx = window.getComputedStyle(boxWrapper, null).getPropertyValue('height')\r\n        let h = parseFloat(heightPx.substring(0, heightPx.length - 2))\r\n        let widthPx = window.getComputedStyle(boxWrapper, null).getPropertyValue('width')\r\n        let w = parseFloat(widthPx.substring(0, widthPx.length - 2))\r\n\r\n\r\n        boxWrapper.scrollTop = divTop + divHeight / 2 - h / 2;\r\n        boxWrapper.scrollLeft = divLeft + divWidth / 2 - w / 2;\r\n    }\r\n\r\n    changeTime = (value) => {\r\n        this.props.setConfigureInsightTime(value[0], value[1])\r\n    }\r\n    findInsightsOfUnderCard = (index) => {\r\n        const { isRequestInisght } = this.state\r\n        const { sequence, file_url, timeColumnName, segmentInsightsStorage } = this.props\r\n\r\n        if (isRequestInisght) return\r\n        let block = sequence[index].oriBlock\r\n        let field = []\r\n        let location = [block[0].value[0].start, block[0].value[0].end]\r\n        if (sequence[index].type === \"similarity\" || sequence[index].type === \"seasonality\" || sequence[index].type === \"frequent_pattern\") {\r\n            location = sequence[index].spec.fact.focus[0].scope\r\n        }\r\n        for (let item in block) {\r\n            field.push(block[item].field)\r\n        }\r\n        // set current segment's pop insights\r\n        //TODO:之后可以改成访问API获取pop insight，而不是查表\r\n        let fieldStr = field.sort().toString()\r\n        let locationStr = location.sort().toString()\r\n        let segmentKey = fieldStr + '-' + locationStr\r\n        this.props.setCurrentPopInsights([])\r\n\r\n        if (!segmentInsightsStorage.hasOwnProperty(segmentKey)) {\r\n            this.setState({ isRequestInisght: true })\r\n            //请求api,response成功后再set current pop insights\r\n            findInsight(file_url, field, timeColumnName, location).then(response => {\r\n                // message.destroy()\r\n                // message.success({content:'Generate success!',duration:1,style:{ marginTop: '35vh'}})\r\n                this.setState({ isRequestInisght: false })\r\n                // this.props.addPopInsights(segmentKey, response.data.insights)\r\n                let pop_insights = []\r\n                let insight_type = []\r\n                for (let item in response.data.insights) {\r\n                    insight_type.push(response.data.insights[item].type)\r\n                }\r\n                if (!insight_type.includes(sequence[index].type)) {\r\n                    pop_insights = [{ \"spec\": sequence[index].spec, \"type\": sequence[index].type, \"action\": sequence[index].hasOwnProperty(\"action\") ? sequence[index].action : -1 }].concat(response.data.insights)\r\n                    this.props.setCurrentPopInsights(pop_insights)\r\n                } else {\r\n                    pop_insights = response.data.insights\r\n                    this.props.setCurrentPopInsights(pop_insights)\r\n                }\r\n                this.props.addPopInsights(segmentKey, pop_insights)\r\n                // this.props.setCurrentPopInsights(response.data.insights)\r\n                // setTimeout(()=>{this.findRecommendList()},500)\r\n                // this.props.setSequence(response.data)\r\n                // this.props.changeBtnState(\"Back\")\r\n\r\n            }).catch(error => {\r\n                console.log('失败', error)\r\n                this.setState({ isRequestInisght: false })\r\n                let pop_insights = [{\r\n                    \"spec\": sequence[index].spec,\r\n                    \"type\": sequence[index].type,\r\n                    \"action\": sequence[index].hasOwnProperty(\"action\") ? sequence[index].action : -1\r\n                }]\r\n                this.props.addPopInsights(segmentKey, pop_insights)\r\n                this.props.setCurrentPopInsights(pop_insights)\r\n                // message.error({ content: 'Sorry, no insights!', duration: 1, style: { marginTop: '35vh' } })\r\n            })\r\n\r\n        } else {\r\n            let pop_insights = []\r\n            let insight_type = []\r\n            for (let item in segmentInsightsStorage[segmentKey]) {\r\n                insight_type.push(segmentInsightsStorage[segmentKey][item].type)\r\n            }\r\n            if (!insight_type.includes(sequence[index].type)) {\r\n                pop_insights = [{ \"spec\": sequence[index].spec, \"type\": sequence[index].type, \"action\": sequence[index].hasOwnProperty(\"action\") ? sequence[index].action : -1 }].concat(segmentInsightsStorage[segmentKey])\r\n                this.props.addPopInsights(segmentKey, pop_insights)\r\n                this.props.setCurrentPopInsights(pop_insights)\r\n            } else {\r\n                this.props.setCurrentPopInsights(segmentInsightsStorage[segmentKey])\r\n            }\r\n        }\r\n    }\r\n    judgeRequestRation = () => {\r\n        const { configureInsightColumns, configureInsightTime, configureInsightType } = this.props\r\n        //三者均要有值\r\n        if (configureInsightColumns.length === 0) {\r\n            message.warning({ content: 'The columns are empty', duration: 1, style: { marginTop: '35vh' } })\r\n            return false\r\n        } else if (configureInsightTime[0] === configureInsightTime[1]) {\r\n            message.warning({ content: 'The time range is empty', duration: 1, style: { marginTop: '35vh' } })\r\n            return false\r\n        } else if (configureInsightType === '') {\r\n            message.warning({ content: 'Type is empty', duration: 1, style: { marginTop: '35vh' } })\r\n            return false\r\n        }\r\n\r\n        //多选的column的type不能是单维度\r\n        if (configureInsightColumns.length > 1) {\r\n            if (univariate_type.includes(configureInsightType)) {\r\n                message.warning({ content: 'Insight type does not match columns', duration: 1, style: { marginTop: '35vh' } })\r\n                return false\r\n            }\r\n        } else {\r\n            if (multivariable_type.includes(configureInsightType)) {\r\n                message.warning({ content: 'Insight type does not match column', duration: 1, style: { marginTop: '35vh' } })\r\n                return false\r\n            }\r\n        }\r\n        return true\r\n    }\r\n    generateSingle = () => {\r\n        if (!this.judgeRequestRation()) return\r\n        const { isRequest } = this.state\r\n        const { configureInsightColumns, configureInsightTime, configureInsightType, selectedCardIndex, file_url, timeColumnName, sequence } = this.props\r\n        if (isRequest) {\r\n            message.warning({ content: 'Requesting, please wait!', duration: 1, style: { marginTop: '35vh' } })\r\n            return\r\n        }\r\n        //TODO:调用接口\r\n        this.setState({ isRequest: true })\r\n        message.loading({ content: 'Generating, please wait a moment', duration: 0, style: { marginTop: '35vh' } })\r\n        generateSingleInsight(file_url, configureInsightColumns, timeColumnName, configureInsightTime, [configureInsightType.replace(\" \", \"_\")]).then(response => {\r\n            message.destroy()\r\n            if (response.data.insights.length === 0) {\r\n                this.setState({ isRequest: false })\r\n                message.warning({ content: 'The current segment does not have this insight!', duration: 1, style: { marginTop: '35vh' } })\r\n                return\r\n            }\r\n            let result = response.data.insights[0]\r\n            // console.log(response.data.sequence)\r\n            // this.props.setSequence(response.data.sequence)\r\n            //取出当前的这个空白的卡片的recommededList，captionId，并且拼接oriBlock\r\n            //TODO：如果这个卡片已经是最后一张了怎么办，它的前面没有\r\n            //TODO:暂且先不考虑最后一张\r\n            let captionId = Math.floor(Math.random() * 3);\r\n            let oriBlock = []\r\n            for (let i = 0; i < configureInsightColumns.length; i++) {\r\n                oriBlock.push({ \"field\": configureInsightColumns[i], \"value\": [{ \"start\": configureInsightTime[0], \"end\": configureInsightTime[1] }] })\r\n            }\r\n            // let recommededList = sequence[selectedCardIndex].recommendList\r\n            this.props.fixCard(selectedCardIndex, result.spec, result.type, [], oriBlock, captionId)\r\n            //TODO:可以把它的下一张卡片的recommendList置空，这样就会点击时新生成\r\n            if (selectedCardIndex !== sequence.length - 1) this.props.addRecommendList(selectedCardIndex + 1, [])\r\n            //TODO：当前卡片的推荐列表感觉得接着换\r\n            setTimeout(() => { this.findRecommendList() }, 500)\r\n            this.findInsightsOfUnderCard(selectedCardIndex)\r\n            this.setState({ isRequest: false })\r\n            message.success({ content: 'Generate success!', duration: 1, style: { marginTop: '35vh' } })\r\n            setTimeout(() => { message.destroy() }, 3000)\r\n        }).catch(error => {\r\n            console.log('失败', error)\r\n            this.setState({ isRequest: false })\r\n            message.error({ content: 'Sorry, generate current failed!', duration: 1, style: { marginTop: '35vh' } })\r\n            setTimeout(() => { message.destroy() }, 3000)\r\n        })\r\n    }\r\n    findRecommendList = () => {\r\n        //当前index不为0，当前的推荐列表为空时才需要找\r\n        const { selectedCardIndex, sequence, currentPopInsightList, timeColumnName, file_url, task } = this.props\r\n        //防止多次点击，多次请求\r\n        const { requestRecommend } = this.state\r\n        if (selectedCardIndex !== 0 && sequence[selectedCardIndex][\"recommendList\"] !== undefined && sequence[selectedCardIndex][\"recommendList\"].length === 0 && !requestRecommend) {\r\n            // if (sequence[selectedCardIndex - 1].spec === \"empty\") return\r\n            //传递前面所有信息\r\n            let previous = []\r\n            for (let i = 0; i < selectedCardIndex; i++) {\r\n                if (sequence[i].spec === \"empty\") {\r\n                    continue\r\n                }\r\n                let fields = []\r\n                let p = {}\r\n                for (let j = 0; j < sequence[i][\"oriBlock\"].length; j++) {\r\n                    fields.push(sequence[i][\"oriBlock\"][j].field)\r\n                }\r\n                let start_end = sequence[i][\"oriBlock\"][0][\"value\"][0]\r\n                p[\"location\"] = [start_end.start, start_end.end]\r\n                p[\"chosen_insight\"] = sequence[i][\"type\"]\r\n                p[\"fields\"] = fields\r\n                previous.push(p)\r\n            }\r\n\r\n            let current = {}\r\n            //传递当前卡片的\r\n            if (sequence[selectedCardIndex].spec !== \"empty\") {\r\n                let fields = []\r\n                for (let i = 0; i < sequence[selectedCardIndex][\"oriBlock\"].length; i++) {\r\n                    fields.push(sequence[selectedCardIndex][\"oriBlock\"][i].field)\r\n                }\r\n                let start_end = sequence[selectedCardIndex][\"oriBlock\"][0][\"value\"][0]\r\n                current[\"location\"] = [start_end.start, start_end.end]\r\n                current[\"chosen_insight\"] = sequence[selectedCardIndex][\"type\"]\r\n                current[\"fields\"] = fields\r\n            }\r\n            this.setState({ requestRecommend: true })\r\n\r\n            // todo\r\n            generateRecommendList(file_url, timeColumnName, task, previous, current).then(response => {\r\n                this.props.addRecommendList(selectedCardIndex, response.data.recommendList)\r\n                this.setState({ requestRecommend: false })\r\n                this.props.setCurrentPopInsights(currentPopInsightList)\r\n            }).catch(error => {\r\n                console.log('失败', error)\r\n                message.error({ content: 'Sorry, no recommendations found!', duration: 1, style: { marginTop: '35vh' } })\r\n            })\r\n        }\r\n    }\r\n\r\n    generateUpdate = () => {\r\n        if (!this.judgeRequestRation()) return\r\n        const { isRequest } = this.state\r\n        const { configureInsightColumns, configureInsightTime, configureInsightType, selectedCardIndex, file_url, timeColumnName, sequence } = this.props\r\n        if (isRequest) {\r\n            message.warning({ content: 'Requesting, please wait!', duration: 1, style: { marginTop: '35vh' } })\r\n            return\r\n        }\r\n        this.setState({ isRequest: true })\r\n        //TODO:调用接口\r\n        //先添加前几个的oriBlock\r\n        let existing_insights = []\r\n        for (let i = 0; i <= selectedCardIndex - 1; i++) {\r\n            let temp = _.cloneDeep(sequence[i].oriBlock)\r\n            for (let j = 0; j < temp.length; j++) {\r\n                temp[j][\"insight\"] = sequence[i].type\r\n            }\r\n            existing_insights.push(temp)\r\n        }\r\n        let oriBlock = []\r\n        //再添加当前的卡片的oriBlock\r\n        for (let i = 0; i < configureInsightColumns.length; i++) {\r\n            if (configureInsightColumns[i] !== \"selectAll\") {\r\n                oriBlock.push({\r\n                    \"field\": configureInsightColumns[i],\r\n                    \"value\": [{ \"start\": configureInsightTime[0], \"end\": configureInsightTime[1] }],\r\n                    \"insight\": configureInsightType.replace(\" \", \"_\")\r\n                })\r\n            }\r\n        }\r\n        existing_insights.push(oriBlock)\r\n        message.loading({ content: 'Generating, please wait a moment', duration: 0, style: { marginTop: '35vh' } })\r\n        console.log(\"请求generateSubsequent\", existing_insights)\r\n        generateSubsequent(file_url, timeColumnName, existing_insights, this.props.task).then(response => {\r\n            message.destroy()\r\n            message.success({ content: 'Generate success!', duration: 1, style: { marginTop: '35vh' } })\r\n            let result = response.data.sequence\r\n            console.log(\"generateSubsequent\", result)\r\n            if (selectedCardIndex === 0) this.props.setSequence(result)\r\n            else {\r\n                let newSeqence = _.cloneDeep(sequence)\r\n                let sliceSequence = newSeqence.slice(0, selectedCardIndex)\r\n                this.props.setSequence(result)\r\n                // this.props.setRedundantRecommend(response.data.add[\"recommendList\"])\r\n                //最后一个recommend list也要改变\r\n                this.findRecommendList()\r\n                this.findInsightsOfUnderCard(selectedCardIndex)\r\n            }\r\n            this.setState({ isRequest: false })\r\n        }).catch(error => {\r\n            console.log('失败', error)\r\n            this.setState({ isRequest: false })\r\n            message.error({ content: 'Sorry, generate subsequent failed!', duration: 1, style: { marginTop: '35vh' } })\r\n            setTimeout(() => { message.destroy() }, 1000)\r\n        })\r\n    }\r\n\r\n    render() {\r\n        const { columnList, onlyColumns } = this.state\r\n        const { task, intl, dataRange, timeValue, configureInsightColumns, configureInsightTime, configureInsightType, configureInsightBreakdown, granularityName } = this.props\r\n        return (\r\n            <Collapse defaultActiveKey={[\"insight-chart\"]}>\r\n                <Panel header={intl.get(\"InsightChartConfigure\")} key=\"insight-chart\" >\r\n                    <div className='insight-configuration'>\r\n                        <div className=\"config-control-detail\">\r\n                            <Row >\r\n                                <Col span={8} >{intl.get(\"Range\")}</Col>\r\n                                <Col span={16}>\r\n                                    <TimeRange\r\n                                        timeValue={timeValue}\r\n                                        changeTime={this.changeTime}\r\n                                        min={dataRange[0]}\r\n                                        max={dataRange[1]}\r\n                                        start={configureInsightTime[0]}\r\n                                        end={configureInsightTime[1]}\r\n                                    />\r\n                                </Col>\r\n                            </Row>\r\n                            <Row >\r\n                                <Col span={8} >{intl.get(\"Column\")}</Col>\r\n                                <Col span={16}>\r\n                                    <Select\r\n                                        onChange={this.changeColumns}\r\n                                        value={configureInsightColumns}\r\n                                        defaultValue={configureInsightColumns}\r\n                                        mode=\"multiple\"\r\n                                        style={{ width: \"100%\" }}>\r\n                                        {columnList.map((key) => <Option key={key} value={key}>{key}</Option>)}\r\n                                    </Select>\r\n                                </Col>\r\n                            </Row>\r\n                            <Row >\r\n                                <Col span={8} >{intl.get(\"type\")}</Col>\r\n                                <Col span={16}>\r\n                                    <Select\r\n                                        style={{ width: \"100%\" }}\r\n                                        onChange={this.changeType}\r\n                                        value={InsightTypeTrans[configureInsightType.replace(\" \", \"_\")]}\r\n                                        defaultValue={InsightTypeTrans[configureInsightType.replace(\" \", \"_\")]}>\r\n                                        {configureInsightColumns.length > 1 ? multivariable_type.map((key) => <Option key={key} value={key}>{InsightTypeTrans[key.replace(\" \", \"_\")]}</Option>) : univariate_type.map((key) => <Option key={key} value={key}>{InsightTypeTrans[key.replace(\" \", \"_\")]}</Option>)}\r\n                                    </Select>\r\n                                </Col>\r\n                            </Row>\r\n                            <Row >\r\n                                <Col span={8} >{intl.get(\"breakdown\")}</Col>\r\n                                <Col span={16}>\r\n                                    <Select\r\n                                        onChange={this.changeBreakdown}\r\n                                        value={configureInsightBreakdown}\r\n                                        defaultValue={configureInsightBreakdown}\r\n                                        style={{ width: \"100%\" }}>\r\n                                        {granularityName.map((key) => <Option key={key} value={key}>{key}</Option>)}\r\n                                    </Select>\r\n                                </Col>\r\n                            </Row>\r\n                            <Row >\r\n                                <Col span={12} style={{ borderRight: '1px solid white', height: '50px', lineHeight: '50px' }} onClick={this.generateSingle}>{intl.get(\"GenerateOnlyone\")}</Col>\r\n                                <Col span={12} style={{ borderLeft: '1px solid white', height: '50px', lineHeight: '50px', fontSize: '12px' }} onClick={this.generateUpdate}>{intl.get(\"GenerateAndUpdate\")}</Col>\r\n                            </Row>\r\n                        </div>\r\n                    </div>\r\n                </Panel>\r\n            </Collapse>\r\n        )\r\n    }\r\n}\r\n","import { connect } from 'react-redux';\r\nimport { dataRange, segmentInsightsStorage, currentPopInsightList, task, chartScale, chartMargin, redundantRecommend, sequence, timeValue, selectedCardIndex, timeColumnName, columnsName, configureInsightColumns, configureInsightTime, configureInsightType, configureInsightBreakdown } from '@/selector/series';\r\nimport * as seriesAction from '../../../action/seriesAction'\r\nimport ConfigureInsightSetting from './ConfigureInsightSetting';\r\nimport { file_url } from '@/selector/story';\r\n\r\nconst mapStateToProps = (state) => ({\r\n    sequence: sequence(state),\r\n    file_url: file_url(state),\r\n    timeColumnName: timeColumnName(state),\r\n    selectedCardIndex: selectedCardIndex(state),\r\n    timeValue: timeValue(state),\r\n    redundantRecommend: redundantRecommend(state),\r\n    task: task(state),\r\n    segmentInsightsStorage: segmentInsightsStorage(state),\r\n    currentPopInsightList: currentPopInsightList(state),\r\n\r\n    chartScale: chartScale(state),\r\n    chartMargin: chartMargin(state),\r\n\r\n    dataRange: dataRange(state),\r\n    columnsName: columnsName(state),\r\n    configureInsightColumns: configureInsightColumns(state),\r\n    configureInsightTime: configureInsightTime(state),\r\n    configureInsightType: configureInsightType(state),\r\n    configureInsightBreakdown: configureInsightBreakdown(state),\r\n    // selectedCardColumns:selectedCardColumns(state),\r\n\r\n})\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n        setCurrentPopInsights: (insights) => dispatch(seriesAction.setCurrentPopInsights(insights)),\r\n        addRecommendList: (index, recommendList) => dispatch(seriesAction.addRecommendList(index, recommendList)),\r\n        setSequence: (sequence) => dispatch(seriesAction.setSequence(sequence)),\r\n        fixCard: (index, spec, factType, recommendList, oriBlock, captionId) => dispatch(seriesAction.fixCard(index, spec, factType, recommendList, oriBlock, captionId)),\r\n        setConfigureInsightColumns: (columns) => dispatch(seriesAction.setConfigureInsightColumns(columns)),\r\n        setConfigureInsightTime: (start, end) => dispatch(seriesAction.setConfigureInsightTime(start, end)),\r\n        setConfigureInsightType: (type) => dispatch(seriesAction.setConfigureInsightType(type)),\r\n        setConfigureInsightBreakdown: (breakdown) => dispatch(seriesAction.setConfigureInsightBreakdown(breakdown)),\r\n        setRedundantRecommend: (recommededList) => dispatch(seriesAction.setRedundantRecommend(recommededList)),\r\n        addPopInsights: (segment_key, segment_insights) => dispatch(seriesAction.addPopInsights(segment_key, segment_insights)),\r\n\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ConfigureInsightSetting);","import React, { Component } from 'react'\r\nimport './SeriesInsightsEditor.less'\r\nimport TopicSetting from './Settings/TopicSetting/TopicSetting'\r\nimport FileSetting from './Settings/FileSetting/FileSetting'\r\nimport RecommendedList from './RecommendedList'\r\nimport StartBackButton from './StartBackButton'\r\nimport ConfigureInsightSetting from '../ConfigureInsightSetting'\r\n\r\nexport default class SeriesInsightsEditor extends Component {\r\n\r\n    render() {\r\n        const { rightBtnState } = this.props\r\n        return (\r\n            <div className='time-analysis-right-wrapper' style={{ height: \"100%\", position: 'relative' }}>\r\n                {rightBtnState === \"Start\" ?\r\n                    <div className=\"init-edit-pannel\" >\r\n                        {/* <TopicSetting {...this.props} /> */}\r\n                        <FileSetting {...this.props} />\r\n                    </div> : <div className=\"init-edit-pannel\" >\r\n                        <ConfigureInsightSetting {...this.props} />\r\n                        <RecommendedList {...this.props} />\r\n                    </div>}\r\n                <StartBackButton {...this.props} />\r\n            </div>\r\n        )\r\n    }\r\n}","import { connect } from 'react-redux';\r\nimport {originDataRange, originTimeValue,originColumnName,rightBtnState,task,columnsName,granularityName,dataRange,timeColumnName,timeValue} from '@/selector/series';\r\nimport SeriesInsightsEditor from './SeriesInsightsEditor';\r\nimport * as seriesAction from '../../../action/seriesAction'\r\n\r\nconst mapStateToProps = (state) => ({\r\n    rightBtnState: rightBtnState(state),\r\n    columnsName:columnsName(state),\r\n    originColumnName:originColumnName(state),\r\n\r\n    granularityName:granularityName(state),\r\n    dataRange:dataRange(state),\r\n    originDataRange:originDataRange(state),\r\n    timeColumnName:timeColumnName(state),\r\n\r\n    timeValue:timeValue(state),\r\n    originTimeValue:originTimeValue(state),\r\n    task:task(state)\r\n\r\n})\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n        setTask : (task)=> dispatch(seriesAction.setTask(task)),\r\n        setProcessTime:(time)=> dispatch(seriesAction.setProcessTime(time)),\r\n        setProcessGranularity: (granularity)=> dispatch(seriesAction.setProcessGranularity(granularity)),\r\n        setProcessColumns:(columns)=> dispatch(seriesAction.setProcessColumns(columns)),\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(SeriesInsightsEditor);","import React, { Component } from 'react'\r\nimport { message } from \"antd\";\r\nimport './FileInformationView.less'\r\n\r\n// const timeSeiresName = \"硬件指标\"\r\n// const scope=\"[2007/01/01 - 2011/01/01]...\"\r\nexport default class FileInformationView extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            isEditable: true,\r\n        }\r\n    }\r\n    endEditing = () => {\r\n        let title = this.titleNode.innerText;\r\n        if (title === '') {\r\n            message.info(this.props.intl.get('Title cannot be null'))\r\n            this.titleNode.focus()\r\n            this.titleNode.innerText = this.props.intl.get('Please input title here')\r\n            return\r\n        }\r\n        // this.props.changeTitle(title)\r\n    }\r\n    render() {\r\n        const { intl,timeValue,originTimeValue,rightBtnState } = this.props\r\n        const { isEditable } = this.state\r\n        let title=this.props.fileName.replace('.csv','').replace('.CSV','')\r\n\r\n        let scope=''\r\n        if(rightBtnState==='Start'){\r\n            scope= `[${originTimeValue[0]} - ${originTimeValue[originTimeValue.length-1]}]...`\r\n        }else{\r\n            scope= `[${timeValue[0]} - ${timeValue[timeValue.length-1]}]...`\r\n        }\r\n        return (\r\n            <div className=\"file-information\">\r\n                <div className='time-series-title-box'>\r\n                    Visail:\r\n                    {/* {intl.get(\"TimeSeiresTitle\")} */}\r\n                    <div className='time-series-title'\r\n                        ref={(titleNode) => this.titleNode = titleNode}\r\n                        suppressContentEditableWarning={true}\r\n                        contentEditable={isEditable}\r\n                        onBlur={this.endEditing}\r\n                        onKeyDown={(e) => {\r\n                            //console.log(e.keyCode)\r\n                            if (e.keyCode === 13) {\r\n                                if (this.titleNode) {\r\n                                    this.titleNode.blur()\r\n                                }\r\n                                e.preventDefault()\r\n                            }\r\n                            if (e.keyCode === 8) {//删除按键\r\n                                if (this.titleNode && this.titleNode.innerText.length === 1) {\r\n                                    e.preventDefault()\r\n                                    message.info(intl.get('Title cannot be null'))\r\n                                }\r\n                            }\r\n                        }}>\r\n                        {title}\r\n                    </div>\r\n                </div>\r\n                <div className='time-scope-box'>\r\n                    <p className='time-scope'>\r\n                        <span className='scope-title'>\r\n                            {intl.get(\"DataScope\")}\r\n                        </span>\r\n                        <span className='scope-value'>\r\n                            {scope}\r\n                        </span>\r\n                    </p>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React, { Component } from 'react'\r\nimport { NavLink as Link } from 'react-router-dom'\r\nimport './HeaderOperatorView.less'\r\nimport { message } from 'antd';\r\nexport default class HeaderOperatorView extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        // this.history=useHistory();\r\n\r\n    }\r\n    exportResult = () => {\r\n        const {rightBtnState}=this.props\r\n        if(rightBtnState===\"Start\"){\r\n            message.warning({ content: 'Cannot export currently!', duration: 1, style: { marginTop: '35vh' } })\r\n        }\r\n        // const w=window.open('about:blank');\r\n        // w.location.href=\"/#export?sequence=\"+this.props.sequence + \"&currentLocale=\"+this.props.currentLocale;\r\n        // this.props.history.push(\"/export\", {id:1});\r\n        // this.history.push({pathname: '/export', state: {id: 1}})\r\n    }\r\n    render() {\r\n        const { intl ,timeValue,sequence,currentLocale,rightBtnState} = this.props\r\n        return (\r\n            <div className='editor-box'>\r\n                <div className=\"export-box-operator-wapper\">\r\n                    <div className=\"export-box-operator\">\r\n                        <div className=\"export-btn-div\" onClick={this.exportResult}>\r\n                            <div className=\"export-btn\"></div>\r\n                            \r\n                            <Link\r\n                                \r\n                                to={rightBtnState!==\"Start\"?{ pathname: \"/export\",state:{sequence:sequence,currentLocale:currentLocale,timeValue:timeValue} }:{}}\r\n                                // target=\"_blank\"\r\n                                >\r\n                                {intl.get(\"Export\")}\r\n                            </Link>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import { useState, useRef, useEffect } from 'react';\n\nfunction areInputsEqual(newInputs, lastInputs) {\n  if (newInputs.length !== lastInputs.length) {\n    return false;\n  }\n\n  for (var i = 0; i < newInputs.length; i++) {\n    if (newInputs[i] !== lastInputs[i]) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nfunction useMemoOne(getResult, inputs) {\n  var initial = useState(function () {\n    return {\n      inputs: inputs,\n      result: getResult()\n    };\n  })[0];\n  var isFirstRun = useRef(true);\n  var committed = useRef(initial);\n  var useCache = isFirstRun.current || Boolean(inputs && committed.current.inputs && areInputsEqual(inputs, committed.current.inputs));\n  var cache = useCache ? committed.current : {\n    inputs: inputs,\n    result: getResult()\n  };\n  useEffect(function () {\n    isFirstRun.current = false;\n    committed.current = cache;\n  }, [cache]);\n  return cache.result;\n}\nfunction useCallbackOne(callback, inputs) {\n  return useMemoOne(function () {\n    return callback;\n  }, inputs);\n}\nvar useMemo = useMemoOne;\nvar useCallback = useCallbackOne;\n\nexport { useCallback, useCallbackOne, useMemo, useMemoOne };\n","import invariant from 'tiny-invariant';\n\nvar getRect = function getRect(_ref) {\n  var top = _ref.top,\n      right = _ref.right,\n      bottom = _ref.bottom,\n      left = _ref.left;\n  var width = right - left;\n  var height = bottom - top;\n  var rect = {\n    top: top,\n    right: right,\n    bottom: bottom,\n    left: left,\n    width: width,\n    height: height,\n    x: left,\n    y: top,\n    center: {\n      x: (right + left) / 2,\n      y: (bottom + top) / 2\n    }\n  };\n  return rect;\n};\nvar expand = function expand(target, expandBy) {\n  return {\n    top: target.top - expandBy.top,\n    left: target.left - expandBy.left,\n    bottom: target.bottom + expandBy.bottom,\n    right: target.right + expandBy.right\n  };\n};\nvar shrink = function shrink(target, shrinkBy) {\n  return {\n    top: target.top + shrinkBy.top,\n    left: target.left + shrinkBy.left,\n    bottom: target.bottom - shrinkBy.bottom,\n    right: target.right - shrinkBy.right\n  };\n};\n\nvar shift = function shift(target, shiftBy) {\n  return {\n    top: target.top + shiftBy.y,\n    left: target.left + shiftBy.x,\n    bottom: target.bottom + shiftBy.y,\n    right: target.right + shiftBy.x\n  };\n};\n\nvar noSpacing = {\n  top: 0,\n  right: 0,\n  bottom: 0,\n  left: 0\n};\nvar createBox = function createBox(_ref2) {\n  var borderBox = _ref2.borderBox,\n      _ref2$margin = _ref2.margin,\n      margin = _ref2$margin === void 0 ? noSpacing : _ref2$margin,\n      _ref2$border = _ref2.border,\n      border = _ref2$border === void 0 ? noSpacing : _ref2$border,\n      _ref2$padding = _ref2.padding,\n      padding = _ref2$padding === void 0 ? noSpacing : _ref2$padding;\n  var marginBox = getRect(expand(borderBox, margin));\n  var paddingBox = getRect(shrink(borderBox, border));\n  var contentBox = getRect(shrink(paddingBox, padding));\n  return {\n    marginBox: marginBox,\n    borderBox: getRect(borderBox),\n    paddingBox: paddingBox,\n    contentBox: contentBox,\n    margin: margin,\n    border: border,\n    padding: padding\n  };\n};\n\nvar parse = function parse(raw) {\n  var value = raw.slice(0, -2);\n  var suffix = raw.slice(-2);\n\n  if (suffix !== 'px') {\n    return 0;\n  }\n\n  var result = Number(value);\n  !!isNaN(result) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Could not parse value [raw: \" + raw + \", without suffix: \" + value + \"]\") : invariant(false) : void 0;\n  return result;\n};\n\nvar getWindowScroll = function getWindowScroll() {\n  return {\n    x: window.pageXOffset,\n    y: window.pageYOffset\n  };\n};\n\nvar offset = function offset(original, change) {\n  var borderBox = original.borderBox,\n      border = original.border,\n      margin = original.margin,\n      padding = original.padding;\n  var shifted = shift(borderBox, change);\n  return createBox({\n    borderBox: shifted,\n    border: border,\n    margin: margin,\n    padding: padding\n  });\n};\nvar withScroll = function withScroll(original, scroll) {\n  if (scroll === void 0) {\n    scroll = getWindowScroll();\n  }\n\n  return offset(original, scroll);\n};\nvar calculateBox = function calculateBox(borderBox, styles) {\n  var margin = {\n    top: parse(styles.marginTop),\n    right: parse(styles.marginRight),\n    bottom: parse(styles.marginBottom),\n    left: parse(styles.marginLeft)\n  };\n  var padding = {\n    top: parse(styles.paddingTop),\n    right: parse(styles.paddingRight),\n    bottom: parse(styles.paddingBottom),\n    left: parse(styles.paddingLeft)\n  };\n  var border = {\n    top: parse(styles.borderTopWidth),\n    right: parse(styles.borderRightWidth),\n    bottom: parse(styles.borderBottomWidth),\n    left: parse(styles.borderLeftWidth)\n  };\n  return createBox({\n    borderBox: borderBox,\n    margin: margin,\n    padding: padding,\n    border: border\n  });\n};\nvar getBox = function getBox(el) {\n  var borderBox = el.getBoundingClientRect();\n  var styles = window.getComputedStyle(el);\n  return calculateBox(borderBox, styles);\n};\n\nexport { calculateBox, createBox, expand, getBox, getRect, offset, shrink, withScroll };\n","var safeIsNaN = Number.isNaN ||\n    function ponyfill(value) {\n        return typeof value === 'number' && value !== value;\n    };\nfunction isEqual(first, second) {\n    if (first === second) {\n        return true;\n    }\n    if (safeIsNaN(first) && safeIsNaN(second)) {\n        return true;\n    }\n    return false;\n}\nfunction areInputsEqual(newInputs, lastInputs) {\n    if (newInputs.length !== lastInputs.length) {\n        return false;\n    }\n    for (var i = 0; i < newInputs.length; i++) {\n        if (!isEqual(newInputs[i], lastInputs[i])) {\n            return false;\n        }\n    }\n    return true;\n}\n\nfunction memoizeOne(resultFn, isEqual) {\n    if (isEqual === void 0) { isEqual = areInputsEqual; }\n    var lastThis;\n    var lastArgs = [];\n    var lastResult;\n    var calledOnce = false;\n    function memoized() {\n        var newArgs = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            newArgs[_i] = arguments[_i];\n        }\n        if (calledOnce && lastThis === this && isEqual(newArgs, lastArgs)) {\n            return lastResult;\n        }\n        lastResult = resultFn.apply(this, newArgs);\n        calledOnce = true;\n        lastThis = this;\n        lastArgs = newArgs;\n        return lastResult;\n    }\n    return memoized;\n}\n\nexport default memoizeOne;\n","var rafSchd = function rafSchd(fn) {\n  var lastArgs = [];\n  var frameId = null;\n\n  var wrapperFn = function wrapperFn() {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    lastArgs = args;\n\n    if (frameId) {\n      return;\n    }\n\n    frameId = requestAnimationFrame(function () {\n      frameId = null;\n      fn.apply(void 0, lastArgs);\n    });\n  };\n\n  wrapperFn.cancel = function () {\n    if (!frameId) {\n      return;\n    }\n\n    cancelAnimationFrame(frameId);\n    frameId = null;\n  };\n\n  return wrapperFn;\n};\n\nexport default rafSchd;\n","import React, { useLayoutEffect, useEffect, useRef, useState, useContext } from 'react';\nimport _inheritsLoose from '@babel/runtime/helpers/esm/inheritsLoose';\nimport _extends from '@babel/runtime/helpers/esm/extends';\nimport { createStore as createStore$1, applyMiddleware, compose, bindActionCreators } from 'redux';\nimport { Provider, connect } from 'react-redux';\nimport { useMemo, useCallback } from 'use-memo-one';\nimport { getRect, expand, offset, withScroll, getBox, createBox, calculateBox } from 'css-box-model';\nimport memoizeOne from 'memoize-one';\nimport rafSchd from 'raf-schd';\nimport ReactDOM from 'react-dom';\n\nvar isProduction = process.env.NODE_ENV === 'production';\nvar spacesAndTabs = /[ \\t]{2,}/g;\nvar lineStartWithSpaces = /^[ \\t]*/gm;\n\nvar clean = function clean(value) {\n  return value.replace(spacesAndTabs, ' ').replace(lineStartWithSpaces, '').trim();\n};\n\nvar getDevMessage = function getDevMessage(message) {\n  return clean(\"\\n  %creact-beautiful-dnd\\n\\n  %c\" + clean(message) + \"\\n\\n  %c\\uD83D\\uDC77\\u200D This is a development only message. It will be removed in production builds.\\n\");\n};\n\nvar getFormattedMessage = function getFormattedMessage(message) {\n  return [getDevMessage(message), 'color: #00C584; font-size: 1.2em; font-weight: bold;', 'line-height: 1.5', 'color: #723874;'];\n};\nvar isDisabledFlag = '__react-beautiful-dnd-disable-dev-warnings';\nfunction log(type, message) {\n  var _console;\n\n  if (isProduction) {\n    return;\n  }\n\n  if (typeof window !== 'undefined' && window[isDisabledFlag]) {\n    return;\n  }\n\n  (_console = console)[type].apply(_console, getFormattedMessage(message));\n}\nvar warning = log.bind(null, 'warn');\nvar error = log.bind(null, 'error');\n\nfunction noop() {}\n\nfunction getOptions(shared, fromBinding) {\n  return _extends({}, shared, {}, fromBinding);\n}\n\nfunction bindEvents(el, bindings, sharedOptions) {\n  var unbindings = bindings.map(function (binding) {\n    var options = getOptions(sharedOptions, binding.options);\n    el.addEventListener(binding.eventName, binding.fn, options);\n    return function unbind() {\n      el.removeEventListener(binding.eventName, binding.fn, options);\n    };\n  });\n  return function unbindAll() {\n    unbindings.forEach(function (unbind) {\n      unbind();\n    });\n  };\n}\n\nvar isProduction$1 = process.env.NODE_ENV === 'production';\nvar prefix = 'Invariant failed';\nfunction RbdInvariant(message) {\n  this.message = message;\n}\n\nRbdInvariant.prototype.toString = function toString() {\n  return this.message;\n};\n\nfunction invariant(condition, message) {\n  if (condition) {\n    return;\n  }\n\n  if (isProduction$1) {\n    throw new RbdInvariant(prefix);\n  } else {\n    throw new RbdInvariant(prefix + \": \" + (message || ''));\n  }\n}\n\nvar ErrorBoundary = function (_React$Component) {\n  _inheritsLoose(ErrorBoundary, _React$Component);\n\n  function ErrorBoundary() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _React$Component.call.apply(_React$Component, [this].concat(args)) || this;\n    _this.callbacks = null;\n    _this.unbind = noop;\n\n    _this.onWindowError = function (event) {\n      var callbacks = _this.getCallbacks();\n\n      if (callbacks.isDragging()) {\n        callbacks.tryAbort();\n        process.env.NODE_ENV !== \"production\" ? warning(\"\\n        An error was caught by our window 'error' event listener while a drag was occurring.\\n        The active drag has been aborted.\\n      \") : void 0;\n      }\n\n      var err = event.error;\n\n      if (err instanceof RbdInvariant) {\n        event.preventDefault();\n\n        if (process.env.NODE_ENV !== 'production') {\n          error(err.message);\n        }\n      }\n    };\n\n    _this.getCallbacks = function () {\n      if (!_this.callbacks) {\n        throw new Error('Unable to find AppCallbacks in <ErrorBoundary/>');\n      }\n\n      return _this.callbacks;\n    };\n\n    _this.setCallbacks = function (callbacks) {\n      _this.callbacks = callbacks;\n    };\n\n    return _this;\n  }\n\n  var _proto = ErrorBoundary.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    this.unbind = bindEvents(window, [{\n      eventName: 'error',\n      fn: this.onWindowError\n    }]);\n  };\n\n  _proto.componentDidCatch = function componentDidCatch(err) {\n    if (err instanceof RbdInvariant) {\n      if (process.env.NODE_ENV !== 'production') {\n        error(err.message);\n      }\n\n      this.setState({});\n      return;\n    }\n\n    throw err;\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    this.unbind();\n  };\n\n  _proto.render = function render() {\n    return this.props.children(this.setCallbacks);\n  };\n\n  return ErrorBoundary;\n}(React.Component);\n\nvar dragHandleUsageInstructions = \"\\n  Press space bar to start a drag.\\n  When dragging you can use the arrow keys to move the item around and escape to cancel.\\n  Some screen readers may require you to be in focus mode or to use your pass through key\\n\";\n\nvar position = function position(index) {\n  return index + 1;\n};\n\nvar onDragStart = function onDragStart(start) {\n  return \"\\n  You have lifted an item in position \" + position(start.source.index) + \"\\n\";\n};\n\nvar withLocation = function withLocation(source, destination) {\n  var isInHomeList = source.droppableId === destination.droppableId;\n  var startPosition = position(source.index);\n  var endPosition = position(destination.index);\n\n  if (isInHomeList) {\n    return \"\\n      You have moved the item from position \" + startPosition + \"\\n      to position \" + endPosition + \"\\n    \";\n  }\n\n  return \"\\n    You have moved the item from position \" + startPosition + \"\\n    in list \" + source.droppableId + \"\\n    to list \" + destination.droppableId + \"\\n    in position \" + endPosition + \"\\n  \";\n};\n\nvar withCombine = function withCombine(id, source, combine) {\n  var inHomeList = source.droppableId === combine.droppableId;\n\n  if (inHomeList) {\n    return \"\\n      The item \" + id + \"\\n      has been combined with \" + combine.draggableId;\n  }\n\n  return \"\\n      The item \" + id + \"\\n      in list \" + source.droppableId + \"\\n      has been combined with \" + combine.draggableId + \"\\n      in list \" + combine.droppableId + \"\\n    \";\n};\n\nvar onDragUpdate = function onDragUpdate(update) {\n  var location = update.destination;\n\n  if (location) {\n    return withLocation(update.source, location);\n  }\n\n  var combine = update.combine;\n\n  if (combine) {\n    return withCombine(update.draggableId, update.source, combine);\n  }\n\n  return 'You are over an area that cannot be dropped on';\n};\n\nvar returnedToStart = function returnedToStart(source) {\n  return \"\\n  The item has returned to its starting position\\n  of \" + position(source.index) + \"\\n\";\n};\n\nvar onDragEnd = function onDragEnd(result) {\n  if (result.reason === 'CANCEL') {\n    return \"\\n      Movement cancelled.\\n      \" + returnedToStart(result.source) + \"\\n    \";\n  }\n\n  var location = result.destination;\n  var combine = result.combine;\n\n  if (location) {\n    return \"\\n      You have dropped the item.\\n      \" + withLocation(result.source, location) + \"\\n    \";\n  }\n\n  if (combine) {\n    return \"\\n      You have dropped the item.\\n      \" + withCombine(result.draggableId, result.source, combine) + \"\\n    \";\n  }\n\n  return \"\\n    The item has been dropped while not over a drop area.\\n    \" + returnedToStart(result.source) + \"\\n  \";\n};\n\nvar preset = {\n  dragHandleUsageInstructions: dragHandleUsageInstructions,\n  onDragStart: onDragStart,\n  onDragUpdate: onDragUpdate,\n  onDragEnd: onDragEnd\n};\n\nvar origin = {\n  x: 0,\n  y: 0\n};\nvar add = function add(point1, point2) {\n  return {\n    x: point1.x + point2.x,\n    y: point1.y + point2.y\n  };\n};\nvar subtract = function subtract(point1, point2) {\n  return {\n    x: point1.x - point2.x,\n    y: point1.y - point2.y\n  };\n};\nvar isEqual = function isEqual(point1, point2) {\n  return point1.x === point2.x && point1.y === point2.y;\n};\nvar negate = function negate(point) {\n  return {\n    x: point.x !== 0 ? -point.x : 0,\n    y: point.y !== 0 ? -point.y : 0\n  };\n};\nvar patch = function patch(line, value, otherValue) {\n  var _ref;\n\n  if (otherValue === void 0) {\n    otherValue = 0;\n  }\n\n  return _ref = {}, _ref[line] = value, _ref[line === 'x' ? 'y' : 'x'] = otherValue, _ref;\n};\nvar distance = function distance(point1, point2) {\n  return Math.sqrt(Math.pow(point2.x - point1.x, 2) + Math.pow(point2.y - point1.y, 2));\n};\nvar closest = function closest(target, points) {\n  return Math.min.apply(Math, points.map(function (point) {\n    return distance(target, point);\n  }));\n};\nvar apply = function apply(fn) {\n  return function (point) {\n    return {\n      x: fn(point.x),\n      y: fn(point.y)\n    };\n  };\n};\n\nvar executeClip = (function (frame, subject) {\n  var result = getRect({\n    top: Math.max(subject.top, frame.top),\n    right: Math.min(subject.right, frame.right),\n    bottom: Math.min(subject.bottom, frame.bottom),\n    left: Math.max(subject.left, frame.left)\n  });\n\n  if (result.width <= 0 || result.height <= 0) {\n    return null;\n  }\n\n  return result;\n});\n\nvar offsetByPosition = function offsetByPosition(spacing, point) {\n  return {\n    top: spacing.top + point.y,\n    left: spacing.left + point.x,\n    bottom: spacing.bottom + point.y,\n    right: spacing.right + point.x\n  };\n};\nvar getCorners = function getCorners(spacing) {\n  return [{\n    x: spacing.left,\n    y: spacing.top\n  }, {\n    x: spacing.right,\n    y: spacing.top\n  }, {\n    x: spacing.left,\n    y: spacing.bottom\n  }, {\n    x: spacing.right,\n    y: spacing.bottom\n  }];\n};\nvar noSpacing = {\n  top: 0,\n  right: 0,\n  bottom: 0,\n  left: 0\n};\n\nvar scroll = function scroll(target, frame) {\n  if (!frame) {\n    return target;\n  }\n\n  return offsetByPosition(target, frame.scroll.diff.displacement);\n};\n\nvar increase = function increase(target, axis, withPlaceholder) {\n  if (withPlaceholder && withPlaceholder.increasedBy) {\n    var _extends2;\n\n    return _extends({}, target, (_extends2 = {}, _extends2[axis.end] = target[axis.end] + withPlaceholder.increasedBy[axis.line], _extends2));\n  }\n\n  return target;\n};\n\nvar clip = function clip(target, frame) {\n  if (frame && frame.shouldClipSubject) {\n    return executeClip(frame.pageMarginBox, target);\n  }\n\n  return getRect(target);\n};\n\nvar getSubject = (function (_ref) {\n  var page = _ref.page,\n      withPlaceholder = _ref.withPlaceholder,\n      axis = _ref.axis,\n      frame = _ref.frame;\n  var scrolled = scroll(page.marginBox, frame);\n  var increased = increase(scrolled, axis, withPlaceholder);\n  var clipped = clip(increased, frame);\n  return {\n    page: page,\n    withPlaceholder: withPlaceholder,\n    active: clipped\n  };\n});\n\nvar scrollDroppable = (function (droppable, newScroll) {\n  !droppable.frame ? process.env.NODE_ENV !== \"production\" ? invariant(false) : invariant(false) : void 0;\n  var scrollable = droppable.frame;\n  var scrollDiff = subtract(newScroll, scrollable.scroll.initial);\n  var scrollDisplacement = negate(scrollDiff);\n\n  var frame = _extends({}, scrollable, {\n    scroll: {\n      initial: scrollable.scroll.initial,\n      current: newScroll,\n      diff: {\n        value: scrollDiff,\n        displacement: scrollDisplacement\n      },\n      max: scrollable.scroll.max\n    }\n  });\n\n  var subject = getSubject({\n    page: droppable.subject.page,\n    withPlaceholder: droppable.subject.withPlaceholder,\n    axis: droppable.axis,\n    frame: frame\n  });\n\n  var result = _extends({}, droppable, {\n    frame: frame,\n    subject: subject\n  });\n\n  return result;\n});\n\nfunction isInteger(value) {\n  if (Number.isInteger) {\n    return Number.isInteger(value);\n  }\n\n  return typeof value === 'number' && isFinite(value) && Math.floor(value) === value;\n}\nfunction values(map) {\n  if (Object.values) {\n    return Object.values(map);\n  }\n\n  return Object.keys(map).map(function (key) {\n    return map[key];\n  });\n}\nfunction findIndex(list, predicate) {\n  if (list.findIndex) {\n    return list.findIndex(predicate);\n  }\n\n  for (var i = 0; i < list.length; i++) {\n    if (predicate(list[i])) {\n      return i;\n    }\n  }\n\n  return -1;\n}\nfunction find(list, predicate) {\n  if (list.find) {\n    return list.find(predicate);\n  }\n\n  var index = findIndex(list, predicate);\n\n  if (index !== -1) {\n    return list[index];\n  }\n\n  return undefined;\n}\nfunction toArray(list) {\n  return Array.prototype.slice.call(list);\n}\n\nvar toDroppableMap = memoizeOne(function (droppables) {\n  return droppables.reduce(function (previous, current) {\n    previous[current.descriptor.id] = current;\n    return previous;\n  }, {});\n});\nvar toDraggableMap = memoizeOne(function (draggables) {\n  return draggables.reduce(function (previous, current) {\n    previous[current.descriptor.id] = current;\n    return previous;\n  }, {});\n});\nvar toDroppableList = memoizeOne(function (droppables) {\n  return values(droppables);\n});\nvar toDraggableList = memoizeOne(function (draggables) {\n  return values(draggables);\n});\n\nvar getDraggablesInsideDroppable = memoizeOne(function (droppableId, draggables) {\n  var result = toDraggableList(draggables).filter(function (draggable) {\n    return droppableId === draggable.descriptor.droppableId;\n  }).sort(function (a, b) {\n    return a.descriptor.index - b.descriptor.index;\n  });\n  return result;\n});\n\nfunction tryGetDestination(impact) {\n  if (impact.at && impact.at.type === 'REORDER') {\n    return impact.at.destination;\n  }\n\n  return null;\n}\nfunction tryGetCombine(impact) {\n  if (impact.at && impact.at.type === 'COMBINE') {\n    return impact.at.combine;\n  }\n\n  return null;\n}\n\nvar removeDraggableFromList = memoizeOne(function (remove, list) {\n  return list.filter(function (item) {\n    return item.descriptor.id !== remove.descriptor.id;\n  });\n});\n\nvar moveToNextCombine = (function (_ref) {\n  var isMovingForward = _ref.isMovingForward,\n      draggable = _ref.draggable,\n      destination = _ref.destination,\n      insideDestination = _ref.insideDestination,\n      previousImpact = _ref.previousImpact;\n\n  if (!destination.isCombineEnabled) {\n    return null;\n  }\n\n  var location = tryGetDestination(previousImpact);\n\n  if (!location) {\n    return null;\n  }\n\n  function getImpact(target) {\n    var at = {\n      type: 'COMBINE',\n      combine: {\n        draggableId: target,\n        droppableId: destination.descriptor.id\n      }\n    };\n    return _extends({}, previousImpact, {\n      at: at\n    });\n  }\n\n  var all = previousImpact.displaced.all;\n  var closestId = all.length ? all[0] : null;\n\n  if (isMovingForward) {\n    return closestId ? getImpact(closestId) : null;\n  }\n\n  var withoutDraggable = removeDraggableFromList(draggable, insideDestination);\n\n  if (!closestId) {\n    if (!withoutDraggable.length) {\n      return null;\n    }\n\n    var last = withoutDraggable[withoutDraggable.length - 1];\n    return getImpact(last.descriptor.id);\n  }\n\n  var indexOfClosest = findIndex(withoutDraggable, function (d) {\n    return d.descriptor.id === closestId;\n  });\n  !(indexOfClosest !== -1) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Could not find displaced item in set') : invariant(false) : void 0;\n  var proposedIndex = indexOfClosest - 1;\n\n  if (proposedIndex < 0) {\n    return null;\n  }\n\n  var before = withoutDraggable[proposedIndex];\n  return getImpact(before.descriptor.id);\n});\n\nvar isHomeOf = (function (draggable, destination) {\n  return draggable.descriptor.droppableId === destination.descriptor.id;\n});\n\nvar noDisplacedBy = {\n  point: origin,\n  value: 0\n};\nvar emptyGroups = {\n  invisible: {},\n  visible: {},\n  all: []\n};\nvar noImpact = {\n  displaced: emptyGroups,\n  displacedBy: noDisplacedBy,\n  at: null\n};\n\nvar isWithin = (function (lowerBound, upperBound) {\n  return function (value) {\n    return lowerBound <= value && value <= upperBound;\n  };\n});\n\nvar isPartiallyVisibleThroughFrame = (function (frame) {\n  var isWithinVertical = isWithin(frame.top, frame.bottom);\n  var isWithinHorizontal = isWithin(frame.left, frame.right);\n  return function (subject) {\n    var isContained = isWithinVertical(subject.top) && isWithinVertical(subject.bottom) && isWithinHorizontal(subject.left) && isWithinHorizontal(subject.right);\n\n    if (isContained) {\n      return true;\n    }\n\n    var isPartiallyVisibleVertically = isWithinVertical(subject.top) || isWithinVertical(subject.bottom);\n    var isPartiallyVisibleHorizontally = isWithinHorizontal(subject.left) || isWithinHorizontal(subject.right);\n    var isPartiallyContained = isPartiallyVisibleVertically && isPartiallyVisibleHorizontally;\n\n    if (isPartiallyContained) {\n      return true;\n    }\n\n    var isBiggerVertically = subject.top < frame.top && subject.bottom > frame.bottom;\n    var isBiggerHorizontally = subject.left < frame.left && subject.right > frame.right;\n    var isTargetBiggerThanFrame = isBiggerVertically && isBiggerHorizontally;\n\n    if (isTargetBiggerThanFrame) {\n      return true;\n    }\n\n    var isTargetBiggerOnOneAxis = isBiggerVertically && isPartiallyVisibleHorizontally || isBiggerHorizontally && isPartiallyVisibleVertically;\n    return isTargetBiggerOnOneAxis;\n  };\n});\n\nvar isTotallyVisibleThroughFrame = (function (frame) {\n  var isWithinVertical = isWithin(frame.top, frame.bottom);\n  var isWithinHorizontal = isWithin(frame.left, frame.right);\n  return function (subject) {\n    var isContained = isWithinVertical(subject.top) && isWithinVertical(subject.bottom) && isWithinHorizontal(subject.left) && isWithinHorizontal(subject.right);\n    return isContained;\n  };\n});\n\nvar vertical = {\n  direction: 'vertical',\n  line: 'y',\n  crossAxisLine: 'x',\n  start: 'top',\n  end: 'bottom',\n  size: 'height',\n  crossAxisStart: 'left',\n  crossAxisEnd: 'right',\n  crossAxisSize: 'width'\n};\nvar horizontal = {\n  direction: 'horizontal',\n  line: 'x',\n  crossAxisLine: 'y',\n  start: 'left',\n  end: 'right',\n  size: 'width',\n  crossAxisStart: 'top',\n  crossAxisEnd: 'bottom',\n  crossAxisSize: 'height'\n};\n\nvar isTotallyVisibleThroughFrameOnAxis = (function (axis) {\n  return function (frame) {\n    var isWithinVertical = isWithin(frame.top, frame.bottom);\n    var isWithinHorizontal = isWithin(frame.left, frame.right);\n    return function (subject) {\n      if (axis === vertical) {\n        return isWithinVertical(subject.top) && isWithinVertical(subject.bottom);\n      }\n\n      return isWithinHorizontal(subject.left) && isWithinHorizontal(subject.right);\n    };\n  };\n});\n\nvar getDroppableDisplaced = function getDroppableDisplaced(target, destination) {\n  var displacement = destination.frame ? destination.frame.scroll.diff.displacement : origin;\n  return offsetByPosition(target, displacement);\n};\n\nvar isVisibleInDroppable = function isVisibleInDroppable(target, destination, isVisibleThroughFrameFn) {\n  if (!destination.subject.active) {\n    return false;\n  }\n\n  return isVisibleThroughFrameFn(destination.subject.active)(target);\n};\n\nvar isVisibleInViewport = function isVisibleInViewport(target, viewport, isVisibleThroughFrameFn) {\n  return isVisibleThroughFrameFn(viewport)(target);\n};\n\nvar isVisible = function isVisible(_ref) {\n  var toBeDisplaced = _ref.target,\n      destination = _ref.destination,\n      viewport = _ref.viewport,\n      withDroppableDisplacement = _ref.withDroppableDisplacement,\n      isVisibleThroughFrameFn = _ref.isVisibleThroughFrameFn;\n  var displacedTarget = withDroppableDisplacement ? getDroppableDisplaced(toBeDisplaced, destination) : toBeDisplaced;\n  return isVisibleInDroppable(displacedTarget, destination, isVisibleThroughFrameFn) && isVisibleInViewport(displacedTarget, viewport, isVisibleThroughFrameFn);\n};\n\nvar isPartiallyVisible = function isPartiallyVisible(args) {\n  return isVisible(_extends({}, args, {\n    isVisibleThroughFrameFn: isPartiallyVisibleThroughFrame\n  }));\n};\nvar isTotallyVisible = function isTotallyVisible(args) {\n  return isVisible(_extends({}, args, {\n    isVisibleThroughFrameFn: isTotallyVisibleThroughFrame\n  }));\n};\nvar isTotallyVisibleOnAxis = function isTotallyVisibleOnAxis(args) {\n  return isVisible(_extends({}, args, {\n    isVisibleThroughFrameFn: isTotallyVisibleThroughFrameOnAxis(args.destination.axis)\n  }));\n};\n\nvar getShouldAnimate = function getShouldAnimate(id, last, forceShouldAnimate) {\n  if (typeof forceShouldAnimate === 'boolean') {\n    return forceShouldAnimate;\n  }\n\n  if (!last) {\n    return true;\n  }\n\n  var invisible = last.invisible,\n      visible = last.visible;\n\n  if (invisible[id]) {\n    return false;\n  }\n\n  var previous = visible[id];\n  return previous ? previous.shouldAnimate : true;\n};\n\nfunction getTarget(draggable, displacedBy) {\n  var marginBox = draggable.page.marginBox;\n  var expandBy = {\n    top: displacedBy.point.y,\n    right: 0,\n    bottom: 0,\n    left: displacedBy.point.x\n  };\n  return getRect(expand(marginBox, expandBy));\n}\n\nfunction getDisplacementGroups(_ref) {\n  var afterDragging = _ref.afterDragging,\n      destination = _ref.destination,\n      displacedBy = _ref.displacedBy,\n      viewport = _ref.viewport,\n      forceShouldAnimate = _ref.forceShouldAnimate,\n      last = _ref.last;\n  return afterDragging.reduce(function process(groups, draggable) {\n    var target = getTarget(draggable, displacedBy);\n    var id = draggable.descriptor.id;\n    groups.all.push(id);\n    var isVisible = isPartiallyVisible({\n      target: target,\n      destination: destination,\n      viewport: viewport,\n      withDroppableDisplacement: true\n    });\n\n    if (!isVisible) {\n      groups.invisible[draggable.descriptor.id] = true;\n      return groups;\n    }\n\n    var shouldAnimate = getShouldAnimate(id, last, forceShouldAnimate);\n    var displacement = {\n      draggableId: id,\n      shouldAnimate: shouldAnimate\n    };\n    groups.visible[id] = displacement;\n    return groups;\n  }, {\n    all: [],\n    visible: {},\n    invisible: {}\n  });\n}\n\nfunction getIndexOfLastItem(draggables, options) {\n  if (!draggables.length) {\n    return 0;\n  }\n\n  var indexOfLastItem = draggables[draggables.length - 1].descriptor.index;\n  return options.inHomeList ? indexOfLastItem : indexOfLastItem + 1;\n}\n\nfunction goAtEnd(_ref) {\n  var insideDestination = _ref.insideDestination,\n      inHomeList = _ref.inHomeList,\n      displacedBy = _ref.displacedBy,\n      destination = _ref.destination;\n  var newIndex = getIndexOfLastItem(insideDestination, {\n    inHomeList: inHomeList\n  });\n  return {\n    displaced: emptyGroups,\n    displacedBy: displacedBy,\n    at: {\n      type: 'REORDER',\n      destination: {\n        droppableId: destination.descriptor.id,\n        index: newIndex\n      }\n    }\n  };\n}\n\nfunction calculateReorderImpact(_ref2) {\n  var draggable = _ref2.draggable,\n      insideDestination = _ref2.insideDestination,\n      destination = _ref2.destination,\n      viewport = _ref2.viewport,\n      displacedBy = _ref2.displacedBy,\n      last = _ref2.last,\n      index = _ref2.index,\n      forceShouldAnimate = _ref2.forceShouldAnimate;\n  var inHomeList = isHomeOf(draggable, destination);\n\n  if (index == null) {\n    return goAtEnd({\n      insideDestination: insideDestination,\n      inHomeList: inHomeList,\n      displacedBy: displacedBy,\n      destination: destination\n    });\n  }\n\n  var match = find(insideDestination, function (item) {\n    return item.descriptor.index === index;\n  });\n\n  if (!match) {\n    return goAtEnd({\n      insideDestination: insideDestination,\n      inHomeList: inHomeList,\n      displacedBy: displacedBy,\n      destination: destination\n    });\n  }\n\n  var withoutDragging = removeDraggableFromList(draggable, insideDestination);\n  var sliceFrom = insideDestination.indexOf(match);\n  var impacted = withoutDragging.slice(sliceFrom);\n  var displaced = getDisplacementGroups({\n    afterDragging: impacted,\n    destination: destination,\n    displacedBy: displacedBy,\n    last: last,\n    viewport: viewport.frame,\n    forceShouldAnimate: forceShouldAnimate\n  });\n  return {\n    displaced: displaced,\n    displacedBy: displacedBy,\n    at: {\n      type: 'REORDER',\n      destination: {\n        droppableId: destination.descriptor.id,\n        index: index\n      }\n    }\n  };\n}\n\nfunction didStartAfterCritical(draggableId, afterCritical) {\n  return Boolean(afterCritical.effected[draggableId]);\n}\n\nvar fromCombine = (function (_ref) {\n  var isMovingForward = _ref.isMovingForward,\n      destination = _ref.destination,\n      draggables = _ref.draggables,\n      combine = _ref.combine,\n      afterCritical = _ref.afterCritical;\n\n  if (!destination.isCombineEnabled) {\n    return null;\n  }\n\n  var combineId = combine.draggableId;\n  var combineWith = draggables[combineId];\n  var combineWithIndex = combineWith.descriptor.index;\n  var didCombineWithStartAfterCritical = didStartAfterCritical(combineId, afterCritical);\n\n  if (didCombineWithStartAfterCritical) {\n    if (isMovingForward) {\n      return combineWithIndex;\n    }\n\n    return combineWithIndex - 1;\n  }\n\n  if (isMovingForward) {\n    return combineWithIndex + 1;\n  }\n\n  return combineWithIndex;\n});\n\nvar fromReorder = (function (_ref) {\n  var isMovingForward = _ref.isMovingForward,\n      isInHomeList = _ref.isInHomeList,\n      insideDestination = _ref.insideDestination,\n      location = _ref.location;\n\n  if (!insideDestination.length) {\n    return null;\n  }\n\n  var currentIndex = location.index;\n  var proposedIndex = isMovingForward ? currentIndex + 1 : currentIndex - 1;\n  var firstIndex = insideDestination[0].descriptor.index;\n  var lastIndex = insideDestination[insideDestination.length - 1].descriptor.index;\n  var upperBound = isInHomeList ? lastIndex : lastIndex + 1;\n\n  if (proposedIndex < firstIndex) {\n    return null;\n  }\n\n  if (proposedIndex > upperBound) {\n    return null;\n  }\n\n  return proposedIndex;\n});\n\nvar moveToNextIndex = (function (_ref) {\n  var isMovingForward = _ref.isMovingForward,\n      isInHomeList = _ref.isInHomeList,\n      draggable = _ref.draggable,\n      draggables = _ref.draggables,\n      destination = _ref.destination,\n      insideDestination = _ref.insideDestination,\n      previousImpact = _ref.previousImpact,\n      viewport = _ref.viewport,\n      afterCritical = _ref.afterCritical;\n  var wasAt = previousImpact.at;\n  !wasAt ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot move in direction without previous impact location') : invariant(false) : void 0;\n\n  if (wasAt.type === 'REORDER') {\n    var _newIndex = fromReorder({\n      isMovingForward: isMovingForward,\n      isInHomeList: isInHomeList,\n      location: wasAt.destination,\n      insideDestination: insideDestination\n    });\n\n    if (_newIndex == null) {\n      return null;\n    }\n\n    return calculateReorderImpact({\n      draggable: draggable,\n      insideDestination: insideDestination,\n      destination: destination,\n      viewport: viewport,\n      last: previousImpact.displaced,\n      displacedBy: previousImpact.displacedBy,\n      index: _newIndex\n    });\n  }\n\n  var newIndex = fromCombine({\n    isMovingForward: isMovingForward,\n    destination: destination,\n    displaced: previousImpact.displaced,\n    draggables: draggables,\n    combine: wasAt.combine,\n    afterCritical: afterCritical\n  });\n\n  if (newIndex == null) {\n    return null;\n  }\n\n  return calculateReorderImpact({\n    draggable: draggable,\n    insideDestination: insideDestination,\n    destination: destination,\n    viewport: viewport,\n    last: previousImpact.displaced,\n    displacedBy: previousImpact.displacedBy,\n    index: newIndex\n  });\n});\n\nvar getCombinedItemDisplacement = (function (_ref) {\n  var displaced = _ref.displaced,\n      afterCritical = _ref.afterCritical,\n      combineWith = _ref.combineWith,\n      displacedBy = _ref.displacedBy;\n  var isDisplaced = Boolean(displaced.visible[combineWith] || displaced.invisible[combineWith]);\n\n  if (didStartAfterCritical(combineWith, afterCritical)) {\n    return isDisplaced ? origin : negate(displacedBy.point);\n  }\n\n  return isDisplaced ? displacedBy.point : origin;\n});\n\nvar whenCombining = (function (_ref) {\n  var afterCritical = _ref.afterCritical,\n      impact = _ref.impact,\n      draggables = _ref.draggables;\n  var combine = tryGetCombine(impact);\n  !combine ? process.env.NODE_ENV !== \"production\" ? invariant(false) : invariant(false) : void 0;\n  var combineWith = combine.draggableId;\n  var center = draggables[combineWith].page.borderBox.center;\n  var displaceBy = getCombinedItemDisplacement({\n    displaced: impact.displaced,\n    afterCritical: afterCritical,\n    combineWith: combineWith,\n    displacedBy: impact.displacedBy\n  });\n  return add(center, displaceBy);\n});\n\nvar distanceFromStartToBorderBoxCenter = function distanceFromStartToBorderBoxCenter(axis, box) {\n  return box.margin[axis.start] + box.borderBox[axis.size] / 2;\n};\n\nvar distanceFromEndToBorderBoxCenter = function distanceFromEndToBorderBoxCenter(axis, box) {\n  return box.margin[axis.end] + box.borderBox[axis.size] / 2;\n};\n\nvar getCrossAxisBorderBoxCenter = function getCrossAxisBorderBoxCenter(axis, target, isMoving) {\n  return target[axis.crossAxisStart] + isMoving.margin[axis.crossAxisStart] + isMoving.borderBox[axis.crossAxisSize] / 2;\n};\n\nvar goAfter = function goAfter(_ref) {\n  var axis = _ref.axis,\n      moveRelativeTo = _ref.moveRelativeTo,\n      isMoving = _ref.isMoving;\n  return patch(axis.line, moveRelativeTo.marginBox[axis.end] + distanceFromStartToBorderBoxCenter(axis, isMoving), getCrossAxisBorderBoxCenter(axis, moveRelativeTo.marginBox, isMoving));\n};\nvar goBefore = function goBefore(_ref2) {\n  var axis = _ref2.axis,\n      moveRelativeTo = _ref2.moveRelativeTo,\n      isMoving = _ref2.isMoving;\n  return patch(axis.line, moveRelativeTo.marginBox[axis.start] - distanceFromEndToBorderBoxCenter(axis, isMoving), getCrossAxisBorderBoxCenter(axis, moveRelativeTo.marginBox, isMoving));\n};\nvar goIntoStart = function goIntoStart(_ref3) {\n  var axis = _ref3.axis,\n      moveInto = _ref3.moveInto,\n      isMoving = _ref3.isMoving;\n  return patch(axis.line, moveInto.contentBox[axis.start] + distanceFromStartToBorderBoxCenter(axis, isMoving), getCrossAxisBorderBoxCenter(axis, moveInto.contentBox, isMoving));\n};\n\nvar whenReordering = (function (_ref) {\n  var impact = _ref.impact,\n      draggable = _ref.draggable,\n      draggables = _ref.draggables,\n      droppable = _ref.droppable,\n      afterCritical = _ref.afterCritical;\n  var insideDestination = getDraggablesInsideDroppable(droppable.descriptor.id, draggables);\n  var draggablePage = draggable.page;\n  var axis = droppable.axis;\n\n  if (!insideDestination.length) {\n    return goIntoStart({\n      axis: axis,\n      moveInto: droppable.page,\n      isMoving: draggablePage\n    });\n  }\n\n  var displaced = impact.displaced,\n      displacedBy = impact.displacedBy;\n  var closestAfter = displaced.all[0];\n\n  if (closestAfter) {\n    var closest = draggables[closestAfter];\n\n    if (didStartAfterCritical(closestAfter, afterCritical)) {\n      return goBefore({\n        axis: axis,\n        moveRelativeTo: closest.page,\n        isMoving: draggablePage\n      });\n    }\n\n    var withDisplacement = offset(closest.page, displacedBy.point);\n    return goBefore({\n      axis: axis,\n      moveRelativeTo: withDisplacement,\n      isMoving: draggablePage\n    });\n  }\n\n  var last = insideDestination[insideDestination.length - 1];\n\n  if (last.descriptor.id === draggable.descriptor.id) {\n    return draggablePage.borderBox.center;\n  }\n\n  if (didStartAfterCritical(last.descriptor.id, afterCritical)) {\n    var page = offset(last.page, negate(afterCritical.displacedBy.point));\n    return goAfter({\n      axis: axis,\n      moveRelativeTo: page,\n      isMoving: draggablePage\n    });\n  }\n\n  return goAfter({\n    axis: axis,\n    moveRelativeTo: last.page,\n    isMoving: draggablePage\n  });\n});\n\nvar withDroppableDisplacement = (function (droppable, point) {\n  var frame = droppable.frame;\n\n  if (!frame) {\n    return point;\n  }\n\n  return add(point, frame.scroll.diff.displacement);\n});\n\nvar getResultWithoutDroppableDisplacement = function getResultWithoutDroppableDisplacement(_ref) {\n  var impact = _ref.impact,\n      draggable = _ref.draggable,\n      droppable = _ref.droppable,\n      draggables = _ref.draggables,\n      afterCritical = _ref.afterCritical;\n  var original = draggable.page.borderBox.center;\n  var at = impact.at;\n\n  if (!droppable) {\n    return original;\n  }\n\n  if (!at) {\n    return original;\n  }\n\n  if (at.type === 'REORDER') {\n    return whenReordering({\n      impact: impact,\n      draggable: draggable,\n      draggables: draggables,\n      droppable: droppable,\n      afterCritical: afterCritical\n    });\n  }\n\n  return whenCombining({\n    impact: impact,\n    draggables: draggables,\n    afterCritical: afterCritical\n  });\n};\n\nvar getPageBorderBoxCenterFromImpact = (function (args) {\n  var withoutDisplacement = getResultWithoutDroppableDisplacement(args);\n  var droppable = args.droppable;\n  var withDisplacement = droppable ? withDroppableDisplacement(droppable, withoutDisplacement) : withoutDisplacement;\n  return withDisplacement;\n});\n\nvar scrollViewport = (function (viewport, newScroll) {\n  var diff = subtract(newScroll, viewport.scroll.initial);\n  var displacement = negate(diff);\n  var frame = getRect({\n    top: newScroll.y,\n    bottom: newScroll.y + viewport.frame.height,\n    left: newScroll.x,\n    right: newScroll.x + viewport.frame.width\n  });\n  var updated = {\n    frame: frame,\n    scroll: {\n      initial: viewport.scroll.initial,\n      max: viewport.scroll.max,\n      current: newScroll,\n      diff: {\n        value: diff,\n        displacement: displacement\n      }\n    }\n  };\n  return updated;\n});\n\nfunction getDraggables(ids, draggables) {\n  return ids.map(function (id) {\n    return draggables[id];\n  });\n}\n\nfunction tryGetVisible(id, groups) {\n  for (var i = 0; i < groups.length; i++) {\n    var displacement = groups[i].visible[id];\n\n    if (displacement) {\n      return displacement;\n    }\n  }\n\n  return null;\n}\n\nvar speculativelyIncrease = (function (_ref) {\n  var impact = _ref.impact,\n      viewport = _ref.viewport,\n      destination = _ref.destination,\n      draggables = _ref.draggables,\n      maxScrollChange = _ref.maxScrollChange;\n  var scrolledViewport = scrollViewport(viewport, add(viewport.scroll.current, maxScrollChange));\n  var scrolledDroppable = destination.frame ? scrollDroppable(destination, add(destination.frame.scroll.current, maxScrollChange)) : destination;\n  var last = impact.displaced;\n  var withViewportScroll = getDisplacementGroups({\n    afterDragging: getDraggables(last.all, draggables),\n    destination: destination,\n    displacedBy: impact.displacedBy,\n    viewport: scrolledViewport.frame,\n    last: last,\n    forceShouldAnimate: false\n  });\n  var withDroppableScroll = getDisplacementGroups({\n    afterDragging: getDraggables(last.all, draggables),\n    destination: scrolledDroppable,\n    displacedBy: impact.displacedBy,\n    viewport: viewport.frame,\n    last: last,\n    forceShouldAnimate: false\n  });\n  var invisible = {};\n  var visible = {};\n  var groups = [last, withViewportScroll, withDroppableScroll];\n  last.all.forEach(function (id) {\n    var displacement = tryGetVisible(id, groups);\n\n    if (displacement) {\n      visible[id] = displacement;\n      return;\n    }\n\n    invisible[id] = true;\n  });\n\n  var newImpact = _extends({}, impact, {\n    displaced: {\n      all: last.all,\n      invisible: invisible,\n      visible: visible\n    }\n  });\n\n  return newImpact;\n});\n\nvar withViewportDisplacement = (function (viewport, point) {\n  return add(viewport.scroll.diff.displacement, point);\n});\n\nvar getClientFromPageBorderBoxCenter = (function (_ref) {\n  var pageBorderBoxCenter = _ref.pageBorderBoxCenter,\n      draggable = _ref.draggable,\n      viewport = _ref.viewport;\n  var withoutPageScrollChange = withViewportDisplacement(viewport, pageBorderBoxCenter);\n  var offset = subtract(withoutPageScrollChange, draggable.page.borderBox.center);\n  return add(draggable.client.borderBox.center, offset);\n});\n\nvar isTotallyVisibleInNewLocation = (function (_ref) {\n  var draggable = _ref.draggable,\n      destination = _ref.destination,\n      newPageBorderBoxCenter = _ref.newPageBorderBoxCenter,\n      viewport = _ref.viewport,\n      withDroppableDisplacement = _ref.withDroppableDisplacement,\n      _ref$onlyOnMainAxis = _ref.onlyOnMainAxis,\n      onlyOnMainAxis = _ref$onlyOnMainAxis === void 0 ? false : _ref$onlyOnMainAxis;\n  var changeNeeded = subtract(newPageBorderBoxCenter, draggable.page.borderBox.center);\n  var shifted = offsetByPosition(draggable.page.borderBox, changeNeeded);\n  var args = {\n    target: shifted,\n    destination: destination,\n    withDroppableDisplacement: withDroppableDisplacement,\n    viewport: viewport\n  };\n  return onlyOnMainAxis ? isTotallyVisibleOnAxis(args) : isTotallyVisible(args);\n});\n\nvar moveToNextPlace = (function (_ref) {\n  var isMovingForward = _ref.isMovingForward,\n      draggable = _ref.draggable,\n      destination = _ref.destination,\n      draggables = _ref.draggables,\n      previousImpact = _ref.previousImpact,\n      viewport = _ref.viewport,\n      previousPageBorderBoxCenter = _ref.previousPageBorderBoxCenter,\n      previousClientSelection = _ref.previousClientSelection,\n      afterCritical = _ref.afterCritical;\n\n  if (!destination.isEnabled) {\n    return null;\n  }\n\n  var insideDestination = getDraggablesInsideDroppable(destination.descriptor.id, draggables);\n  var isInHomeList = isHomeOf(draggable, destination);\n  var impact = moveToNextCombine({\n    isMovingForward: isMovingForward,\n    draggable: draggable,\n    destination: destination,\n    insideDestination: insideDestination,\n    previousImpact: previousImpact\n  }) || moveToNextIndex({\n    isMovingForward: isMovingForward,\n    isInHomeList: isInHomeList,\n    draggable: draggable,\n    draggables: draggables,\n    destination: destination,\n    insideDestination: insideDestination,\n    previousImpact: previousImpact,\n    viewport: viewport,\n    afterCritical: afterCritical\n  });\n\n  if (!impact) {\n    return null;\n  }\n\n  var pageBorderBoxCenter = getPageBorderBoxCenterFromImpact({\n    impact: impact,\n    draggable: draggable,\n    droppable: destination,\n    draggables: draggables,\n    afterCritical: afterCritical\n  });\n  var isVisibleInNewLocation = isTotallyVisibleInNewLocation({\n    draggable: draggable,\n    destination: destination,\n    newPageBorderBoxCenter: pageBorderBoxCenter,\n    viewport: viewport.frame,\n    withDroppableDisplacement: false,\n    onlyOnMainAxis: true\n  });\n\n  if (isVisibleInNewLocation) {\n    var clientSelection = getClientFromPageBorderBoxCenter({\n      pageBorderBoxCenter: pageBorderBoxCenter,\n      draggable: draggable,\n      viewport: viewport\n    });\n    return {\n      clientSelection: clientSelection,\n      impact: impact,\n      scrollJumpRequest: null\n    };\n  }\n\n  var distance = subtract(pageBorderBoxCenter, previousPageBorderBoxCenter);\n  var cautious = speculativelyIncrease({\n    impact: impact,\n    viewport: viewport,\n    destination: destination,\n    draggables: draggables,\n    maxScrollChange: distance\n  });\n  return {\n    clientSelection: previousClientSelection,\n    impact: cautious,\n    scrollJumpRequest: distance\n  };\n});\n\nvar getKnownActive = function getKnownActive(droppable) {\n  var rect = droppable.subject.active;\n  !rect ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot get clipped area from droppable') : invariant(false) : void 0;\n  return rect;\n};\n\nvar getBestCrossAxisDroppable = (function (_ref) {\n  var isMovingForward = _ref.isMovingForward,\n      pageBorderBoxCenter = _ref.pageBorderBoxCenter,\n      source = _ref.source,\n      droppables = _ref.droppables,\n      viewport = _ref.viewport;\n  var active = source.subject.active;\n\n  if (!active) {\n    return null;\n  }\n\n  var axis = source.axis;\n  var isBetweenSourceClipped = isWithin(active[axis.start], active[axis.end]);\n  var candidates = toDroppableList(droppables).filter(function (droppable) {\n    return droppable !== source;\n  }).filter(function (droppable) {\n    return droppable.isEnabled;\n  }).filter(function (droppable) {\n    return Boolean(droppable.subject.active);\n  }).filter(function (droppable) {\n    return isPartiallyVisibleThroughFrame(viewport.frame)(getKnownActive(droppable));\n  }).filter(function (droppable) {\n    var activeOfTarget = getKnownActive(droppable);\n\n    if (isMovingForward) {\n      return active[axis.crossAxisEnd] < activeOfTarget[axis.crossAxisEnd];\n    }\n\n    return activeOfTarget[axis.crossAxisStart] < active[axis.crossAxisStart];\n  }).filter(function (droppable) {\n    var activeOfTarget = getKnownActive(droppable);\n    var isBetweenDestinationClipped = isWithin(activeOfTarget[axis.start], activeOfTarget[axis.end]);\n    return isBetweenSourceClipped(activeOfTarget[axis.start]) || isBetweenSourceClipped(activeOfTarget[axis.end]) || isBetweenDestinationClipped(active[axis.start]) || isBetweenDestinationClipped(active[axis.end]);\n  }).sort(function (a, b) {\n    var first = getKnownActive(a)[axis.crossAxisStart];\n    var second = getKnownActive(b)[axis.crossAxisStart];\n\n    if (isMovingForward) {\n      return first - second;\n    }\n\n    return second - first;\n  }).filter(function (droppable, index, array) {\n    return getKnownActive(droppable)[axis.crossAxisStart] === getKnownActive(array[0])[axis.crossAxisStart];\n  });\n\n  if (!candidates.length) {\n    return null;\n  }\n\n  if (candidates.length === 1) {\n    return candidates[0];\n  }\n\n  var contains = candidates.filter(function (droppable) {\n    var isWithinDroppable = isWithin(getKnownActive(droppable)[axis.start], getKnownActive(droppable)[axis.end]);\n    return isWithinDroppable(pageBorderBoxCenter[axis.line]);\n  });\n\n  if (contains.length === 1) {\n    return contains[0];\n  }\n\n  if (contains.length > 1) {\n    return contains.sort(function (a, b) {\n      return getKnownActive(a)[axis.start] - getKnownActive(b)[axis.start];\n    })[0];\n  }\n\n  return candidates.sort(function (a, b) {\n    var first = closest(pageBorderBoxCenter, getCorners(getKnownActive(a)));\n    var second = closest(pageBorderBoxCenter, getCorners(getKnownActive(b)));\n\n    if (first !== second) {\n      return first - second;\n    }\n\n    return getKnownActive(a)[axis.start] - getKnownActive(b)[axis.start];\n  })[0];\n});\n\nvar getCurrentPageBorderBoxCenter = function getCurrentPageBorderBoxCenter(draggable, afterCritical) {\n  var original = draggable.page.borderBox.center;\n  return didStartAfterCritical(draggable.descriptor.id, afterCritical) ? subtract(original, afterCritical.displacedBy.point) : original;\n};\nvar getCurrentPageBorderBox = function getCurrentPageBorderBox(draggable, afterCritical) {\n  var original = draggable.page.borderBox;\n  return didStartAfterCritical(draggable.descriptor.id, afterCritical) ? offsetByPosition(original, negate(afterCritical.displacedBy.point)) : original;\n};\n\nvar getClosestDraggable = (function (_ref) {\n  var pageBorderBoxCenter = _ref.pageBorderBoxCenter,\n      viewport = _ref.viewport,\n      destination = _ref.destination,\n      insideDestination = _ref.insideDestination,\n      afterCritical = _ref.afterCritical;\n  var sorted = insideDestination.filter(function (draggable) {\n    return isTotallyVisible({\n      target: getCurrentPageBorderBox(draggable, afterCritical),\n      destination: destination,\n      viewport: viewport.frame,\n      withDroppableDisplacement: true\n    });\n  }).sort(function (a, b) {\n    var distanceToA = distance(pageBorderBoxCenter, withDroppableDisplacement(destination, getCurrentPageBorderBoxCenter(a, afterCritical)));\n    var distanceToB = distance(pageBorderBoxCenter, withDroppableDisplacement(destination, getCurrentPageBorderBoxCenter(b, afterCritical)));\n\n    if (distanceToA < distanceToB) {\n      return -1;\n    }\n\n    if (distanceToB < distanceToA) {\n      return 1;\n    }\n\n    return a.descriptor.index - b.descriptor.index;\n  });\n  return sorted[0] || null;\n});\n\nvar getDisplacedBy = memoizeOne(function getDisplacedBy(axis, displaceBy) {\n  var displacement = displaceBy[axis.line];\n  return {\n    value: displacement,\n    point: patch(axis.line, displacement)\n  };\n});\n\nvar getRequiredGrowthForPlaceholder = function getRequiredGrowthForPlaceholder(droppable, placeholderSize, draggables) {\n  var axis = droppable.axis;\n\n  if (droppable.descriptor.mode === 'virtual') {\n    return patch(axis.line, placeholderSize[axis.line]);\n  }\n\n  var availableSpace = droppable.subject.page.contentBox[axis.size];\n  var insideDroppable = getDraggablesInsideDroppable(droppable.descriptor.id, draggables);\n  var spaceUsed = insideDroppable.reduce(function (sum, dimension) {\n    return sum + dimension.client.marginBox[axis.size];\n  }, 0);\n  var requiredSpace = spaceUsed + placeholderSize[axis.line];\n  var needsToGrowBy = requiredSpace - availableSpace;\n\n  if (needsToGrowBy <= 0) {\n    return null;\n  }\n\n  return patch(axis.line, needsToGrowBy);\n};\n\nvar withMaxScroll = function withMaxScroll(frame, max) {\n  return _extends({}, frame, {\n    scroll: _extends({}, frame.scroll, {\n      max: max\n    })\n  });\n};\n\nvar addPlaceholder = function addPlaceholder(droppable, draggable, draggables) {\n  var frame = droppable.frame;\n  !!isHomeOf(draggable, droppable) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Should not add placeholder space to home list') : invariant(false) : void 0;\n  !!droppable.subject.withPlaceholder ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot add placeholder size to a subject when it already has one') : invariant(false) : void 0;\n  var placeholderSize = getDisplacedBy(droppable.axis, draggable.displaceBy).point;\n  var requiredGrowth = getRequiredGrowthForPlaceholder(droppable, placeholderSize, draggables);\n  var added = {\n    placeholderSize: placeholderSize,\n    increasedBy: requiredGrowth,\n    oldFrameMaxScroll: droppable.frame ? droppable.frame.scroll.max : null\n  };\n\n  if (!frame) {\n    var _subject = getSubject({\n      page: droppable.subject.page,\n      withPlaceholder: added,\n      axis: droppable.axis,\n      frame: droppable.frame\n    });\n\n    return _extends({}, droppable, {\n      subject: _subject\n    });\n  }\n\n  var maxScroll = requiredGrowth ? add(frame.scroll.max, requiredGrowth) : frame.scroll.max;\n  var newFrame = withMaxScroll(frame, maxScroll);\n  var subject = getSubject({\n    page: droppable.subject.page,\n    withPlaceholder: added,\n    axis: droppable.axis,\n    frame: newFrame\n  });\n  return _extends({}, droppable, {\n    subject: subject,\n    frame: newFrame\n  });\n};\nvar removePlaceholder = function removePlaceholder(droppable) {\n  var added = droppable.subject.withPlaceholder;\n  !added ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot remove placeholder form subject when there was none') : invariant(false) : void 0;\n  var frame = droppable.frame;\n\n  if (!frame) {\n    var _subject2 = getSubject({\n      page: droppable.subject.page,\n      axis: droppable.axis,\n      frame: null,\n      withPlaceholder: null\n    });\n\n    return _extends({}, droppable, {\n      subject: _subject2\n    });\n  }\n\n  var oldMaxScroll = added.oldFrameMaxScroll;\n  !oldMaxScroll ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Expected droppable with frame to have old max frame scroll when removing placeholder') : invariant(false) : void 0;\n  var newFrame = withMaxScroll(frame, oldMaxScroll);\n  var subject = getSubject({\n    page: droppable.subject.page,\n    axis: droppable.axis,\n    frame: newFrame,\n    withPlaceholder: null\n  });\n  return _extends({}, droppable, {\n    subject: subject,\n    frame: newFrame\n  });\n};\n\nvar moveToNewDroppable = (function (_ref) {\n  var previousPageBorderBoxCenter = _ref.previousPageBorderBoxCenter,\n      moveRelativeTo = _ref.moveRelativeTo,\n      insideDestination = _ref.insideDestination,\n      draggable = _ref.draggable,\n      draggables = _ref.draggables,\n      destination = _ref.destination,\n      viewport = _ref.viewport,\n      afterCritical = _ref.afterCritical;\n\n  if (!moveRelativeTo) {\n    if (insideDestination.length) {\n      return null;\n    }\n\n    var proposed = {\n      displaced: emptyGroups,\n      displacedBy: noDisplacedBy,\n      at: {\n        type: 'REORDER',\n        destination: {\n          droppableId: destination.descriptor.id,\n          index: 0\n        }\n      }\n    };\n    var proposedPageBorderBoxCenter = getPageBorderBoxCenterFromImpact({\n      impact: proposed,\n      draggable: draggable,\n      droppable: destination,\n      draggables: draggables,\n      afterCritical: afterCritical\n    });\n    var withPlaceholder = isHomeOf(draggable, destination) ? destination : addPlaceholder(destination, draggable, draggables);\n    var isVisibleInNewLocation = isTotallyVisibleInNewLocation({\n      draggable: draggable,\n      destination: withPlaceholder,\n      newPageBorderBoxCenter: proposedPageBorderBoxCenter,\n      viewport: viewport.frame,\n      withDroppableDisplacement: false,\n      onlyOnMainAxis: true\n    });\n    return isVisibleInNewLocation ? proposed : null;\n  }\n\n  var isGoingBeforeTarget = Boolean(previousPageBorderBoxCenter[destination.axis.line] <= moveRelativeTo.page.borderBox.center[destination.axis.line]);\n\n  var proposedIndex = function () {\n    var relativeTo = moveRelativeTo.descriptor.index;\n\n    if (moveRelativeTo.descriptor.id === draggable.descriptor.id) {\n      return relativeTo;\n    }\n\n    if (isGoingBeforeTarget) {\n      return relativeTo;\n    }\n\n    return relativeTo + 1;\n  }();\n\n  var displacedBy = getDisplacedBy(destination.axis, draggable.displaceBy);\n  return calculateReorderImpact({\n    draggable: draggable,\n    insideDestination: insideDestination,\n    destination: destination,\n    viewport: viewport,\n    displacedBy: displacedBy,\n    last: emptyGroups,\n    index: proposedIndex\n  });\n});\n\nvar moveCrossAxis = (function (_ref) {\n  var isMovingForward = _ref.isMovingForward,\n      previousPageBorderBoxCenter = _ref.previousPageBorderBoxCenter,\n      draggable = _ref.draggable,\n      isOver = _ref.isOver,\n      draggables = _ref.draggables,\n      droppables = _ref.droppables,\n      viewport = _ref.viewport,\n      afterCritical = _ref.afterCritical;\n  var destination = getBestCrossAxisDroppable({\n    isMovingForward: isMovingForward,\n    pageBorderBoxCenter: previousPageBorderBoxCenter,\n    source: isOver,\n    droppables: droppables,\n    viewport: viewport\n  });\n\n  if (!destination) {\n    return null;\n  }\n\n  var insideDestination = getDraggablesInsideDroppable(destination.descriptor.id, draggables);\n  var moveRelativeTo = getClosestDraggable({\n    pageBorderBoxCenter: previousPageBorderBoxCenter,\n    viewport: viewport,\n    destination: destination,\n    insideDestination: insideDestination,\n    afterCritical: afterCritical\n  });\n  var impact = moveToNewDroppable({\n    previousPageBorderBoxCenter: previousPageBorderBoxCenter,\n    destination: destination,\n    draggable: draggable,\n    draggables: draggables,\n    moveRelativeTo: moveRelativeTo,\n    insideDestination: insideDestination,\n    viewport: viewport,\n    afterCritical: afterCritical\n  });\n\n  if (!impact) {\n    return null;\n  }\n\n  var pageBorderBoxCenter = getPageBorderBoxCenterFromImpact({\n    impact: impact,\n    draggable: draggable,\n    droppable: destination,\n    draggables: draggables,\n    afterCritical: afterCritical\n  });\n  var clientSelection = getClientFromPageBorderBoxCenter({\n    pageBorderBoxCenter: pageBorderBoxCenter,\n    draggable: draggable,\n    viewport: viewport\n  });\n  return {\n    clientSelection: clientSelection,\n    impact: impact,\n    scrollJumpRequest: null\n  };\n});\n\nvar whatIsDraggedOver = (function (impact) {\n  var at = impact.at;\n\n  if (!at) {\n    return null;\n  }\n\n  if (at.type === 'REORDER') {\n    return at.destination.droppableId;\n  }\n\n  return at.combine.droppableId;\n});\n\nvar getDroppableOver = function getDroppableOver(impact, droppables) {\n  var id = whatIsDraggedOver(impact);\n  return id ? droppables[id] : null;\n};\n\nvar moveInDirection = (function (_ref) {\n  var state = _ref.state,\n      type = _ref.type;\n  var isActuallyOver = getDroppableOver(state.impact, state.dimensions.droppables);\n  var isMainAxisMovementAllowed = Boolean(isActuallyOver);\n  var home = state.dimensions.droppables[state.critical.droppable.id];\n  var isOver = isActuallyOver || home;\n  var direction = isOver.axis.direction;\n  var isMovingOnMainAxis = direction === 'vertical' && (type === 'MOVE_UP' || type === 'MOVE_DOWN') || direction === 'horizontal' && (type === 'MOVE_LEFT' || type === 'MOVE_RIGHT');\n\n  if (isMovingOnMainAxis && !isMainAxisMovementAllowed) {\n    return null;\n  }\n\n  var isMovingForward = type === 'MOVE_DOWN' || type === 'MOVE_RIGHT';\n  var draggable = state.dimensions.draggables[state.critical.draggable.id];\n  var previousPageBorderBoxCenter = state.current.page.borderBoxCenter;\n  var _state$dimensions = state.dimensions,\n      draggables = _state$dimensions.draggables,\n      droppables = _state$dimensions.droppables;\n  return isMovingOnMainAxis ? moveToNextPlace({\n    isMovingForward: isMovingForward,\n    previousPageBorderBoxCenter: previousPageBorderBoxCenter,\n    draggable: draggable,\n    destination: isOver,\n    draggables: draggables,\n    viewport: state.viewport,\n    previousClientSelection: state.current.client.selection,\n    previousImpact: state.impact,\n    afterCritical: state.afterCritical\n  }) : moveCrossAxis({\n    isMovingForward: isMovingForward,\n    previousPageBorderBoxCenter: previousPageBorderBoxCenter,\n    draggable: draggable,\n    isOver: isOver,\n    draggables: draggables,\n    droppables: droppables,\n    viewport: state.viewport,\n    afterCritical: state.afterCritical\n  });\n});\n\nfunction isMovementAllowed(state) {\n  return state.phase === 'DRAGGING' || state.phase === 'COLLECTING';\n}\n\nfunction isPositionInFrame(frame) {\n  var isWithinVertical = isWithin(frame.top, frame.bottom);\n  var isWithinHorizontal = isWithin(frame.left, frame.right);\n  return function run(point) {\n    return isWithinVertical(point.y) && isWithinHorizontal(point.x);\n  };\n}\n\nfunction getHasOverlap(first, second) {\n  return first.left < second.right && first.right > second.left && first.top < second.bottom && first.bottom > second.top;\n}\n\nfunction getFurthestAway(_ref) {\n  var pageBorderBox = _ref.pageBorderBox,\n      draggable = _ref.draggable,\n      candidates = _ref.candidates;\n  var startCenter = draggable.page.borderBox.center;\n  var sorted = candidates.map(function (candidate) {\n    var axis = candidate.axis;\n    var target = patch(candidate.axis.line, pageBorderBox.center[axis.line], candidate.page.borderBox.center[axis.crossAxisLine]);\n    return {\n      id: candidate.descriptor.id,\n      distance: distance(startCenter, target)\n    };\n  }).sort(function (a, b) {\n    return b.distance - a.distance;\n  });\n  return sorted[0] ? sorted[0].id : null;\n}\n\nfunction getDroppableOver$1(_ref2) {\n  var pageBorderBox = _ref2.pageBorderBox,\n      draggable = _ref2.draggable,\n      droppables = _ref2.droppables;\n  var candidates = toDroppableList(droppables).filter(function (item) {\n    if (!item.isEnabled) {\n      return false;\n    }\n\n    var active = item.subject.active;\n\n    if (!active) {\n      return false;\n    }\n\n    if (!getHasOverlap(pageBorderBox, active)) {\n      return false;\n    }\n\n    if (isPositionInFrame(active)(pageBorderBox.center)) {\n      return true;\n    }\n\n    var axis = item.axis;\n    var childCenter = active.center[axis.crossAxisLine];\n    var crossAxisStart = pageBorderBox[axis.crossAxisStart];\n    var crossAxisEnd = pageBorderBox[axis.crossAxisEnd];\n    var isContained = isWithin(active[axis.crossAxisStart], active[axis.crossAxisEnd]);\n    var isStartContained = isContained(crossAxisStart);\n    var isEndContained = isContained(crossAxisEnd);\n\n    if (!isStartContained && !isEndContained) {\n      return true;\n    }\n\n    if (isStartContained) {\n      return crossAxisStart < childCenter;\n    }\n\n    return crossAxisEnd > childCenter;\n  });\n\n  if (!candidates.length) {\n    return null;\n  }\n\n  if (candidates.length === 1) {\n    return candidates[0].descriptor.id;\n  }\n\n  return getFurthestAway({\n    pageBorderBox: pageBorderBox,\n    draggable: draggable,\n    candidates: candidates\n  });\n}\n\nvar offsetRectByPosition = function offsetRectByPosition(rect, point) {\n  return getRect(offsetByPosition(rect, point));\n};\n\nvar withDroppableScroll = (function (droppable, area) {\n  var frame = droppable.frame;\n\n  if (!frame) {\n    return area;\n  }\n\n  return offsetRectByPosition(area, frame.scroll.diff.value);\n});\n\nfunction getIsDisplaced(_ref) {\n  var displaced = _ref.displaced,\n      id = _ref.id;\n  return Boolean(displaced.visible[id] || displaced.invisible[id]);\n}\n\nfunction atIndex(_ref) {\n  var draggable = _ref.draggable,\n      closest = _ref.closest,\n      inHomeList = _ref.inHomeList;\n\n  if (!closest) {\n    return null;\n  }\n\n  if (!inHomeList) {\n    return closest.descriptor.index;\n  }\n\n  if (closest.descriptor.index > draggable.descriptor.index) {\n    return closest.descriptor.index - 1;\n  }\n\n  return closest.descriptor.index;\n}\n\nvar getReorderImpact = (function (_ref2) {\n  var targetRect = _ref2.pageBorderBoxWithDroppableScroll,\n      draggable = _ref2.draggable,\n      destination = _ref2.destination,\n      insideDestination = _ref2.insideDestination,\n      last = _ref2.last,\n      viewport = _ref2.viewport,\n      afterCritical = _ref2.afterCritical;\n  var axis = destination.axis;\n  var displacedBy = getDisplacedBy(destination.axis, draggable.displaceBy);\n  var displacement = displacedBy.value;\n  var targetStart = targetRect[axis.start];\n  var targetEnd = targetRect[axis.end];\n  var withoutDragging = removeDraggableFromList(draggable, insideDestination);\n  var closest = find(withoutDragging, function (child) {\n    var id = child.descriptor.id;\n    var childCenter = child.page.borderBox.center[axis.line];\n    var didStartAfterCritical$1 = didStartAfterCritical(id, afterCritical);\n    var isDisplaced = getIsDisplaced({\n      displaced: last,\n      id: id\n    });\n\n    if (didStartAfterCritical$1) {\n      if (isDisplaced) {\n        return targetEnd <= childCenter;\n      }\n\n      return targetStart < childCenter - displacement;\n    }\n\n    if (isDisplaced) {\n      return targetEnd <= childCenter + displacement;\n    }\n\n    return targetStart < childCenter;\n  });\n  var newIndex = atIndex({\n    draggable: draggable,\n    closest: closest,\n    inHomeList: isHomeOf(draggable, destination)\n  });\n  return calculateReorderImpact({\n    draggable: draggable,\n    insideDestination: insideDestination,\n    destination: destination,\n    viewport: viewport,\n    last: last,\n    displacedBy: displacedBy,\n    index: newIndex\n  });\n});\n\nvar combineThresholdDivisor = 4;\nvar getCombineImpact = (function (_ref) {\n  var draggable = _ref.draggable,\n      targetRect = _ref.pageBorderBoxWithDroppableScroll,\n      previousImpact = _ref.previousImpact,\n      destination = _ref.destination,\n      insideDestination = _ref.insideDestination,\n      afterCritical = _ref.afterCritical;\n\n  if (!destination.isCombineEnabled) {\n    return null;\n  }\n\n  var axis = destination.axis;\n  var displacedBy = getDisplacedBy(destination.axis, draggable.displaceBy);\n  var displacement = displacedBy.value;\n  var targetStart = targetRect[axis.start];\n  var targetEnd = targetRect[axis.end];\n  var withoutDragging = removeDraggableFromList(draggable, insideDestination);\n  var combineWith = find(withoutDragging, function (child) {\n    var id = child.descriptor.id;\n    var childRect = child.page.borderBox;\n    var childSize = childRect[axis.size];\n    var threshold = childSize / combineThresholdDivisor;\n    var didStartAfterCritical$1 = didStartAfterCritical(id, afterCritical);\n    var isDisplaced = getIsDisplaced({\n      displaced: previousImpact.displaced,\n      id: id\n    });\n\n    if (didStartAfterCritical$1) {\n      if (isDisplaced) {\n        return targetEnd > childRect[axis.start] + threshold && targetEnd < childRect[axis.end] - threshold;\n      }\n\n      return targetStart > childRect[axis.start] - displacement + threshold && targetStart < childRect[axis.end] - displacement - threshold;\n    }\n\n    if (isDisplaced) {\n      return targetEnd > childRect[axis.start] + displacement + threshold && targetEnd < childRect[axis.end] + displacement - threshold;\n    }\n\n    return targetStart > childRect[axis.start] + threshold && targetStart < childRect[axis.end] - threshold;\n  });\n\n  if (!combineWith) {\n    return null;\n  }\n\n  var impact = {\n    displacedBy: displacedBy,\n    displaced: previousImpact.displaced,\n    at: {\n      type: 'COMBINE',\n      combine: {\n        draggableId: combineWith.descriptor.id,\n        droppableId: destination.descriptor.id\n      }\n    }\n  };\n  return impact;\n});\n\nvar getDragImpact = (function (_ref) {\n  var pageOffset = _ref.pageOffset,\n      draggable = _ref.draggable,\n      draggables = _ref.draggables,\n      droppables = _ref.droppables,\n      previousImpact = _ref.previousImpact,\n      viewport = _ref.viewport,\n      afterCritical = _ref.afterCritical;\n  var pageBorderBox = offsetRectByPosition(draggable.page.borderBox, pageOffset);\n  var destinationId = getDroppableOver$1({\n    pageBorderBox: pageBorderBox,\n    draggable: draggable,\n    droppables: droppables\n  });\n\n  if (!destinationId) {\n    return noImpact;\n  }\n\n  var destination = droppables[destinationId];\n  var insideDestination = getDraggablesInsideDroppable(destination.descriptor.id, draggables);\n  var pageBorderBoxWithDroppableScroll = withDroppableScroll(destination, pageBorderBox);\n  return getCombineImpact({\n    pageBorderBoxWithDroppableScroll: pageBorderBoxWithDroppableScroll,\n    draggable: draggable,\n    previousImpact: previousImpact,\n    destination: destination,\n    insideDestination: insideDestination,\n    afterCritical: afterCritical\n  }) || getReorderImpact({\n    pageBorderBoxWithDroppableScroll: pageBorderBoxWithDroppableScroll,\n    draggable: draggable,\n    destination: destination,\n    insideDestination: insideDestination,\n    last: previousImpact.displaced,\n    viewport: viewport,\n    afterCritical: afterCritical\n  });\n});\n\nvar patchDroppableMap = (function (droppables, updated) {\n  var _extends2;\n\n  return _extends({}, droppables, (_extends2 = {}, _extends2[updated.descriptor.id] = updated, _extends2));\n});\n\nvar clearUnusedPlaceholder = function clearUnusedPlaceholder(_ref) {\n  var previousImpact = _ref.previousImpact,\n      impact = _ref.impact,\n      droppables = _ref.droppables;\n  var last = whatIsDraggedOver(previousImpact);\n  var now = whatIsDraggedOver(impact);\n\n  if (!last) {\n    return droppables;\n  }\n\n  if (last === now) {\n    return droppables;\n  }\n\n  var lastDroppable = droppables[last];\n\n  if (!lastDroppable.subject.withPlaceholder) {\n    return droppables;\n  }\n\n  var updated = removePlaceholder(lastDroppable);\n  return patchDroppableMap(droppables, updated);\n};\n\nvar recomputePlaceholders = (function (_ref2) {\n  var draggable = _ref2.draggable,\n      draggables = _ref2.draggables,\n      droppables = _ref2.droppables,\n      previousImpact = _ref2.previousImpact,\n      impact = _ref2.impact;\n  var cleaned = clearUnusedPlaceholder({\n    previousImpact: previousImpact,\n    impact: impact,\n    droppables: droppables\n  });\n  var isOver = whatIsDraggedOver(impact);\n\n  if (!isOver) {\n    return cleaned;\n  }\n\n  var droppable = droppables[isOver];\n\n  if (isHomeOf(draggable, droppable)) {\n    return cleaned;\n  }\n\n  if (droppable.subject.withPlaceholder) {\n    return cleaned;\n  }\n\n  var patched = addPlaceholder(droppable, draggable, draggables);\n  return patchDroppableMap(cleaned, patched);\n});\n\nvar update = (function (_ref) {\n  var state = _ref.state,\n      forcedClientSelection = _ref.clientSelection,\n      forcedDimensions = _ref.dimensions,\n      forcedViewport = _ref.viewport,\n      forcedImpact = _ref.impact,\n      scrollJumpRequest = _ref.scrollJumpRequest;\n  var viewport = forcedViewport || state.viewport;\n  var dimensions = forcedDimensions || state.dimensions;\n  var clientSelection = forcedClientSelection || state.current.client.selection;\n  var offset = subtract(clientSelection, state.initial.client.selection);\n  var client = {\n    offset: offset,\n    selection: clientSelection,\n    borderBoxCenter: add(state.initial.client.borderBoxCenter, offset)\n  };\n  var page = {\n    selection: add(client.selection, viewport.scroll.current),\n    borderBoxCenter: add(client.borderBoxCenter, viewport.scroll.current),\n    offset: add(client.offset, viewport.scroll.diff.value)\n  };\n  var current = {\n    client: client,\n    page: page\n  };\n\n  if (state.phase === 'COLLECTING') {\n    return _extends({\n      phase: 'COLLECTING'\n    }, state, {\n      dimensions: dimensions,\n      viewport: viewport,\n      current: current\n    });\n  }\n\n  var draggable = dimensions.draggables[state.critical.draggable.id];\n  var newImpact = forcedImpact || getDragImpact({\n    pageOffset: page.offset,\n    draggable: draggable,\n    draggables: dimensions.draggables,\n    droppables: dimensions.droppables,\n    previousImpact: state.impact,\n    viewport: viewport,\n    afterCritical: state.afterCritical\n  });\n  var withUpdatedPlaceholders = recomputePlaceholders({\n    draggable: draggable,\n    impact: newImpact,\n    previousImpact: state.impact,\n    draggables: dimensions.draggables,\n    droppables: dimensions.droppables\n  });\n\n  var result = _extends({}, state, {\n    current: current,\n    dimensions: {\n      draggables: dimensions.draggables,\n      droppables: withUpdatedPlaceholders\n    },\n    impact: newImpact,\n    viewport: viewport,\n    scrollJumpRequest: scrollJumpRequest || null,\n    forceShouldAnimate: scrollJumpRequest ? false : null\n  });\n\n  return result;\n});\n\nfunction getDraggables$1(ids, draggables) {\n  return ids.map(function (id) {\n    return draggables[id];\n  });\n}\n\nvar recompute = (function (_ref) {\n  var impact = _ref.impact,\n      viewport = _ref.viewport,\n      draggables = _ref.draggables,\n      destination = _ref.destination,\n      forceShouldAnimate = _ref.forceShouldAnimate;\n  var last = impact.displaced;\n  var afterDragging = getDraggables$1(last.all, draggables);\n  var displaced = getDisplacementGroups({\n    afterDragging: afterDragging,\n    destination: destination,\n    displacedBy: impact.displacedBy,\n    viewport: viewport.frame,\n    forceShouldAnimate: forceShouldAnimate,\n    last: last\n  });\n  return _extends({}, impact, {\n    displaced: displaced\n  });\n});\n\nvar getClientBorderBoxCenter = (function (_ref) {\n  var impact = _ref.impact,\n      draggable = _ref.draggable,\n      droppable = _ref.droppable,\n      draggables = _ref.draggables,\n      viewport = _ref.viewport,\n      afterCritical = _ref.afterCritical;\n  var pageBorderBoxCenter = getPageBorderBoxCenterFromImpact({\n    impact: impact,\n    draggable: draggable,\n    draggables: draggables,\n    droppable: droppable,\n    afterCritical: afterCritical\n  });\n  return getClientFromPageBorderBoxCenter({\n    pageBorderBoxCenter: pageBorderBoxCenter,\n    draggable: draggable,\n    viewport: viewport\n  });\n});\n\nvar refreshSnap = (function (_ref) {\n  var state = _ref.state,\n      forcedDimensions = _ref.dimensions,\n      forcedViewport = _ref.viewport;\n  !(state.movementMode === 'SNAP') ? process.env.NODE_ENV !== \"production\" ? invariant(false) : invariant(false) : void 0;\n  var needsVisibilityCheck = state.impact;\n  var viewport = forcedViewport || state.viewport;\n  var dimensions = forcedDimensions || state.dimensions;\n  var draggables = dimensions.draggables,\n      droppables = dimensions.droppables;\n  var draggable = draggables[state.critical.draggable.id];\n  var isOver = whatIsDraggedOver(needsVisibilityCheck);\n  !isOver ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Must be over a destination in SNAP movement mode') : invariant(false) : void 0;\n  var destination = droppables[isOver];\n  var impact = recompute({\n    impact: needsVisibilityCheck,\n    viewport: viewport,\n    destination: destination,\n    draggables: draggables\n  });\n  var clientSelection = getClientBorderBoxCenter({\n    impact: impact,\n    draggable: draggable,\n    droppable: destination,\n    draggables: draggables,\n    viewport: viewport,\n    afterCritical: state.afterCritical\n  });\n  return update({\n    impact: impact,\n    clientSelection: clientSelection,\n    state: state,\n    dimensions: dimensions,\n    viewport: viewport\n  });\n});\n\nvar getHomeLocation = (function (descriptor) {\n  return {\n    index: descriptor.index,\n    droppableId: descriptor.droppableId\n  };\n});\n\nvar getLiftEffect = (function (_ref) {\n  var draggable = _ref.draggable,\n      home = _ref.home,\n      draggables = _ref.draggables,\n      viewport = _ref.viewport;\n  var displacedBy = getDisplacedBy(home.axis, draggable.displaceBy);\n  var insideHome = getDraggablesInsideDroppable(home.descriptor.id, draggables);\n  var rawIndex = insideHome.indexOf(draggable);\n  !(rawIndex !== -1) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Expected draggable to be inside home list') : invariant(false) : void 0;\n  var afterDragging = insideHome.slice(rawIndex + 1);\n  var effected = afterDragging.reduce(function (previous, item) {\n    previous[item.descriptor.id] = true;\n    return previous;\n  }, {});\n  var afterCritical = {\n    inVirtualList: home.descriptor.mode === 'virtual',\n    displacedBy: displacedBy,\n    effected: effected\n  };\n  var displaced = getDisplacementGroups({\n    afterDragging: afterDragging,\n    destination: home,\n    displacedBy: displacedBy,\n    last: null,\n    viewport: viewport.frame,\n    forceShouldAnimate: false\n  });\n  var impact = {\n    displaced: displaced,\n    displacedBy: displacedBy,\n    at: {\n      type: 'REORDER',\n      destination: getHomeLocation(draggable.descriptor)\n    }\n  };\n  return {\n    impact: impact,\n    afterCritical: afterCritical\n  };\n});\n\nvar patchDimensionMap = (function (dimensions, updated) {\n  return {\n    draggables: dimensions.draggables,\n    droppables: patchDroppableMap(dimensions.droppables, updated)\n  };\n});\n\nvar start = function start(key) {\n  if (process.env.NODE_ENV !== 'production') {\n    {\n      return;\n    }\n  }\n};\nvar finish = function finish(key) {\n  if (process.env.NODE_ENV !== 'production') {\n    {\n      return;\n    }\n  }\n};\n\nvar offsetDraggable = (function (_ref) {\n  var draggable = _ref.draggable,\n      offset$1 = _ref.offset,\n      initialWindowScroll = _ref.initialWindowScroll;\n  var client = offset(draggable.client, offset$1);\n  var page = withScroll(client, initialWindowScroll);\n\n  var moved = _extends({}, draggable, {\n    placeholder: _extends({}, draggable.placeholder, {\n      client: client\n    }),\n    client: client,\n    page: page\n  });\n\n  return moved;\n});\n\nvar getFrame = (function (droppable) {\n  var frame = droppable.frame;\n  !frame ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Expected Droppable to have a frame') : invariant(false) : void 0;\n  return frame;\n});\n\nvar adjustAdditionsForScrollChanges = (function (_ref) {\n  var additions = _ref.additions,\n      updatedDroppables = _ref.updatedDroppables,\n      viewport = _ref.viewport;\n  var windowScrollChange = viewport.scroll.diff.value;\n  return additions.map(function (draggable) {\n    var droppableId = draggable.descriptor.droppableId;\n    var modified = updatedDroppables[droppableId];\n    var frame = getFrame(modified);\n    var droppableScrollChange = frame.scroll.diff.value;\n    var totalChange = add(windowScrollChange, droppableScrollChange);\n    var moved = offsetDraggable({\n      draggable: draggable,\n      offset: totalChange,\n      initialWindowScroll: viewport.scroll.initial\n    });\n    return moved;\n  });\n});\n\nvar publishWhileDraggingInVirtual = (function (_ref) {\n  var state = _ref.state,\n      published = _ref.published;\n  start();\n  var withScrollChange = published.modified.map(function (update) {\n    var existing = state.dimensions.droppables[update.droppableId];\n    var scrolled = scrollDroppable(existing, update.scroll);\n    return scrolled;\n  });\n\n  var droppables = _extends({}, state.dimensions.droppables, {}, toDroppableMap(withScrollChange));\n\n  var updatedAdditions = toDraggableMap(adjustAdditionsForScrollChanges({\n    additions: published.additions,\n    updatedDroppables: droppables,\n    viewport: state.viewport\n  }));\n\n  var draggables = _extends({}, state.dimensions.draggables, {}, updatedAdditions);\n\n  published.removals.forEach(function (id) {\n    delete draggables[id];\n  });\n  var dimensions = {\n    droppables: droppables,\n    draggables: draggables\n  };\n  var wasOverId = whatIsDraggedOver(state.impact);\n  var wasOver = wasOverId ? dimensions.droppables[wasOverId] : null;\n  var draggable = dimensions.draggables[state.critical.draggable.id];\n  var home = dimensions.droppables[state.critical.droppable.id];\n\n  var _getLiftEffect = getLiftEffect({\n    draggable: draggable,\n    home: home,\n    draggables: draggables,\n    viewport: state.viewport\n  }),\n      onLiftImpact = _getLiftEffect.impact,\n      afterCritical = _getLiftEffect.afterCritical;\n\n  var previousImpact = wasOver && wasOver.isCombineEnabled ? state.impact : onLiftImpact;\n  var impact = getDragImpact({\n    pageOffset: state.current.page.offset,\n    draggable: dimensions.draggables[state.critical.draggable.id],\n    draggables: dimensions.draggables,\n    droppables: dimensions.droppables,\n    previousImpact: previousImpact,\n    viewport: state.viewport,\n    afterCritical: afterCritical\n  });\n  finish();\n\n  var draggingState = _extends({\n    phase: 'DRAGGING'\n  }, state, {\n    phase: 'DRAGGING',\n    impact: impact,\n    onLiftImpact: onLiftImpact,\n    dimensions: dimensions,\n    afterCritical: afterCritical,\n    forceShouldAnimate: false\n  });\n\n  if (state.phase === 'COLLECTING') {\n    return draggingState;\n  }\n\n  var dropPending = _extends({\n    phase: 'DROP_PENDING'\n  }, draggingState, {\n    phase: 'DROP_PENDING',\n    reason: state.reason,\n    isWaiting: false\n  });\n\n  return dropPending;\n});\n\nvar isSnapping = function isSnapping(state) {\n  return state.movementMode === 'SNAP';\n};\n\nvar postDroppableChange = function postDroppableChange(state, updated, isEnabledChanging) {\n  var dimensions = patchDimensionMap(state.dimensions, updated);\n\n  if (!isSnapping(state) || isEnabledChanging) {\n    return update({\n      state: state,\n      dimensions: dimensions\n    });\n  }\n\n  return refreshSnap({\n    state: state,\n    dimensions: dimensions\n  });\n};\n\nfunction removeScrollJumpRequest(state) {\n  if (state.isDragging && state.movementMode === 'SNAP') {\n    return _extends({\n      phase: 'DRAGGING'\n    }, state, {\n      scrollJumpRequest: null\n    });\n  }\n\n  return state;\n}\n\nvar idle = {\n  phase: 'IDLE',\n  completed: null,\n  shouldFlush: false\n};\nvar reducer = (function (state, action) {\n  if (state === void 0) {\n    state = idle;\n  }\n\n  if (action.type === 'FLUSH') {\n    return _extends({}, idle, {\n      shouldFlush: true\n    });\n  }\n\n  if (action.type === 'INITIAL_PUBLISH') {\n    !(state.phase === 'IDLE') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'INITIAL_PUBLISH must come after a IDLE phase') : invariant(false) : void 0;\n    var _action$payload = action.payload,\n        critical = _action$payload.critical,\n        clientSelection = _action$payload.clientSelection,\n        viewport = _action$payload.viewport,\n        dimensions = _action$payload.dimensions,\n        movementMode = _action$payload.movementMode;\n    var draggable = dimensions.draggables[critical.draggable.id];\n    var home = dimensions.droppables[critical.droppable.id];\n    var client = {\n      selection: clientSelection,\n      borderBoxCenter: draggable.client.borderBox.center,\n      offset: origin\n    };\n    var initial = {\n      client: client,\n      page: {\n        selection: add(client.selection, viewport.scroll.initial),\n        borderBoxCenter: add(client.selection, viewport.scroll.initial),\n        offset: add(client.selection, viewport.scroll.diff.value)\n      }\n    };\n    var isWindowScrollAllowed = toDroppableList(dimensions.droppables).every(function (item) {\n      return !item.isFixedOnPage;\n    });\n\n    var _getLiftEffect = getLiftEffect({\n      draggable: draggable,\n      home: home,\n      draggables: dimensions.draggables,\n      viewport: viewport\n    }),\n        impact = _getLiftEffect.impact,\n        afterCritical = _getLiftEffect.afterCritical;\n\n    var result = {\n      phase: 'DRAGGING',\n      isDragging: true,\n      critical: critical,\n      movementMode: movementMode,\n      dimensions: dimensions,\n      initial: initial,\n      current: initial,\n      isWindowScrollAllowed: isWindowScrollAllowed,\n      impact: impact,\n      afterCritical: afterCritical,\n      onLiftImpact: impact,\n      viewport: viewport,\n      scrollJumpRequest: null,\n      forceShouldAnimate: null\n    };\n    return result;\n  }\n\n  if (action.type === 'COLLECTION_STARTING') {\n    if (state.phase === 'COLLECTING' || state.phase === 'DROP_PENDING') {\n      return state;\n    }\n\n    !(state.phase === 'DRAGGING') ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Collection cannot start from phase \" + state.phase) : invariant(false) : void 0;\n\n    var _result = _extends({\n      phase: 'COLLECTING'\n    }, state, {\n      phase: 'COLLECTING'\n    });\n\n    return _result;\n  }\n\n  if (action.type === 'PUBLISH_WHILE_DRAGGING') {\n    !(state.phase === 'COLLECTING' || state.phase === 'DROP_PENDING') ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Unexpected \" + action.type + \" received in phase \" + state.phase) : invariant(false) : void 0;\n    return publishWhileDraggingInVirtual({\n      state: state,\n      published: action.payload\n    });\n  }\n\n  if (action.type === 'MOVE') {\n    if (state.phase === 'DROP_PENDING') {\n      return state;\n    }\n\n    !isMovementAllowed(state) ? process.env.NODE_ENV !== \"production\" ? invariant(false, action.type + \" not permitted in phase \" + state.phase) : invariant(false) : void 0;\n    var _clientSelection = action.payload.client;\n\n    if (isEqual(_clientSelection, state.current.client.selection)) {\n      return state;\n    }\n\n    return update({\n      state: state,\n      clientSelection: _clientSelection,\n      impact: isSnapping(state) ? state.impact : null\n    });\n  }\n\n  if (action.type === 'UPDATE_DROPPABLE_SCROLL') {\n    if (state.phase === 'DROP_PENDING') {\n      return removeScrollJumpRequest(state);\n    }\n\n    if (state.phase === 'COLLECTING') {\n      return removeScrollJumpRequest(state);\n    }\n\n    !isMovementAllowed(state) ? process.env.NODE_ENV !== \"production\" ? invariant(false, action.type + \" not permitted in phase \" + state.phase) : invariant(false) : void 0;\n    var _action$payload2 = action.payload,\n        id = _action$payload2.id,\n        newScroll = _action$payload2.newScroll;\n    var target = state.dimensions.droppables[id];\n\n    if (!target) {\n      return state;\n    }\n\n    var scrolled = scrollDroppable(target, newScroll);\n    return postDroppableChange(state, scrolled, false);\n  }\n\n  if (action.type === 'UPDATE_DROPPABLE_IS_ENABLED') {\n    if (state.phase === 'DROP_PENDING') {\n      return state;\n    }\n\n    !isMovementAllowed(state) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Attempting to move in an unsupported phase \" + state.phase) : invariant(false) : void 0;\n    var _action$payload3 = action.payload,\n        _id = _action$payload3.id,\n        isEnabled = _action$payload3.isEnabled;\n    var _target = state.dimensions.droppables[_id];\n    !_target ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot find Droppable[id: \" + _id + \"] to toggle its enabled state\") : invariant(false) : void 0;\n    !(_target.isEnabled !== isEnabled) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Trying to set droppable isEnabled to \" + String(isEnabled) + \"\\n      but it is already \" + String(_target.isEnabled)) : invariant(false) : void 0;\n\n    var updated = _extends({}, _target, {\n      isEnabled: isEnabled\n    });\n\n    return postDroppableChange(state, updated, true);\n  }\n\n  if (action.type === 'UPDATE_DROPPABLE_IS_COMBINE_ENABLED') {\n    if (state.phase === 'DROP_PENDING') {\n      return state;\n    }\n\n    !isMovementAllowed(state) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Attempting to move in an unsupported phase \" + state.phase) : invariant(false) : void 0;\n    var _action$payload4 = action.payload,\n        _id2 = _action$payload4.id,\n        isCombineEnabled = _action$payload4.isCombineEnabled;\n    var _target2 = state.dimensions.droppables[_id2];\n    !_target2 ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot find Droppable[id: \" + _id2 + \"] to toggle its isCombineEnabled state\") : invariant(false) : void 0;\n    !(_target2.isCombineEnabled !== isCombineEnabled) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Trying to set droppable isCombineEnabled to \" + String(isCombineEnabled) + \"\\n      but it is already \" + String(_target2.isCombineEnabled)) : invariant(false) : void 0;\n\n    var _updated = _extends({}, _target2, {\n      isCombineEnabled: isCombineEnabled\n    });\n\n    return postDroppableChange(state, _updated, true);\n  }\n\n  if (action.type === 'MOVE_BY_WINDOW_SCROLL') {\n    if (state.phase === 'DROP_PENDING' || state.phase === 'DROP_ANIMATING') {\n      return state;\n    }\n\n    !isMovementAllowed(state) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot move by window in phase \" + state.phase) : invariant(false) : void 0;\n    !state.isWindowScrollAllowed ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Window scrolling is currently not supported for fixed lists') : invariant(false) : void 0;\n    var _newScroll = action.payload.newScroll;\n\n    if (isEqual(state.viewport.scroll.current, _newScroll)) {\n      return removeScrollJumpRequest(state);\n    }\n\n    var _viewport = scrollViewport(state.viewport, _newScroll);\n\n    if (isSnapping(state)) {\n      return refreshSnap({\n        state: state,\n        viewport: _viewport\n      });\n    }\n\n    return update({\n      state: state,\n      viewport: _viewport\n    });\n  }\n\n  if (action.type === 'UPDATE_VIEWPORT_MAX_SCROLL') {\n    if (!isMovementAllowed(state)) {\n      return state;\n    }\n\n    var maxScroll = action.payload.maxScroll;\n\n    if (isEqual(maxScroll, state.viewport.scroll.max)) {\n      return state;\n    }\n\n    var withMaxScroll = _extends({}, state.viewport, {\n      scroll: _extends({}, state.viewport.scroll, {\n        max: maxScroll\n      })\n    });\n\n    return _extends({\n      phase: 'DRAGGING'\n    }, state, {\n      viewport: withMaxScroll\n    });\n  }\n\n  if (action.type === 'MOVE_UP' || action.type === 'MOVE_DOWN' || action.type === 'MOVE_LEFT' || action.type === 'MOVE_RIGHT') {\n    if (state.phase === 'COLLECTING' || state.phase === 'DROP_PENDING') {\n      return state;\n    }\n\n    !(state.phase === 'DRAGGING') ? process.env.NODE_ENV !== \"production\" ? invariant(false, action.type + \" received while not in DRAGGING phase\") : invariant(false) : void 0;\n\n    var _result2 = moveInDirection({\n      state: state,\n      type: action.type\n    });\n\n    if (!_result2) {\n      return state;\n    }\n\n    return update({\n      state: state,\n      impact: _result2.impact,\n      clientSelection: _result2.clientSelection,\n      scrollJumpRequest: _result2.scrollJumpRequest\n    });\n  }\n\n  if (action.type === 'DROP_PENDING') {\n    var reason = action.payload.reason;\n    !(state.phase === 'COLLECTING') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Can only move into the DROP_PENDING phase from the COLLECTING phase') : invariant(false) : void 0;\n\n    var newState = _extends({\n      phase: 'DROP_PENDING'\n    }, state, {\n      phase: 'DROP_PENDING',\n      isWaiting: true,\n      reason: reason\n    });\n\n    return newState;\n  }\n\n  if (action.type === 'DROP_ANIMATE') {\n    var _action$payload5 = action.payload,\n        completed = _action$payload5.completed,\n        dropDuration = _action$payload5.dropDuration,\n        newHomeClientOffset = _action$payload5.newHomeClientOffset;\n    !(state.phase === 'DRAGGING' || state.phase === 'DROP_PENDING') ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot animate drop from phase \" + state.phase) : invariant(false) : void 0;\n    var _result3 = {\n      phase: 'DROP_ANIMATING',\n      completed: completed,\n      dropDuration: dropDuration,\n      newHomeClientOffset: newHomeClientOffset,\n      dimensions: state.dimensions\n    };\n    return _result3;\n  }\n\n  if (action.type === 'DROP_COMPLETE') {\n    var _completed = action.payload.completed;\n    return {\n      phase: 'IDLE',\n      completed: _completed,\n      shouldFlush: false\n    };\n  }\n\n  return state;\n});\n\nvar beforeInitialCapture = function beforeInitialCapture(args) {\n  return {\n    type: 'BEFORE_INITIAL_CAPTURE',\n    payload: args\n  };\n};\nvar lift = function lift(args) {\n  return {\n    type: 'LIFT',\n    payload: args\n  };\n};\nvar initialPublish = function initialPublish(args) {\n  return {\n    type: 'INITIAL_PUBLISH',\n    payload: args\n  };\n};\nvar publishWhileDragging = function publishWhileDragging(args) {\n  return {\n    type: 'PUBLISH_WHILE_DRAGGING',\n    payload: args\n  };\n};\nvar collectionStarting = function collectionStarting() {\n  return {\n    type: 'COLLECTION_STARTING',\n    payload: null\n  };\n};\nvar updateDroppableScroll = function updateDroppableScroll(args) {\n  return {\n    type: 'UPDATE_DROPPABLE_SCROLL',\n    payload: args\n  };\n};\nvar updateDroppableIsEnabled = function updateDroppableIsEnabled(args) {\n  return {\n    type: 'UPDATE_DROPPABLE_IS_ENABLED',\n    payload: args\n  };\n};\nvar updateDroppableIsCombineEnabled = function updateDroppableIsCombineEnabled(args) {\n  return {\n    type: 'UPDATE_DROPPABLE_IS_COMBINE_ENABLED',\n    payload: args\n  };\n};\nvar move = function move(args) {\n  return {\n    type: 'MOVE',\n    payload: args\n  };\n};\nvar moveByWindowScroll = function moveByWindowScroll(args) {\n  return {\n    type: 'MOVE_BY_WINDOW_SCROLL',\n    payload: args\n  };\n};\nvar updateViewportMaxScroll = function updateViewportMaxScroll(args) {\n  return {\n    type: 'UPDATE_VIEWPORT_MAX_SCROLL',\n    payload: args\n  };\n};\nvar moveUp = function moveUp() {\n  return {\n    type: 'MOVE_UP',\n    payload: null\n  };\n};\nvar moveDown = function moveDown() {\n  return {\n    type: 'MOVE_DOWN',\n    payload: null\n  };\n};\nvar moveRight = function moveRight() {\n  return {\n    type: 'MOVE_RIGHT',\n    payload: null\n  };\n};\nvar moveLeft = function moveLeft() {\n  return {\n    type: 'MOVE_LEFT',\n    payload: null\n  };\n};\nvar flush = function flush() {\n  return {\n    type: 'FLUSH',\n    payload: null\n  };\n};\nvar animateDrop = function animateDrop(args) {\n  return {\n    type: 'DROP_ANIMATE',\n    payload: args\n  };\n};\nvar completeDrop = function completeDrop(args) {\n  return {\n    type: 'DROP_COMPLETE',\n    payload: args\n  };\n};\nvar drop = function drop(args) {\n  return {\n    type: 'DROP',\n    payload: args\n  };\n};\nvar dropPending = function dropPending(args) {\n  return {\n    type: 'DROP_PENDING',\n    payload: args\n  };\n};\nvar dropAnimationFinished = function dropAnimationFinished() {\n  return {\n    type: 'DROP_ANIMATION_FINISHED',\n    payload: null\n  };\n};\n\nfunction checkIndexes(insideDestination) {\n  if (insideDestination.length <= 1) {\n    return;\n  }\n\n  var indexes = insideDestination.map(function (d) {\n    return d.descriptor.index;\n  });\n  var errors = {};\n\n  for (var i = 1; i < indexes.length; i++) {\n    var current = indexes[i];\n    var previous = indexes[i - 1];\n\n    if (current !== previous + 1) {\n      errors[current] = true;\n    }\n  }\n\n  if (!Object.keys(errors).length) {\n    return;\n  }\n\n  var formatted = indexes.map(function (index) {\n    var hasError = Boolean(errors[index]);\n    return hasError ? \"[\\uD83D\\uDD25\" + index + \"]\" : \"\" + index;\n  }).join(', ');\n  process.env.NODE_ENV !== \"production\" ? warning(\"\\n    Detected non-consecutive <Draggable /> indexes.\\n\\n    (This can cause unexpected bugs)\\n\\n    \" + formatted + \"\\n  \") : void 0;\n}\n\nfunction validateDimensions(critical, dimensions) {\n  if (process.env.NODE_ENV !== 'production') {\n    var insideDestination = getDraggablesInsideDroppable(critical.droppable.id, dimensions.draggables);\n    checkIndexes(insideDestination);\n  }\n}\n\nvar lift$1 = (function (marshal) {\n  return function (_ref) {\n    var getState = _ref.getState,\n        dispatch = _ref.dispatch;\n    return function (next) {\n      return function (action) {\n        if (action.type !== 'LIFT') {\n          next(action);\n          return;\n        }\n\n        var _action$payload = action.payload,\n            id = _action$payload.id,\n            clientSelection = _action$payload.clientSelection,\n            movementMode = _action$payload.movementMode;\n        var initial = getState();\n\n        if (initial.phase === 'DROP_ANIMATING') {\n          dispatch(completeDrop({\n            completed: initial.completed\n          }));\n        }\n\n        !(getState().phase === 'IDLE') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Unexpected phase to start a drag') : invariant(false) : void 0;\n        dispatch(flush());\n        dispatch(beforeInitialCapture({\n          draggableId: id,\n          movementMode: movementMode\n        }));\n        var scrollOptions = {\n          shouldPublishImmediately: movementMode === 'SNAP'\n        };\n        var request = {\n          draggableId: id,\n          scrollOptions: scrollOptions\n        };\n\n        var _marshal$startPublish = marshal.startPublishing(request),\n            critical = _marshal$startPublish.critical,\n            dimensions = _marshal$startPublish.dimensions,\n            viewport = _marshal$startPublish.viewport;\n\n        validateDimensions(critical, dimensions);\n        dispatch(initialPublish({\n          critical: critical,\n          dimensions: dimensions,\n          clientSelection: clientSelection,\n          movementMode: movementMode,\n          viewport: viewport\n        }));\n      };\n    };\n  };\n});\n\nvar style = (function (marshal) {\n  return function () {\n    return function (next) {\n      return function (action) {\n        if (action.type === 'INITIAL_PUBLISH') {\n          marshal.dragging();\n        }\n\n        if (action.type === 'DROP_ANIMATE') {\n          marshal.dropping(action.payload.completed.result.reason);\n        }\n\n        if (action.type === 'FLUSH' || action.type === 'DROP_COMPLETE') {\n          marshal.resting();\n        }\n\n        next(action);\n      };\n    };\n  };\n});\n\nvar curves = {\n  outOfTheWay: 'cubic-bezier(0.2, 0, 0, 1)',\n  drop: 'cubic-bezier(.2,1,.1,1)'\n};\nvar combine = {\n  opacity: {\n    drop: 0,\n    combining: 0.7\n  },\n  scale: {\n    drop: 0.75\n  }\n};\nvar timings = {\n  outOfTheWay: 0.2,\n  minDropTime: 0.33,\n  maxDropTime: 0.55\n};\nvar outOfTheWayTiming = timings.outOfTheWay + \"s \" + curves.outOfTheWay;\nvar transitions = {\n  fluid: \"opacity \" + outOfTheWayTiming,\n  snap: \"transform \" + outOfTheWayTiming + \", opacity \" + outOfTheWayTiming,\n  drop: function drop(duration) {\n    var timing = duration + \"s \" + curves.drop;\n    return \"transform \" + timing + \", opacity \" + timing;\n  },\n  outOfTheWay: \"transform \" + outOfTheWayTiming,\n  placeholder: \"height \" + outOfTheWayTiming + \", width \" + outOfTheWayTiming + \", margin \" + outOfTheWayTiming\n};\n\nvar moveTo = function moveTo(offset) {\n  return isEqual(offset, origin) ? null : \"translate(\" + offset.x + \"px, \" + offset.y + \"px)\";\n};\n\nvar transforms = {\n  moveTo: moveTo,\n  drop: function drop(offset, isCombining) {\n    var translate = moveTo(offset);\n\n    if (!translate) {\n      return null;\n    }\n\n    if (!isCombining) {\n      return translate;\n    }\n\n    return translate + \" scale(\" + combine.scale.drop + \")\";\n  }\n};\n\nvar minDropTime = timings.minDropTime,\n    maxDropTime = timings.maxDropTime;\nvar dropTimeRange = maxDropTime - minDropTime;\nvar maxDropTimeAtDistance = 1500;\nvar cancelDropModifier = 0.6;\nvar getDropDuration = (function (_ref) {\n  var current = _ref.current,\n      destination = _ref.destination,\n      reason = _ref.reason;\n  var distance$1 = distance(current, destination);\n\n  if (distance$1 <= 0) {\n    return minDropTime;\n  }\n\n  if (distance$1 >= maxDropTimeAtDistance) {\n    return maxDropTime;\n  }\n\n  var percentage = distance$1 / maxDropTimeAtDistance;\n  var duration = minDropTime + dropTimeRange * percentage;\n  var withDuration = reason === 'CANCEL' ? duration * cancelDropModifier : duration;\n  return Number(withDuration.toFixed(2));\n});\n\nvar getNewHomeClientOffset = (function (_ref) {\n  var impact = _ref.impact,\n      draggable = _ref.draggable,\n      dimensions = _ref.dimensions,\n      viewport = _ref.viewport,\n      afterCritical = _ref.afterCritical;\n  var draggables = dimensions.draggables,\n      droppables = dimensions.droppables;\n  var droppableId = whatIsDraggedOver(impact);\n  var destination = droppableId ? droppables[droppableId] : null;\n  var home = droppables[draggable.descriptor.droppableId];\n  var newClientCenter = getClientBorderBoxCenter({\n    impact: impact,\n    draggable: draggable,\n    draggables: draggables,\n    afterCritical: afterCritical,\n    droppable: destination || home,\n    viewport: viewport\n  });\n  var offset = subtract(newClientCenter, draggable.client.borderBox.center);\n  return offset;\n});\n\nvar getDropImpact = (function (_ref) {\n  var draggables = _ref.draggables,\n      reason = _ref.reason,\n      lastImpact = _ref.lastImpact,\n      home = _ref.home,\n      viewport = _ref.viewport,\n      onLiftImpact = _ref.onLiftImpact;\n\n  if (!lastImpact.at || reason !== 'DROP') {\n    var recomputedHomeImpact = recompute({\n      draggables: draggables,\n      impact: onLiftImpact,\n      destination: home,\n      viewport: viewport,\n      forceShouldAnimate: true\n    });\n    return {\n      impact: recomputedHomeImpact,\n      didDropInsideDroppable: false\n    };\n  }\n\n  if (lastImpact.at.type === 'REORDER') {\n    return {\n      impact: lastImpact,\n      didDropInsideDroppable: true\n    };\n  }\n\n  var withoutMovement = _extends({}, lastImpact, {\n    displaced: emptyGroups\n  });\n\n  return {\n    impact: withoutMovement,\n    didDropInsideDroppable: true\n  };\n});\n\nvar drop$1 = (function (_ref) {\n  var getState = _ref.getState,\n      dispatch = _ref.dispatch;\n  return function (next) {\n    return function (action) {\n      if (action.type !== 'DROP') {\n        next(action);\n        return;\n      }\n\n      var state = getState();\n      var reason = action.payload.reason;\n\n      if (state.phase === 'COLLECTING') {\n        dispatch(dropPending({\n          reason: reason\n        }));\n        return;\n      }\n\n      if (state.phase === 'IDLE') {\n        return;\n      }\n\n      var isWaitingForDrop = state.phase === 'DROP_PENDING' && state.isWaiting;\n      !!isWaitingForDrop ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'A DROP action occurred while DROP_PENDING and still waiting') : invariant(false) : void 0;\n      !(state.phase === 'DRAGGING' || state.phase === 'DROP_PENDING') ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot drop in phase: \" + state.phase) : invariant(false) : void 0;\n      var critical = state.critical;\n      var dimensions = state.dimensions;\n      var draggable = dimensions.draggables[state.critical.draggable.id];\n\n      var _getDropImpact = getDropImpact({\n        reason: reason,\n        lastImpact: state.impact,\n        afterCritical: state.afterCritical,\n        onLiftImpact: state.onLiftImpact,\n        home: state.dimensions.droppables[state.critical.droppable.id],\n        viewport: state.viewport,\n        draggables: state.dimensions.draggables\n      }),\n          impact = _getDropImpact.impact,\n          didDropInsideDroppable = _getDropImpact.didDropInsideDroppable;\n\n      var destination = didDropInsideDroppable ? tryGetDestination(impact) : null;\n      var combine = didDropInsideDroppable ? tryGetCombine(impact) : null;\n      var source = {\n        index: critical.draggable.index,\n        droppableId: critical.droppable.id\n      };\n      var result = {\n        draggableId: draggable.descriptor.id,\n        type: draggable.descriptor.type,\n        source: source,\n        reason: reason,\n        mode: state.movementMode,\n        destination: destination,\n        combine: combine\n      };\n      var newHomeClientOffset = getNewHomeClientOffset({\n        impact: impact,\n        draggable: draggable,\n        dimensions: dimensions,\n        viewport: state.viewport,\n        afterCritical: state.afterCritical\n      });\n      var completed = {\n        critical: state.critical,\n        afterCritical: state.afterCritical,\n        result: result,\n        impact: impact\n      };\n      var isAnimationRequired = !isEqual(state.current.client.offset, newHomeClientOffset) || Boolean(result.combine);\n\n      if (!isAnimationRequired) {\n        dispatch(completeDrop({\n          completed: completed\n        }));\n        return;\n      }\n\n      var dropDuration = getDropDuration({\n        current: state.current.client.offset,\n        destination: newHomeClientOffset,\n        reason: reason\n      });\n      var args = {\n        newHomeClientOffset: newHomeClientOffset,\n        dropDuration: dropDuration,\n        completed: completed\n      };\n      dispatch(animateDrop(args));\n    };\n  };\n});\n\nvar getWindowScroll = (function () {\n  return {\n    x: window.pageXOffset,\n    y: window.pageYOffset\n  };\n});\n\nfunction getWindowScrollBinding(update) {\n  return {\n    eventName: 'scroll',\n    options: {\n      passive: true,\n      capture: false\n    },\n    fn: function fn(event) {\n      if (event.target !== window && event.target !== window.document) {\n        return;\n      }\n\n      update();\n    }\n  };\n}\n\nfunction getScrollListener(_ref) {\n  var onWindowScroll = _ref.onWindowScroll;\n\n  function updateScroll() {\n    onWindowScroll(getWindowScroll());\n  }\n\n  var scheduled = rafSchd(updateScroll);\n  var binding = getWindowScrollBinding(scheduled);\n  var unbind = noop;\n\n  function isActive() {\n    return unbind !== noop;\n  }\n\n  function start() {\n    !!isActive() ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot start scroll listener when already active') : invariant(false) : void 0;\n    unbind = bindEvents(window, [binding]);\n  }\n\n  function stop() {\n    !isActive() ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot stop scroll listener when not active') : invariant(false) : void 0;\n    scheduled.cancel();\n    unbind();\n    unbind = noop;\n  }\n\n  return {\n    start: start,\n    stop: stop,\n    isActive: isActive\n  };\n}\n\nvar shouldEnd = function shouldEnd(action) {\n  return action.type === 'DROP_COMPLETE' || action.type === 'DROP_ANIMATE' || action.type === 'FLUSH';\n};\n\nvar scrollListener = (function (store) {\n  var listener = getScrollListener({\n    onWindowScroll: function onWindowScroll(newScroll) {\n      store.dispatch(moveByWindowScroll({\n        newScroll: newScroll\n      }));\n    }\n  });\n  return function (next) {\n    return function (action) {\n      if (!listener.isActive() && action.type === 'INITIAL_PUBLISH') {\n        listener.start();\n      }\n\n      if (listener.isActive() && shouldEnd(action)) {\n        listener.stop();\n      }\n\n      next(action);\n    };\n  };\n});\n\nvar getExpiringAnnounce = (function (announce) {\n  var wasCalled = false;\n  var isExpired = false;\n  var timeoutId = setTimeout(function () {\n    isExpired = true;\n  });\n\n  var result = function result(message) {\n    if (wasCalled) {\n      process.env.NODE_ENV !== \"production\" ? warning('Announcement already made. Not making a second announcement') : void 0;\n      return;\n    }\n\n    if (isExpired) {\n      process.env.NODE_ENV !== \"production\" ? warning(\"\\n        Announcements cannot be made asynchronously.\\n        Default message has already been announced.\\n      \") : void 0;\n      return;\n    }\n\n    wasCalled = true;\n    announce(message);\n    clearTimeout(timeoutId);\n  };\n\n  result.wasCalled = function () {\n    return wasCalled;\n  };\n\n  return result;\n});\n\nvar getAsyncMarshal = (function () {\n  var entries = [];\n\n  var execute = function execute(timerId) {\n    var index = findIndex(entries, function (item) {\n      return item.timerId === timerId;\n    });\n    !(index !== -1) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Could not find timer') : invariant(false) : void 0;\n\n    var _entries$splice = entries.splice(index, 1),\n        entry = _entries$splice[0];\n\n    entry.callback();\n  };\n\n  var add = function add(fn) {\n    var timerId = setTimeout(function () {\n      return execute(timerId);\n    });\n    var entry = {\n      timerId: timerId,\n      callback: fn\n    };\n    entries.push(entry);\n  };\n\n  var flush = function flush() {\n    if (!entries.length) {\n      return;\n    }\n\n    var shallow = [].concat(entries);\n    entries.length = 0;\n    shallow.forEach(function (entry) {\n      clearTimeout(entry.timerId);\n      entry.callback();\n    });\n  };\n\n  return {\n    add: add,\n    flush: flush\n  };\n});\n\nvar areLocationsEqual = function areLocationsEqual(first, second) {\n  if (first == null && second == null) {\n    return true;\n  }\n\n  if (first == null || second == null) {\n    return false;\n  }\n\n  return first.droppableId === second.droppableId && first.index === second.index;\n};\nvar isCombineEqual = function isCombineEqual(first, second) {\n  if (first == null && second == null) {\n    return true;\n  }\n\n  if (first == null || second == null) {\n    return false;\n  }\n\n  return first.draggableId === second.draggableId && first.droppableId === second.droppableId;\n};\nvar isCriticalEqual = function isCriticalEqual(first, second) {\n  if (first === second) {\n    return true;\n  }\n\n  var isDraggableEqual = first.draggable.id === second.draggable.id && first.draggable.droppableId === second.draggable.droppableId && first.draggable.type === second.draggable.type && first.draggable.index === second.draggable.index;\n  var isDroppableEqual = first.droppable.id === second.droppable.id && first.droppable.type === second.droppable.type;\n  return isDraggableEqual && isDroppableEqual;\n};\n\nvar withTimings = function withTimings(key, fn) {\n  start();\n  fn();\n  finish();\n};\n\nvar getDragStart = function getDragStart(critical, mode) {\n  return {\n    draggableId: critical.draggable.id,\n    type: critical.droppable.type,\n    source: {\n      droppableId: critical.droppable.id,\n      index: critical.draggable.index\n    },\n    mode: mode\n  };\n};\n\nvar execute = function execute(responder, data, announce, getDefaultMessage) {\n  if (!responder) {\n    announce(getDefaultMessage(data));\n    return;\n  }\n\n  var willExpire = getExpiringAnnounce(announce);\n  var provided = {\n    announce: willExpire\n  };\n  responder(data, provided);\n\n  if (!willExpire.wasCalled()) {\n    announce(getDefaultMessage(data));\n  }\n};\n\nvar getPublisher = (function (getResponders, announce) {\n  var asyncMarshal = getAsyncMarshal();\n  var dragging = null;\n\n  var beforeCapture = function beforeCapture(draggableId, mode) {\n    !!dragging ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot fire onBeforeCapture as a drag start has already been published') : invariant(false) : void 0;\n    withTimings('onBeforeCapture', function () {\n      var fn = getResponders().onBeforeCapture;\n\n      if (fn) {\n        var before = {\n          draggableId: draggableId,\n          mode: mode\n        };\n        fn(before);\n      }\n    });\n  };\n\n  var beforeStart = function beforeStart(critical, mode) {\n    !!dragging ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot fire onBeforeDragStart as a drag start has already been published') : invariant(false) : void 0;\n    withTimings('onBeforeDragStart', function () {\n      var fn = getResponders().onBeforeDragStart;\n\n      if (fn) {\n        fn(getDragStart(critical, mode));\n      }\n    });\n  };\n\n  var start = function start(critical, mode) {\n    !!dragging ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot fire onBeforeDragStart as a drag start has already been published') : invariant(false) : void 0;\n    var data = getDragStart(critical, mode);\n    dragging = {\n      mode: mode,\n      lastCritical: critical,\n      lastLocation: data.source,\n      lastCombine: null\n    };\n    asyncMarshal.add(function () {\n      withTimings('onDragStart', function () {\n        return execute(getResponders().onDragStart, data, announce, preset.onDragStart);\n      });\n    });\n  };\n\n  var update = function update(critical, impact) {\n    var location = tryGetDestination(impact);\n    var combine = tryGetCombine(impact);\n    !dragging ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot fire onDragMove when onDragStart has not been called') : invariant(false) : void 0;\n    var hasCriticalChanged = !isCriticalEqual(critical, dragging.lastCritical);\n\n    if (hasCriticalChanged) {\n      dragging.lastCritical = critical;\n    }\n\n    var hasLocationChanged = !areLocationsEqual(dragging.lastLocation, location);\n\n    if (hasLocationChanged) {\n      dragging.lastLocation = location;\n    }\n\n    var hasGroupingChanged = !isCombineEqual(dragging.lastCombine, combine);\n\n    if (hasGroupingChanged) {\n      dragging.lastCombine = combine;\n    }\n\n    if (!hasCriticalChanged && !hasLocationChanged && !hasGroupingChanged) {\n      return;\n    }\n\n    var data = _extends({}, getDragStart(critical, dragging.mode), {\n      combine: combine,\n      destination: location\n    });\n\n    asyncMarshal.add(function () {\n      withTimings('onDragUpdate', function () {\n        return execute(getResponders().onDragUpdate, data, announce, preset.onDragUpdate);\n      });\n    });\n  };\n\n  var flush = function flush() {\n    !dragging ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Can only flush responders while dragging') : invariant(false) : void 0;\n    asyncMarshal.flush();\n  };\n\n  var drop = function drop(result) {\n    !dragging ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot fire onDragEnd when there is no matching onDragStart') : invariant(false) : void 0;\n    dragging = null;\n    withTimings('onDragEnd', function () {\n      return execute(getResponders().onDragEnd, result, announce, preset.onDragEnd);\n    });\n  };\n\n  var abort = function abort() {\n    if (!dragging) {\n      return;\n    }\n\n    var result = _extends({}, getDragStart(dragging.lastCritical, dragging.mode), {\n      combine: null,\n      destination: null,\n      reason: 'CANCEL'\n    });\n\n    drop(result);\n  };\n\n  return {\n    beforeCapture: beforeCapture,\n    beforeStart: beforeStart,\n    start: start,\n    update: update,\n    flush: flush,\n    drop: drop,\n    abort: abort\n  };\n});\n\nvar responders = (function (getResponders, announce) {\n  var publisher = getPublisher(getResponders, announce);\n  return function (store) {\n    return function (next) {\n      return function (action) {\n        if (action.type === 'BEFORE_INITIAL_CAPTURE') {\n          publisher.beforeCapture(action.payload.draggableId, action.payload.movementMode);\n          return;\n        }\n\n        if (action.type === 'INITIAL_PUBLISH') {\n          var critical = action.payload.critical;\n          publisher.beforeStart(critical, action.payload.movementMode);\n          next(action);\n          publisher.start(critical, action.payload.movementMode);\n          return;\n        }\n\n        if (action.type === 'DROP_COMPLETE') {\n          var result = action.payload.completed.result;\n          publisher.flush();\n          next(action);\n          publisher.drop(result);\n          return;\n        }\n\n        next(action);\n\n        if (action.type === 'FLUSH') {\n          publisher.abort();\n          return;\n        }\n\n        var state = store.getState();\n\n        if (state.phase === 'DRAGGING') {\n          publisher.update(state.critical, state.impact);\n        }\n      };\n    };\n  };\n});\n\nvar dropAnimationFinish = (function (store) {\n  return function (next) {\n    return function (action) {\n      if (action.type !== 'DROP_ANIMATION_FINISHED') {\n        next(action);\n        return;\n      }\n\n      var state = store.getState();\n      !(state.phase === 'DROP_ANIMATING') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot finish a drop animating when no drop is occurring') : invariant(false) : void 0;\n      store.dispatch(completeDrop({\n        completed: state.completed\n      }));\n    };\n  };\n});\n\nvar dropAnimationFlushOnScroll = (function (store) {\n  var unbind = null;\n  var frameId = null;\n\n  function clear() {\n    if (frameId) {\n      cancelAnimationFrame(frameId);\n      frameId = null;\n    }\n\n    if (unbind) {\n      unbind();\n      unbind = null;\n    }\n  }\n\n  return function (next) {\n    return function (action) {\n      if (action.type === 'FLUSH' || action.type === 'DROP_COMPLETE' || action.type === 'DROP_ANIMATION_FINISHED') {\n        clear();\n      }\n\n      next(action);\n\n      if (action.type !== 'DROP_ANIMATE') {\n        return;\n      }\n\n      var binding = {\n        eventName: 'scroll',\n        options: {\n          capture: true,\n          passive: false,\n          once: true\n        },\n        fn: function flushDropAnimation() {\n          var state = store.getState();\n\n          if (state.phase === 'DROP_ANIMATING') {\n            store.dispatch(dropAnimationFinished());\n          }\n        }\n      };\n      frameId = requestAnimationFrame(function () {\n        frameId = null;\n        unbind = bindEvents(window, [binding]);\n      });\n    };\n  };\n});\n\nvar dimensionMarshalStopper = (function (marshal) {\n  return function () {\n    return function (next) {\n      return function (action) {\n        if (action.type === 'DROP_COMPLETE' || action.type === 'FLUSH' || action.type === 'DROP_ANIMATE') {\n          marshal.stopPublishing();\n        }\n\n        next(action);\n      };\n    };\n  };\n});\n\nvar focus = (function (marshal) {\n  var isWatching = false;\n  return function () {\n    return function (next) {\n      return function (action) {\n        if (action.type === 'INITIAL_PUBLISH') {\n          isWatching = true;\n          marshal.tryRecordFocus(action.payload.critical.draggable.id);\n          next(action);\n          marshal.tryRestoreFocusRecorded();\n          return;\n        }\n\n        next(action);\n\n        if (!isWatching) {\n          return;\n        }\n\n        if (action.type === 'FLUSH') {\n          isWatching = false;\n          marshal.tryRestoreFocusRecorded();\n          return;\n        }\n\n        if (action.type === 'DROP_COMPLETE') {\n          isWatching = false;\n          var result = action.payload.completed.result;\n\n          if (result.combine) {\n            marshal.tryShiftRecord(result.draggableId, result.combine.draggableId);\n          }\n\n          marshal.tryRestoreFocusRecorded();\n        }\n      };\n    };\n  };\n});\n\nvar shouldStop = function shouldStop(action) {\n  return action.type === 'DROP_COMPLETE' || action.type === 'DROP_ANIMATE' || action.type === 'FLUSH';\n};\n\nvar autoScroll = (function (autoScroller) {\n  return function (store) {\n    return function (next) {\n      return function (action) {\n        if (shouldStop(action)) {\n          autoScroller.stop();\n          next(action);\n          return;\n        }\n\n        if (action.type === 'INITIAL_PUBLISH') {\n          next(action);\n          var state = store.getState();\n          !(state.phase === 'DRAGGING') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Expected phase to be DRAGGING after INITIAL_PUBLISH') : invariant(false) : void 0;\n          autoScroller.start(state);\n          return;\n        }\n\n        next(action);\n        autoScroller.scroll(store.getState());\n      };\n    };\n  };\n});\n\nvar pendingDrop = (function (store) {\n  return function (next) {\n    return function (action) {\n      next(action);\n\n      if (action.type !== 'PUBLISH_WHILE_DRAGGING') {\n        return;\n      }\n\n      var postActionState = store.getState();\n\n      if (postActionState.phase !== 'DROP_PENDING') {\n        return;\n      }\n\n      if (postActionState.isWaiting) {\n        return;\n      }\n\n      store.dispatch(drop({\n        reason: postActionState.reason\n      }));\n    };\n  };\n});\n\nvar composeEnhancers = process.env.NODE_ENV !== 'production' && typeof window !== 'undefined' && window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ ? window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({\n  name: 'react-beautiful-dnd'\n}) : compose;\nvar createStore = (function (_ref) {\n  var dimensionMarshal = _ref.dimensionMarshal,\n      focusMarshal = _ref.focusMarshal,\n      styleMarshal = _ref.styleMarshal,\n      getResponders = _ref.getResponders,\n      announce = _ref.announce,\n      autoScroller = _ref.autoScroller;\n  return createStore$1(reducer, composeEnhancers(applyMiddleware(style(styleMarshal), dimensionMarshalStopper(dimensionMarshal), lift$1(dimensionMarshal), drop$1, dropAnimationFinish, dropAnimationFlushOnScroll, pendingDrop, autoScroll(autoScroller), scrollListener, focus(focusMarshal), responders(getResponders, announce))));\n});\n\nvar clean$1 = function clean() {\n  return {\n    additions: {},\n    removals: {},\n    modified: {}\n  };\n};\nfunction createPublisher(_ref) {\n  var registry = _ref.registry,\n      callbacks = _ref.callbacks;\n  var staging = clean$1();\n  var frameId = null;\n\n  var collect = function collect() {\n    if (frameId) {\n      return;\n    }\n\n    callbacks.collectionStarting();\n    frameId = requestAnimationFrame(function () {\n      frameId = null;\n      start();\n      var _staging = staging,\n          additions = _staging.additions,\n          removals = _staging.removals,\n          modified = _staging.modified;\n      var added = Object.keys(additions).map(function (id) {\n        return registry.draggable.getById(id).getDimension(origin);\n      }).sort(function (a, b) {\n        return a.descriptor.index - b.descriptor.index;\n      });\n      var updated = Object.keys(modified).map(function (id) {\n        var entry = registry.droppable.getById(id);\n        var scroll = entry.callbacks.getScrollWhileDragging();\n        return {\n          droppableId: id,\n          scroll: scroll\n        };\n      });\n      var result = {\n        additions: added,\n        removals: Object.keys(removals),\n        modified: updated\n      };\n      staging = clean$1();\n      finish();\n      callbacks.publish(result);\n    });\n  };\n\n  var add = function add(entry) {\n    var id = entry.descriptor.id;\n    staging.additions[id] = entry;\n    staging.modified[entry.descriptor.droppableId] = true;\n\n    if (staging.removals[id]) {\n      delete staging.removals[id];\n    }\n\n    collect();\n  };\n\n  var remove = function remove(entry) {\n    var descriptor = entry.descriptor;\n    staging.removals[descriptor.id] = true;\n    staging.modified[descriptor.droppableId] = true;\n\n    if (staging.additions[descriptor.id]) {\n      delete staging.additions[descriptor.id];\n    }\n\n    collect();\n  };\n\n  var stop = function stop() {\n    if (!frameId) {\n      return;\n    }\n\n    cancelAnimationFrame(frameId);\n    frameId = null;\n    staging = clean$1();\n  };\n\n  return {\n    add: add,\n    remove: remove,\n    stop: stop\n  };\n}\n\nvar getMaxScroll = (function (_ref) {\n  var scrollHeight = _ref.scrollHeight,\n      scrollWidth = _ref.scrollWidth,\n      height = _ref.height,\n      width = _ref.width;\n  var maxScroll = subtract({\n    x: scrollWidth,\n    y: scrollHeight\n  }, {\n    x: width,\n    y: height\n  });\n  var adjustedMaxScroll = {\n    x: Math.max(0, maxScroll.x),\n    y: Math.max(0, maxScroll.y)\n  };\n  return adjustedMaxScroll;\n});\n\nvar getDocumentElement = (function () {\n  var doc = document.documentElement;\n  !doc ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot find document.documentElement') : invariant(false) : void 0;\n  return doc;\n});\n\nvar getMaxWindowScroll = (function () {\n  var doc = getDocumentElement();\n  var maxScroll = getMaxScroll({\n    scrollHeight: doc.scrollHeight,\n    scrollWidth: doc.scrollWidth,\n    width: doc.clientWidth,\n    height: doc.clientHeight\n  });\n  return maxScroll;\n});\n\nvar getViewport = (function () {\n  var scroll = getWindowScroll();\n  var maxScroll = getMaxWindowScroll();\n  var top = scroll.y;\n  var left = scroll.x;\n  var doc = getDocumentElement();\n  var width = doc.clientWidth;\n  var height = doc.clientHeight;\n  var right = left + width;\n  var bottom = top + height;\n  var frame = getRect({\n    top: top,\n    left: left,\n    right: right,\n    bottom: bottom\n  });\n  var viewport = {\n    frame: frame,\n    scroll: {\n      initial: scroll,\n      current: scroll,\n      max: maxScroll,\n      diff: {\n        value: origin,\n        displacement: origin\n      }\n    }\n  };\n  return viewport;\n});\n\nvar getInitialPublish = (function (_ref) {\n  var critical = _ref.critical,\n      scrollOptions = _ref.scrollOptions,\n      registry = _ref.registry;\n  start();\n  var viewport = getViewport();\n  var windowScroll = viewport.scroll.current;\n  var home = critical.droppable;\n  var droppables = registry.droppable.getAllByType(home.type).map(function (entry) {\n    return entry.callbacks.getDimensionAndWatchScroll(windowScroll, scrollOptions);\n  });\n  var draggables = registry.draggable.getAllByType(critical.draggable.type).map(function (entry) {\n    return entry.getDimension(windowScroll);\n  });\n  var dimensions = {\n    draggables: toDraggableMap(draggables),\n    droppables: toDroppableMap(droppables)\n  };\n  finish();\n  var result = {\n    dimensions: dimensions,\n    critical: critical,\n    viewport: viewport\n  };\n  return result;\n});\n\nfunction shouldPublishUpdate(registry, dragging, entry) {\n  if (entry.descriptor.id === dragging.id) {\n    return false;\n  }\n\n  if (entry.descriptor.type !== dragging.type) {\n    return false;\n  }\n\n  var home = registry.droppable.getById(entry.descriptor.droppableId);\n\n  if (home.descriptor.mode !== 'virtual') {\n    process.env.NODE_ENV !== \"production\" ? warning(\"\\n      You are attempting to add or remove a Draggable [id: \" + entry.descriptor.id + \"]\\n      while a drag is occurring. This is only supported for virtual lists.\\n\\n      See https://github.com/atlassian/react-beautiful-dnd/blob/master/docs/patterns/virtual-lists.md\\n    \") : void 0;\n    return false;\n  }\n\n  return true;\n}\n\nvar createDimensionMarshal = (function (registry, callbacks) {\n  var collection = null;\n  var publisher = createPublisher({\n    callbacks: {\n      publish: callbacks.publishWhileDragging,\n      collectionStarting: callbacks.collectionStarting\n    },\n    registry: registry\n  });\n\n  var updateDroppableIsEnabled = function updateDroppableIsEnabled(id, isEnabled) {\n    !registry.droppable.exists(id) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot update is enabled flag of Droppable \" + id + \" as it is not registered\") : invariant(false) : void 0;\n\n    if (!collection) {\n      return;\n    }\n\n    callbacks.updateDroppableIsEnabled({\n      id: id,\n      isEnabled: isEnabled\n    });\n  };\n\n  var updateDroppableIsCombineEnabled = function updateDroppableIsCombineEnabled(id, isCombineEnabled) {\n    if (!collection) {\n      return;\n    }\n\n    !registry.droppable.exists(id) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot update isCombineEnabled flag of Droppable \" + id + \" as it is not registered\") : invariant(false) : void 0;\n    callbacks.updateDroppableIsCombineEnabled({\n      id: id,\n      isCombineEnabled: isCombineEnabled\n    });\n  };\n\n  var updateDroppableScroll = function updateDroppableScroll(id, newScroll) {\n    if (!collection) {\n      return;\n    }\n\n    !registry.droppable.exists(id) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot update the scroll on Droppable \" + id + \" as it is not registered\") : invariant(false) : void 0;\n    callbacks.updateDroppableScroll({\n      id: id,\n      newScroll: newScroll\n    });\n  };\n\n  var scrollDroppable = function scrollDroppable(id, change) {\n    if (!collection) {\n      return;\n    }\n\n    registry.droppable.getById(id).callbacks.scroll(change);\n  };\n\n  var stopPublishing = function stopPublishing() {\n    if (!collection) {\n      return;\n    }\n\n    publisher.stop();\n    var home = collection.critical.droppable;\n    registry.droppable.getAllByType(home.type).forEach(function (entry) {\n      return entry.callbacks.dragStopped();\n    });\n    collection.unsubscribe();\n    collection = null;\n  };\n\n  var subscriber = function subscriber(event) {\n    !collection ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Should only be subscribed when a collection is occurring') : invariant(false) : void 0;\n    var dragging = collection.critical.draggable;\n\n    if (event.type === 'ADDITION') {\n      if (shouldPublishUpdate(registry, dragging, event.value)) {\n        publisher.add(event.value);\n      }\n    }\n\n    if (event.type === 'REMOVAL') {\n      if (shouldPublishUpdate(registry, dragging, event.value)) {\n        publisher.remove(event.value);\n      }\n    }\n  };\n\n  var startPublishing = function startPublishing(request) {\n    !!collection ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot start capturing critical dimensions as there is already a collection') : invariant(false) : void 0;\n    var entry = registry.draggable.getById(request.draggableId);\n    var home = registry.droppable.getById(entry.descriptor.droppableId);\n    var critical = {\n      draggable: entry.descriptor,\n      droppable: home.descriptor\n    };\n    var unsubscribe = registry.subscribe(subscriber);\n    collection = {\n      critical: critical,\n      unsubscribe: unsubscribe\n    };\n    return getInitialPublish({\n      critical: critical,\n      registry: registry,\n      scrollOptions: request.scrollOptions\n    });\n  };\n\n  var marshal = {\n    updateDroppableIsEnabled: updateDroppableIsEnabled,\n    updateDroppableIsCombineEnabled: updateDroppableIsCombineEnabled,\n    scrollDroppable: scrollDroppable,\n    updateDroppableScroll: updateDroppableScroll,\n    startPublishing: startPublishing,\n    stopPublishing: stopPublishing\n  };\n  return marshal;\n});\n\nvar canStartDrag = (function (state, id) {\n  if (state.phase === 'IDLE') {\n    return true;\n  }\n\n  if (state.phase !== 'DROP_ANIMATING') {\n    return false;\n  }\n\n  if (state.completed.result.draggableId === id) {\n    return false;\n  }\n\n  return state.completed.result.reason === 'DROP';\n});\n\nvar scrollWindow = (function (change) {\n  window.scrollBy(change.x, change.y);\n});\n\nvar getScrollableDroppables = memoizeOne(function (droppables) {\n  return toDroppableList(droppables).filter(function (droppable) {\n    if (!droppable.isEnabled) {\n      return false;\n    }\n\n    if (!droppable.frame) {\n      return false;\n    }\n\n    return true;\n  });\n});\n\nvar getScrollableDroppableOver = function getScrollableDroppableOver(target, droppables) {\n  var maybe = find(getScrollableDroppables(droppables), function (droppable) {\n    !droppable.frame ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Invalid result') : invariant(false) : void 0;\n    return isPositionInFrame(droppable.frame.pageMarginBox)(target);\n  });\n  return maybe;\n};\n\nvar getBestScrollableDroppable = (function (_ref) {\n  var center = _ref.center,\n      destination = _ref.destination,\n      droppables = _ref.droppables;\n\n  if (destination) {\n    var _dimension = droppables[destination];\n\n    if (!_dimension.frame) {\n      return null;\n    }\n\n    return _dimension;\n  }\n\n  var dimension = getScrollableDroppableOver(center, droppables);\n  return dimension;\n});\n\nvar config = {\n  startFromPercentage: 0.25,\n  maxScrollAtPercentage: 0.05,\n  maxPixelScroll: 28,\n  ease: function ease(percentage) {\n    return Math.pow(percentage, 2);\n  },\n  durationDampening: {\n    stopDampeningAt: 1200,\n    accelerateAt: 360\n  }\n};\n\nvar getDistanceThresholds = (function (container, axis) {\n  var startScrollingFrom = container[axis.size] * config.startFromPercentage;\n  var maxScrollValueAt = container[axis.size] * config.maxScrollAtPercentage;\n  var thresholds = {\n    startScrollingFrom: startScrollingFrom,\n    maxScrollValueAt: maxScrollValueAt\n  };\n  return thresholds;\n});\n\nvar getPercentage = (function (_ref) {\n  var startOfRange = _ref.startOfRange,\n      endOfRange = _ref.endOfRange,\n      current = _ref.current;\n  var range = endOfRange - startOfRange;\n\n  if (range === 0) {\n    process.env.NODE_ENV !== \"production\" ? warning(\"\\n      Detected distance range of 0 in the fluid auto scroller\\n      This is unexpected and would cause a divide by 0 issue.\\n      Not allowing an auto scroll\\n    \") : void 0;\n    return 0;\n  }\n\n  var currentInRange = current - startOfRange;\n  var percentage = currentInRange / range;\n  return percentage;\n});\n\nvar minScroll = 1;\n\nvar getValueFromDistance = (function (distanceToEdge, thresholds) {\n  if (distanceToEdge > thresholds.startScrollingFrom) {\n    return 0;\n  }\n\n  if (distanceToEdge <= thresholds.maxScrollValueAt) {\n    return config.maxPixelScroll;\n  }\n\n  if (distanceToEdge === thresholds.startScrollingFrom) {\n    return minScroll;\n  }\n\n  var percentageFromMaxScrollValueAt = getPercentage({\n    startOfRange: thresholds.maxScrollValueAt,\n    endOfRange: thresholds.startScrollingFrom,\n    current: distanceToEdge\n  });\n  var percentageFromStartScrollingFrom = 1 - percentageFromMaxScrollValueAt;\n  var scroll = config.maxPixelScroll * config.ease(percentageFromStartScrollingFrom);\n  return Math.ceil(scroll);\n});\n\nvar accelerateAt = config.durationDampening.accelerateAt;\nvar stopAt = config.durationDampening.stopDampeningAt;\nvar dampenValueByTime = (function (proposedScroll, dragStartTime) {\n  var startOfRange = dragStartTime;\n  var endOfRange = stopAt;\n  var now = Date.now();\n  var runTime = now - startOfRange;\n\n  if (runTime >= stopAt) {\n    return proposedScroll;\n  }\n\n  if (runTime < accelerateAt) {\n    return minScroll;\n  }\n\n  var betweenAccelerateAtAndStopAtPercentage = getPercentage({\n    startOfRange: accelerateAt,\n    endOfRange: endOfRange,\n    current: runTime\n  });\n  var scroll = proposedScroll * config.ease(betweenAccelerateAtAndStopAtPercentage);\n  return Math.ceil(scroll);\n});\n\nvar getValue = (function (_ref) {\n  var distanceToEdge = _ref.distanceToEdge,\n      thresholds = _ref.thresholds,\n      dragStartTime = _ref.dragStartTime,\n      shouldUseTimeDampening = _ref.shouldUseTimeDampening;\n  var scroll = getValueFromDistance(distanceToEdge, thresholds);\n\n  if (scroll === 0) {\n    return 0;\n  }\n\n  if (!shouldUseTimeDampening) {\n    return scroll;\n  }\n\n  return Math.max(dampenValueByTime(scroll, dragStartTime), minScroll);\n});\n\nvar getScrollOnAxis = (function (_ref) {\n  var container = _ref.container,\n      distanceToEdges = _ref.distanceToEdges,\n      dragStartTime = _ref.dragStartTime,\n      axis = _ref.axis,\n      shouldUseTimeDampening = _ref.shouldUseTimeDampening;\n  var thresholds = getDistanceThresholds(container, axis);\n  var isCloserToEnd = distanceToEdges[axis.end] < distanceToEdges[axis.start];\n\n  if (isCloserToEnd) {\n    return getValue({\n      distanceToEdge: distanceToEdges[axis.end],\n      thresholds: thresholds,\n      dragStartTime: dragStartTime,\n      shouldUseTimeDampening: shouldUseTimeDampening\n    });\n  }\n\n  return -1 * getValue({\n    distanceToEdge: distanceToEdges[axis.start],\n    thresholds: thresholds,\n    dragStartTime: dragStartTime,\n    shouldUseTimeDampening: shouldUseTimeDampening\n  });\n});\n\nvar adjustForSizeLimits = (function (_ref) {\n  var container = _ref.container,\n      subject = _ref.subject,\n      proposedScroll = _ref.proposedScroll;\n  var isTooBigVertically = subject.height > container.height;\n  var isTooBigHorizontally = subject.width > container.width;\n\n  if (!isTooBigHorizontally && !isTooBigVertically) {\n    return proposedScroll;\n  }\n\n  if (isTooBigHorizontally && isTooBigVertically) {\n    return null;\n  }\n\n  return {\n    x: isTooBigHorizontally ? 0 : proposedScroll.x,\n    y: isTooBigVertically ? 0 : proposedScroll.y\n  };\n});\n\nvar clean$2 = apply(function (value) {\n  return value === 0 ? 0 : value;\n});\nvar getScroll = (function (_ref) {\n  var dragStartTime = _ref.dragStartTime,\n      container = _ref.container,\n      subject = _ref.subject,\n      center = _ref.center,\n      shouldUseTimeDampening = _ref.shouldUseTimeDampening;\n  var distanceToEdges = {\n    top: center.y - container.top,\n    right: container.right - center.x,\n    bottom: container.bottom - center.y,\n    left: center.x - container.left\n  };\n  var y = getScrollOnAxis({\n    container: container,\n    distanceToEdges: distanceToEdges,\n    dragStartTime: dragStartTime,\n    axis: vertical,\n    shouldUseTimeDampening: shouldUseTimeDampening\n  });\n  var x = getScrollOnAxis({\n    container: container,\n    distanceToEdges: distanceToEdges,\n    dragStartTime: dragStartTime,\n    axis: horizontal,\n    shouldUseTimeDampening: shouldUseTimeDampening\n  });\n  var required = clean$2({\n    x: x,\n    y: y\n  });\n\n  if (isEqual(required, origin)) {\n    return null;\n  }\n\n  var limited = adjustForSizeLimits({\n    container: container,\n    subject: subject,\n    proposedScroll: required\n  });\n\n  if (!limited) {\n    return null;\n  }\n\n  return isEqual(limited, origin) ? null : limited;\n});\n\nvar smallestSigned = apply(function (value) {\n  if (value === 0) {\n    return 0;\n  }\n\n  return value > 0 ? 1 : -1;\n});\nvar getOverlap = function () {\n  var getRemainder = function getRemainder(target, max) {\n    if (target < 0) {\n      return target;\n    }\n\n    if (target > max) {\n      return target - max;\n    }\n\n    return 0;\n  };\n\n  return function (_ref) {\n    var current = _ref.current,\n        max = _ref.max,\n        change = _ref.change;\n    var targetScroll = add(current, change);\n    var overlap = {\n      x: getRemainder(targetScroll.x, max.x),\n      y: getRemainder(targetScroll.y, max.y)\n    };\n\n    if (isEqual(overlap, origin)) {\n      return null;\n    }\n\n    return overlap;\n  };\n}();\nvar canPartiallyScroll = function canPartiallyScroll(_ref2) {\n  var rawMax = _ref2.max,\n      current = _ref2.current,\n      change = _ref2.change;\n  var max = {\n    x: Math.max(current.x, rawMax.x),\n    y: Math.max(current.y, rawMax.y)\n  };\n  var smallestChange = smallestSigned(change);\n  var overlap = getOverlap({\n    max: max,\n    current: current,\n    change: smallestChange\n  });\n\n  if (!overlap) {\n    return true;\n  }\n\n  if (smallestChange.x !== 0 && overlap.x === 0) {\n    return true;\n  }\n\n  if (smallestChange.y !== 0 && overlap.y === 0) {\n    return true;\n  }\n\n  return false;\n};\nvar canScrollWindow = function canScrollWindow(viewport, change) {\n  return canPartiallyScroll({\n    current: viewport.scroll.current,\n    max: viewport.scroll.max,\n    change: change\n  });\n};\nvar getWindowOverlap = function getWindowOverlap(viewport, change) {\n  if (!canScrollWindow(viewport, change)) {\n    return null;\n  }\n\n  var max = viewport.scroll.max;\n  var current = viewport.scroll.current;\n  return getOverlap({\n    current: current,\n    max: max,\n    change: change\n  });\n};\nvar canScrollDroppable = function canScrollDroppable(droppable, change) {\n  var frame = droppable.frame;\n\n  if (!frame) {\n    return false;\n  }\n\n  return canPartiallyScroll({\n    current: frame.scroll.current,\n    max: frame.scroll.max,\n    change: change\n  });\n};\nvar getDroppableOverlap = function getDroppableOverlap(droppable, change) {\n  var frame = droppable.frame;\n\n  if (!frame) {\n    return null;\n  }\n\n  if (!canScrollDroppable(droppable, change)) {\n    return null;\n  }\n\n  return getOverlap({\n    current: frame.scroll.current,\n    max: frame.scroll.max,\n    change: change\n  });\n};\n\nvar getWindowScrollChange = (function (_ref) {\n  var viewport = _ref.viewport,\n      subject = _ref.subject,\n      center = _ref.center,\n      dragStartTime = _ref.dragStartTime,\n      shouldUseTimeDampening = _ref.shouldUseTimeDampening;\n  var scroll = getScroll({\n    dragStartTime: dragStartTime,\n    container: viewport.frame,\n    subject: subject,\n    center: center,\n    shouldUseTimeDampening: shouldUseTimeDampening\n  });\n  return scroll && canScrollWindow(viewport, scroll) ? scroll : null;\n});\n\nvar getDroppableScrollChange = (function (_ref) {\n  var droppable = _ref.droppable,\n      subject = _ref.subject,\n      center = _ref.center,\n      dragStartTime = _ref.dragStartTime,\n      shouldUseTimeDampening = _ref.shouldUseTimeDampening;\n  var frame = droppable.frame;\n\n  if (!frame) {\n    return null;\n  }\n\n  var scroll = getScroll({\n    dragStartTime: dragStartTime,\n    container: frame.pageMarginBox,\n    subject: subject,\n    center: center,\n    shouldUseTimeDampening: shouldUseTimeDampening\n  });\n  return scroll && canScrollDroppable(droppable, scroll) ? scroll : null;\n});\n\nvar scroll$1 = (function (_ref) {\n  var state = _ref.state,\n      dragStartTime = _ref.dragStartTime,\n      shouldUseTimeDampening = _ref.shouldUseTimeDampening,\n      scrollWindow = _ref.scrollWindow,\n      scrollDroppable = _ref.scrollDroppable;\n  var center = state.current.page.borderBoxCenter;\n  var draggable = state.dimensions.draggables[state.critical.draggable.id];\n  var subject = draggable.page.marginBox;\n\n  if (state.isWindowScrollAllowed) {\n    var viewport = state.viewport;\n\n    var _change = getWindowScrollChange({\n      dragStartTime: dragStartTime,\n      viewport: viewport,\n      subject: subject,\n      center: center,\n      shouldUseTimeDampening: shouldUseTimeDampening\n    });\n\n    if (_change) {\n      scrollWindow(_change);\n      return;\n    }\n  }\n\n  var droppable = getBestScrollableDroppable({\n    center: center,\n    destination: whatIsDraggedOver(state.impact),\n    droppables: state.dimensions.droppables\n  });\n\n  if (!droppable) {\n    return;\n  }\n\n  var change = getDroppableScrollChange({\n    dragStartTime: dragStartTime,\n    droppable: droppable,\n    subject: subject,\n    center: center,\n    shouldUseTimeDampening: shouldUseTimeDampening\n  });\n\n  if (change) {\n    scrollDroppable(droppable.descriptor.id, change);\n  }\n});\n\nvar createFluidScroller = (function (_ref) {\n  var scrollWindow = _ref.scrollWindow,\n      scrollDroppable = _ref.scrollDroppable;\n  var scheduleWindowScroll = rafSchd(scrollWindow);\n  var scheduleDroppableScroll = rafSchd(scrollDroppable);\n  var dragging = null;\n\n  var tryScroll = function tryScroll(state) {\n    !dragging ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot fluid scroll if not dragging') : invariant(false) : void 0;\n    var _dragging = dragging,\n        shouldUseTimeDampening = _dragging.shouldUseTimeDampening,\n        dragStartTime = _dragging.dragStartTime;\n    scroll$1({\n      state: state,\n      scrollWindow: scheduleWindowScroll,\n      scrollDroppable: scheduleDroppableScroll,\n      dragStartTime: dragStartTime,\n      shouldUseTimeDampening: shouldUseTimeDampening\n    });\n  };\n\n  var start$1 = function start$1(state) {\n    start();\n    !!dragging ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot start auto scrolling when already started') : invariant(false) : void 0;\n    var dragStartTime = Date.now();\n    var wasScrollNeeded = false;\n\n    var fakeScrollCallback = function fakeScrollCallback() {\n      wasScrollNeeded = true;\n    };\n\n    scroll$1({\n      state: state,\n      dragStartTime: 0,\n      shouldUseTimeDampening: false,\n      scrollWindow: fakeScrollCallback,\n      scrollDroppable: fakeScrollCallback\n    });\n    dragging = {\n      dragStartTime: dragStartTime,\n      shouldUseTimeDampening: wasScrollNeeded\n    };\n    finish();\n\n    if (wasScrollNeeded) {\n      tryScroll(state);\n    }\n  };\n\n  var stop = function stop() {\n    if (!dragging) {\n      return;\n    }\n\n    scheduleWindowScroll.cancel();\n    scheduleDroppableScroll.cancel();\n    dragging = null;\n  };\n\n  return {\n    start: start$1,\n    stop: stop,\n    scroll: tryScroll\n  };\n});\n\nvar createJumpScroller = (function (_ref) {\n  var move = _ref.move,\n      scrollDroppable = _ref.scrollDroppable,\n      scrollWindow = _ref.scrollWindow;\n\n  var moveByOffset = function moveByOffset(state, offset) {\n    var client = add(state.current.client.selection, offset);\n    move({\n      client: client\n    });\n  };\n\n  var scrollDroppableAsMuchAsItCan = function scrollDroppableAsMuchAsItCan(droppable, change) {\n    if (!canScrollDroppable(droppable, change)) {\n      return change;\n    }\n\n    var overlap = getDroppableOverlap(droppable, change);\n\n    if (!overlap) {\n      scrollDroppable(droppable.descriptor.id, change);\n      return null;\n    }\n\n    var whatTheDroppableCanScroll = subtract(change, overlap);\n    scrollDroppable(droppable.descriptor.id, whatTheDroppableCanScroll);\n    var remainder = subtract(change, whatTheDroppableCanScroll);\n    return remainder;\n  };\n\n  var scrollWindowAsMuchAsItCan = function scrollWindowAsMuchAsItCan(isWindowScrollAllowed, viewport, change) {\n    if (!isWindowScrollAllowed) {\n      return change;\n    }\n\n    if (!canScrollWindow(viewport, change)) {\n      return change;\n    }\n\n    var overlap = getWindowOverlap(viewport, change);\n\n    if (!overlap) {\n      scrollWindow(change);\n      return null;\n    }\n\n    var whatTheWindowCanScroll = subtract(change, overlap);\n    scrollWindow(whatTheWindowCanScroll);\n    var remainder = subtract(change, whatTheWindowCanScroll);\n    return remainder;\n  };\n\n  var jumpScroller = function jumpScroller(state) {\n    var request = state.scrollJumpRequest;\n\n    if (!request) {\n      return;\n    }\n\n    var destination = whatIsDraggedOver(state.impact);\n    !destination ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot perform a jump scroll when there is no destination') : invariant(false) : void 0;\n    var droppableRemainder = scrollDroppableAsMuchAsItCan(state.dimensions.droppables[destination], request);\n\n    if (!droppableRemainder) {\n      return;\n    }\n\n    var viewport = state.viewport;\n    var windowRemainder = scrollWindowAsMuchAsItCan(state.isWindowScrollAllowed, viewport, droppableRemainder);\n\n    if (!windowRemainder) {\n      return;\n    }\n\n    moveByOffset(state, windowRemainder);\n  };\n\n  return jumpScroller;\n});\n\nvar createAutoScroller = (function (_ref) {\n  var scrollDroppable = _ref.scrollDroppable,\n      scrollWindow = _ref.scrollWindow,\n      move = _ref.move;\n  var fluidScroller = createFluidScroller({\n    scrollWindow: scrollWindow,\n    scrollDroppable: scrollDroppable\n  });\n  var jumpScroll = createJumpScroller({\n    move: move,\n    scrollWindow: scrollWindow,\n    scrollDroppable: scrollDroppable\n  });\n\n  var scroll = function scroll(state) {\n    if (state.phase !== 'DRAGGING') {\n      return;\n    }\n\n    if (state.movementMode === 'FLUID') {\n      fluidScroller.scroll(state);\n      return;\n    }\n\n    if (!state.scrollJumpRequest) {\n      return;\n    }\n\n    jumpScroll(state);\n  };\n\n  var scroller = {\n    scroll: scroll,\n    start: fluidScroller.start,\n    stop: fluidScroller.stop\n  };\n  return scroller;\n});\n\nvar prefix$1 = 'data-rbd';\nvar dragHandle = function () {\n  var base = prefix$1 + \"-drag-handle\";\n  return {\n    base: base,\n    draggableId: base + \"-draggable-id\",\n    contextId: base + \"-context-id\"\n  };\n}();\nvar draggable = function () {\n  var base = prefix$1 + \"-draggable\";\n  return {\n    base: base,\n    contextId: base + \"-context-id\",\n    id: base + \"-id\"\n  };\n}();\nvar droppable = function () {\n  var base = prefix$1 + \"-droppable\";\n  return {\n    base: base,\n    contextId: base + \"-context-id\",\n    id: base + \"-id\"\n  };\n}();\nvar scrollContainer = {\n  contextId: prefix$1 + \"-scroll-container-context-id\"\n};\n\nvar makeGetSelector = function makeGetSelector(context) {\n  return function (attribute) {\n    return \"[\" + attribute + \"=\\\"\" + context + \"\\\"]\";\n  };\n};\n\nvar getStyles = function getStyles(rules, property) {\n  return rules.map(function (rule) {\n    var value = rule.styles[property];\n\n    if (!value) {\n      return '';\n    }\n\n    return rule.selector + \" { \" + value + \" }\";\n  }).join(' ');\n};\n\nvar noPointerEvents = 'pointer-events: none;';\nvar getStyles$1 = (function (contextId) {\n  var getSelector = makeGetSelector(contextId);\n\n  var dragHandle$1 = function () {\n    var grabCursor = \"\\n      cursor: -webkit-grab;\\n      cursor: grab;\\n    \";\n    return {\n      selector: getSelector(dragHandle.contextId),\n      styles: {\n        always: \"\\n          -webkit-touch-callout: none;\\n          -webkit-tap-highlight-color: rgba(0,0,0,0);\\n          touch-action: manipulation;\\n        \",\n        resting: grabCursor,\n        dragging: noPointerEvents,\n        dropAnimating: grabCursor\n      }\n    };\n  }();\n\n  var draggable$1 = function () {\n    var transition = \"\\n      transition: \" + transitions.outOfTheWay + \";\\n    \";\n    return {\n      selector: getSelector(draggable.contextId),\n      styles: {\n        dragging: transition,\n        dropAnimating: transition,\n        userCancel: transition\n      }\n    };\n  }();\n\n  var droppable$1 = {\n    selector: getSelector(droppable.contextId),\n    styles: {\n      always: \"overflow-anchor: none;\"\n    }\n  };\n  var body = {\n    selector: 'body',\n    styles: {\n      dragging: \"\\n        cursor: grabbing;\\n        cursor: -webkit-grabbing;\\n        user-select: none;\\n        -webkit-user-select: none;\\n        -moz-user-select: none;\\n        -ms-user-select: none;\\n        overflow-anchor: none;\\n      \"\n    }\n  };\n  var rules = [draggable$1, dragHandle$1, droppable$1, body];\n  return {\n    always: getStyles(rules, 'always'),\n    resting: getStyles(rules, 'resting'),\n    dragging: getStyles(rules, 'dragging'),\n    dropAnimating: getStyles(rules, 'dropAnimating'),\n    userCancel: getStyles(rules, 'userCancel')\n  };\n});\n\nvar useIsomorphicLayoutEffect = typeof window !== 'undefined' && typeof window.document !== 'undefined' && typeof window.document.createElement !== 'undefined' ? useLayoutEffect : useEffect;\n\nvar getHead = function getHead() {\n  var head = document.querySelector('head');\n  !head ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot find the head to append a style to') : invariant(false) : void 0;\n  return head;\n};\n\nvar createStyleEl = function createStyleEl(nonce) {\n  var el = document.createElement('style');\n\n  if (nonce) {\n    el.setAttribute('nonce', nonce);\n  }\n\n  el.type = 'text/css';\n  return el;\n};\n\nfunction useStyleMarshal(contextId, nonce) {\n  var styles = useMemo(function () {\n    return getStyles$1(contextId);\n  }, [contextId]);\n  var alwaysRef = useRef(null);\n  var dynamicRef = useRef(null);\n  var setDynamicStyle = useCallback(memoizeOne(function (proposed) {\n    var el = dynamicRef.current;\n    !el ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot set dynamic style element if it is not set') : invariant(false) : void 0;\n    el.textContent = proposed;\n  }), []);\n  var setAlwaysStyle = useCallback(function (proposed) {\n    var el = alwaysRef.current;\n    !el ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot set dynamic style element if it is not set') : invariant(false) : void 0;\n    el.textContent = proposed;\n  }, []);\n  useIsomorphicLayoutEffect(function () {\n    !(!alwaysRef.current && !dynamicRef.current) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'style elements already mounted') : invariant(false) : void 0;\n    var always = createStyleEl(nonce);\n    var dynamic = createStyleEl(nonce);\n    alwaysRef.current = always;\n    dynamicRef.current = dynamic;\n    always.setAttribute(prefix$1 + \"-always\", contextId);\n    dynamic.setAttribute(prefix$1 + \"-dynamic\", contextId);\n    getHead().appendChild(always);\n    getHead().appendChild(dynamic);\n    setAlwaysStyle(styles.always);\n    setDynamicStyle(styles.resting);\n    return function () {\n      var remove = function remove(ref) {\n        var current = ref.current;\n        !current ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot unmount ref as it is not set') : invariant(false) : void 0;\n        getHead().removeChild(current);\n        ref.current = null;\n      };\n\n      remove(alwaysRef);\n      remove(dynamicRef);\n    };\n  }, [nonce, setAlwaysStyle, setDynamicStyle, styles.always, styles.resting, contextId]);\n  var dragging = useCallback(function () {\n    return setDynamicStyle(styles.dragging);\n  }, [setDynamicStyle, styles.dragging]);\n  var dropping = useCallback(function (reason) {\n    if (reason === 'DROP') {\n      setDynamicStyle(styles.dropAnimating);\n      return;\n    }\n\n    setDynamicStyle(styles.userCancel);\n  }, [setDynamicStyle, styles.dropAnimating, styles.userCancel]);\n  var resting = useCallback(function () {\n    if (!dynamicRef.current) {\n      return;\n    }\n\n    setDynamicStyle(styles.resting);\n  }, [setDynamicStyle, styles.resting]);\n  var marshal = useMemo(function () {\n    return {\n      dragging: dragging,\n      dropping: dropping,\n      resting: resting\n    };\n  }, [dragging, dropping, resting]);\n  return marshal;\n}\n\nvar getWindowFromEl = (function (el) {\n  return el && el.ownerDocument ? el.ownerDocument.defaultView : window;\n});\n\nfunction isHtmlElement(el) {\n  return el instanceof getWindowFromEl(el).HTMLElement;\n}\n\nfunction findDragHandle(contextId, draggableId) {\n  var selector = \"[\" + dragHandle.contextId + \"=\\\"\" + contextId + \"\\\"]\";\n  var possible = toArray(document.querySelectorAll(selector));\n\n  if (!possible.length) {\n    process.env.NODE_ENV !== \"production\" ? warning(\"Unable to find any drag handles in the context \\\"\" + contextId + \"\\\"\") : void 0;\n    return null;\n  }\n\n  var handle = find(possible, function (el) {\n    return el.getAttribute(dragHandle.draggableId) === draggableId;\n  });\n\n  if (!handle) {\n    process.env.NODE_ENV !== \"production\" ? warning(\"Unable to find drag handle with id \\\"\" + draggableId + \"\\\" as no handle with a matching id was found\") : void 0;\n    return null;\n  }\n\n  if (!isHtmlElement(handle)) {\n    process.env.NODE_ENV !== \"production\" ? warning('drag handle needs to be a HTMLElement') : void 0;\n    return null;\n  }\n\n  return handle;\n}\n\nfunction useFocusMarshal(contextId) {\n  var entriesRef = useRef({});\n  var recordRef = useRef(null);\n  var restoreFocusFrameRef = useRef(null);\n  var isMountedRef = useRef(false);\n  var register = useCallback(function register(id, focus) {\n    var entry = {\n      id: id,\n      focus: focus\n    };\n    entriesRef.current[id] = entry;\n    return function unregister() {\n      var entries = entriesRef.current;\n      var current = entries[id];\n\n      if (current !== entry) {\n        delete entries[id];\n      }\n    };\n  }, []);\n  var tryGiveFocus = useCallback(function tryGiveFocus(tryGiveFocusTo) {\n    var handle = findDragHandle(contextId, tryGiveFocusTo);\n\n    if (handle && handle !== document.activeElement) {\n      handle.focus();\n    }\n  }, [contextId]);\n  var tryShiftRecord = useCallback(function tryShiftRecord(previous, redirectTo) {\n    if (recordRef.current === previous) {\n      recordRef.current = redirectTo;\n    }\n  }, []);\n  var tryRestoreFocusRecorded = useCallback(function tryRestoreFocusRecorded() {\n    if (restoreFocusFrameRef.current) {\n      return;\n    }\n\n    if (!isMountedRef.current) {\n      return;\n    }\n\n    restoreFocusFrameRef.current = requestAnimationFrame(function () {\n      restoreFocusFrameRef.current = null;\n      var record = recordRef.current;\n\n      if (record) {\n        tryGiveFocus(record);\n      }\n    });\n  }, [tryGiveFocus]);\n  var tryRecordFocus = useCallback(function tryRecordFocus(id) {\n    recordRef.current = null;\n    var focused = document.activeElement;\n\n    if (!focused) {\n      return;\n    }\n\n    if (focused.getAttribute(dragHandle.draggableId) !== id) {\n      return;\n    }\n\n    recordRef.current = id;\n  }, []);\n  useIsomorphicLayoutEffect(function () {\n    isMountedRef.current = true;\n    return function clearFrameOnUnmount() {\n      isMountedRef.current = false;\n      var frameId = restoreFocusFrameRef.current;\n\n      if (frameId) {\n        cancelAnimationFrame(frameId);\n      }\n    };\n  }, []);\n  var marshal = useMemo(function () {\n    return {\n      register: register,\n      tryRecordFocus: tryRecordFocus,\n      tryRestoreFocusRecorded: tryRestoreFocusRecorded,\n      tryShiftRecord: tryShiftRecord\n    };\n  }, [register, tryRecordFocus, tryRestoreFocusRecorded, tryShiftRecord]);\n  return marshal;\n}\n\nfunction createRegistry() {\n  var entries = {\n    draggables: {},\n    droppables: {}\n  };\n  var subscribers = [];\n\n  function subscribe(cb) {\n    subscribers.push(cb);\n    return function unsubscribe() {\n      var index = subscribers.indexOf(cb);\n\n      if (index === -1) {\n        return;\n      }\n\n      subscribers.splice(index, 1);\n    };\n  }\n\n  function notify(event) {\n    if (subscribers.length) {\n      subscribers.forEach(function (cb) {\n        return cb(event);\n      });\n    }\n  }\n\n  function findDraggableById(id) {\n    return entries.draggables[id] || null;\n  }\n\n  function getDraggableById(id) {\n    var entry = findDraggableById(id);\n    !entry ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot find draggable entry with id [\" + id + \"]\") : invariant(false) : void 0;\n    return entry;\n  }\n\n  var draggableAPI = {\n    register: function register(entry) {\n      entries.draggables[entry.descriptor.id] = entry;\n      notify({\n        type: 'ADDITION',\n        value: entry\n      });\n    },\n    update: function update(entry, last) {\n      var current = entries.draggables[last.descriptor.id];\n\n      if (!current) {\n        return;\n      }\n\n      if (current.uniqueId !== entry.uniqueId) {\n        return;\n      }\n\n      delete entries.draggables[last.descriptor.id];\n      entries.draggables[entry.descriptor.id] = entry;\n    },\n    unregister: function unregister(entry) {\n      var draggableId = entry.descriptor.id;\n      var current = findDraggableById(draggableId);\n\n      if (!current) {\n        return;\n      }\n\n      if (entry.uniqueId !== current.uniqueId) {\n        return;\n      }\n\n      delete entries.draggables[draggableId];\n      notify({\n        type: 'REMOVAL',\n        value: entry\n      });\n    },\n    getById: getDraggableById,\n    findById: findDraggableById,\n    exists: function exists(id) {\n      return Boolean(findDraggableById(id));\n    },\n    getAllByType: function getAllByType(type) {\n      return values(entries.draggables).filter(function (entry) {\n        return entry.descriptor.type === type;\n      });\n    }\n  };\n\n  function findDroppableById(id) {\n    return entries.droppables[id] || null;\n  }\n\n  function getDroppableById(id) {\n    var entry = findDroppableById(id);\n    !entry ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot find droppable entry with id [\" + id + \"]\") : invariant(false) : void 0;\n    return entry;\n  }\n\n  var droppableAPI = {\n    register: function register(entry) {\n      entries.droppables[entry.descriptor.id] = entry;\n    },\n    unregister: function unregister(entry) {\n      var current = findDroppableById(entry.descriptor.id);\n\n      if (!current) {\n        return;\n      }\n\n      if (entry.uniqueId !== current.uniqueId) {\n        return;\n      }\n\n      delete entries.droppables[entry.descriptor.id];\n    },\n    getById: getDroppableById,\n    findById: findDroppableById,\n    exists: function exists(id) {\n      return Boolean(findDroppableById(id));\n    },\n    getAllByType: function getAllByType(type) {\n      return values(entries.droppables).filter(function (entry) {\n        return entry.descriptor.type === type;\n      });\n    }\n  };\n\n  function clean() {\n    entries.draggables = {};\n    entries.droppables = {};\n    subscribers.length = 0;\n  }\n\n  return {\n    draggable: draggableAPI,\n    droppable: droppableAPI,\n    subscribe: subscribe,\n    clean: clean\n  };\n}\n\nfunction useRegistry() {\n  var registry = useMemo(createRegistry, []);\n  useEffect(function () {\n    return function unmount() {\n      requestAnimationFrame(registry.clean);\n    };\n  }, [registry]);\n  return registry;\n}\n\nvar StoreContext = React.createContext(null);\n\nvar getBodyElement = (function () {\n  var body = document.body;\n  !body ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot find document.body') : invariant(false) : void 0;\n  return body;\n});\n\nvar visuallyHidden = {\n  position: 'absolute',\n  width: '1px',\n  height: '1px',\n  margin: '-1px',\n  border: '0',\n  padding: '0',\n  overflow: 'hidden',\n  clip: 'rect(0 0 0 0)',\n  'clip-path': 'inset(100%)'\n};\n\nvar getId = function getId(contextId) {\n  return \"rbd-announcement-\" + contextId;\n};\nfunction useAnnouncer(contextId) {\n  var id = useMemo(function () {\n    return getId(contextId);\n  }, [contextId]);\n  var ref = useRef(null);\n  useEffect(function setup() {\n    var el = document.createElement('div');\n    ref.current = el;\n    el.id = id;\n    el.setAttribute('aria-live', 'assertive');\n    el.setAttribute('aria-atomic', 'true');\n\n    _extends(el.style, visuallyHidden);\n\n    getBodyElement().appendChild(el);\n    return function cleanup() {\n      setTimeout(function remove() {\n        var body = getBodyElement();\n\n        if (body.contains(el)) {\n          body.removeChild(el);\n        }\n\n        if (el === ref.current) {\n          ref.current = null;\n        }\n      });\n    };\n  }, [id]);\n  var announce = useCallback(function (message) {\n    var el = ref.current;\n\n    if (el) {\n      el.textContent = message;\n      return;\n    }\n\n    process.env.NODE_ENV !== \"production\" ? warning(\"\\n      A screen reader message was trying to be announced but it was unable to do so.\\n      This can occur if you unmount your <DragDropContext /> in your onDragEnd.\\n      Consider calling provided.announce() before the unmount so that the instruction will\\n      not be lost for users relying on a screen reader.\\n\\n      Message not passed to screen reader:\\n\\n      \\\"\" + message + \"\\\"\\n    \") : void 0;\n  }, []);\n  return announce;\n}\n\nvar count = 0;\nvar defaults = {\n  separator: '::'\n};\nfunction reset() {\n  count = 0;\n}\nfunction useUniqueId(prefix, options) {\n  if (options === void 0) {\n    options = defaults;\n  }\n\n  return useMemo(function () {\n    return \"\" + prefix + options.separator + count++;\n  }, [options.separator, prefix]);\n}\n\nfunction getElementId(_ref) {\n  var contextId = _ref.contextId,\n      uniqueId = _ref.uniqueId;\n  return \"rbd-hidden-text-\" + contextId + \"-\" + uniqueId;\n}\nfunction useHiddenTextElement(_ref2) {\n  var contextId = _ref2.contextId,\n      text = _ref2.text;\n  var uniqueId = useUniqueId('hidden-text', {\n    separator: '-'\n  });\n  var id = useMemo(function () {\n    return getElementId({\n      contextId: contextId,\n      uniqueId: uniqueId\n    });\n  }, [uniqueId, contextId]);\n  useEffect(function mount() {\n    var el = document.createElement('div');\n    el.id = id;\n    el.textContent = text;\n    el.style.display = 'none';\n    getBodyElement().appendChild(el);\n    return function unmount() {\n      var body = getBodyElement();\n\n      if (body.contains(el)) {\n        body.removeChild(el);\n      }\n    };\n  }, [id, text]);\n  return id;\n}\n\nvar AppContext = React.createContext(null);\n\nvar peerDependencies = {\n\treact: \"^16.8.5 || ^17.0.0 || ^18.0.0\",\n\t\"react-dom\": \"^16.8.5 || ^17.0.0 || ^18.0.0\"\n};\n\nvar semver = /(\\d+)\\.(\\d+)\\.(\\d+)/;\n\nvar getVersion = function getVersion(value) {\n  var result = semver.exec(value);\n  !(result != null) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Unable to parse React version \" + value) : invariant(false) : void 0;\n  var major = Number(result[1]);\n  var minor = Number(result[2]);\n  var patch = Number(result[3]);\n  return {\n    major: major,\n    minor: minor,\n    patch: patch,\n    raw: value\n  };\n};\n\nvar isSatisfied = function isSatisfied(expected, actual) {\n  if (actual.major > expected.major) {\n    return true;\n  }\n\n  if (actual.major < expected.major) {\n    return false;\n  }\n\n  if (actual.minor > expected.minor) {\n    return true;\n  }\n\n  if (actual.minor < expected.minor) {\n    return false;\n  }\n\n  return actual.patch >= expected.patch;\n};\n\nvar checkReactVersion = (function (peerDepValue, actualValue) {\n  var peerDep = getVersion(peerDepValue);\n  var actual = getVersion(actualValue);\n\n  if (isSatisfied(peerDep, actual)) {\n    return;\n  }\n\n  process.env.NODE_ENV !== \"production\" ? warning(\"\\n    React version: [\" + actual.raw + \"]\\n    does not satisfy expected peer dependency version: [\" + peerDep.raw + \"]\\n\\n    This can result in run time bugs, and even fatal crashes\\n  \") : void 0;\n});\n\nvar suffix = \"\\n  We expect a html5 doctype: <!doctype html>\\n  This is to ensure consistent browser layout and measurement\\n\\n  More information: https://github.com/atlassian/react-beautiful-dnd/blob/master/docs/guides/doctype.md\\n\";\nvar checkDoctype = (function (doc) {\n  var doctype = doc.doctype;\n\n  if (!doctype) {\n    process.env.NODE_ENV !== \"production\" ? warning(\"\\n      No <!doctype html> found.\\n\\n      \" + suffix + \"\\n    \") : void 0;\n    return;\n  }\n\n  if (doctype.name.toLowerCase() !== 'html') {\n    process.env.NODE_ENV !== \"production\" ? warning(\"\\n      Unexpected <!doctype> found: (\" + doctype.name + \")\\n\\n      \" + suffix + \"\\n    \") : void 0;\n  }\n\n  if (doctype.publicId !== '') {\n    process.env.NODE_ENV !== \"production\" ? warning(\"\\n      Unexpected <!doctype> publicId found: (\" + doctype.publicId + \")\\n      A html5 doctype does not have a publicId\\n\\n      \" + suffix + \"\\n    \") : void 0;\n  }\n});\n\nfunction useDev(useHook) {\n  if (process.env.NODE_ENV !== 'production') {\n    useHook();\n  }\n}\n\nfunction useDevSetupWarning(fn, inputs) {\n  useDev(function () {\n    useEffect(function () {\n      try {\n        fn();\n      } catch (e) {\n        error(\"\\n          A setup problem was encountered.\\n\\n          > \" + e.message + \"\\n        \");\n      }\n    }, inputs);\n  });\n}\n\nfunction useStartupValidation() {\n  useDevSetupWarning(function () {\n    checkReactVersion(peerDependencies.react, React.version);\n    checkDoctype(document);\n  }, []);\n}\n\nfunction usePrevious(current) {\n  var ref = useRef(current);\n  useEffect(function () {\n    ref.current = current;\n  });\n  return ref;\n}\n\nfunction create() {\n  var lock = null;\n\n  function isClaimed() {\n    return Boolean(lock);\n  }\n\n  function isActive(value) {\n    return value === lock;\n  }\n\n  function claim(abandon) {\n    !!lock ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot claim lock as it is already claimed') : invariant(false) : void 0;\n    var newLock = {\n      abandon: abandon\n    };\n    lock = newLock;\n    return newLock;\n  }\n\n  function release() {\n    !lock ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot release lock when there is no lock') : invariant(false) : void 0;\n    lock = null;\n  }\n\n  function tryAbandon() {\n    if (lock) {\n      lock.abandon();\n      release();\n    }\n  }\n\n  return {\n    isClaimed: isClaimed,\n    isActive: isActive,\n    claim: claim,\n    release: release,\n    tryAbandon: tryAbandon\n  };\n}\n\nvar tab = 9;\nvar enter = 13;\nvar escape = 27;\nvar space = 32;\nvar pageUp = 33;\nvar pageDown = 34;\nvar end = 35;\nvar home = 36;\nvar arrowLeft = 37;\nvar arrowUp = 38;\nvar arrowRight = 39;\nvar arrowDown = 40;\n\nvar _preventedKeys;\nvar preventedKeys = (_preventedKeys = {}, _preventedKeys[enter] = true, _preventedKeys[tab] = true, _preventedKeys);\nvar preventStandardKeyEvents = (function (event) {\n  if (preventedKeys[event.keyCode]) {\n    event.preventDefault();\n  }\n});\n\nvar supportedEventName = function () {\n  var base = 'visibilitychange';\n\n  if (typeof document === 'undefined') {\n    return base;\n  }\n\n  var candidates = [base, \"ms\" + base, \"webkit\" + base, \"moz\" + base, \"o\" + base];\n  var supported = find(candidates, function (eventName) {\n    return \"on\" + eventName in document;\n  });\n  return supported || base;\n}();\n\nvar primaryButton = 0;\nvar sloppyClickThreshold = 5;\n\nfunction isSloppyClickThresholdExceeded(original, current) {\n  return Math.abs(current.x - original.x) >= sloppyClickThreshold || Math.abs(current.y - original.y) >= sloppyClickThreshold;\n}\n\nvar idle$1 = {\n  type: 'IDLE'\n};\n\nfunction getCaptureBindings(_ref) {\n  var cancel = _ref.cancel,\n      completed = _ref.completed,\n      getPhase = _ref.getPhase,\n      setPhase = _ref.setPhase;\n  return [{\n    eventName: 'mousemove',\n    fn: function fn(event) {\n      var button = event.button,\n          clientX = event.clientX,\n          clientY = event.clientY;\n\n      if (button !== primaryButton) {\n        return;\n      }\n\n      var point = {\n        x: clientX,\n        y: clientY\n      };\n      var phase = getPhase();\n\n      if (phase.type === 'DRAGGING') {\n        event.preventDefault();\n        phase.actions.move(point);\n        return;\n      }\n\n      !(phase.type === 'PENDING') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot be IDLE') : invariant(false) : void 0;\n      var pending = phase.point;\n\n      if (!isSloppyClickThresholdExceeded(pending, point)) {\n        return;\n      }\n\n      event.preventDefault();\n      var actions = phase.actions.fluidLift(point);\n      setPhase({\n        type: 'DRAGGING',\n        actions: actions\n      });\n    }\n  }, {\n    eventName: 'mouseup',\n    fn: function fn(event) {\n      var phase = getPhase();\n\n      if (phase.type !== 'DRAGGING') {\n        cancel();\n        return;\n      }\n\n      event.preventDefault();\n      phase.actions.drop({\n        shouldBlockNextClick: true\n      });\n      completed();\n    }\n  }, {\n    eventName: 'mousedown',\n    fn: function fn(event) {\n      if (getPhase().type === 'DRAGGING') {\n        event.preventDefault();\n      }\n\n      cancel();\n    }\n  }, {\n    eventName: 'keydown',\n    fn: function fn(event) {\n      var phase = getPhase();\n\n      if (phase.type === 'PENDING') {\n        cancel();\n        return;\n      }\n\n      if (event.keyCode === escape) {\n        event.preventDefault();\n        cancel();\n        return;\n      }\n\n      preventStandardKeyEvents(event);\n    }\n  }, {\n    eventName: 'resize',\n    fn: cancel\n  }, {\n    eventName: 'scroll',\n    options: {\n      passive: true,\n      capture: false\n    },\n    fn: function fn() {\n      if (getPhase().type === 'PENDING') {\n        cancel();\n      }\n    }\n  }, {\n    eventName: 'webkitmouseforcedown',\n    fn: function fn(event) {\n      var phase = getPhase();\n      !(phase.type !== 'IDLE') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Unexpected phase') : invariant(false) : void 0;\n\n      if (phase.actions.shouldRespectForcePress()) {\n        cancel();\n        return;\n      }\n\n      event.preventDefault();\n    }\n  }, {\n    eventName: supportedEventName,\n    fn: cancel\n  }];\n}\n\nfunction useMouseSensor(api) {\n  var phaseRef = useRef(idle$1);\n  var unbindEventsRef = useRef(noop);\n  var startCaptureBinding = useMemo(function () {\n    return {\n      eventName: 'mousedown',\n      fn: function onMouseDown(event) {\n        if (event.defaultPrevented) {\n          return;\n        }\n\n        if (event.button !== primaryButton) {\n          return;\n        }\n\n        if (event.ctrlKey || event.metaKey || event.shiftKey || event.altKey) {\n          return;\n        }\n\n        var draggableId = api.findClosestDraggableId(event);\n\n        if (!draggableId) {\n          return;\n        }\n\n        var actions = api.tryGetLock(draggableId, stop, {\n          sourceEvent: event\n        });\n\n        if (!actions) {\n          return;\n        }\n\n        event.preventDefault();\n        var point = {\n          x: event.clientX,\n          y: event.clientY\n        };\n        unbindEventsRef.current();\n        startPendingDrag(actions, point);\n      }\n    };\n  }, [api]);\n  var preventForcePressBinding = useMemo(function () {\n    return {\n      eventName: 'webkitmouseforcewillbegin',\n      fn: function fn(event) {\n        if (event.defaultPrevented) {\n          return;\n        }\n\n        var id = api.findClosestDraggableId(event);\n\n        if (!id) {\n          return;\n        }\n\n        var options = api.findOptionsForDraggable(id);\n\n        if (!options) {\n          return;\n        }\n\n        if (options.shouldRespectForcePress) {\n          return;\n        }\n\n        if (!api.canGetLock(id)) {\n          return;\n        }\n\n        event.preventDefault();\n      }\n    };\n  }, [api]);\n  var listenForCapture = useCallback(function listenForCapture() {\n    var options = {\n      passive: false,\n      capture: true\n    };\n    unbindEventsRef.current = bindEvents(window, [preventForcePressBinding, startCaptureBinding], options);\n  }, [preventForcePressBinding, startCaptureBinding]);\n  var stop = useCallback(function () {\n    var current = phaseRef.current;\n\n    if (current.type === 'IDLE') {\n      return;\n    }\n\n    phaseRef.current = idle$1;\n    unbindEventsRef.current();\n    listenForCapture();\n  }, [listenForCapture]);\n  var cancel = useCallback(function () {\n    var phase = phaseRef.current;\n    stop();\n\n    if (phase.type === 'DRAGGING') {\n      phase.actions.cancel({\n        shouldBlockNextClick: true\n      });\n    }\n\n    if (phase.type === 'PENDING') {\n      phase.actions.abort();\n    }\n  }, [stop]);\n  var bindCapturingEvents = useCallback(function bindCapturingEvents() {\n    var options = {\n      capture: true,\n      passive: false\n    };\n    var bindings = getCaptureBindings({\n      cancel: cancel,\n      completed: stop,\n      getPhase: function getPhase() {\n        return phaseRef.current;\n      },\n      setPhase: function setPhase(phase) {\n        phaseRef.current = phase;\n      }\n    });\n    unbindEventsRef.current = bindEvents(window, bindings, options);\n  }, [cancel, stop]);\n  var startPendingDrag = useCallback(function startPendingDrag(actions, point) {\n    !(phaseRef.current.type === 'IDLE') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Expected to move from IDLE to PENDING drag') : invariant(false) : void 0;\n    phaseRef.current = {\n      type: 'PENDING',\n      point: point,\n      actions: actions\n    };\n    bindCapturingEvents();\n  }, [bindCapturingEvents]);\n  useIsomorphicLayoutEffect(function mount() {\n    listenForCapture();\n    return function unmount() {\n      unbindEventsRef.current();\n    };\n  }, [listenForCapture]);\n}\n\nvar _scrollJumpKeys;\n\nfunction noop$1() {}\n\nvar scrollJumpKeys = (_scrollJumpKeys = {}, _scrollJumpKeys[pageDown] = true, _scrollJumpKeys[pageUp] = true, _scrollJumpKeys[home] = true, _scrollJumpKeys[end] = true, _scrollJumpKeys);\n\nfunction getDraggingBindings(actions, stop) {\n  function cancel() {\n    stop();\n    actions.cancel();\n  }\n\n  function drop() {\n    stop();\n    actions.drop();\n  }\n\n  return [{\n    eventName: 'keydown',\n    fn: function fn(event) {\n      if (event.keyCode === escape) {\n        event.preventDefault();\n        cancel();\n        return;\n      }\n\n      if (event.keyCode === space) {\n        event.preventDefault();\n        drop();\n        return;\n      }\n\n      if (event.keyCode === arrowDown) {\n        event.preventDefault();\n        actions.moveDown();\n        return;\n      }\n\n      if (event.keyCode === arrowUp) {\n        event.preventDefault();\n        actions.moveUp();\n        return;\n      }\n\n      if (event.keyCode === arrowRight) {\n        event.preventDefault();\n        actions.moveRight();\n        return;\n      }\n\n      if (event.keyCode === arrowLeft) {\n        event.preventDefault();\n        actions.moveLeft();\n        return;\n      }\n\n      if (scrollJumpKeys[event.keyCode]) {\n        event.preventDefault();\n        return;\n      }\n\n      preventStandardKeyEvents(event);\n    }\n  }, {\n    eventName: 'mousedown',\n    fn: cancel\n  }, {\n    eventName: 'mouseup',\n    fn: cancel\n  }, {\n    eventName: 'click',\n    fn: cancel\n  }, {\n    eventName: 'touchstart',\n    fn: cancel\n  }, {\n    eventName: 'resize',\n    fn: cancel\n  }, {\n    eventName: 'wheel',\n    fn: cancel,\n    options: {\n      passive: true\n    }\n  }, {\n    eventName: supportedEventName,\n    fn: cancel\n  }];\n}\n\nfunction useKeyboardSensor(api) {\n  var unbindEventsRef = useRef(noop$1);\n  var startCaptureBinding = useMemo(function () {\n    return {\n      eventName: 'keydown',\n      fn: function onKeyDown(event) {\n        if (event.defaultPrevented) {\n          return;\n        }\n\n        if (event.keyCode !== space) {\n          return;\n        }\n\n        var draggableId = api.findClosestDraggableId(event);\n\n        if (!draggableId) {\n          return;\n        }\n\n        var preDrag = api.tryGetLock(draggableId, stop, {\n          sourceEvent: event\n        });\n\n        if (!preDrag) {\n          return;\n        }\n\n        event.preventDefault();\n        var isCapturing = true;\n        var actions = preDrag.snapLift();\n        unbindEventsRef.current();\n\n        function stop() {\n          !isCapturing ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot stop capturing a keyboard drag when not capturing') : invariant(false) : void 0;\n          isCapturing = false;\n          unbindEventsRef.current();\n          listenForCapture();\n        }\n\n        unbindEventsRef.current = bindEvents(window, getDraggingBindings(actions, stop), {\n          capture: true,\n          passive: false\n        });\n      }\n    };\n  }, [api]);\n  var listenForCapture = useCallback(function tryStartCapture() {\n    var options = {\n      passive: false,\n      capture: true\n    };\n    unbindEventsRef.current = bindEvents(window, [startCaptureBinding], options);\n  }, [startCaptureBinding]);\n  useIsomorphicLayoutEffect(function mount() {\n    listenForCapture();\n    return function unmount() {\n      unbindEventsRef.current();\n    };\n  }, [listenForCapture]);\n}\n\nvar idle$2 = {\n  type: 'IDLE'\n};\nvar timeForLongPress = 120;\nvar forcePressThreshold = 0.15;\n\nfunction getWindowBindings(_ref) {\n  var cancel = _ref.cancel,\n      getPhase = _ref.getPhase;\n  return [{\n    eventName: 'orientationchange',\n    fn: cancel\n  }, {\n    eventName: 'resize',\n    fn: cancel\n  }, {\n    eventName: 'contextmenu',\n    fn: function fn(event) {\n      event.preventDefault();\n    }\n  }, {\n    eventName: 'keydown',\n    fn: function fn(event) {\n      if (getPhase().type !== 'DRAGGING') {\n        cancel();\n        return;\n      }\n\n      if (event.keyCode === escape) {\n        event.preventDefault();\n      }\n\n      cancel();\n    }\n  }, {\n    eventName: supportedEventName,\n    fn: cancel\n  }];\n}\n\nfunction getHandleBindings(_ref2) {\n  var cancel = _ref2.cancel,\n      completed = _ref2.completed,\n      getPhase = _ref2.getPhase;\n  return [{\n    eventName: 'touchmove',\n    options: {\n      capture: false\n    },\n    fn: function fn(event) {\n      var phase = getPhase();\n\n      if (phase.type !== 'DRAGGING') {\n        cancel();\n        return;\n      }\n\n      phase.hasMoved = true;\n      var _event$touches$ = event.touches[0],\n          clientX = _event$touches$.clientX,\n          clientY = _event$touches$.clientY;\n      var point = {\n        x: clientX,\n        y: clientY\n      };\n      event.preventDefault();\n      phase.actions.move(point);\n    }\n  }, {\n    eventName: 'touchend',\n    fn: function fn(event) {\n      var phase = getPhase();\n\n      if (phase.type !== 'DRAGGING') {\n        cancel();\n        return;\n      }\n\n      event.preventDefault();\n      phase.actions.drop({\n        shouldBlockNextClick: true\n      });\n      completed();\n    }\n  }, {\n    eventName: 'touchcancel',\n    fn: function fn(event) {\n      if (getPhase().type !== 'DRAGGING') {\n        cancel();\n        return;\n      }\n\n      event.preventDefault();\n      cancel();\n    }\n  }, {\n    eventName: 'touchforcechange',\n    fn: function fn(event) {\n      var phase = getPhase();\n      !(phase.type !== 'IDLE') ? process.env.NODE_ENV !== \"production\" ? invariant(false) : invariant(false) : void 0;\n      var touch = event.touches[0];\n\n      if (!touch) {\n        return;\n      }\n\n      var isForcePress = touch.force >= forcePressThreshold;\n\n      if (!isForcePress) {\n        return;\n      }\n\n      var shouldRespect = phase.actions.shouldRespectForcePress();\n\n      if (phase.type === 'PENDING') {\n        if (shouldRespect) {\n          cancel();\n        }\n\n        return;\n      }\n\n      if (shouldRespect) {\n        if (phase.hasMoved) {\n          event.preventDefault();\n          return;\n        }\n\n        cancel();\n        return;\n      }\n\n      event.preventDefault();\n    }\n  }, {\n    eventName: supportedEventName,\n    fn: cancel\n  }];\n}\n\nfunction useTouchSensor(api) {\n  var phaseRef = useRef(idle$2);\n  var unbindEventsRef = useRef(noop);\n  var getPhase = useCallback(function getPhase() {\n    return phaseRef.current;\n  }, []);\n  var setPhase = useCallback(function setPhase(phase) {\n    phaseRef.current = phase;\n  }, []);\n  var startCaptureBinding = useMemo(function () {\n    return {\n      eventName: 'touchstart',\n      fn: function onTouchStart(event) {\n        if (event.defaultPrevented) {\n          return;\n        }\n\n        var draggableId = api.findClosestDraggableId(event);\n\n        if (!draggableId) {\n          return;\n        }\n\n        var actions = api.tryGetLock(draggableId, stop, {\n          sourceEvent: event\n        });\n\n        if (!actions) {\n          return;\n        }\n\n        var touch = event.touches[0];\n        var clientX = touch.clientX,\n            clientY = touch.clientY;\n        var point = {\n          x: clientX,\n          y: clientY\n        };\n        unbindEventsRef.current();\n        startPendingDrag(actions, point);\n      }\n    };\n  }, [api]);\n  var listenForCapture = useCallback(function listenForCapture() {\n    var options = {\n      capture: true,\n      passive: false\n    };\n    unbindEventsRef.current = bindEvents(window, [startCaptureBinding], options);\n  }, [startCaptureBinding]);\n  var stop = useCallback(function () {\n    var current = phaseRef.current;\n\n    if (current.type === 'IDLE') {\n      return;\n    }\n\n    if (current.type === 'PENDING') {\n      clearTimeout(current.longPressTimerId);\n    }\n\n    setPhase(idle$2);\n    unbindEventsRef.current();\n    listenForCapture();\n  }, [listenForCapture, setPhase]);\n  var cancel = useCallback(function () {\n    var phase = phaseRef.current;\n    stop();\n\n    if (phase.type === 'DRAGGING') {\n      phase.actions.cancel({\n        shouldBlockNextClick: true\n      });\n    }\n\n    if (phase.type === 'PENDING') {\n      phase.actions.abort();\n    }\n  }, [stop]);\n  var bindCapturingEvents = useCallback(function bindCapturingEvents() {\n    var options = {\n      capture: true,\n      passive: false\n    };\n    var args = {\n      cancel: cancel,\n      completed: stop,\n      getPhase: getPhase\n    };\n    var unbindTarget = bindEvents(window, getHandleBindings(args), options);\n    var unbindWindow = bindEvents(window, getWindowBindings(args), options);\n\n    unbindEventsRef.current = function unbindAll() {\n      unbindTarget();\n      unbindWindow();\n    };\n  }, [cancel, getPhase, stop]);\n  var startDragging = useCallback(function startDragging() {\n    var phase = getPhase();\n    !(phase.type === 'PENDING') ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot start dragging from phase \" + phase.type) : invariant(false) : void 0;\n    var actions = phase.actions.fluidLift(phase.point);\n    setPhase({\n      type: 'DRAGGING',\n      actions: actions,\n      hasMoved: false\n    });\n  }, [getPhase, setPhase]);\n  var startPendingDrag = useCallback(function startPendingDrag(actions, point) {\n    !(getPhase().type === 'IDLE') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Expected to move from IDLE to PENDING drag') : invariant(false) : void 0;\n    var longPressTimerId = setTimeout(startDragging, timeForLongPress);\n    setPhase({\n      type: 'PENDING',\n      point: point,\n      actions: actions,\n      longPressTimerId: longPressTimerId\n    });\n    bindCapturingEvents();\n  }, [bindCapturingEvents, getPhase, setPhase, startDragging]);\n  useIsomorphicLayoutEffect(function mount() {\n    listenForCapture();\n    return function unmount() {\n      unbindEventsRef.current();\n      var phase = getPhase();\n\n      if (phase.type === 'PENDING') {\n        clearTimeout(phase.longPressTimerId);\n        setPhase(idle$2);\n      }\n    };\n  }, [getPhase, listenForCapture, setPhase]);\n  useIsomorphicLayoutEffect(function webkitHack() {\n    var unbind = bindEvents(window, [{\n      eventName: 'touchmove',\n      fn: function fn() {},\n      options: {\n        capture: false,\n        passive: false\n      }\n    }]);\n    return unbind;\n  }, []);\n}\n\nfunction useValidateSensorHooks(sensorHooks) {\n  useDev(function () {\n    var previousRef = usePrevious(sensorHooks);\n    useDevSetupWarning(function () {\n      !(previousRef.current.length === sensorHooks.length) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot change the amount of sensor hooks after mounting') : invariant(false) : void 0;\n    });\n  });\n}\n\nvar interactiveTagNames = {\n  input: true,\n  button: true,\n  textarea: true,\n  select: true,\n  option: true,\n  optgroup: true,\n  video: true,\n  audio: true\n};\n\nfunction isAnInteractiveElement(parent, current) {\n  if (current == null) {\n    return false;\n  }\n\n  var hasAnInteractiveTag = Boolean(interactiveTagNames[current.tagName.toLowerCase()]);\n\n  if (hasAnInteractiveTag) {\n    return true;\n  }\n\n  var attribute = current.getAttribute('contenteditable');\n\n  if (attribute === 'true' || attribute === '') {\n    return true;\n  }\n\n  if (current === parent) {\n    return false;\n  }\n\n  return isAnInteractiveElement(parent, current.parentElement);\n}\n\nfunction isEventInInteractiveElement(draggable, event) {\n  var target = event.target;\n\n  if (!isHtmlElement(target)) {\n    return false;\n  }\n\n  return isAnInteractiveElement(draggable, target);\n}\n\nvar getBorderBoxCenterPosition = (function (el) {\n  return getRect(el.getBoundingClientRect()).center;\n});\n\nfunction isElement(el) {\n  return el instanceof getWindowFromEl(el).Element;\n}\n\nvar supportedMatchesName = function () {\n  var base = 'matches';\n\n  if (typeof document === 'undefined') {\n    return base;\n  }\n\n  var candidates = [base, 'msMatchesSelector', 'webkitMatchesSelector'];\n  var value = find(candidates, function (name) {\n    return name in Element.prototype;\n  });\n  return value || base;\n}();\n\nfunction closestPonyfill(el, selector) {\n  if (el == null) {\n    return null;\n  }\n\n  if (el[supportedMatchesName](selector)) {\n    return el;\n  }\n\n  return closestPonyfill(el.parentElement, selector);\n}\n\nfunction closest$1(el, selector) {\n  if (el.closest) {\n    return el.closest(selector);\n  }\n\n  return closestPonyfill(el, selector);\n}\n\nfunction getSelector(contextId) {\n  return \"[\" + dragHandle.contextId + \"=\\\"\" + contextId + \"\\\"]\";\n}\n\nfunction findClosestDragHandleFromEvent(contextId, event) {\n  var target = event.target;\n\n  if (!isElement(target)) {\n    process.env.NODE_ENV !== \"production\" ? warning('event.target must be a Element') : void 0;\n    return null;\n  }\n\n  var selector = getSelector(contextId);\n  var handle = closest$1(target, selector);\n\n  if (!handle) {\n    return null;\n  }\n\n  if (!isHtmlElement(handle)) {\n    process.env.NODE_ENV !== \"production\" ? warning('drag handle must be a HTMLElement') : void 0;\n    return null;\n  }\n\n  return handle;\n}\n\nfunction tryGetClosestDraggableIdFromEvent(contextId, event) {\n  var handle = findClosestDragHandleFromEvent(contextId, event);\n\n  if (!handle) {\n    return null;\n  }\n\n  return handle.getAttribute(dragHandle.draggableId);\n}\n\nfunction findDraggable(contextId, draggableId) {\n  var selector = \"[\" + draggable.contextId + \"=\\\"\" + contextId + \"\\\"]\";\n  var possible = toArray(document.querySelectorAll(selector));\n  var draggable$1 = find(possible, function (el) {\n    return el.getAttribute(draggable.id) === draggableId;\n  });\n\n  if (!draggable$1) {\n    return null;\n  }\n\n  if (!isHtmlElement(draggable$1)) {\n    process.env.NODE_ENV !== \"production\" ? warning('Draggable element is not a HTMLElement') : void 0;\n    return null;\n  }\n\n  return draggable$1;\n}\n\nfunction preventDefault(event) {\n  event.preventDefault();\n}\n\nfunction _isActive(_ref) {\n  var expected = _ref.expected,\n      phase = _ref.phase,\n      isLockActive = _ref.isLockActive,\n      shouldWarn = _ref.shouldWarn;\n\n  if (!isLockActive()) {\n    if (shouldWarn) {\n      process.env.NODE_ENV !== \"production\" ? warning(\"\\n        Cannot perform action.\\n        The sensor no longer has an action lock.\\n\\n        Tips:\\n\\n        - Throw away your action handlers when forceStop() is called\\n        - Check actions.isActive() if you really need to\\n      \") : void 0;\n    }\n\n    return false;\n  }\n\n  if (expected !== phase) {\n    if (shouldWarn) {\n      process.env.NODE_ENV !== \"production\" ? warning(\"\\n        Cannot perform action.\\n        The actions you used belong to an outdated phase\\n\\n        Current phase: \" + expected + \"\\n        You called an action from outdated phase: \" + phase + \"\\n\\n        Tips:\\n\\n        - Do not use preDragActions actions after calling preDragActions.lift()\\n      \") : void 0;\n    }\n\n    return false;\n  }\n\n  return true;\n}\n\nfunction canStart(_ref2) {\n  var lockAPI = _ref2.lockAPI,\n      store = _ref2.store,\n      registry = _ref2.registry,\n      draggableId = _ref2.draggableId;\n\n  if (lockAPI.isClaimed()) {\n    return false;\n  }\n\n  var entry = registry.draggable.findById(draggableId);\n\n  if (!entry) {\n    process.env.NODE_ENV !== \"production\" ? warning(\"Unable to find draggable with id: \" + draggableId) : void 0;\n    return false;\n  }\n\n  if (!entry.options.isEnabled) {\n    return false;\n  }\n\n  if (!canStartDrag(store.getState(), draggableId)) {\n    return false;\n  }\n\n  return true;\n}\n\nfunction tryStart(_ref3) {\n  var lockAPI = _ref3.lockAPI,\n      contextId = _ref3.contextId,\n      store = _ref3.store,\n      registry = _ref3.registry,\n      draggableId = _ref3.draggableId,\n      forceSensorStop = _ref3.forceSensorStop,\n      sourceEvent = _ref3.sourceEvent;\n  var shouldStart = canStart({\n    lockAPI: lockAPI,\n    store: store,\n    registry: registry,\n    draggableId: draggableId\n  });\n\n  if (!shouldStart) {\n    return null;\n  }\n\n  var entry = registry.draggable.getById(draggableId);\n  var el = findDraggable(contextId, entry.descriptor.id);\n\n  if (!el) {\n    process.env.NODE_ENV !== \"production\" ? warning(\"Unable to find draggable element with id: \" + draggableId) : void 0;\n    return null;\n  }\n\n  if (sourceEvent && !entry.options.canDragInteractiveElements && isEventInInteractiveElement(el, sourceEvent)) {\n    return null;\n  }\n\n  var lock = lockAPI.claim(forceSensorStop || noop);\n  var phase = 'PRE_DRAG';\n\n  function getShouldRespectForcePress() {\n    return entry.options.shouldRespectForcePress;\n  }\n\n  function isLockActive() {\n    return lockAPI.isActive(lock);\n  }\n\n  function tryDispatch(expected, getAction) {\n    if (_isActive({\n      expected: expected,\n      phase: phase,\n      isLockActive: isLockActive,\n      shouldWarn: true\n    })) {\n      store.dispatch(getAction());\n    }\n  }\n\n  var tryDispatchWhenDragging = tryDispatch.bind(null, 'DRAGGING');\n\n  function lift$1(args) {\n    function completed() {\n      lockAPI.release();\n      phase = 'COMPLETED';\n    }\n\n    if (phase !== 'PRE_DRAG') {\n      completed();\n      !(phase === 'PRE_DRAG') ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot lift in phase \" + phase) : invariant(false) : void 0;\n    }\n\n    store.dispatch(lift(args.liftActionArgs));\n    phase = 'DRAGGING';\n\n    function finish(reason, options) {\n      if (options === void 0) {\n        options = {\n          shouldBlockNextClick: false\n        };\n      }\n\n      args.cleanup();\n\n      if (options.shouldBlockNextClick) {\n        var unbind = bindEvents(window, [{\n          eventName: 'click',\n          fn: preventDefault,\n          options: {\n            once: true,\n            passive: false,\n            capture: true\n          }\n        }]);\n        setTimeout(unbind);\n      }\n\n      completed();\n      store.dispatch(drop({\n        reason: reason\n      }));\n    }\n\n    return _extends({\n      isActive: function isActive() {\n        return _isActive({\n          expected: 'DRAGGING',\n          phase: phase,\n          isLockActive: isLockActive,\n          shouldWarn: false\n        });\n      },\n      shouldRespectForcePress: getShouldRespectForcePress,\n      drop: function drop(options) {\n        return finish('DROP', options);\n      },\n      cancel: function cancel(options) {\n        return finish('CANCEL', options);\n      }\n    }, args.actions);\n  }\n\n  function fluidLift(clientSelection) {\n    var move$1 = rafSchd(function (client) {\n      tryDispatchWhenDragging(function () {\n        return move({\n          client: client\n        });\n      });\n    });\n    var api = lift$1({\n      liftActionArgs: {\n        id: draggableId,\n        clientSelection: clientSelection,\n        movementMode: 'FLUID'\n      },\n      cleanup: function cleanup() {\n        return move$1.cancel();\n      },\n      actions: {\n        move: move$1\n      }\n    });\n    return _extends({}, api, {\n      move: move$1\n    });\n  }\n\n  function snapLift() {\n    var actions = {\n      moveUp: function moveUp$1() {\n        return tryDispatchWhenDragging(moveUp);\n      },\n      moveRight: function moveRight$1() {\n        return tryDispatchWhenDragging(moveRight);\n      },\n      moveDown: function moveDown$1() {\n        return tryDispatchWhenDragging(moveDown);\n      },\n      moveLeft: function moveLeft$1() {\n        return tryDispatchWhenDragging(moveLeft);\n      }\n    };\n    return lift$1({\n      liftActionArgs: {\n        id: draggableId,\n        clientSelection: getBorderBoxCenterPosition(el),\n        movementMode: 'SNAP'\n      },\n      cleanup: noop,\n      actions: actions\n    });\n  }\n\n  function abortPreDrag() {\n    var shouldRelease = _isActive({\n      expected: 'PRE_DRAG',\n      phase: phase,\n      isLockActive: isLockActive,\n      shouldWarn: true\n    });\n\n    if (shouldRelease) {\n      lockAPI.release();\n    }\n  }\n\n  var preDrag = {\n    isActive: function isActive() {\n      return _isActive({\n        expected: 'PRE_DRAG',\n        phase: phase,\n        isLockActive: isLockActive,\n        shouldWarn: false\n      });\n    },\n    shouldRespectForcePress: getShouldRespectForcePress,\n    fluidLift: fluidLift,\n    snapLift: snapLift,\n    abort: abortPreDrag\n  };\n  return preDrag;\n}\n\nvar defaultSensors = [useMouseSensor, useKeyboardSensor, useTouchSensor];\nfunction useSensorMarshal(_ref4) {\n  var contextId = _ref4.contextId,\n      store = _ref4.store,\n      registry = _ref4.registry,\n      customSensors = _ref4.customSensors,\n      enableDefaultSensors = _ref4.enableDefaultSensors;\n  var useSensors = [].concat(enableDefaultSensors ? defaultSensors : [], customSensors || []);\n  var lockAPI = useState(function () {\n    return create();\n  })[0];\n  var tryAbandonLock = useCallback(function tryAbandonLock(previous, current) {\n    if (previous.isDragging && !current.isDragging) {\n      lockAPI.tryAbandon();\n    }\n  }, [lockAPI]);\n  useIsomorphicLayoutEffect(function listenToStore() {\n    var previous = store.getState();\n    var unsubscribe = store.subscribe(function () {\n      var current = store.getState();\n      tryAbandonLock(previous, current);\n      previous = current;\n    });\n    return unsubscribe;\n  }, [lockAPI, store, tryAbandonLock]);\n  useIsomorphicLayoutEffect(function () {\n    return lockAPI.tryAbandon;\n  }, [lockAPI.tryAbandon]);\n  var canGetLock = useCallback(function (draggableId) {\n    return canStart({\n      lockAPI: lockAPI,\n      registry: registry,\n      store: store,\n      draggableId: draggableId\n    });\n  }, [lockAPI, registry, store]);\n  var tryGetLock = useCallback(function (draggableId, forceStop, options) {\n    return tryStart({\n      lockAPI: lockAPI,\n      registry: registry,\n      contextId: contextId,\n      store: store,\n      draggableId: draggableId,\n      forceSensorStop: forceStop,\n      sourceEvent: options && options.sourceEvent ? options.sourceEvent : null\n    });\n  }, [contextId, lockAPI, registry, store]);\n  var findClosestDraggableId = useCallback(function (event) {\n    return tryGetClosestDraggableIdFromEvent(contextId, event);\n  }, [contextId]);\n  var findOptionsForDraggable = useCallback(function (id) {\n    var entry = registry.draggable.findById(id);\n    return entry ? entry.options : null;\n  }, [registry.draggable]);\n  var tryReleaseLock = useCallback(function tryReleaseLock() {\n    if (!lockAPI.isClaimed()) {\n      return;\n    }\n\n    lockAPI.tryAbandon();\n\n    if (store.getState().phase !== 'IDLE') {\n      store.dispatch(flush());\n    }\n  }, [lockAPI, store]);\n  var isLockClaimed = useCallback(lockAPI.isClaimed, [lockAPI]);\n  var api = useMemo(function () {\n    return {\n      canGetLock: canGetLock,\n      tryGetLock: tryGetLock,\n      findClosestDraggableId: findClosestDraggableId,\n      findOptionsForDraggable: findOptionsForDraggable,\n      tryReleaseLock: tryReleaseLock,\n      isLockClaimed: isLockClaimed\n    };\n  }, [canGetLock, tryGetLock, findClosestDraggableId, findOptionsForDraggable, tryReleaseLock, isLockClaimed]);\n  useValidateSensorHooks(useSensors);\n\n  for (var i = 0; i < useSensors.length; i++) {\n    useSensors[i](api);\n  }\n}\n\nvar createResponders = function createResponders(props) {\n  return {\n    onBeforeCapture: props.onBeforeCapture,\n    onBeforeDragStart: props.onBeforeDragStart,\n    onDragStart: props.onDragStart,\n    onDragEnd: props.onDragEnd,\n    onDragUpdate: props.onDragUpdate\n  };\n};\n\nfunction getStore(lazyRef) {\n  !lazyRef.current ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Could not find store from lazy ref') : invariant(false) : void 0;\n  return lazyRef.current;\n}\n\nfunction App(props) {\n  var contextId = props.contextId,\n      setCallbacks = props.setCallbacks,\n      sensors = props.sensors,\n      nonce = props.nonce,\n      dragHandleUsageInstructions = props.dragHandleUsageInstructions;\n  var lazyStoreRef = useRef(null);\n  useStartupValidation();\n  var lastPropsRef = usePrevious(props);\n  var getResponders = useCallback(function () {\n    return createResponders(lastPropsRef.current);\n  }, [lastPropsRef]);\n  var announce = useAnnouncer(contextId);\n  var dragHandleUsageInstructionsId = useHiddenTextElement({\n    contextId: contextId,\n    text: dragHandleUsageInstructions\n  });\n  var styleMarshal = useStyleMarshal(contextId, nonce);\n  var lazyDispatch = useCallback(function (action) {\n    getStore(lazyStoreRef).dispatch(action);\n  }, []);\n  var marshalCallbacks = useMemo(function () {\n    return bindActionCreators({\n      publishWhileDragging: publishWhileDragging,\n      updateDroppableScroll: updateDroppableScroll,\n      updateDroppableIsEnabled: updateDroppableIsEnabled,\n      updateDroppableIsCombineEnabled: updateDroppableIsCombineEnabled,\n      collectionStarting: collectionStarting\n    }, lazyDispatch);\n  }, [lazyDispatch]);\n  var registry = useRegistry();\n  var dimensionMarshal = useMemo(function () {\n    return createDimensionMarshal(registry, marshalCallbacks);\n  }, [registry, marshalCallbacks]);\n  var autoScroller = useMemo(function () {\n    return createAutoScroller(_extends({\n      scrollWindow: scrollWindow,\n      scrollDroppable: dimensionMarshal.scrollDroppable\n    }, bindActionCreators({\n      move: move\n    }, lazyDispatch)));\n  }, [dimensionMarshal.scrollDroppable, lazyDispatch]);\n  var focusMarshal = useFocusMarshal(contextId);\n  var store = useMemo(function () {\n    return createStore({\n      announce: announce,\n      autoScroller: autoScroller,\n      dimensionMarshal: dimensionMarshal,\n      focusMarshal: focusMarshal,\n      getResponders: getResponders,\n      styleMarshal: styleMarshal\n    });\n  }, [announce, autoScroller, dimensionMarshal, focusMarshal, getResponders, styleMarshal]);\n\n  if (process.env.NODE_ENV !== 'production') {\n    if (lazyStoreRef.current && lazyStoreRef.current !== store) {\n      process.env.NODE_ENV !== \"production\" ? warning('unexpected store change') : void 0;\n    }\n  }\n\n  lazyStoreRef.current = store;\n  var tryResetStore = useCallback(function () {\n    var current = getStore(lazyStoreRef);\n    var state = current.getState();\n\n    if (state.phase !== 'IDLE') {\n      current.dispatch(flush());\n    }\n  }, []);\n  var isDragging = useCallback(function () {\n    var state = getStore(lazyStoreRef).getState();\n    return state.isDragging || state.phase === 'DROP_ANIMATING';\n  }, []);\n  var appCallbacks = useMemo(function () {\n    return {\n      isDragging: isDragging,\n      tryAbort: tryResetStore\n    };\n  }, [isDragging, tryResetStore]);\n  setCallbacks(appCallbacks);\n  var getCanLift = useCallback(function (id) {\n    return canStartDrag(getStore(lazyStoreRef).getState(), id);\n  }, []);\n  var getIsMovementAllowed = useCallback(function () {\n    return isMovementAllowed(getStore(lazyStoreRef).getState());\n  }, []);\n  var appContext = useMemo(function () {\n    return {\n      marshal: dimensionMarshal,\n      focus: focusMarshal,\n      contextId: contextId,\n      canLift: getCanLift,\n      isMovementAllowed: getIsMovementAllowed,\n      dragHandleUsageInstructionsId: dragHandleUsageInstructionsId,\n      registry: registry\n    };\n  }, [contextId, dimensionMarshal, dragHandleUsageInstructionsId, focusMarshal, getCanLift, getIsMovementAllowed, registry]);\n  useSensorMarshal({\n    contextId: contextId,\n    store: store,\n    registry: registry,\n    customSensors: sensors,\n    enableDefaultSensors: props.enableDefaultSensors !== false\n  });\n  useEffect(function () {\n    return tryResetStore;\n  }, [tryResetStore]);\n  return React.createElement(AppContext.Provider, {\n    value: appContext\n  }, React.createElement(Provider, {\n    context: StoreContext,\n    store: store\n  }, props.children));\n}\n\nvar count$1 = 0;\nfunction reset$1() {\n  count$1 = 0;\n}\nfunction useInstanceCount() {\n  return useMemo(function () {\n    return \"\" + count$1++;\n  }, []);\n}\n\nfunction resetServerContext() {\n  reset$1();\n  reset();\n}\nfunction DragDropContext(props) {\n  var contextId = useInstanceCount();\n  var dragHandleUsageInstructions = props.dragHandleUsageInstructions || preset.dragHandleUsageInstructions;\n  return React.createElement(ErrorBoundary, null, function (setCallbacks) {\n    return React.createElement(App, {\n      nonce: props.nonce,\n      contextId: contextId,\n      setCallbacks: setCallbacks,\n      dragHandleUsageInstructions: dragHandleUsageInstructions,\n      enableDefaultSensors: props.enableDefaultSensors,\n      sensors: props.sensors,\n      onBeforeCapture: props.onBeforeCapture,\n      onBeforeDragStart: props.onBeforeDragStart,\n      onDragStart: props.onDragStart,\n      onDragUpdate: props.onDragUpdate,\n      onDragEnd: props.onDragEnd\n    }, props.children);\n  });\n}\n\nvar isEqual$1 = function isEqual(base) {\n  return function (value) {\n    return base === value;\n  };\n};\n\nvar isScroll = isEqual$1('scroll');\nvar isAuto = isEqual$1('auto');\nvar isVisible$1 = isEqual$1('visible');\n\nvar isEither = function isEither(overflow, fn) {\n  return fn(overflow.overflowX) || fn(overflow.overflowY);\n};\n\nvar isBoth = function isBoth(overflow, fn) {\n  return fn(overflow.overflowX) && fn(overflow.overflowY);\n};\n\nvar isElementScrollable = function isElementScrollable(el) {\n  var style = window.getComputedStyle(el);\n  var overflow = {\n    overflowX: style.overflowX,\n    overflowY: style.overflowY\n  };\n  return isEither(overflow, isScroll) || isEither(overflow, isAuto);\n};\n\nvar isBodyScrollable = function isBodyScrollable() {\n  if (process.env.NODE_ENV === 'production') {\n    return false;\n  }\n\n  var body = getBodyElement();\n  var html = document.documentElement;\n  !html ? process.env.NODE_ENV !== \"production\" ? invariant(false) : invariant(false) : void 0;\n\n  if (!isElementScrollable(body)) {\n    return false;\n  }\n\n  var htmlStyle = window.getComputedStyle(html);\n  var htmlOverflow = {\n    overflowX: htmlStyle.overflowX,\n    overflowY: htmlStyle.overflowY\n  };\n\n  if (isBoth(htmlOverflow, isVisible$1)) {\n    return false;\n  }\n\n  process.env.NODE_ENV !== \"production\" ? warning(\"\\n    We have detected that your <body> element might be a scroll container.\\n    We have found no reliable way of detecting whether the <body> element is a scroll container.\\n    Under most circumstances a <body> scroll bar will be on the <html> element (document.documentElement)\\n\\n    Because we cannot determine if the <body> is a scroll container, and generally it is not one,\\n    we will be treating the <body> as *not* a scroll container\\n\\n    More information: https://github.com/atlassian/react-beautiful-dnd/blob/master/docs/guides/how-we-detect-scroll-containers.md\\n  \") : void 0;\n  return false;\n};\n\nvar getClosestScrollable = function getClosestScrollable(el) {\n  if (el == null) {\n    return null;\n  }\n\n  if (el === document.body) {\n    return isBodyScrollable() ? el : null;\n  }\n\n  if (el === document.documentElement) {\n    return null;\n  }\n\n  if (!isElementScrollable(el)) {\n    return getClosestScrollable(el.parentElement);\n  }\n\n  return el;\n};\n\nvar checkForNestedScrollContainers = (function (scrollable) {\n  if (!scrollable) {\n    return;\n  }\n\n  var anotherScrollParent = getClosestScrollable(scrollable.parentElement);\n\n  if (!anotherScrollParent) {\n    return;\n  }\n\n  process.env.NODE_ENV !== \"production\" ? warning(\"\\n    Droppable: unsupported nested scroll container detected.\\n    A Droppable can only have one scroll parent (which can be itself)\\n    Nested scroll containers are currently not supported.\\n\\n    We hope to support nested scroll containers soon: https://github.com/atlassian/react-beautiful-dnd/issues/131\\n  \") : void 0;\n});\n\nvar getScroll$1 = (function (el) {\n  return {\n    x: el.scrollLeft,\n    y: el.scrollTop\n  };\n});\n\nvar getIsFixed = function getIsFixed(el) {\n  if (!el) {\n    return false;\n  }\n\n  var style = window.getComputedStyle(el);\n\n  if (style.position === 'fixed') {\n    return true;\n  }\n\n  return getIsFixed(el.parentElement);\n};\n\nvar getEnv = (function (start) {\n  var closestScrollable = getClosestScrollable(start);\n  var isFixedOnPage = getIsFixed(start);\n  return {\n    closestScrollable: closestScrollable,\n    isFixedOnPage: isFixedOnPage\n  };\n});\n\nvar getDroppableDimension = (function (_ref) {\n  var descriptor = _ref.descriptor,\n      isEnabled = _ref.isEnabled,\n      isCombineEnabled = _ref.isCombineEnabled,\n      isFixedOnPage = _ref.isFixedOnPage,\n      direction = _ref.direction,\n      client = _ref.client,\n      page = _ref.page,\n      closest = _ref.closest;\n\n  var frame = function () {\n    if (!closest) {\n      return null;\n    }\n\n    var scrollSize = closest.scrollSize,\n        frameClient = closest.client;\n    var maxScroll = getMaxScroll({\n      scrollHeight: scrollSize.scrollHeight,\n      scrollWidth: scrollSize.scrollWidth,\n      height: frameClient.paddingBox.height,\n      width: frameClient.paddingBox.width\n    });\n    return {\n      pageMarginBox: closest.page.marginBox,\n      frameClient: frameClient,\n      scrollSize: scrollSize,\n      shouldClipSubject: closest.shouldClipSubject,\n      scroll: {\n        initial: closest.scroll,\n        current: closest.scroll,\n        max: maxScroll,\n        diff: {\n          value: origin,\n          displacement: origin\n        }\n      }\n    };\n  }();\n\n  var axis = direction === 'vertical' ? vertical : horizontal;\n  var subject = getSubject({\n    page: page,\n    withPlaceholder: null,\n    axis: axis,\n    frame: frame\n  });\n  var dimension = {\n    descriptor: descriptor,\n    isCombineEnabled: isCombineEnabled,\n    isFixedOnPage: isFixedOnPage,\n    axis: axis,\n    isEnabled: isEnabled,\n    client: client,\n    page: page,\n    frame: frame,\n    subject: subject\n  };\n  return dimension;\n});\n\nvar getClient = function getClient(targetRef, closestScrollable) {\n  var base = getBox(targetRef);\n\n  if (!closestScrollable) {\n    return base;\n  }\n\n  if (targetRef !== closestScrollable) {\n    return base;\n  }\n\n  var top = base.paddingBox.top - closestScrollable.scrollTop;\n  var left = base.paddingBox.left - closestScrollable.scrollLeft;\n  var bottom = top + closestScrollable.scrollHeight;\n  var right = left + closestScrollable.scrollWidth;\n  var paddingBox = {\n    top: top,\n    right: right,\n    bottom: bottom,\n    left: left\n  };\n  var borderBox = expand(paddingBox, base.border);\n  var client = createBox({\n    borderBox: borderBox,\n    margin: base.margin,\n    border: base.border,\n    padding: base.padding\n  });\n  return client;\n};\n\nvar getDimension = (function (_ref) {\n  var ref = _ref.ref,\n      descriptor = _ref.descriptor,\n      env = _ref.env,\n      windowScroll = _ref.windowScroll,\n      direction = _ref.direction,\n      isDropDisabled = _ref.isDropDisabled,\n      isCombineEnabled = _ref.isCombineEnabled,\n      shouldClipSubject = _ref.shouldClipSubject;\n  var closestScrollable = env.closestScrollable;\n  var client = getClient(ref, closestScrollable);\n  var page = withScroll(client, windowScroll);\n\n  var closest = function () {\n    if (!closestScrollable) {\n      return null;\n    }\n\n    var frameClient = getBox(closestScrollable);\n    var scrollSize = {\n      scrollHeight: closestScrollable.scrollHeight,\n      scrollWidth: closestScrollable.scrollWidth\n    };\n    return {\n      client: frameClient,\n      page: withScroll(frameClient, windowScroll),\n      scroll: getScroll$1(closestScrollable),\n      scrollSize: scrollSize,\n      shouldClipSubject: shouldClipSubject\n    };\n  }();\n\n  var dimension = getDroppableDimension({\n    descriptor: descriptor,\n    isEnabled: !isDropDisabled,\n    isCombineEnabled: isCombineEnabled,\n    isFixedOnPage: env.isFixedOnPage,\n    direction: direction,\n    client: client,\n    page: page,\n    closest: closest\n  });\n  return dimension;\n});\n\nvar immediate = {\n  passive: false\n};\nvar delayed = {\n  passive: true\n};\nvar getListenerOptions = (function (options) {\n  return options.shouldPublishImmediately ? immediate : delayed;\n});\n\nfunction useRequiredContext(Context) {\n  var result = useContext(Context);\n  !result ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Could not find required context') : invariant(false) : void 0;\n  return result;\n}\n\nvar getClosestScrollableFromDrag = function getClosestScrollableFromDrag(dragging) {\n  return dragging && dragging.env.closestScrollable || null;\n};\n\nfunction useDroppablePublisher(args) {\n  var whileDraggingRef = useRef(null);\n  var appContext = useRequiredContext(AppContext);\n  var uniqueId = useUniqueId('droppable');\n  var registry = appContext.registry,\n      marshal = appContext.marshal;\n  var previousRef = usePrevious(args);\n  var descriptor = useMemo(function () {\n    return {\n      id: args.droppableId,\n      type: args.type,\n      mode: args.mode\n    };\n  }, [args.droppableId, args.mode, args.type]);\n  var publishedDescriptorRef = useRef(descriptor);\n  var memoizedUpdateScroll = useMemo(function () {\n    return memoizeOne(function (x, y) {\n      !whileDraggingRef.current ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Can only update scroll when dragging') : invariant(false) : void 0;\n      var scroll = {\n        x: x,\n        y: y\n      };\n      marshal.updateDroppableScroll(descriptor.id, scroll);\n    });\n  }, [descriptor.id, marshal]);\n  var getClosestScroll = useCallback(function () {\n    var dragging = whileDraggingRef.current;\n\n    if (!dragging || !dragging.env.closestScrollable) {\n      return origin;\n    }\n\n    return getScroll$1(dragging.env.closestScrollable);\n  }, []);\n  var updateScroll = useCallback(function () {\n    var scroll = getClosestScroll();\n    memoizedUpdateScroll(scroll.x, scroll.y);\n  }, [getClosestScroll, memoizedUpdateScroll]);\n  var scheduleScrollUpdate = useMemo(function () {\n    return rafSchd(updateScroll);\n  }, [updateScroll]);\n  var onClosestScroll = useCallback(function () {\n    var dragging = whileDraggingRef.current;\n    var closest = getClosestScrollableFromDrag(dragging);\n    !(dragging && closest) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Could not find scroll options while scrolling') : invariant(false) : void 0;\n    var options = dragging.scrollOptions;\n\n    if (options.shouldPublishImmediately) {\n      updateScroll();\n      return;\n    }\n\n    scheduleScrollUpdate();\n  }, [scheduleScrollUpdate, updateScroll]);\n  var getDimensionAndWatchScroll = useCallback(function (windowScroll, options) {\n    !!whileDraggingRef.current ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot collect a droppable while a drag is occurring') : invariant(false) : void 0;\n    var previous = previousRef.current;\n    var ref = previous.getDroppableRef();\n    !ref ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot collect without a droppable ref') : invariant(false) : void 0;\n    var env = getEnv(ref);\n    var dragging = {\n      ref: ref,\n      descriptor: descriptor,\n      env: env,\n      scrollOptions: options\n    };\n    whileDraggingRef.current = dragging;\n    var dimension = getDimension({\n      ref: ref,\n      descriptor: descriptor,\n      env: env,\n      windowScroll: windowScroll,\n      direction: previous.direction,\n      isDropDisabled: previous.isDropDisabled,\n      isCombineEnabled: previous.isCombineEnabled,\n      shouldClipSubject: !previous.ignoreContainerClipping\n    });\n    var scrollable = env.closestScrollable;\n\n    if (scrollable) {\n      scrollable.setAttribute(scrollContainer.contextId, appContext.contextId);\n      scrollable.addEventListener('scroll', onClosestScroll, getListenerOptions(dragging.scrollOptions));\n\n      if (process.env.NODE_ENV !== 'production') {\n        checkForNestedScrollContainers(scrollable);\n      }\n    }\n\n    return dimension;\n  }, [appContext.contextId, descriptor, onClosestScroll, previousRef]);\n  var getScrollWhileDragging = useCallback(function () {\n    var dragging = whileDraggingRef.current;\n    var closest = getClosestScrollableFromDrag(dragging);\n    !(dragging && closest) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Can only recollect Droppable client for Droppables that have a scroll container') : invariant(false) : void 0;\n    return getScroll$1(closest);\n  }, []);\n  var dragStopped = useCallback(function () {\n    var dragging = whileDraggingRef.current;\n    !dragging ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot stop drag when no active drag') : invariant(false) : void 0;\n    var closest = getClosestScrollableFromDrag(dragging);\n    whileDraggingRef.current = null;\n\n    if (!closest) {\n      return;\n    }\n\n    scheduleScrollUpdate.cancel();\n    closest.removeAttribute(scrollContainer.contextId);\n    closest.removeEventListener('scroll', onClosestScroll, getListenerOptions(dragging.scrollOptions));\n  }, [onClosestScroll, scheduleScrollUpdate]);\n  var scroll = useCallback(function (change) {\n    var dragging = whileDraggingRef.current;\n    !dragging ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot scroll when there is no drag') : invariant(false) : void 0;\n    var closest = getClosestScrollableFromDrag(dragging);\n    !closest ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot scroll a droppable with no closest scrollable') : invariant(false) : void 0;\n    closest.scrollTop += change.y;\n    closest.scrollLeft += change.x;\n  }, []);\n  var callbacks = useMemo(function () {\n    return {\n      getDimensionAndWatchScroll: getDimensionAndWatchScroll,\n      getScrollWhileDragging: getScrollWhileDragging,\n      dragStopped: dragStopped,\n      scroll: scroll\n    };\n  }, [dragStopped, getDimensionAndWatchScroll, getScrollWhileDragging, scroll]);\n  var entry = useMemo(function () {\n    return {\n      uniqueId: uniqueId,\n      descriptor: descriptor,\n      callbacks: callbacks\n    };\n  }, [callbacks, descriptor, uniqueId]);\n  useIsomorphicLayoutEffect(function () {\n    publishedDescriptorRef.current = entry.descriptor;\n    registry.droppable.register(entry);\n    return function () {\n      if (whileDraggingRef.current) {\n        process.env.NODE_ENV !== \"production\" ? warning('Unsupported: changing the droppableId or type of a Droppable during a drag') : void 0;\n        dragStopped();\n      }\n\n      registry.droppable.unregister(entry);\n    };\n  }, [callbacks, descriptor, dragStopped, entry, marshal, registry.droppable]);\n  useIsomorphicLayoutEffect(function () {\n    if (!whileDraggingRef.current) {\n      return;\n    }\n\n    marshal.updateDroppableIsEnabled(publishedDescriptorRef.current.id, !args.isDropDisabled);\n  }, [args.isDropDisabled, marshal]);\n  useIsomorphicLayoutEffect(function () {\n    if (!whileDraggingRef.current) {\n      return;\n    }\n\n    marshal.updateDroppableIsCombineEnabled(publishedDescriptorRef.current.id, args.isCombineEnabled);\n  }, [args.isCombineEnabled, marshal]);\n}\n\nfunction noop$2() {}\n\nvar empty = {\n  width: 0,\n  height: 0,\n  margin: noSpacing\n};\n\nvar getSize = function getSize(_ref) {\n  var isAnimatingOpenOnMount = _ref.isAnimatingOpenOnMount,\n      placeholder = _ref.placeholder,\n      animate = _ref.animate;\n\n  if (isAnimatingOpenOnMount) {\n    return empty;\n  }\n\n  if (animate === 'close') {\n    return empty;\n  }\n\n  return {\n    height: placeholder.client.borderBox.height,\n    width: placeholder.client.borderBox.width,\n    margin: placeholder.client.margin\n  };\n};\n\nvar getStyle = function getStyle(_ref2) {\n  var isAnimatingOpenOnMount = _ref2.isAnimatingOpenOnMount,\n      placeholder = _ref2.placeholder,\n      animate = _ref2.animate;\n  var size = getSize({\n    isAnimatingOpenOnMount: isAnimatingOpenOnMount,\n    placeholder: placeholder,\n    animate: animate\n  });\n  return {\n    display: placeholder.display,\n    boxSizing: 'border-box',\n    width: size.width,\n    height: size.height,\n    marginTop: size.margin.top,\n    marginRight: size.margin.right,\n    marginBottom: size.margin.bottom,\n    marginLeft: size.margin.left,\n    flexShrink: '0',\n    flexGrow: '0',\n    pointerEvents: 'none',\n    transition: animate !== 'none' ? transitions.placeholder : null\n  };\n};\n\nfunction Placeholder(props) {\n  var animateOpenTimerRef = useRef(null);\n  var tryClearAnimateOpenTimer = useCallback(function () {\n    if (!animateOpenTimerRef.current) {\n      return;\n    }\n\n    clearTimeout(animateOpenTimerRef.current);\n    animateOpenTimerRef.current = null;\n  }, []);\n  var animate = props.animate,\n      onTransitionEnd = props.onTransitionEnd,\n      onClose = props.onClose,\n      contextId = props.contextId;\n\n  var _useState = useState(props.animate === 'open'),\n      isAnimatingOpenOnMount = _useState[0],\n      setIsAnimatingOpenOnMount = _useState[1];\n\n  useEffect(function () {\n    if (!isAnimatingOpenOnMount) {\n      return noop$2;\n    }\n\n    if (animate !== 'open') {\n      tryClearAnimateOpenTimer();\n      setIsAnimatingOpenOnMount(false);\n      return noop$2;\n    }\n\n    if (animateOpenTimerRef.current) {\n      return noop$2;\n    }\n\n    animateOpenTimerRef.current = setTimeout(function () {\n      animateOpenTimerRef.current = null;\n      setIsAnimatingOpenOnMount(false);\n    });\n    return tryClearAnimateOpenTimer;\n  }, [animate, isAnimatingOpenOnMount, tryClearAnimateOpenTimer]);\n  var onSizeChangeEnd = useCallback(function (event) {\n    if (event.propertyName !== 'height') {\n      return;\n    }\n\n    onTransitionEnd();\n\n    if (animate === 'close') {\n      onClose();\n    }\n  }, [animate, onClose, onTransitionEnd]);\n  var style = getStyle({\n    isAnimatingOpenOnMount: isAnimatingOpenOnMount,\n    animate: props.animate,\n    placeholder: props.placeholder\n  });\n  return React.createElement(props.placeholder.tagName, {\n    style: style,\n    'data-rbd-placeholder-context-id': contextId,\n    onTransitionEnd: onSizeChangeEnd,\n    ref: props.innerRef\n  });\n}\n\nvar Placeholder$1 = React.memo(Placeholder);\n\nvar DroppableContext = React.createContext(null);\n\nfunction checkIsValidInnerRef(el) {\n  !(el && isHtmlElement(el)) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"\\n    provided.innerRef has not been provided with a HTMLElement.\\n\\n    You can find a guide on using the innerRef callback functions at:\\n    https://github.com/atlassian/react-beautiful-dnd/blob/master/docs/guides/using-inner-ref.md\\n  \") : invariant(false) : void 0;\n}\n\nfunction isBoolean(value) {\n  return typeof value === 'boolean';\n}\n\nfunction runChecks(args, checks) {\n  checks.forEach(function (check) {\n    return check(args);\n  });\n}\n\nvar shared = [function required(_ref) {\n  var props = _ref.props;\n  !props.droppableId ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'A Droppable requires a droppableId prop') : invariant(false) : void 0;\n  !(typeof props.droppableId === 'string') ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"A Droppable requires a [string] droppableId. Provided: [\" + typeof props.droppableId + \"]\") : invariant(false) : void 0;\n}, function _boolean(_ref2) {\n  var props = _ref2.props;\n  !isBoolean(props.isDropDisabled) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'isDropDisabled must be a boolean') : invariant(false) : void 0;\n  !isBoolean(props.isCombineEnabled) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'isCombineEnabled must be a boolean') : invariant(false) : void 0;\n  !isBoolean(props.ignoreContainerClipping) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'ignoreContainerClipping must be a boolean') : invariant(false) : void 0;\n}, function ref(_ref3) {\n  var getDroppableRef = _ref3.getDroppableRef;\n  checkIsValidInnerRef(getDroppableRef());\n}];\nvar standard = [function placeholder(_ref4) {\n  var props = _ref4.props,\n      getPlaceholderRef = _ref4.getPlaceholderRef;\n\n  if (!props.placeholder) {\n    return;\n  }\n\n  var ref = getPlaceholderRef();\n\n  if (ref) {\n    return;\n  }\n\n  process.env.NODE_ENV !== \"production\" ? warning(\"\\n      Droppable setup issue [droppableId: \\\"\" + props.droppableId + \"\\\"]:\\n      DroppableProvided > placeholder could not be found.\\n\\n      Please be sure to add the {provided.placeholder} React Node as a child of your Droppable.\\n      More information: https://github.com/atlassian/react-beautiful-dnd/blob/master/docs/api/droppable.md\\n    \") : void 0;\n}];\nvar virtual = [function hasClone(_ref5) {\n  var props = _ref5.props;\n  !props.renderClone ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Must provide a clone render function (renderClone) for virtual lists') : invariant(false) : void 0;\n}, function hasNoPlaceholder(_ref6) {\n  var getPlaceholderRef = _ref6.getPlaceholderRef;\n  !!getPlaceholderRef() ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Expected virtual list to not have a placeholder') : invariant(false) : void 0;\n}];\nfunction useValidation(args) {\n  useDevSetupWarning(function () {\n    runChecks(args, shared);\n\n    if (args.props.mode === 'standard') {\n      runChecks(args, standard);\n    }\n\n    if (args.props.mode === 'virtual') {\n      runChecks(args, virtual);\n    }\n  });\n}\n\nvar AnimateInOut = function (_React$PureComponent) {\n  _inheritsLoose(AnimateInOut, _React$PureComponent);\n\n  function AnimateInOut() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _React$PureComponent.call.apply(_React$PureComponent, [this].concat(args)) || this;\n    _this.state = {\n      isVisible: Boolean(_this.props.on),\n      data: _this.props.on,\n      animate: _this.props.shouldAnimate && _this.props.on ? 'open' : 'none'\n    };\n\n    _this.onClose = function () {\n      if (_this.state.animate !== 'close') {\n        return;\n      }\n\n      _this.setState({\n        isVisible: false\n      });\n    };\n\n    return _this;\n  }\n\n  AnimateInOut.getDerivedStateFromProps = function getDerivedStateFromProps(props, state) {\n    if (!props.shouldAnimate) {\n      return {\n        isVisible: Boolean(props.on),\n        data: props.on,\n        animate: 'none'\n      };\n    }\n\n    if (props.on) {\n      return {\n        isVisible: true,\n        data: props.on,\n        animate: 'open'\n      };\n    }\n\n    if (state.isVisible) {\n      return {\n        isVisible: true,\n        data: state.data,\n        animate: 'close'\n      };\n    }\n\n    return {\n      isVisible: false,\n      animate: 'close',\n      data: null\n    };\n  };\n\n  var _proto = AnimateInOut.prototype;\n\n  _proto.render = function render() {\n    if (!this.state.isVisible) {\n      return null;\n    }\n\n    var provided = {\n      onClose: this.onClose,\n      data: this.state.data,\n      animate: this.state.animate\n    };\n    return this.props.children(provided);\n  };\n\n  return AnimateInOut;\n}(React.PureComponent);\n\nvar zIndexOptions = {\n  dragging: 5000,\n  dropAnimating: 4500\n};\n\nvar getDraggingTransition = function getDraggingTransition(shouldAnimateDragMovement, dropping) {\n  if (dropping) {\n    return transitions.drop(dropping.duration);\n  }\n\n  if (shouldAnimateDragMovement) {\n    return transitions.snap;\n  }\n\n  return transitions.fluid;\n};\n\nvar getDraggingOpacity = function getDraggingOpacity(isCombining, isDropAnimating) {\n  if (!isCombining) {\n    return null;\n  }\n\n  return isDropAnimating ? combine.opacity.drop : combine.opacity.combining;\n};\n\nvar getShouldDraggingAnimate = function getShouldDraggingAnimate(dragging) {\n  if (dragging.forceShouldAnimate != null) {\n    return dragging.forceShouldAnimate;\n  }\n\n  return dragging.mode === 'SNAP';\n};\n\nfunction getDraggingStyle(dragging) {\n  var dimension = dragging.dimension;\n  var box = dimension.client;\n  var offset = dragging.offset,\n      combineWith = dragging.combineWith,\n      dropping = dragging.dropping;\n  var isCombining = Boolean(combineWith);\n  var shouldAnimate = getShouldDraggingAnimate(dragging);\n  var isDropAnimating = Boolean(dropping);\n  var transform = isDropAnimating ? transforms.drop(offset, isCombining) : transforms.moveTo(offset);\n  var style = {\n    position: 'fixed',\n    top: box.marginBox.top,\n    left: box.marginBox.left,\n    boxSizing: 'border-box',\n    width: box.borderBox.width,\n    height: box.borderBox.height,\n    transition: getDraggingTransition(shouldAnimate, dropping),\n    transform: transform,\n    opacity: getDraggingOpacity(isCombining, isDropAnimating),\n    zIndex: isDropAnimating ? zIndexOptions.dropAnimating : zIndexOptions.dragging,\n    pointerEvents: 'none'\n  };\n  return style;\n}\n\nfunction getSecondaryStyle(secondary) {\n  return {\n    transform: transforms.moveTo(secondary.offset),\n    transition: secondary.shouldAnimateDisplacement ? null : 'none'\n  };\n}\n\nfunction getStyle$1(mapped) {\n  return mapped.type === 'DRAGGING' ? getDraggingStyle(mapped) : getSecondaryStyle(mapped);\n}\n\nfunction getDimension$1(descriptor, el, windowScroll) {\n  if (windowScroll === void 0) {\n    windowScroll = origin;\n  }\n\n  var computedStyles = window.getComputedStyle(el);\n  var borderBox = el.getBoundingClientRect();\n  var client = calculateBox(borderBox, computedStyles);\n  var page = withScroll(client, windowScroll);\n  var placeholder = {\n    client: client,\n    tagName: el.tagName.toLowerCase(),\n    display: computedStyles.display\n  };\n  var displaceBy = {\n    x: client.marginBox.width,\n    y: client.marginBox.height\n  };\n  var dimension = {\n    descriptor: descriptor,\n    placeholder: placeholder,\n    displaceBy: displaceBy,\n    client: client,\n    page: page\n  };\n  return dimension;\n}\n\nfunction useDraggablePublisher(args) {\n  var uniqueId = useUniqueId('draggable');\n  var descriptor = args.descriptor,\n      registry = args.registry,\n      getDraggableRef = args.getDraggableRef,\n      canDragInteractiveElements = args.canDragInteractiveElements,\n      shouldRespectForcePress = args.shouldRespectForcePress,\n      isEnabled = args.isEnabled;\n  var options = useMemo(function () {\n    return {\n      canDragInteractiveElements: canDragInteractiveElements,\n      shouldRespectForcePress: shouldRespectForcePress,\n      isEnabled: isEnabled\n    };\n  }, [canDragInteractiveElements, isEnabled, shouldRespectForcePress]);\n  var getDimension = useCallback(function (windowScroll) {\n    var el = getDraggableRef();\n    !el ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot get dimension when no ref is set') : invariant(false) : void 0;\n    return getDimension$1(descriptor, el, windowScroll);\n  }, [descriptor, getDraggableRef]);\n  var entry = useMemo(function () {\n    return {\n      uniqueId: uniqueId,\n      descriptor: descriptor,\n      options: options,\n      getDimension: getDimension\n    };\n  }, [descriptor, getDimension, options, uniqueId]);\n  var publishedRef = useRef(entry);\n  var isFirstPublishRef = useRef(true);\n  useIsomorphicLayoutEffect(function () {\n    registry.draggable.register(publishedRef.current);\n    return function () {\n      return registry.draggable.unregister(publishedRef.current);\n    };\n  }, [registry.draggable]);\n  useIsomorphicLayoutEffect(function () {\n    if (isFirstPublishRef.current) {\n      isFirstPublishRef.current = false;\n      return;\n    }\n\n    var last = publishedRef.current;\n    publishedRef.current = entry;\n    registry.draggable.update(entry, last);\n  }, [entry, registry.draggable]);\n}\n\nfunction useValidation$1(props, contextId, getRef) {\n  useDevSetupWarning(function () {\n    function prefix(id) {\n      return \"Draggable[id: \" + id + \"]: \";\n    }\n\n    var id = props.draggableId;\n    !id ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Draggable requires a draggableId') : invariant(false) : void 0;\n    !(typeof id === 'string') ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Draggable requires a [string] draggableId.\\n      Provided: [type: \" + typeof id + \"] (value: \" + id + \")\") : invariant(false) : void 0;\n    !isInteger(props.index) ? process.env.NODE_ENV !== \"production\" ? invariant(false, prefix(id) + \" requires an integer index prop\") : invariant(false) : void 0;\n\n    if (props.mapped.type === 'DRAGGING') {\n      return;\n    }\n\n    checkIsValidInnerRef(getRef());\n\n    if (props.isEnabled) {\n      !findDragHandle(contextId, id) ? process.env.NODE_ENV !== \"production\" ? invariant(false, prefix(id) + \" Unable to find drag handle\") : invariant(false) : void 0;\n    }\n  });\n}\nfunction useClonePropValidation(isClone) {\n  useDev(function () {\n    var initialRef = useRef(isClone);\n    useDevSetupWarning(function () {\n      !(isClone === initialRef.current) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Draggable isClone prop value changed during component life') : invariant(false) : void 0;\n    }, [isClone]);\n  });\n}\n\nfunction preventHtml5Dnd(event) {\n  event.preventDefault();\n}\n\nfunction Draggable(props) {\n  var ref = useRef(null);\n  var setRef = useCallback(function (el) {\n    ref.current = el;\n  }, []);\n  var getRef = useCallback(function () {\n    return ref.current;\n  }, []);\n\n  var _useRequiredContext = useRequiredContext(AppContext),\n      contextId = _useRequiredContext.contextId,\n      dragHandleUsageInstructionsId = _useRequiredContext.dragHandleUsageInstructionsId,\n      registry = _useRequiredContext.registry;\n\n  var _useRequiredContext2 = useRequiredContext(DroppableContext),\n      type = _useRequiredContext2.type,\n      droppableId = _useRequiredContext2.droppableId;\n\n  var descriptor = useMemo(function () {\n    return {\n      id: props.draggableId,\n      index: props.index,\n      type: type,\n      droppableId: droppableId\n    };\n  }, [props.draggableId, props.index, type, droppableId]);\n  var children = props.children,\n      draggableId = props.draggableId,\n      isEnabled = props.isEnabled,\n      shouldRespectForcePress = props.shouldRespectForcePress,\n      canDragInteractiveElements = props.canDragInteractiveElements,\n      isClone = props.isClone,\n      mapped = props.mapped,\n      dropAnimationFinishedAction = props.dropAnimationFinished;\n  useValidation$1(props, contextId, getRef);\n  useClonePropValidation(isClone);\n\n  if (!isClone) {\n    var forPublisher = useMemo(function () {\n      return {\n        descriptor: descriptor,\n        registry: registry,\n        getDraggableRef: getRef,\n        canDragInteractiveElements: canDragInteractiveElements,\n        shouldRespectForcePress: shouldRespectForcePress,\n        isEnabled: isEnabled\n      };\n    }, [descriptor, registry, getRef, canDragInteractiveElements, shouldRespectForcePress, isEnabled]);\n    useDraggablePublisher(forPublisher);\n  }\n\n  var dragHandleProps = useMemo(function () {\n    return isEnabled ? {\n      tabIndex: 0,\n      role: 'button',\n      'aria-describedby': dragHandleUsageInstructionsId,\n      'data-rbd-drag-handle-draggable-id': draggableId,\n      'data-rbd-drag-handle-context-id': contextId,\n      draggable: false,\n      onDragStart: preventHtml5Dnd\n    } : null;\n  }, [contextId, dragHandleUsageInstructionsId, draggableId, isEnabled]);\n  var onMoveEnd = useCallback(function (event) {\n    if (mapped.type !== 'DRAGGING') {\n      return;\n    }\n\n    if (!mapped.dropping) {\n      return;\n    }\n\n    if (event.propertyName !== 'transform') {\n      return;\n    }\n\n    dropAnimationFinishedAction();\n  }, [dropAnimationFinishedAction, mapped]);\n  var provided = useMemo(function () {\n    var style = getStyle$1(mapped);\n    var onTransitionEnd = mapped.type === 'DRAGGING' && mapped.dropping ? onMoveEnd : null;\n    var result = {\n      innerRef: setRef,\n      draggableProps: {\n        'data-rbd-draggable-context-id': contextId,\n        'data-rbd-draggable-id': draggableId,\n        style: style,\n        onTransitionEnd: onTransitionEnd\n      },\n      dragHandleProps: dragHandleProps\n    };\n    return result;\n  }, [contextId, dragHandleProps, draggableId, mapped, onMoveEnd, setRef]);\n  var rubric = useMemo(function () {\n    return {\n      draggableId: descriptor.id,\n      type: descriptor.type,\n      source: {\n        index: descriptor.index,\n        droppableId: descriptor.droppableId\n      }\n    };\n  }, [descriptor.droppableId, descriptor.id, descriptor.index, descriptor.type]);\n  return children(provided, mapped.snapshot, rubric);\n}\n\nvar isStrictEqual = (function (a, b) {\n  return a === b;\n});\n\nvar whatIsDraggedOverFromResult = (function (result) {\n  var combine = result.combine,\n      destination = result.destination;\n\n  if (destination) {\n    return destination.droppableId;\n  }\n\n  if (combine) {\n    return combine.droppableId;\n  }\n\n  return null;\n});\n\nvar getCombineWithFromResult = function getCombineWithFromResult(result) {\n  return result.combine ? result.combine.draggableId : null;\n};\n\nvar getCombineWithFromImpact = function getCombineWithFromImpact(impact) {\n  return impact.at && impact.at.type === 'COMBINE' ? impact.at.combine.draggableId : null;\n};\n\nfunction getDraggableSelector() {\n  var memoizedOffset = memoizeOne(function (x, y) {\n    return {\n      x: x,\n      y: y\n    };\n  });\n  var getMemoizedSnapshot = memoizeOne(function (mode, isClone, draggingOver, combineWith, dropping) {\n    return {\n      isDragging: true,\n      isClone: isClone,\n      isDropAnimating: Boolean(dropping),\n      dropAnimation: dropping,\n      mode: mode,\n      draggingOver: draggingOver,\n      combineWith: combineWith,\n      combineTargetFor: null\n    };\n  });\n  var getMemoizedProps = memoizeOne(function (offset, mode, dimension, isClone, draggingOver, combineWith, forceShouldAnimate) {\n    return {\n      mapped: {\n        type: 'DRAGGING',\n        dropping: null,\n        draggingOver: draggingOver,\n        combineWith: combineWith,\n        mode: mode,\n        offset: offset,\n        dimension: dimension,\n        forceShouldAnimate: forceShouldAnimate,\n        snapshot: getMemoizedSnapshot(mode, isClone, draggingOver, combineWith, null)\n      }\n    };\n  });\n\n  var selector = function selector(state, ownProps) {\n    if (state.isDragging) {\n      if (state.critical.draggable.id !== ownProps.draggableId) {\n        return null;\n      }\n\n      var offset = state.current.client.offset;\n      var dimension = state.dimensions.draggables[ownProps.draggableId];\n      var draggingOver = whatIsDraggedOver(state.impact);\n      var combineWith = getCombineWithFromImpact(state.impact);\n      var forceShouldAnimate = state.forceShouldAnimate;\n      return getMemoizedProps(memoizedOffset(offset.x, offset.y), state.movementMode, dimension, ownProps.isClone, draggingOver, combineWith, forceShouldAnimate);\n    }\n\n    if (state.phase === 'DROP_ANIMATING') {\n      var completed = state.completed;\n\n      if (completed.result.draggableId !== ownProps.draggableId) {\n        return null;\n      }\n\n      var isClone = ownProps.isClone;\n      var _dimension = state.dimensions.draggables[ownProps.draggableId];\n      var result = completed.result;\n      var mode = result.mode;\n\n      var _draggingOver = whatIsDraggedOverFromResult(result);\n\n      var _combineWith = getCombineWithFromResult(result);\n\n      var duration = state.dropDuration;\n      var dropping = {\n        duration: duration,\n        curve: curves.drop,\n        moveTo: state.newHomeClientOffset,\n        opacity: _combineWith ? combine.opacity.drop : null,\n        scale: _combineWith ? combine.scale.drop : null\n      };\n      return {\n        mapped: {\n          type: 'DRAGGING',\n          offset: state.newHomeClientOffset,\n          dimension: _dimension,\n          dropping: dropping,\n          draggingOver: _draggingOver,\n          combineWith: _combineWith,\n          mode: mode,\n          forceShouldAnimate: null,\n          snapshot: getMemoizedSnapshot(mode, isClone, _draggingOver, _combineWith, dropping)\n        }\n      };\n    }\n\n    return null;\n  };\n\n  return selector;\n}\n\nfunction getSecondarySnapshot(combineTargetFor) {\n  return {\n    isDragging: false,\n    isDropAnimating: false,\n    isClone: false,\n    dropAnimation: null,\n    mode: null,\n    draggingOver: null,\n    combineTargetFor: combineTargetFor,\n    combineWith: null\n  };\n}\n\nvar atRest = {\n  mapped: {\n    type: 'SECONDARY',\n    offset: origin,\n    combineTargetFor: null,\n    shouldAnimateDisplacement: true,\n    snapshot: getSecondarySnapshot(null)\n  }\n};\n\nfunction getSecondarySelector() {\n  var memoizedOffset = memoizeOne(function (x, y) {\n    return {\n      x: x,\n      y: y\n    };\n  });\n  var getMemoizedSnapshot = memoizeOne(getSecondarySnapshot);\n  var getMemoizedProps = memoizeOne(function (offset, combineTargetFor, shouldAnimateDisplacement) {\n    if (combineTargetFor === void 0) {\n      combineTargetFor = null;\n    }\n\n    return {\n      mapped: {\n        type: 'SECONDARY',\n        offset: offset,\n        combineTargetFor: combineTargetFor,\n        shouldAnimateDisplacement: shouldAnimateDisplacement,\n        snapshot: getMemoizedSnapshot(combineTargetFor)\n      }\n    };\n  });\n\n  var getFallback = function getFallback(combineTargetFor) {\n    return combineTargetFor ? getMemoizedProps(origin, combineTargetFor, true) : null;\n  };\n\n  var getProps = function getProps(ownId, draggingId, impact, afterCritical) {\n    var visualDisplacement = impact.displaced.visible[ownId];\n    var isAfterCriticalInVirtualList = Boolean(afterCritical.inVirtualList && afterCritical.effected[ownId]);\n    var combine = tryGetCombine(impact);\n    var combineTargetFor = combine && combine.draggableId === ownId ? draggingId : null;\n\n    if (!visualDisplacement) {\n      if (!isAfterCriticalInVirtualList) {\n        return getFallback(combineTargetFor);\n      }\n\n      if (impact.displaced.invisible[ownId]) {\n        return null;\n      }\n\n      var change = negate(afterCritical.displacedBy.point);\n\n      var _offset = memoizedOffset(change.x, change.y);\n\n      return getMemoizedProps(_offset, combineTargetFor, true);\n    }\n\n    if (isAfterCriticalInVirtualList) {\n      return getFallback(combineTargetFor);\n    }\n\n    var displaceBy = impact.displacedBy.point;\n    var offset = memoizedOffset(displaceBy.x, displaceBy.y);\n    return getMemoizedProps(offset, combineTargetFor, visualDisplacement.shouldAnimate);\n  };\n\n  var selector = function selector(state, ownProps) {\n    if (state.isDragging) {\n      if (state.critical.draggable.id === ownProps.draggableId) {\n        return null;\n      }\n\n      return getProps(ownProps.draggableId, state.critical.draggable.id, state.impact, state.afterCritical);\n    }\n\n    if (state.phase === 'DROP_ANIMATING') {\n      var completed = state.completed;\n\n      if (completed.result.draggableId === ownProps.draggableId) {\n        return null;\n      }\n\n      return getProps(ownProps.draggableId, completed.result.draggableId, completed.impact, completed.afterCritical);\n    }\n\n    return null;\n  };\n\n  return selector;\n}\n\nvar makeMapStateToProps = function makeMapStateToProps() {\n  var draggingSelector = getDraggableSelector();\n  var secondarySelector = getSecondarySelector();\n\n  var selector = function selector(state, ownProps) {\n    return draggingSelector(state, ownProps) || secondarySelector(state, ownProps) || atRest;\n  };\n\n  return selector;\n};\nvar mapDispatchToProps = {\n  dropAnimationFinished: dropAnimationFinished\n};\nvar ConnectedDraggable = connect(makeMapStateToProps, mapDispatchToProps, null, {\n  context: StoreContext,\n  pure: true,\n  areStatePropsEqual: isStrictEqual\n})(Draggable);\n\nfunction PrivateDraggable(props) {\n  var droppableContext = useRequiredContext(DroppableContext);\n  var isUsingCloneFor = droppableContext.isUsingCloneFor;\n\n  if (isUsingCloneFor === props.draggableId && !props.isClone) {\n    return null;\n  }\n\n  return React.createElement(ConnectedDraggable, props);\n}\nfunction PublicDraggable(props) {\n  var isEnabled = typeof props.isDragDisabled === 'boolean' ? !props.isDragDisabled : true;\n  var canDragInteractiveElements = Boolean(props.disableInteractiveElementBlocking);\n  var shouldRespectForcePress = Boolean(props.shouldRespectForcePress);\n  return React.createElement(PrivateDraggable, _extends({}, props, {\n    isClone: false,\n    isEnabled: isEnabled,\n    canDragInteractiveElements: canDragInteractiveElements,\n    shouldRespectForcePress: shouldRespectForcePress\n  }));\n}\n\nfunction Droppable(props) {\n  var appContext = useContext(AppContext);\n  !appContext ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Could not find app context') : invariant(false) : void 0;\n  var contextId = appContext.contextId,\n      isMovementAllowed = appContext.isMovementAllowed;\n  var droppableRef = useRef(null);\n  var placeholderRef = useRef(null);\n  var children = props.children,\n      droppableId = props.droppableId,\n      type = props.type,\n      mode = props.mode,\n      direction = props.direction,\n      ignoreContainerClipping = props.ignoreContainerClipping,\n      isDropDisabled = props.isDropDisabled,\n      isCombineEnabled = props.isCombineEnabled,\n      snapshot = props.snapshot,\n      useClone = props.useClone,\n      updateViewportMaxScroll = props.updateViewportMaxScroll,\n      getContainerForClone = props.getContainerForClone;\n  var getDroppableRef = useCallback(function () {\n    return droppableRef.current;\n  }, []);\n  var setDroppableRef = useCallback(function (value) {\n    droppableRef.current = value;\n  }, []);\n  var getPlaceholderRef = useCallback(function () {\n    return placeholderRef.current;\n  }, []);\n  var setPlaceholderRef = useCallback(function (value) {\n    placeholderRef.current = value;\n  }, []);\n  useValidation({\n    props: props,\n    getDroppableRef: getDroppableRef,\n    getPlaceholderRef: getPlaceholderRef\n  });\n  var onPlaceholderTransitionEnd = useCallback(function () {\n    if (isMovementAllowed()) {\n      updateViewportMaxScroll({\n        maxScroll: getMaxWindowScroll()\n      });\n    }\n  }, [isMovementAllowed, updateViewportMaxScroll]);\n  useDroppablePublisher({\n    droppableId: droppableId,\n    type: type,\n    mode: mode,\n    direction: direction,\n    isDropDisabled: isDropDisabled,\n    isCombineEnabled: isCombineEnabled,\n    ignoreContainerClipping: ignoreContainerClipping,\n    getDroppableRef: getDroppableRef\n  });\n  var placeholder = React.createElement(AnimateInOut, {\n    on: props.placeholder,\n    shouldAnimate: props.shouldAnimatePlaceholder\n  }, function (_ref) {\n    var onClose = _ref.onClose,\n        data = _ref.data,\n        animate = _ref.animate;\n    return React.createElement(Placeholder$1, {\n      placeholder: data,\n      onClose: onClose,\n      innerRef: setPlaceholderRef,\n      animate: animate,\n      contextId: contextId,\n      onTransitionEnd: onPlaceholderTransitionEnd\n    });\n  });\n  var provided = useMemo(function () {\n    return {\n      innerRef: setDroppableRef,\n      placeholder: placeholder,\n      droppableProps: {\n        'data-rbd-droppable-id': droppableId,\n        'data-rbd-droppable-context-id': contextId\n      }\n    };\n  }, [contextId, droppableId, placeholder, setDroppableRef]);\n  var isUsingCloneFor = useClone ? useClone.dragging.draggableId : null;\n  var droppableContext = useMemo(function () {\n    return {\n      droppableId: droppableId,\n      type: type,\n      isUsingCloneFor: isUsingCloneFor\n    };\n  }, [droppableId, isUsingCloneFor, type]);\n\n  function getClone() {\n    if (!useClone) {\n      return null;\n    }\n\n    var dragging = useClone.dragging,\n        render = useClone.render;\n    var node = React.createElement(PrivateDraggable, {\n      draggableId: dragging.draggableId,\n      index: dragging.source.index,\n      isClone: true,\n      isEnabled: true,\n      shouldRespectForcePress: false,\n      canDragInteractiveElements: true\n    }, function (draggableProvided, draggableSnapshot) {\n      return render(draggableProvided, draggableSnapshot, dragging);\n    });\n    return ReactDOM.createPortal(node, getContainerForClone());\n  }\n\n  return React.createElement(DroppableContext.Provider, {\n    value: droppableContext\n  }, children(provided, snapshot), getClone());\n}\n\nvar isMatchingType = function isMatchingType(type, critical) {\n  return type === critical.droppable.type;\n};\n\nvar getDraggable = function getDraggable(critical, dimensions) {\n  return dimensions.draggables[critical.draggable.id];\n};\n\nvar makeMapStateToProps$1 = function makeMapStateToProps() {\n  var idleWithAnimation = {\n    placeholder: null,\n    shouldAnimatePlaceholder: true,\n    snapshot: {\n      isDraggingOver: false,\n      draggingOverWith: null,\n      draggingFromThisWith: null,\n      isUsingPlaceholder: false\n    },\n    useClone: null\n  };\n\n  var idleWithoutAnimation = _extends({}, idleWithAnimation, {\n    shouldAnimatePlaceholder: false\n  });\n\n  var getDraggableRubric = memoizeOne(function (descriptor) {\n    return {\n      draggableId: descriptor.id,\n      type: descriptor.type,\n      source: {\n        index: descriptor.index,\n        droppableId: descriptor.droppableId\n      }\n    };\n  });\n  var getMapProps = memoizeOne(function (id, isEnabled, isDraggingOverForConsumer, isDraggingOverForImpact, dragging, renderClone) {\n    var draggableId = dragging.descriptor.id;\n    var isHome = dragging.descriptor.droppableId === id;\n\n    if (isHome) {\n      var useClone = renderClone ? {\n        render: renderClone,\n        dragging: getDraggableRubric(dragging.descriptor)\n      } : null;\n      var _snapshot = {\n        isDraggingOver: isDraggingOverForConsumer,\n        draggingOverWith: isDraggingOverForConsumer ? draggableId : null,\n        draggingFromThisWith: draggableId,\n        isUsingPlaceholder: true\n      };\n      return {\n        placeholder: dragging.placeholder,\n        shouldAnimatePlaceholder: false,\n        snapshot: _snapshot,\n        useClone: useClone\n      };\n    }\n\n    if (!isEnabled) {\n      return idleWithoutAnimation;\n    }\n\n    if (!isDraggingOverForImpact) {\n      return idleWithAnimation;\n    }\n\n    var snapshot = {\n      isDraggingOver: isDraggingOverForConsumer,\n      draggingOverWith: draggableId,\n      draggingFromThisWith: null,\n      isUsingPlaceholder: true\n    };\n    return {\n      placeholder: dragging.placeholder,\n      shouldAnimatePlaceholder: true,\n      snapshot: snapshot,\n      useClone: null\n    };\n  });\n\n  var selector = function selector(state, ownProps) {\n    var id = ownProps.droppableId;\n    var type = ownProps.type;\n    var isEnabled = !ownProps.isDropDisabled;\n    var renderClone = ownProps.renderClone;\n\n    if (state.isDragging) {\n      var critical = state.critical;\n\n      if (!isMatchingType(type, critical)) {\n        return idleWithoutAnimation;\n      }\n\n      var dragging = getDraggable(critical, state.dimensions);\n      var isDraggingOver = whatIsDraggedOver(state.impact) === id;\n      return getMapProps(id, isEnabled, isDraggingOver, isDraggingOver, dragging, renderClone);\n    }\n\n    if (state.phase === 'DROP_ANIMATING') {\n      var completed = state.completed;\n\n      if (!isMatchingType(type, completed.critical)) {\n        return idleWithoutAnimation;\n      }\n\n      var _dragging = getDraggable(completed.critical, state.dimensions);\n\n      return getMapProps(id, isEnabled, whatIsDraggedOverFromResult(completed.result) === id, whatIsDraggedOver(completed.impact) === id, _dragging, renderClone);\n    }\n\n    if (state.phase === 'IDLE' && state.completed && !state.shouldFlush) {\n      var _completed = state.completed;\n\n      if (!isMatchingType(type, _completed.critical)) {\n        return idleWithoutAnimation;\n      }\n\n      var wasOver = whatIsDraggedOver(_completed.impact) === id;\n      var wasCombining = Boolean(_completed.impact.at && _completed.impact.at.type === 'COMBINE');\n      var isHome = _completed.critical.droppable.id === id;\n\n      if (wasOver) {\n        return wasCombining ? idleWithAnimation : idleWithoutAnimation;\n      }\n\n      if (isHome) {\n        return idleWithAnimation;\n      }\n\n      return idleWithoutAnimation;\n    }\n\n    return idleWithoutAnimation;\n  };\n\n  return selector;\n};\nvar mapDispatchToProps$1 = {\n  updateViewportMaxScroll: updateViewportMaxScroll\n};\n\nfunction getBody() {\n  !document.body ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'document.body is not ready') : invariant(false) : void 0;\n  return document.body;\n}\n\nvar defaultProps = {\n  mode: 'standard',\n  type: 'DEFAULT',\n  direction: 'vertical',\n  isDropDisabled: false,\n  isCombineEnabled: false,\n  ignoreContainerClipping: false,\n  renderClone: null,\n  getContainerForClone: getBody\n};\nvar ConnectedDroppable = connect(makeMapStateToProps$1, mapDispatchToProps$1, null, {\n  context: StoreContext,\n  pure: true,\n  areStatePropsEqual: isStrictEqual\n})(Droppable);\nConnectedDroppable.defaultProps = defaultProps;\n\nexport { DragDropContext, PublicDraggable as Draggable, ConnectedDroppable as Droppable, resetServerContext, useKeyboardSensor, useMouseSensor, useTouchSensor };\n","import React, { Component } from 'react'\r\nimport './InsightCardView.less'\r\nimport { CloseOutlined } from '@ant-design/icons'\r\nimport Chart from '../../../../insight_charts/Chart';\r\nimport _, { forEach } from 'lodash';\r\nimport { originChartSize } from '../../../../constant/ChartSize';\r\nimport { genFactSentence } from '../../../../insight_charts/caption';\r\nimport { hightlightItem } from './helper';\r\nimport { findInsight, generateRecommendList } from '../../../../axios';\r\nimport * as d3 from 'd3';\r\nimport { Tooltip, message } from 'antd';\r\n\r\n\r\nexport default class InsightCardView extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.scriptRef = React.createRef();\r\n        this.state = {\r\n            fact: this.props.insightFact,\r\n            sentence: \"\",\r\n            requestRecommend: false,\r\n            isRequest: false,\r\n            isRequestInisght: false\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        const { insightSpec, factType, index, sequence, currentLocale, captionId, timeValue } = this.props\r\n        if (this.visNode) {\r\n            let vis = this.visNode.children[0];\r\n            if (vis) {\r\n                let chartType = this.props.factType\r\n                let x = 160 / originChartSize[chartType].width\r\n                let y = 100 / originChartSize[chartType].height\r\n                vis.style.transform = `scaleX(${x})scaleY(${y})`;\r\n            }\r\n        }\r\n\r\n        //generate ori caption\r\n        if (insightSpec !== \"empty\" && insightSpec !== undefined) {\r\n            let caption = genFactSentence(insightSpec.fact, sequence[index].oriBlock, factType, currentLocale, captionId, timeValue, sequence[index].action)\r\n            this.parseCaptionStyle(insightSpec.fact, caption, timeValue)\r\n        }\r\n\r\n        //------------计算滚动条的位置所需要的------------\r\n        //设置比例尺\r\n        //1900是画布的宽度\r\n        const { dataRange, columnsName, chartScale, chartMargin } = this.props\r\n        let chartWidth = Math.max(dataRange[1] * 2, 1000)\r\n\r\n        this.scale = d3.scaleLinear().domain(dataRange).range([60, chartWidth - chartMargin])\r\n        //计算每列的高度(参照origin.js中oneYLength的计算法则)\r\n        this.oneYLength = (120 * columnsName.length - 20) / columnsName.length\r\n\r\n\r\n    }\r\n    componentDidUpdate() {\r\n        if (this.visNode) {\r\n            let vis = this.visNode.children[0];\r\n            if (vis) {\r\n                let chartType = this.props.factType\r\n                let x = 160 / originChartSize[chartType].width\r\n                let y = 100 / originChartSize[chartType].height\r\n                vis.style.transform = `scaleX(${x})scaleY(${y})`;\r\n            }\r\n        }\r\n    }\r\n    calcuRecommendScrollLocation = (index) => {\r\n\r\n        const { columnsName, sequence } = this.props\r\n        if (sequence[index][\"spec\"] === \"empty\") return\r\n        let block = sequence[index][\"oriBlock\"]\r\n        let fields = []\r\n        let start = block[0].value[0].start\r\n        let end = block[0].value[0].end\r\n\r\n        for (let item in block) {\r\n            fields.push(block[item].field)\r\n        }\r\n        //fields只分两种:全部和单个\r\n\r\n        let position = columnsName.indexOf(fields[Math.floor(fields.length / 2)])\r\n        let divLeft = this.scale(start) + 30\r\n        let divWidth = this.scale(end) - this.scale(start)\r\n        let divTop = 15 + position * this.oneYLength\r\n        let divHeight = this.oneYLength * fields.length - 30\r\n        let boxWrapper = document.getElementById('time-seires-view')\r\n\r\n        let heightPx = window.getComputedStyle(boxWrapper, null).getPropertyValue('height')\r\n        let h = parseFloat(heightPx.substring(0, heightPx.length - 2))\r\n        let widthPx = window.getComputedStyle(boxWrapper, null).getPropertyValue('width')\r\n        let w = parseFloat(widthPx.substring(0, widthPx.length - 2))\r\n\r\n\r\n        boxWrapper.scrollTop = divTop + divHeight / 2 - h / 2;\r\n        boxWrapper.scrollLeft = divLeft + divWidth / 2 - w / 2;\r\n    }\r\n    deleteInsight = (e, index) => {\r\n        //仅剩一张时，不允许删除\r\n        if (this.props.sequence.length === 1) return\r\n\r\n        this.props.removeCard(index);\r\n        //防止触发外部的点击事件\r\n        e.stopPropagation();\r\n        setTimeout(() => {\r\n            //通知父组件，整个sequence list，告知当前删除的是哪一个card\r\n            this.props.deleteSequenceCard(index);\r\n        }, 100)\r\n\r\n    }\r\n\r\n\r\n    shouldComponentUpdate(nextProps) {\r\n        const { insightSpec, isSelected } = this.props\r\n        if (isSelected !== nextProps.isSelected) return true\r\n        let nextFact = nextProps.insightSpec[\"fact\"];\r\n        return !_.isEqual(insightSpec[\"fact\"], nextFact);\r\n    }\r\n    endEditing = () => {\r\n        let script = this.scriptRef.current.innerText;\r\n        this.changeCardIndexAndConfigure()\r\n\r\n    }\r\n    clickInsight = () => {\r\n        this.changeCardIndexAndConfigure()\r\n        this.findRecommendList()\r\n        // setTimeout(()=>{this.findRecommendList()},500)\r\n\r\n        // this.props.setSelectedCardIndex(this.props.index)\r\n        // this.props.setConfigureInsightColumns(this.props.selectedCardColumns)\r\n    }\r\n\r\n    findRecommendList = () => {\r\n        const { isRequest } = this.state\r\n        //当前index不为0，当前的推荐列表为空时才需要找\r\n        const { index, sequence, currentPopInsightList, selectedCardIndex } = this.props\r\n        //防止多次点击，多次请求\r\n        if (isRequest) {\r\n            // message.warning({ content: 'Requesting, please wait!', duration: 1, style: { marginTop: '35vh' } })\r\n            return\r\n        }\r\n\r\n        const { timeColumnName, file_url, task } = this.props\r\n        if (index !== 0 && sequence[index][\"recommendList\"] !== undefined && sequence[index][\"recommendList\"].length === 0) {\r\n            if (sequence[index - 1].spec === \"empty\") return\r\n            //传递前面所有信息\r\n            let previous = []\r\n            for (let i = 0; i < index; i++) {\r\n                let fields = []\r\n                let p = {}\r\n                for (let j = 0; j < sequence[i][\"oriBlock\"].length; j++) {\r\n                    fields.push(sequence[i][\"oriBlock\"][j].field)\r\n                }\r\n                let start_end = sequence[i][\"oriBlock\"][0][\"value\"][0]\r\n                p[\"location\"] = [start_end.start, start_end.end]\r\n                p[\"chosen_insight\"] = sequence[i][\"type\"]\r\n                p[\"fields\"] = fields\r\n                previous.push(p)\r\n            }\r\n            let current = {}\r\n            //传递当前卡片的\r\n            if (sequence[index].spec !== \"empty\") {\r\n                let fields = []\r\n                for (let i = 0; i < sequence[index][\"oriBlock\"].length; i++) {\r\n                    fields.push(sequence[index][\"oriBlock\"][i].field)\r\n                }\r\n                let start_end = sequence[index][\"oriBlock\"][0][\"value\"][0]\r\n                if (sequence[index].type === \"similarity\" || sequence[index].type === \"seasonality\" || sequence[index].type === \"frequent_pattern\") {\r\n                    start_end = sequence[index].spec.fact.focus[0].scope\r\n                }\r\n                current[\"location\"] = [start_end.start, start_end.end]\r\n                current[\"chosen_insight\"] = sequence[index][\"type\"]\r\n                current[\"fields\"] = fields\r\n            }\r\n            this.setState({ isRequest: true })\r\n            generateRecommendList(file_url, timeColumnName, task, previous, current).then(response => {\r\n                this.props.addRecommendList(index, response.data.recommendList)\r\n                this.setState({ isRequest: false })\r\n\r\n            }).catch(error => {\r\n                console.log('失败', error)\r\n                this.setState({ isRequest: false })\r\n                message.error({ content: 'Sorry, no recommendations found!', duration: 1, style: { marginTop: '35vh' } })\r\n            })\r\n\r\n        }\r\n    }\r\n\r\n    findInsightsOfUnderCard = (index) => {\r\n        const { isRequestInisght } = this.state\r\n        const { sequence, file_url, timeColumnName, segmentInsightsStorage } = this.props\r\n\r\n        if (isRequestInisght) return\r\n        let block = sequence[index].oriBlock\r\n        let field = []\r\n        let location = [block[0].value[0].start, block[0].value[0].end]\r\n        console.log(sequence[index])\r\n        if (sequence[index].type === \"similarity\" || sequence[index].type === \"seasonality\" || sequence[index].type === \"frequent_pattern\") {\r\n            location = sequence[index].spec.fact.focus[0].scope\r\n        }\r\n        for (let item in block) {\r\n            field.push(block[item].field)\r\n        }\r\n        // set current segment's pop insights\r\n        //TODO:之后可以改成访问API获取pop insight，而不是查表\r\n        let fieldStr = field.sort().toString()\r\n        let locationStr = location.sort().toString()\r\n        let segmentKey = fieldStr + '-' + locationStr\r\n        this.props.setCurrentPopInsights([])\r\n        if (!segmentInsightsStorage.hasOwnProperty(segmentKey)) {\r\n            this.setState({ isRequestInisght: true })\r\n            //请求api,response成功后再set current pop insights\r\n            findInsight(file_url, field, timeColumnName, location).then(response => {\r\n                // message.destroy()\r\n                // message.success({content:'Generate success!',duration:1,style:{ marginTop: '35vh'}})\r\n                this.setState({ isRequestInisght: false })\r\n\r\n                //判断是否有当前这张卡片的内容\r\n                let pop_insights = []\r\n                let insight_type = []\r\n                for (let item in response.data.insights) {\r\n                    insight_type.push(response.data.insights[item].type)\r\n                }\r\n                if (!insight_type.includes(sequence[index].type)) {\r\n                    pop_insights = [{ \"spec\": sequence[index].spec, \"type\": sequence[index].type, \"action\": sequence[index].hasOwnProperty(\"action\") ? sequence[index].action : -1 }].concat(response.data.insights)\r\n                    this.props.setCurrentPopInsights(pop_insights)\r\n                } else {\r\n                    pop_insights = response.data.insights\r\n                    this.props.setCurrentPopInsights(pop_insights)\r\n                }\r\n                this.props.addPopInsights(segmentKey, pop_insights)\r\n                // setTimeout(()=>{this.findRecommendList()},500)\r\n                // this.props.setSequence(response.data)\r\n                // this.props.changeBtnState(\"Back\")\r\n\r\n            }).catch(error => {\r\n                console.log('失败', error)\r\n                this.setState({ isRequestInisght: false })\r\n                let pop_insights = [{\r\n                    \"spec\": sequence[index].spec,\r\n                    \"type\": sequence[index].type,\r\n                    \"action\": sequence[index].hasOwnProperty(\"action\") ? sequence[index].action : -1\r\n                }]\r\n                this.props.addPopInsights(segmentKey, pop_insights)\r\n                this.props.setCurrentPopInsights(pop_insights)\r\n                // message.error({ content: 'Sorry, no insights!', duration: 1, style: { marginTop: '35vh' } })\r\n            })\r\n\r\n        } else {\r\n            // this.props.setCurrentPopInsights(segmentInsightsStorage[segmentKey])\r\n            //throught key value set current pop insights\r\n            let pop_insights = []\r\n            let insight_type = []\r\n            for (let item in segmentInsightsStorage[segmentKey]) {\r\n                insight_type.push(segmentInsightsStorage[segmentKey][item].type)\r\n            }\r\n            if (!insight_type.includes(sequence[index].type)) {\r\n                pop_insights = [{ \"spec\": sequence[index].spec, \"type\": sequence[index].type, \"action\": sequence[index].hasOwnProperty(\"action\") ? sequence[index].action : -1 }].concat(segmentInsightsStorage[segmentKey])\r\n                this.props.addPopInsights(segmentKey, pop_insights)\r\n                this.props.setCurrentPopInsights(pop_insights)\r\n            } else {\r\n                this.props.setCurrentPopInsights(segmentInsightsStorage[segmentKey])\r\n            }\r\n        }\r\n    }\r\n    changeCardIndexAndConfigure = () => {\r\n        const { index, dataRange, sequence } = this.props\r\n        this.props.setSelectedCardIndex(index)\r\n        if (sequence[index][\"spec\"] !== \"empty\") {\r\n            this.findInsightsOfUnderCard(index)\r\n        }\r\n        this.calcuRecommendScrollLocation(index)\r\n\r\n    }\r\n    parseCaptionStyle(fact, caption, data) {\r\n        const { factType, index, sequence, currentLocale } = this.props\r\n        if (!this.scriptContent) {\r\n            return\r\n        }\r\n        if (data === undefined) {\r\n            return\r\n        }\r\n        let newScrpit = ''\r\n        let timeStr = ''\r\n        let blockValue = sequence[index][\"oriBlock\"][0][\"value\"][0]\r\n        if (factType === \"similarity\" || factType === \"frequent_pattern\" || factType === \"seasonality\") {\r\n            timeStr = data[blockValue.start] + `${currentLocale === \"en-US\" ? ' and ' : '到'}` + data[blockValue.end]\r\n        } else {\r\n            //TODO:如果子空间不为空，如果子空间为空则是整个区间范围\r\n            if (fact.subspace.length > 0) {\r\n                timeStr = data[fact.subspace[0]] + `${currentLocale === \"en-US\" ? ' and ' : '到'}` + data[fact.subspace[1]]\r\n            } else {\r\n                timeStr = data[0] + `${currentLocale === \"en-US\" ? ' and ' : '到'}` + data[data.length - 1]\r\n            }\r\n        }\r\n        if (caption.indexOf('timeline-highlight') === -1) {\r\n            newScrpit = hightlightItem(caption, timeStr)\r\n            newScrpit = hightlightItem(newScrpit, timeStr.replace('and', 'to'))\r\n        }\r\n        this.scriptContent.innerHTML = newScrpit\r\n        // return newScrpit\r\n    }\r\n    parseCaptionStyleToEmpty = () => {\r\n        if (!this.scriptContent) {\r\n            return\r\n        }\r\n        this.scriptContent.innerHTML = \"\"\r\n    }\r\n    render() {\r\n        const { insightSpec, factType, index, isSelected, currentLocale, captionId, timeValue, sequence } = this.props\r\n        let caption = ''\r\n        if (insightSpec !== \"empty\" && insightSpec !== undefined) {\r\n            caption = genFactSentence(insightSpec.fact, sequence[index].oriBlock, factType, currentLocale, captionId, timeValue, sequence[index].action)\r\n            insightSpec.chart.id = 'senquence-' + index.toString()\r\n            insightSpec.chart.width = originChartSize[factType].width\r\n            insightSpec.chart.height = originChartSize[factType].height\r\n            insightSpec.chart.showTooltip = false\r\n        }\r\n        return (\r\n            <div\r\n                className='insight-card'\r\n                onClick={this.clickInsight}\r\n                style={{\r\n                    position: \"relative\",\r\n                    zIndex: 0,\r\n                    boxShadow: isSelected ? \"rgb(244, 158, 40) 0px 0px 0px 3px\" : \"rgb(0, 0 ,0) 0px 0px 0px 0px\"\r\n                }}>\r\n                <CloseOutlined\r\n                    style={{ fontSize: '14px' }}\r\n                    className='close-icon'\r\n                    onClick={(e) => this.deleteInsight(e, index)}\r\n                />\r\n                <div\r\n                    className=\"insight-preview\"\r\n                    ref={(node) => this.visNode = node}\r\n                    style={(factType === \"multivariate_outlier\") ? { overflowY: 'scroll', overflowX: 'hidden' } : null}\r\n                >\r\n                    {insightSpec === \"empty\" ? null : <Chart spec={insightSpec} />}\r\n                </div>\r\n                <Tooltip title={caption} style={{ wordBreak: 'break-all' }}>\r\n                    <div\r\n                        style={{ zIndex: 10 }}\r\n                        ref={(current) => this.scriptContent = current}\r\n                        className=\"script-preview\"\r\n                        // contentEditable={isSelected}\r\n                        suppressContentEditableWarning={true}\r\n                    // onBlur={this.endEditing}\r\n                    >\r\n                        {(insightSpec !== \"empty\" && insightSpec !== undefined) ? this.parseCaptionStyle(insightSpec.fact, caption, timeValue) : this.parseCaptionStyleToEmpty()}\r\n                    </div>\r\n                </Tooltip>\r\n            </div >\r\n        )\r\n    }\r\n}\r\n","import { connect } from 'react-redux';\r\nimport * as seriesAction from '../../../../action/seriesAction'\r\nimport { sequence, task, currentPopInsightList, chartMargin, chartScale, columnsName, timeValue, dataRange, segmentInsightsStorage, timeColumnName } from '@/selector/series'\r\nimport { currentLocale } from '@/selector/user'\r\nimport { file_url } from '@/selector/story';\r\nimport InsightCardView from './InsightCardView';\r\nconst mapStateToProps = (state) => ({\r\n\r\n    chartScale: chartScale(state),\r\n    chartMargin: chartMargin(state),\r\n    timeValue: timeValue(state),\r\n    columnsName: columnsName(state),\r\n    sequence: sequence(state),\r\n    currentLocale: currentLocale(state),\r\n    task: task(state),\r\n    currentPopInsightList: currentPopInsightList(state),\r\n    // selectedCardColumns:selectedCardColumns(state),\r\n    // selectedCardType:selectedCardType(state),\r\n    // selectedCardSubspace:selectedCardSubspace(state),\r\n    dataRange: dataRange(state),\r\n    segmentInsightsStorage: segmentInsightsStorage(state),\r\n    timeColumnName: timeColumnName(state),\r\n    file_url: file_url(state)\r\n})\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n        addRecommendList: (index, recommendList) => dispatch(seriesAction.addRecommendList(index, recommendList)),\r\n        setCurrentPopInsights: (insights) => dispatch(seriesAction.setCurrentPopInsights(insights)),\r\n        addPopInsights: (segment_key, segment_insights) => dispatch(seriesAction.addPopInsights(segment_key, segment_insights)),\r\n        removeCard: (index) => dispatch(seriesAction.removeCard(index)),\r\n        setSelectedCardIndex: (index) => dispatch(seriesAction.setSelectedCardIndex(index)),\r\n        setConfigureInsightColumns: (columns) => dispatch(seriesAction.setConfigureInsightColumns(columns)),\r\n        setConfigureInsightTime: (start, end) => dispatch(seriesAction.setConfigureInsightTime(start, end)),\r\n        setConfigureInsightType: (type) => dispatch(seriesAction.setConfigureInsightType(type)),\r\n        setConfigureInsightBreakdown: (breakdown) => dispatch(seriesAction.setConfigureInsightBreakdown(breakdown)),\r\n    }\r\n\r\n}\r\nexport default connect(mapStateToProps, mapDispatchToProps)(InsightCardView);","export default [\r\n    { spec: getSpecByType(\"outstanding\"), type: \"outstanding\" },\r\n    { spec: getSpecByType(\"frequent_pattern\"), type: \"frequent_pattern\" },\r\n    { spec: getSpecByType(\"autocorrelation\"), type: \"autocorrelation\" },\r\n    { spec: getSpecByType(\"multivariate_outlier\"), type: \"multivariate_outlier\" },\r\n    { spec: getSpecByType(\"multivariate_distribution\"), type: \"multivariate_distribution\" },\r\n    { spec: getSpecByType(\"univariate_outlier\"), type: \"univariate_outlier\" }\r\n]\r\nfunction getSpecByType(type) {\r\n    let oriSpec = require('../insight_charts/spec/' + type + '.json');\r\n    let spec = _.cloneDeep(oriSpec);\r\n    return spec\r\n}","import React, { Component } from 'react'\r\nimport './SequenceView.less'\r\nimport { DragDropContext, Droppable, Draggable } from 'react-beautiful-dnd'\r\nimport { DropTarget } from 'react-dnd'\r\nimport InsightCardView from './InsightCardView'\r\nimport { findInsight, generateRecommendList } from '../../../axios'\r\nimport * as d3 from 'd3';\r\nimport StaticPopInsights from '../../../constant/StaticPopInsights'\r\n\r\nconst Types = {\r\n    CARD: 'card'\r\n}\r\n\r\nconst cardDropTarget = {\r\n    hover(props, monitor, component) {\r\n        let pos = monitor.getClientOffset();\r\n    },\r\n\r\n    drop(props, monitor, component) {\r\n        if (monitor.didDrop()) {\r\n            return\r\n        }\r\n        component.props.setHoverIndex(-1);\r\n        let pos = monitor.getClientOffset();\r\n        return pos;\r\n    }\r\n}\r\nconst getListStyle = isDraggingOver => ({\r\n    // background: isDraggingOver ? 'lightblue' : 'lightgrey',\r\n    display: 'flex',\r\n    overflowX: 'scroll',\r\n    overflowY: 'hidden'\r\n});\r\nfunction collect(connect, monitor) {\r\n    return {\r\n        // Call this function inside render()\r\n        // to let React DnD handle the drag events:\r\n        connectDropTarget: connect.dropTarget(),\r\n        // You can ask the monitor about the current drag state:\r\n        isOver: monitor.isOver(),\r\n        // isOverCurrent: monitor.isOver({ shallow: true }),\r\n        canDrop: monitor.canDrop(),\r\n        // itemType: monitor.getItemType()\r\n    }\r\n}\r\n\r\nclass SequenceView extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            dragId: 0\r\n        }\r\n        this.deleteSequenceCard = this.deleteSequenceCard.bind(this)\r\n    }\r\n    componentDidMount() {\r\n        if (this.props.sequence.length > 0) {\r\n            this.props.setSelectedCardIndex(0)\r\n            this.findInsightsOfUnderCard(0)\r\n        }\r\n        //------------计算滚动条的位置所需要的------------\r\n        //设置比例尺\r\n        //1900是画布的宽度\r\n        const { dataRange, columnsName, chartScale, chartMargin } = this.props\r\n        let chartWidth = Math.max(dataRange[1] * 2, 1000)\r\n\r\n        this.scale = d3.scaleLinear().domain(dataRange).range([60, chartWidth - chartMargin])\r\n        //计算每列的高度(参照origin.js中oneYLength的计算法则)\r\n        this.oneYLength = (120 * columnsName.length - 20) / columnsName.length\r\n\r\n        //设置最初的滑动条的位置\r\n        this.calcuRecommendScrollLocation(0)\r\n        // //Todo:需要删除\r\n        // this.props.setCurrentPopInsights(StaticPopInsights)\r\n        // this.props.setPopInsightCardState(true)\r\n    }\r\n    findRecommendList = (index) => {\r\n        //当前index不为0，当前的推荐列表为空时才需要找\r\n        const { sequence, timeColumnName, file_url, task } = this.props\r\n        if (index >= sequence.length) {\r\n            index = sequence.length\r\n        }\r\n        if (!sequence[index].hasOwnProperty(\"recommendList\")) return\r\n        if (index !== 0 && sequence[index][\"recommendList\"] !== undefined && sequence[index][\"recommendList\"].length === 0) {\r\n            if (sequence[index - 1].spec === \"empty\") return\r\n\r\n            //传递前面所有信息\r\n            let previous = []\r\n            for (let i = 0; i < index; i++) {\r\n                let fields = []\r\n                let p = {}\r\n                for (let j = 0; j < sequence[i][\"oriBlock\"].length; j++) {\r\n                    fields.push(sequence[i][\"oriBlock\"][j].field)\r\n                }\r\n                let start_end = sequence[i][\"oriBlock\"][0][\"value\"][0]\r\n                p[\"location\"] = [start_end.start, start_end.end]\r\n                p[\"chosen_insight\"] = sequence[i][\"type\"]\r\n                p[\"fields\"] = fields\r\n                previous.push(p)\r\n            }\r\n\r\n            let current = {}\r\n            //传递当前卡片的\r\n            if (sequence[index].spec !== \"empty\") {\r\n                let fields = []\r\n                for (let i = 0; i < sequence[index][\"oriBlock\"].length; i++) {\r\n                    fields.push(sequence[index][\"oriBlock\"][i].field)\r\n                }\r\n                let start_end = sequence[index][\"oriBlock\"][0][\"value\"][0]\r\n                if (sequence[index].type === \"similarity\" || sequence[index].type === \"seasonality\" || sequence[index].type === \"frequent_pattern\") {\r\n                    start_end = sequence[index].spec.fact.focus[0].scope\r\n                }\r\n                current[\"location\"] = [start_end.start, start_end.end]\r\n                current[\"chosen_insight\"] = sequence[index][\"type\"]\r\n                current[\"fields\"] = fields\r\n            }\r\n\r\n            // todo\r\n            generateRecommendList(file_url, timeColumnName, task, previous, current).then(response => {\r\n                this.props.addRecommendList(index, response.data.recommendList)\r\n                this.setState({ isRequest: false })\r\n                console.log(response.data.recommendList)\r\n            }).catch(error => {\r\n                console.log('失败', error)\r\n                this.setState({ isRequest: false })\r\n            })\r\n\r\n        }\r\n    }\r\n    calcuRecommendScrollLocation = (index) => {\r\n\r\n        const { columnsName, sequence } = this.props\r\n        if (sequence[index][\"spec\"] === \"empty\") return\r\n        let block = sequence[index][\"oriBlock\"]\r\n        let fields = []\r\n        let start = block[0].value[0].start\r\n        let end = block[0].value[0].end\r\n\r\n        for (let item in block) {\r\n            fields.push(block[item].field)\r\n        }\r\n        //fields只分两种:全部和单个\r\n\r\n        let position = columnsName.indexOf(fields[Math.floor(fields.length / 2)])\r\n        let divLeft = this.scale(start) + 30\r\n        let divWidth = this.scale(end) - this.scale(start)\r\n        let divTop = 15 + position * this.oneYLength\r\n        let divHeight = this.oneYLength * fields.length - 30\r\n        let boxWrapper = document.getElementById('time-seires-view')\r\n\r\n        let heightPx = window.getComputedStyle(boxWrapper, null).getPropertyValue('height')\r\n        let h = parseFloat(heightPx.substring(0, heightPx.length - 2))\r\n        let widthPx = window.getComputedStyle(boxWrapper, null).getPropertyValue('width')\r\n        let w = parseFloat(widthPx.substring(0, widthPx.length - 2))\r\n\r\n\r\n        boxWrapper.scrollTop = divTop + divHeight / 2 - h / 2;\r\n        boxWrapper.scrollLeft = divLeft + divWidth / 2 - w / 2;\r\n    }\r\n    // //渲染时，保证不会总是重复渲染\r\n    // shouldComponentUpdate(nextProps){\r\n    //     // if(!_.isEqual(nextProps.hoverFactIndex,this.props.hoverFactIndex)) return true\r\n    //     // if(_.isEqual(nextProps.facts,this.props.facts)&&(_.isEqual(nextProps.selectedFactIndex,this.props.selectedFactIndex))) return false\r\n    //     // return true\r\n    // }\r\n    deleteSequenceCard = (index) => {\r\n        const { sequence } = this.props\r\n        //如果删除的是最后一张卡片，那么当前选择的就是倒数第二张卡片\r\n        if (index === sequence.length) {\r\n            this.props.setSelectedCardIndex(index - 1)\r\n            this.calcuRecommendScrollLocation(index - 1)\r\n        } else {\r\n            //如果删除的不是最后一张，那么选择的还是当前这个位置的卡片\r\n            this.props.setSelectedCardIndex(index)\r\n            setTimeout(() => {\r\n                this.calcuRecommendScrollLocation(index)\r\n            }, 1000);\r\n        }\r\n        this.findRecommendList(index)\r\n        // this.updateConfigurePannel()\r\n    }\r\n    onDragStart = (result) => {\r\n        this.setState({ dragId: result.draggableId })\r\n        //this.props.selectFact(result.source.index)\r\n    }\r\n    onDragEnd = (result) => {\r\n        const { sequence } = this.props\r\n        // dropped outside the list\r\n        if (!result.destination) {\r\n            return;\r\n        }\r\n        if (parseInt(this.state.dragId) !== result.destination.index) {\r\n            this.props.changeCardLocation(parseInt(this.state.dragId), result.destination.index);\r\n            this.props.setSelectedCardIndex(result.destination.index)\r\n            if (sequence[result.destination.index].spec !== \"empty\") {\r\n                this.props.addRecommendList(result.destination.index, [])\r\n                this.props.addRecommendList(parseInt(this.state.dragId), [])\r\n                this.findInsightsOfUnderCard(result.destination.index)\r\n                setTimeout(() => { this.findRecommendList(result.destination.index) }, 500)\r\n            }\r\n            setTimeout(() => {\r\n                this.calcuRecommendScrollLocation(result.destination.index)\r\n            }, 300)\r\n\r\n        }\r\n\r\n        // this.updateConfigurePannel()\r\n        //TODO\r\n    }\r\n    findInsightsOfUnderCard = (index) => {\r\n        const { sequence, file_url, timeColumnName, segmentInsightsStorage } = this.props\r\n        if (sequence[index] === undefined) return\r\n        console.log(sequence[index])\r\n        let block = sequence[index].oriBlock\r\n        let field = []\r\n        let location = [block[0].value[0].start, block[0].value[0].end]\r\n        if (sequence[index].type === \"similarity\" || sequence[index].type === \"seasonality\" || sequence[index].type === \"frequent_pattern\") {\r\n            location = sequence[index].spec.fact.focus[0].scope\r\n        }\r\n        for (let item in block) {\r\n            field.push(block[item].field)\r\n        }\r\n        // set current segment's pop insights\r\n        //TODO:之后可以改成访问API获取pop insight，而不是查表\r\n        let fieldStr = field.sort().toString()\r\n        let locationStr = location.sort().toString()\r\n        let segmentKey = fieldStr + '-' + locationStr\r\n        if (!segmentInsightsStorage.hasOwnProperty(segmentKey)) {\r\n            //请求api,response成功后再set current pop insights\r\n            findInsight(file_url, field, timeColumnName, location).then(response => {\r\n                // message.destroy()\r\n                // message.success({content:'Generate success!',duration:1,style:{ marginTop: '35vh'}})\r\n                // this.props.addPopInsights(segmentKey,response.data.insights)\r\n                // this.props.setCurrentPopInsights(response.data.insights)\r\n\r\n                let pop_insights = []\r\n                let insight_type = []\r\n                for (let item in response.data.insights) {\r\n                    insight_type.push(response.data.insights[item].type)\r\n                }\r\n                if (!insight_type.includes(sequence[index].type)) {\r\n                    pop_insights = [{ \"spec\": sequence[index].spec, \"type\": sequence[index].type, \"action\": sequence[index].hasOwnProperty(\"action\") ? sequence[index].action : -1 }].concat(response.data.insights)\r\n                    this.props.setCurrentPopInsights(pop_insights)\r\n                } else {\r\n                    pop_insights = response.data.insights\r\n                    this.props.setCurrentPopInsights(pop_insights)\r\n                }\r\n                this.props.addPopInsights(segmentKey, pop_insights)\r\n\r\n            }).catch(error => {\r\n                console.log('失败', error)\r\n                let pop_insights = [{\r\n                    \"spec\": sequence[index].spec,\r\n                    \"type\": sequence[index].type,\r\n                    \"action\": sequence[index].hasOwnProperty(\"action\") ? sequence[index].action : -1\r\n                }]\r\n                this.props.addPopInsights(segmentKey, pop_insights)\r\n                this.props.setCurrentPopInsights(pop_insights)\r\n            })\r\n\r\n        } else {\r\n            // this.props.setCurrentPopInsights(segmentInsightsStorage[segmentKey])\r\n            let pop_insights = []\r\n            let insight_type = []\r\n            for (let item in segmentInsightsStorage[segmentKey]) {\r\n                insight_type.push(segmentInsightsStorage[segmentKey][item].type)\r\n            }\r\n            if (!insight_type.includes(sequence[index].type)) {\r\n                pop_insights = [{ \"spec\": sequence[index].spec, \"type\": sequence[index].type, \"action\": sequence[index].hasOwnProperty(\"action\") ? sequence[index].action : -1 }].concat(segmentInsightsStorage[segmentKey])\r\n                this.props.addPopInsights(segmentKey, pop_insights)\r\n                this.props.setCurrentPopInsights(pop_insights)\r\n            } else {\r\n                this.props.setCurrentPopInsights(segmentInsightsStorage[segmentKey])\r\n            }\r\n            //throught key value set current pop insights\r\n        }\r\n    }\r\n\r\n\r\n    addEmptyInsight = (insert) => {\r\n        // if(insert===sequence.length){\r\n        //     //发起请求获取redundantlist\r\n        // }\r\n        // else if(sequence[insert][\"recommendList\"]!==undefined&&sequence[insert][\"recommendList\"].length==0){\r\n        //     //发起请求，\r\n        // }\r\n        // //先判断当前的卡片位置的recommendList是否为空\r\n        // //然后请求当前位置的卡片的recommendList,如果是最后一张，请求保存为redundant_list\r\n        this.props.addEmptyCard(insert)\r\n        this.props.setSelectedCardIndex(insert)\r\n        setTimeout(() => { this.findRecommendList(insert) }, 2000)\r\n        // setTimeout(()=>{this.findInsightsOfUnderCard(insert)},2000)\r\n    }\r\n\r\n    render() {\r\n        const { connectDropTarget, sequence, selectedCardIndex } = this.props\r\n        let isDragDisabled = false;\r\n        return connectDropTarget(\r\n            <div style={{ position: 'relative', display: 'flex', flexDirection: \"row\", height: \"100%\", width: \"100%\" }}>\r\n                <DragDropContext onDragStart={this.onDragStart} onDragEnd={this.onDragEnd}>\r\n                    <Droppable droppableId=\"sequenceline\" direction=\"horizontal\" >\r\n                        {(provided, snapshot) => (\r\n                            <div\r\n                                ref={provided.innerRef}\r\n                                {...provided.droppableProps}\r\n                                style={getListStyle(snapshot.isDraggingOver)}>\r\n                                {sequence.map(function (insight, index) {\r\n                                    if (insight.spec) {\r\n                                        return <Draggable key={index} index={index} draggableId={index.toString()} isDragDisabled={isDragDisabled}>\r\n                                            {(provided, snapshot) => (\r\n                                                <div\r\n                                                    ref={provided.innerRef}\r\n                                                    {...provided.draggableProps}\r\n                                                    {...provided.dragHandleProps}>\r\n                                                    <InsightCardView\r\n                                                        deleteSequenceCard={this.deleteSequenceCard}\r\n                                                        key={index}\r\n                                                        index={index}\r\n                                                        insightSpec={insight.spec}\r\n                                                        captionId={insight.captionId}\r\n                                                        factType={insight.type}\r\n                                                        isSelected={selectedCardIndex === index}\r\n                                                        {...this.props}\r\n                                                    />\r\n                                                    <div className=\"add-btn\" style={{ display: index + 1 === sequence.length ? 'none' : 'flex' }}>\r\n                                                        <div className=\"add-next-insight\" onClick={sequence.length < 15 ? () => this.addEmptyInsight(index + 1) : null}></div>\r\n                                                    </div>\r\n                                                </div>\r\n                                            )}\r\n\r\n                                        </Draggable>\r\n                                    }\r\n                                }.bind(this))}\r\n                                {provided.placeholder}\r\n                            </div>\r\n                        )}\r\n                    </Droppable>\r\n                </DragDropContext>\r\n                <div className=\"final-add-btn\" style={{ display: sequence.length ? \"flex\" : \"none\" }}>\r\n                    <div className=\"add-next-insight\" onClick={sequence.length < 15 ? () => this.addEmptyInsight(sequence.length) : null}></div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default DropTarget(\r\n    Types.CARD,\r\n    cardDropTarget,\r\n    collect\r\n)(SequenceView)","import { connect } from 'react-redux';\r\nimport SequenceView from './SequenceView';\r\nimport * as seriesAction from '../../../action/seriesAction'\r\nimport { chartScale, task, chartMargin, sequence, columnsName, dataRange, selectedCardIndex, timeColumnName, segmentInsightsStorage } from '@/selector/series'\r\nimport { file_url } from '@/selector/story';\r\nconst mapStateToProps = (state) => ({\r\n    chartScale: chartScale(state),\r\n    chartMargin: chartMargin(state),\r\n    columnsName: columnsName(state),\r\n    sequence: sequence(state),\r\n    selectedCardIndex: selectedCardIndex(state),\r\n    // selectedCardColumns:selectedCardColumns(state),\r\n    // selectedCardType:selectedCardType(state),\r\n    // selectedCardSubspace:selectedCardSubspace(state),\r\n    segmentInsightsStorage: segmentInsightsStorage(state),\r\n    dataRange: dataRange(state),\r\n    timeColumnName: timeColumnName(state),\r\n    file_url: file_url(state),\r\n    task: task(state),\r\n\r\n})\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n        addRecommendList: (index, recommendList) => dispatch(seriesAction.addRecommendList(index, recommendList)),\r\n        setPopInsightCardState: (state) => dispatch(seriesAction.setPopInsightCardState(state)),\r\n        setCurrentPopInsights: (insights) => dispatch(seriesAction.setCurrentPopInsights(insights)),\r\n        addPopInsights: (segment_key, segment_insights) => dispatch(seriesAction.addPopInsights(segment_key, segment_insights)),\r\n        addEmptyCard: (index) => dispatch(seriesAction.addEmptyCard(index)),\r\n        changeCardLocation: (origin, target) => dispatch(seriesAction.changeCardLocation(origin, target)),\r\n        setSelectedCardIndex: (index) => dispatch(seriesAction.setSelectedCardIndex(index)),\r\n        setConfigureInsightColumns: (columns) => dispatch(seriesAction.setConfigureInsightColumns(columns)),\r\n        setConfigureInsightTime: (start, end) => dispatch(seriesAction.setConfigureInsightTime(start, end)),\r\n        setConfigureInsightType: (type) => dispatch(seriesAction.setConfigureInsightType(type)),\r\n        setConfigureInsightBreakdown: (breakdown) => dispatch(seriesAction.setConfigureInsightBreakdown(breakdown)),\r\n    }\r\n\r\n}\r\nexport default connect(mapStateToProps, mapDispatchToProps)(SequenceView);","import { connect } from 'react-redux';\r\nimport * as seriesAction from '../action/seriesAction'\r\nimport {isPopInsightCard,tooltipContainer} from '@/selector/series'\r\nimport Chart from './Chart';\r\n\r\nconst mapStateToProps = (state) => ({\r\n    isPopInsightCard: isPopInsightCard(state),\r\n    tooltipContainer:tooltipContainer(state)\r\n})\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n        setPopInsightCardState: (state) => dispatch(seriesAction.setPopInsightCardState(state))\r\n    }\r\n    \r\n}\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Chart);","import React, { Component } from 'react'\r\nimport './EditTimeView.less'\r\nimport { DndProvider } from 'react-dnd';\r\nimport { HTML5Backend } from 'react-dnd-html5-backend';\r\nimport VisOptionView from '../../../components/SeiresView/VisOptionView/VisOptionView';\r\nimport SeriesInsightsEditor from '../../../components/SeiresView/SeriesInsightsEditor';\r\nimport FileInformationView from '../../../components/SeiresView/FileInformationView/FileInformationView';\r\nimport HeaderOperatorView from '../../../components/SeiresView/HeaderOperatorView/HeaderOperatorView';\r\nimport SequenceView from '../../../components/SeiresView/SequenceView';\r\nimport Chart from '../../../insight_charts';\r\nimport PopInsightCard from '../../../components/SeiresView/SequenceView/PopInsightCard';\r\nimport { originChartSize } from '../../../constant/ChartSize';\r\nimport * as d3 from 'd3'\r\nimport { Slider } from 'antd';\r\n\r\n// let oneYLength=117.14285714285714\r\n\r\nexport default class EditTimeView extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            mainChart: this.initChart(),\r\n            getCurrentPopinsight: false,\r\n            isDragging: false,\r\n            isClicked: false,\r\n            clickedRight:false,\r\n            loc: \"none\",\r\n\r\n        }\r\n    }\r\n    componentDidUpdate(nextProps) {\r\n        const { btnState } = this.props\r\n        if (btnState !== nextProps.btnState) {\r\n            const { dataRange, columnsName, chartScale, chartMargin } = this.props\r\n            let chartWidth = Math.max(dataRange[1] * 2, 1000)\r\n           \r\n            this.scale = d3.scaleLinear().domain(dataRange).range([60, chartWidth - chartMargin])\r\n            this.reverseScale = d3.scaleLinear().domain([60, chartWidth - chartMargin]).range(dataRange)\r\n            //计算每列的高度(参照origin.js中oneYLength的计算法则)\r\n            this.oneYLength = (120 * columnsName.length - 20) / columnsName.length\r\n            this.setState({ mainChart: this.initChart() })\r\n        }\r\n    }\r\n    componentDidMount=()=>{\r\n        const antSlider=document.querySelector(\".ant-slider-track\")\r\n        console.log(antSlider)\r\n        let timer=null\r\n        let globalThis=this\r\n        antSlider.addEventListener('mouseover',function(){\r\n            timer=setTimeout(()=>{\r\n                globalThis.props.setPopInsightCardState(true)\r\n                globalThis.findInsightsOfUnderCard()\r\n            },3000)\r\n        })\r\n        antSlider.addEventListener('mouseout',function(){\r\n            clearTimeout(timer)\r\n        })\r\n    }\r\n    componentWillMount = () => {\r\n        const { dataRange, columnsName, chartScale, chartMargin } = this.props\r\n        let chartWidth = Math.max(dataRange[1] * 2, 1000)\r\n        this.scale = d3.scaleLinear().domain(dataRange).range([60, chartWidth - chartMargin])\r\n        this.reverseScale = d3.scaleLinear().domain([60, chartWidth - chartMargin]).range(dataRange)\r\n        //计算每列的高度(参照origin.js中oneYLength的计算法则)\r\n        this.oneYLength = (120 * columnsName.length - 20) / columnsName.length\r\n        \r\n    }\r\n    componentWillReceiveProps=(nextProps)=>{\r\n        document.addEventListener('keydown',this.handleHotkey)\r\n    }\r\n    componentWillUnmount=()=>{\r\n        document.removeEventListener('keydown',this.handleHotkey);\r\n    }\r\n    //init chart(from file details to create spec to draw chart)\r\n    initChart = () => {\r\n        const { originFileUrl, originSchema, originDataRange, originColumnName } = this.props\r\n        const { file_url, schema, timeColumnName, columnsName, dataRange, rightBtnState } = this.props\r\n        if (rightBtnState === 'Start') {\r\n            //get template\r\n            let oriSpec = require('../../../insight_charts/spec/origin.json');\r\n            let initSpec = _.cloneDeep(oriSpec);\r\n            //edit \"chart\" field\r\n            initSpec.chart.id = 'origin'\r\n            //TODO:不能把所有的数值都搞成这个大小，应该要有一个转换\r\n            if (originDataRange.length === 0) return {}\r\n            let chartWidth = originDataRange[1]\r\n            // if(dataRange[1]<1200)chartWidth=1200\r\n            if (chartWidth < 1200) chartWidth = 1200\r\n            else if (chartWidth > 2000) chartWidth = 2000\r\n            initSpec.chart.width = chartWidth\r\n            initSpec.chart.height = 360\r\n            initSpec.chart.showTooltip = false\r\n            //edit \"fact\" field\r\n            initSpec.fact.breakdown[0].field = timeColumnName\r\n            let tempMesure = []\r\n            originColumnName.map((colName, i) => {\r\n                tempMesure.push({ \"field\": colName, \"aggregate\": \"avg\" })\r\n            })\r\n            initSpec.fact.measure = tempMesure\r\n            //edit \"data\" field\r\n            initSpec.data.url = originFileUrl\r\n            initSpec.data.schema = originSchema\r\n            return initSpec\r\n        }\r\n        else {\r\n            //get template\r\n            let oriSpec = require('../../../insight_charts/spec/origin.json');\r\n            let initSpec = _.cloneDeep(oriSpec);\r\n            //edit \"chart\" field\r\n            initSpec.chart.id = 'origin'\r\n            //TODO:不能把所有的数值都搞成这个大小，应该要有一个转换\r\n            if (dataRange.length === 0) return {}\r\n            let chartWidth = dataRange[1]\r\n            // if(dataRange[1]<1200)chartWidth=1200\r\n            if (chartWidth < 1200) chartWidth = 1200\r\n            else if (chartWidth > 2000) chartWidth = 2000\r\n            // if(dataRange[1]<1200)chartWidth=1200\r\n            initSpec.chart.width = chartWidth\r\n            initSpec.chart.height = 360\r\n            initSpec.chart.showTooltip = false\r\n            //edit \"fact\" field\r\n            initSpec.fact.breakdown[0].field = timeColumnName\r\n            let tempMesure = []\r\n            columnsName.map((colName, i) => {\r\n                tempMesure.push({ \"field\": colName, \"aggregate\": \"avg\" })\r\n            })\r\n            initSpec.fact.measure = tempMesure\r\n            //edit \"data\" field\r\n            initSpec.data.url = file_url\r\n            initSpec.data.schema = schema\r\n            return initSpec\r\n        }\r\n    }\r\n    componentDidMount() {\r\n        let tooltipContainer = \"#whole-container\";\r\n        this.props.setTooltipContainer(tooltipContainer)\r\n    }\r\n\r\n    calcuRecommendCardLocation = (block) => {\r\n        const { columnsName,setConfigureInsightTime } = this.props\r\n        // let columnsList = [\"CPUUsage\", \"GPUUsage\", \"FailureRate\", \"value\", \"value1\", \"value2\", \"value3\"]\r\n        if (!block.length > 0) return\r\n        let fields = []\r\n        let start = block[0][\"value\"][0][\"start\"]\r\n        let end = block[0][\"value\"][0][\"end\"]\r\n        for (let item in block) {\r\n            fields.push(block[item][\"field\"])\r\n        }\r\n        if (fields.length > 1) {\r\n            return {  top: 15,height: this.oneYLength * fields.length - 30 ,start:start,end:end}\r\n        } else {\r\n            let position = columnsName.indexOf(fields[0])\r\n            return {top: 15 + position * this.oneYLength,  height: this.oneYLength - 30,start:start,end:end }\r\n        }\r\n    }\r\n    calcuUnderCardDivLocation = () => {\r\n        const { columnsName } = this.props\r\n        const { configureInsightColumns, configureInsightTime } = this.props\r\n        // let columnsList = [\"CPUUsage\", \"GPUUsage\", \"FailureRate\", \"value\", \"value1\", \"value2\", \"value3\"]\r\n        let fields = []\r\n        if (configureInsightColumns[0] === 'selectAll' || configureInsightColumns.length > 1) {\r\n            fields = _.cloneDeep(columnsName)\r\n        }\r\n        else {\r\n            fields.push(configureInsightColumns[0])\r\n        }\r\n        let start = configureInsightTime[0]\r\n        let end = configureInsightTime[1]\r\n\r\n        if (!end) return { width: 0, height: 0, left: 0, top: 0 }\r\n        if (fields.length > 1) {\r\n\r\n            return { top: 15, height: this.oneYLength * fields.length - 30 ,start:start,end:end}\r\n        } else {\r\n            let position = columnsName.indexOf(fields[0])\r\n            return { top: 15 + position * this.oneYLength,height: this.oneYLength - 30,start:start,end:end }\r\n        }\r\n    }\r\n\r\n    findInsightsOfUnderCard = () => {\r\n        const { sequence, segmentInsightsStorage, selectedRecommendCardIndex, selectedCardIndex } = this.props\r\n        this.props.setCurrentPopInsights([])\r\n        if (selectedRecommendCardIndex === -1) {\r\n            let block = sequence[selectedCardIndex].oriBlock\r\n            let field = []\r\n            if (block==undefined) return \r\n            let location = [block[0].value[0].start, block[0].value[0].end]\r\n            for (let item in block) {\r\n                field.push(block[item].field)\r\n            }\r\n            // set current segment's pop insights\r\n            //TODO:之后可以改成访问API获取pop insight，而不是查表\r\n            let fieldStr = field.sort().toString()\r\n            let locationStr = location.sort().toString()\r\n            let segmentKey = fieldStr + '-' + locationStr\r\n            if (segmentInsightsStorage.hasOwnProperty(segmentKey)) {\r\n                this.props.setCurrentPopInsights(segmentInsightsStorage[segmentKey])\r\n            }\r\n        } else {\r\n            let block = sequence[selectedCardIndex][\"recommendList\"][selectedRecommendCardIndex].block\r\n            let field = []\r\n            let location = [block[0].value[0].start, block[0].value[0].end]\r\n            for (let item in block) {\r\n                field.push(block[item].field)\r\n            }\r\n            let fieldStr = field.sort().toString()\r\n            let locationStr = location.sort().toString()\r\n            let segmentKey = fieldStr + '-' + locationStr\r\n            if (segmentInsightsStorage.hasOwnProperty(segmentKey)) {\r\n                this.props.setCurrentPopInsights(segmentInsightsStorage[segmentKey])\r\n            }\r\n        }\r\n    }\r\n\r\n    changeBlockValue=(value)=>{\r\n        this.props.setConfigureInsightTime(value[0],value[1])\r\n    }\r\n\r\n    handleHotkey=(e)=>{\r\n        if (e.keyCode === 13) {\r\n            const { rightBtnState }= this.props\r\n            if(rightBtnState!==\"Start\"){\r\n                this.props.setPopInsightCardState(true)\r\n                this.findInsightsOfUnderCard()\r\n            }\r\n        }\r\n    }\r\n    showBlock=(divLocation)=>{\r\n        return divLocation.height===0?'hidden':'visible'\r\n    }\r\n    render() {\r\n        const { sequence, selectedCardIndex, rightBtnState, selectedRecommendCardIndex, intl } = this.props;\r\n        const { mainChart } = this.state\r\n        const {  dataRange,timeValue } = this.props\r\n        \r\n        const formatter = (value) => `${timeValue[value]}`;\r\n        let divLocation = {}\r\n\r\n        if (selectedRecommendCardIndex !== -1 && sequence[selectedCardIndex][\"recommendList\"].length > 0) {\r\n            let timeBlock = sequence[selectedCardIndex][\"recommendList\"][selectedRecommendCardIndex].block\r\n            divLocation = this.calcuRecommendCardLocation(timeBlock)\r\n        } else if (selectedRecommendCardIndex === -1) {\r\n            //此时显示下方卡片中的数据在原始序列中的位置\r\n            divLocation = this.calcuUnderCardDivLocation()\r\n        }\r\n        return (\r\n            <div style={{ height: \"100%\", width: \"100%\" }}>\r\n                <DndProvider backend={HTML5Backend} options={{ enableMouseEvents: true }}>\r\n                    <div className='time-analysis-page'>\r\n                        <div className='time-analysis-middle' >\r\n                            <div className='csv-information'>\r\n                                <FileInformationView {...this.props} />\r\n                                <HeaderOperatorView {...this.props} />\r\n                            </div>\r\n                            <div className='time-analysis-wrapper'>\r\n                                <div className='show-model-selection'>\r\n                                    <VisOptionView {...this.props} />\r\n                                </div>\r\n                                <div\r\n                                    className='time-seires-view'\r\n                                    id='time-seires-view'\r\n                                    onScroll={(e) => { }}>\r\n                                    <div style={{ width: '100%' }} className='time-seires-view-wapper'>\r\n                                        <div className='time-seires-view-div' style={{ width: '100%' }} id=\"time-seires-view-div\" ref={(node) => this.visNode = node} >\r\n                                            <div \r\n                                                className='focus-block'\r\n                                                style={{\r\n                                                    left: `90px`,\r\n                                                    top: `${divLocation.top ? divLocation.top + 1 : 0}px`,\r\n                                                    width: `1230px`,\r\n                                                    height: `${divLocation.height ? divLocation.height + 2 : 0}px`,\r\n                                                    visibility:this.showBlock(divLocation)\r\n                                                }}>\r\n                                                <Slider \r\n\r\n                                                    className='block-slider'\r\n                                                    range={true}\r\n                                                    min={dataRange[0]}\r\n                                                    max={dataRange[1]}\r\n                                                    value={[divLocation.start,divLocation.end]}\r\n                                                    tooltip={{formatter}}\r\n                                                    onChange={this.changeBlockValue}\r\n                                                    disabled={false} \r\n                                                />\r\n                                            </div>\r\n                                            {Object.keys(mainChart).length === 0 ? null : <Chart spec={mainChart} />}\r\n                                            <PopInsightCard intl={intl} />\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                                <div className='time-sequence-view' style={{ display: 'block', height: \"205px\" }} onKeyDown={this.handleHotkey}>\r\n                                    {rightBtnState === \"Start\" ? null : <SequenceView />}\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div className='time-analysis-right'>\r\n                            <SeriesInsightsEditor {...this.props} />\r\n                        </div>\r\n                    </div>\r\n                </DndProvider >\r\n            </div>\r\n\r\n        )\r\n    }\r\n}\r\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport * as React from 'react';\nimport warning from '../_util/warning';\nimport { changeConfirmLocale } from '../modal/locale';\nimport LocaleContext from './context';\nexport var ANT_MARK = 'internalMark';\nvar LocaleProvider = function LocaleProvider(props) {\n  var _props$locale = props.locale,\n    locale = _props$locale === void 0 ? {} : _props$locale,\n    children = props.children,\n    _ANT_MARK__ = props._ANT_MARK__;\n  if (process.env.NODE_ENV !== 'production') {\n    process.env.NODE_ENV !== \"production\" ? warning(_ANT_MARK__ === ANT_MARK, 'LocaleProvider', '`LocaleProvider` is deprecated. Please use `locale` with `ConfigProvider` instead: http://u.ant.design/locale') : void 0;\n  }\n  React.useEffect(function () {\n    changeConfirmLocale(locale && locale.Modal);\n    return function () {\n      changeConfirmLocale();\n    };\n  }, [locale]);\n  var getMemoizedContextValue = React.useMemo(function () {\n    return _extends(_extends({}, locale), {\n      exist: true\n    });\n  }, [locale]);\n  return /*#__PURE__*/React.createElement(LocaleContext.Provider, {\n    value: getMemoizedContextValue\n  }, children);\n};\nexport default LocaleProvider;","import _regeneratorRuntime from \"@babel/runtime/helpers/esm/regeneratorRuntime\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\nimport CheckCircleOutlined from \"@ant-design/icons/es/icons/CheckCircleOutlined\";\nimport CloseCircleOutlined from \"@ant-design/icons/es/icons/CloseCircleOutlined\";\nimport CloseOutlined from \"@ant-design/icons/es/icons/CloseOutlined\";\nimport ExclamationCircleOutlined from \"@ant-design/icons/es/icons/ExclamationCircleOutlined\";\nimport InfoCircleOutlined from \"@ant-design/icons/es/icons/InfoCircleOutlined\";\nimport classNames from 'classnames';\nimport Notification from 'rc-notification';\nimport * as React from 'react';\nimport ConfigProvider, { globalConfig } from '../config-provider';\nimport createUseNotification from './hooks/useNotification';\nvar notificationInstance = {};\nvar defaultDuration = 4.5;\nvar defaultTop = 24;\nvar defaultBottom = 24;\nvar defaultPrefixCls = '';\nvar defaultPlacement = 'topRight';\nvar defaultGetContainer;\nvar defaultCloseIcon;\nvar rtl = false;\nvar maxCount;\nfunction setNotificationConfig(options) {\n  var duration = options.duration,\n    placement = options.placement,\n    bottom = options.bottom,\n    top = options.top,\n    getContainer = options.getContainer,\n    closeIcon = options.closeIcon,\n    prefixCls = options.prefixCls;\n  if (prefixCls !== undefined) {\n    defaultPrefixCls = prefixCls;\n  }\n  if (duration !== undefined) {\n    defaultDuration = duration;\n  }\n  if (placement !== undefined) {\n    defaultPlacement = placement;\n  } else if (options.rtl) {\n    defaultPlacement = 'topLeft';\n  }\n  if (bottom !== undefined) {\n    defaultBottom = bottom;\n  }\n  if (top !== undefined) {\n    defaultTop = top;\n  }\n  if (getContainer !== undefined) {\n    defaultGetContainer = getContainer;\n  }\n  if (closeIcon !== undefined) {\n    defaultCloseIcon = closeIcon;\n  }\n  if (options.rtl !== undefined) {\n    rtl = options.rtl;\n  }\n  if (options.maxCount !== undefined) {\n    maxCount = options.maxCount;\n  }\n}\nfunction getPlacementStyle(placement) {\n  var top = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : defaultTop;\n  var bottom = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : defaultBottom;\n  var style;\n  switch (placement) {\n    case 'top':\n      style = {\n        left: '50%',\n        transform: 'translateX(-50%)',\n        right: 'auto',\n        top: top,\n        bottom: 'auto'\n      };\n      break;\n    case 'topLeft':\n      style = {\n        left: 0,\n        top: top,\n        bottom: 'auto'\n      };\n      break;\n    case 'topRight':\n      style = {\n        right: 0,\n        top: top,\n        bottom: 'auto'\n      };\n      break;\n    case 'bottom':\n      style = {\n        left: '50%',\n        transform: 'translateX(-50%)',\n        right: 'auto',\n        top: 'auto',\n        bottom: bottom\n      };\n      break;\n    case 'bottomLeft':\n      style = {\n        left: 0,\n        top: 'auto',\n        bottom: bottom\n      };\n      break;\n    default:\n      style = {\n        right: 0,\n        top: 'auto',\n        bottom: bottom\n      };\n      break;\n  }\n  return style;\n}\nfunction getNotificationInstance(args, callback) {\n  var _args$placement = args.placement,\n    placement = _args$placement === void 0 ? defaultPlacement : _args$placement,\n    top = args.top,\n    bottom = args.bottom,\n    _args$getContainer = args.getContainer,\n    getContainer = _args$getContainer === void 0 ? defaultGetContainer : _args$getContainer,\n    customizePrefixCls = args.prefixCls;\n  var _globalConfig = globalConfig(),\n    getPrefixCls = _globalConfig.getPrefixCls,\n    getIconPrefixCls = _globalConfig.getIconPrefixCls;\n  var prefixCls = getPrefixCls('notification', customizePrefixCls || defaultPrefixCls);\n  var iconPrefixCls = getIconPrefixCls();\n  var cacheKey = \"\".concat(prefixCls, \"-\").concat(placement);\n  var cacheInstance = notificationInstance[cacheKey];\n  if (cacheInstance) {\n    Promise.resolve(cacheInstance).then(function (instance) {\n      callback({\n        prefixCls: \"\".concat(prefixCls, \"-notice\"),\n        iconPrefixCls: iconPrefixCls,\n        instance: instance\n      });\n    });\n    return;\n  }\n  var notificationClass = classNames(\"\".concat(prefixCls, \"-\").concat(placement), _defineProperty({}, \"\".concat(prefixCls, \"-rtl\"), rtl === true));\n  notificationInstance[cacheKey] = new Promise(function (resolve) {\n    Notification.newInstance({\n      prefixCls: prefixCls,\n      className: notificationClass,\n      style: getPlacementStyle(placement, top, bottom),\n      getContainer: getContainer,\n      maxCount: maxCount\n    }, function (notification) {\n      resolve(notification);\n      callback({\n        prefixCls: \"\".concat(prefixCls, \"-notice\"),\n        iconPrefixCls: iconPrefixCls,\n        instance: notification\n      });\n    });\n  });\n}\nvar typeToIcon = {\n  success: CheckCircleOutlined,\n  info: InfoCircleOutlined,\n  error: CloseCircleOutlined,\n  warning: ExclamationCircleOutlined\n};\nfunction getRCNoticeProps(args, prefixCls, iconPrefixCls) {\n  var durationArg = args.duration,\n    icon = args.icon,\n    type = args.type,\n    description = args.description,\n    message = args.message,\n    btn = args.btn,\n    onClose = args.onClose,\n    onClick = args.onClick,\n    key = args.key,\n    style = args.style,\n    className = args.className,\n    _args$closeIcon = args.closeIcon,\n    closeIcon = _args$closeIcon === void 0 ? defaultCloseIcon : _args$closeIcon,\n    props = args.props;\n  var duration = durationArg === undefined ? defaultDuration : durationArg;\n  var iconNode = null;\n  if (icon) {\n    iconNode = /*#__PURE__*/React.createElement(\"span\", {\n      className: \"\".concat(prefixCls, \"-icon\")\n    }, args.icon);\n  } else if (type) {\n    iconNode = /*#__PURE__*/React.createElement(typeToIcon[type] || null, {\n      className: \"\".concat(prefixCls, \"-icon \").concat(prefixCls, \"-icon-\").concat(type)\n    });\n  }\n  var closeIconToRender = /*#__PURE__*/React.createElement(\"span\", {\n    className: \"\".concat(prefixCls, \"-close-x\")\n  }, closeIcon || /*#__PURE__*/React.createElement(CloseOutlined, {\n    className: \"\".concat(prefixCls, \"-close-icon\")\n  }));\n  var autoMarginTag = !description && iconNode ? /*#__PURE__*/React.createElement(\"span\", {\n    className: \"\".concat(prefixCls, \"-message-single-line-auto-margin\")\n  }) : null;\n  return {\n    content: /*#__PURE__*/React.createElement(ConfigProvider, {\n      iconPrefixCls: iconPrefixCls\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: iconNode ? \"\".concat(prefixCls, \"-with-icon\") : '',\n      role: \"alert\"\n    }, iconNode, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\".concat(prefixCls, \"-message\")\n    }, autoMarginTag, message), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\".concat(prefixCls, \"-description\")\n    }, description), btn ? /*#__PURE__*/React.createElement(\"span\", {\n      className: \"\".concat(prefixCls, \"-btn\")\n    }, btn) : null)),\n    duration: duration,\n    closable: true,\n    closeIcon: closeIconToRender,\n    onClose: onClose,\n    onClick: onClick,\n    key: key,\n    style: style || {},\n    className: classNames(className, _defineProperty({}, \"\".concat(prefixCls, \"-\").concat(type), !!type)),\n    props: props\n  };\n}\nfunction notice(args) {\n  getNotificationInstance(args, function (_ref) {\n    var prefixCls = _ref.prefixCls,\n      iconPrefixCls = _ref.iconPrefixCls,\n      instance = _ref.instance;\n    instance.notice(getRCNoticeProps(args, prefixCls, iconPrefixCls));\n  });\n}\nvar api = {\n  open: notice,\n  close: function close(key) {\n    Object.keys(notificationInstance).forEach(function (cacheKey) {\n      return Promise.resolve(notificationInstance[cacheKey]).then(function (instance) {\n        instance.removeNotice(key);\n      });\n    });\n  },\n  config: setNotificationConfig,\n  destroy: function destroy() {\n    Object.keys(notificationInstance).forEach(function (cacheKey) {\n      Promise.resolve(notificationInstance[cacheKey]).then(function (instance) {\n        instance.destroy();\n      });\n      delete notificationInstance[cacheKey]; // lgtm[js/missing-await]\n    });\n  }\n};\n\n['success', 'info', 'warning', 'error'].forEach(function (type) {\n  api[type] = function (args) {\n    return api.open(_extends(_extends({}, args), {\n      type: type\n    }));\n  };\n});\napi.warn = api.warning;\napi.useNotification = createUseNotification(getNotificationInstance, getRCNoticeProps);\n/** @internal test Only function. Not work on production */\nexport var getInstance = function getInstance(cacheKey) {\n  return __awaiter(void 0, void 0, void 0, /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          return _context.abrupt(\"return\", process.env.NODE_ENV === 'test' ? notificationInstance[cacheKey] : null);\n        case 1:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee);\n  }));\n};\nexport default api;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport useRCNotification from \"rc-notification/es/useNotification\";\nimport * as React from 'react';\nimport { ConfigConsumer } from '../../config-provider';\nexport default function createUseNotification(getNotificationInstance, getRCNoticeProps) {\n  var useNotification = function useNotification() {\n    // We can only get content by render\n    var getPrefixCls;\n    // We create a proxy to handle delay created instance\n    var innerInstance = null;\n    var proxy = {\n      add: function add(noticeProps, holderCallback) {\n        innerInstance === null || innerInstance === void 0 ? void 0 : innerInstance.component.add(noticeProps, holderCallback);\n      }\n    };\n    var _useRCNotification = useRCNotification(proxy),\n      _useRCNotification2 = _slicedToArray(_useRCNotification, 2),\n      hookNotify = _useRCNotification2[0],\n      holder = _useRCNotification2[1];\n    function notify(args) {\n      var customizePrefixCls = args.prefixCls;\n      var mergedPrefixCls = getPrefixCls('notification', customizePrefixCls);\n      getNotificationInstance(_extends(_extends({}, args), {\n        prefixCls: mergedPrefixCls\n      }), function (_ref) {\n        var prefixCls = _ref.prefixCls,\n          instance = _ref.instance;\n        innerInstance = instance;\n        hookNotify(getRCNoticeProps(args, prefixCls));\n      });\n    }\n    // Fill functions\n    var hookApiRef = React.useRef({});\n    hookApiRef.current.open = notify;\n    ['success', 'info', 'warning', 'error'].forEach(function (type) {\n      hookApiRef.current[type] = function (args) {\n        return hookApiRef.current.open(_extends(_extends({}, args), {\n          type: type\n        }));\n      };\n    });\n    return [hookApiRef.current, /*#__PURE__*/React.createElement(ConfigConsumer, {\n      key: \"holder\"\n    }, function (context) {\n      getPrefixCls = context.getPrefixCls;\n      return holder;\n    })];\n  };\n  return useNotification;\n}","import { numberInputToObject, rgbaToHex, rgbToHex, rgbToHsl, rgbToHsv } from './conversion';\nimport { names } from './css-color-names';\nimport { inputToRGB } from './format-input';\nimport { bound01, boundAlpha, clamp01 } from './util';\nvar TinyColor = /** @class */ (function () {\n    function TinyColor(color, opts) {\n        if (color === void 0) { color = ''; }\n        if (opts === void 0) { opts = {}; }\n        var _a;\n        // If input is already a tinycolor, return itself\n        if (color instanceof TinyColor) {\n            // eslint-disable-next-line no-constructor-return\n            return color;\n        }\n        if (typeof color === 'number') {\n            color = numberInputToObject(color);\n        }\n        this.originalInput = color;\n        var rgb = inputToRGB(color);\n        this.originalInput = color;\n        this.r = rgb.r;\n        this.g = rgb.g;\n        this.b = rgb.b;\n        this.a = rgb.a;\n        this.roundA = Math.round(100 * this.a) / 100;\n        this.format = (_a = opts.format) !== null && _a !== void 0 ? _a : rgb.format;\n        this.gradientType = opts.gradientType;\n        // Don't let the range of [0,255] come back in [0,1].\n        // Potentially lose a little bit of precision here, but will fix issues where\n        // .5 gets interpreted as half of the total, instead of half of 1\n        // If it was supposed to be 128, this was already taken care of by `inputToRgb`\n        if (this.r < 1) {\n            this.r = Math.round(this.r);\n        }\n        if (this.g < 1) {\n            this.g = Math.round(this.g);\n        }\n        if (this.b < 1) {\n            this.b = Math.round(this.b);\n        }\n        this.isValid = rgb.ok;\n    }\n    TinyColor.prototype.isDark = function () {\n        return this.getBrightness() < 128;\n    };\n    TinyColor.prototype.isLight = function () {\n        return !this.isDark();\n    };\n    /**\n     * Returns the perceived brightness of the color, from 0-255.\n     */\n    TinyColor.prototype.getBrightness = function () {\n        // http://www.w3.org/TR/AERT#color-contrast\n        var rgb = this.toRgb();\n        return (rgb.r * 299 + rgb.g * 587 + rgb.b * 114) / 1000;\n    };\n    /**\n     * Returns the perceived luminance of a color, from 0-1.\n     */\n    TinyColor.prototype.getLuminance = function () {\n        // http://www.w3.org/TR/2008/REC-WCAG20-20081211/#relativeluminancedef\n        var rgb = this.toRgb();\n        var R;\n        var G;\n        var B;\n        var RsRGB = rgb.r / 255;\n        var GsRGB = rgb.g / 255;\n        var BsRGB = rgb.b / 255;\n        if (RsRGB <= 0.03928) {\n            R = RsRGB / 12.92;\n        }\n        else {\n            // eslint-disable-next-line prefer-exponentiation-operator\n            R = Math.pow((RsRGB + 0.055) / 1.055, 2.4);\n        }\n        if (GsRGB <= 0.03928) {\n            G = GsRGB / 12.92;\n        }\n        else {\n            // eslint-disable-next-line prefer-exponentiation-operator\n            G = Math.pow((GsRGB + 0.055) / 1.055, 2.4);\n        }\n        if (BsRGB <= 0.03928) {\n            B = BsRGB / 12.92;\n        }\n        else {\n            // eslint-disable-next-line prefer-exponentiation-operator\n            B = Math.pow((BsRGB + 0.055) / 1.055, 2.4);\n        }\n        return 0.2126 * R + 0.7152 * G + 0.0722 * B;\n    };\n    /**\n     * Returns the alpha value of a color, from 0-1.\n     */\n    TinyColor.prototype.getAlpha = function () {\n        return this.a;\n    };\n    /**\n     * Sets the alpha value on the current color.\n     *\n     * @param alpha - The new alpha value. The accepted range is 0-1.\n     */\n    TinyColor.prototype.setAlpha = function (alpha) {\n        this.a = boundAlpha(alpha);\n        this.roundA = Math.round(100 * this.a) / 100;\n        return this;\n    };\n    /**\n     * Returns whether the color is monochrome.\n     */\n    TinyColor.prototype.isMonochrome = function () {\n        var s = this.toHsl().s;\n        return s === 0;\n    };\n    /**\n     * Returns the object as a HSVA object.\n     */\n    TinyColor.prototype.toHsv = function () {\n        var hsv = rgbToHsv(this.r, this.g, this.b);\n        return { h: hsv.h * 360, s: hsv.s, v: hsv.v, a: this.a };\n    };\n    /**\n     * Returns the hsva values interpolated into a string with the following format:\n     * \"hsva(xxx, xxx, xxx, xx)\".\n     */\n    TinyColor.prototype.toHsvString = function () {\n        var hsv = rgbToHsv(this.r, this.g, this.b);\n        var h = Math.round(hsv.h * 360);\n        var s = Math.round(hsv.s * 100);\n        var v = Math.round(hsv.v * 100);\n        return this.a === 1 ? \"hsv(\".concat(h, \", \").concat(s, \"%, \").concat(v, \"%)\") : \"hsva(\".concat(h, \", \").concat(s, \"%, \").concat(v, \"%, \").concat(this.roundA, \")\");\n    };\n    /**\n     * Returns the object as a HSLA object.\n     */\n    TinyColor.prototype.toHsl = function () {\n        var hsl = rgbToHsl(this.r, this.g, this.b);\n        return { h: hsl.h * 360, s: hsl.s, l: hsl.l, a: this.a };\n    };\n    /**\n     * Returns the hsla values interpolated into a string with the following format:\n     * \"hsla(xxx, xxx, xxx, xx)\".\n     */\n    TinyColor.prototype.toHslString = function () {\n        var hsl = rgbToHsl(this.r, this.g, this.b);\n        var h = Math.round(hsl.h * 360);\n        var s = Math.round(hsl.s * 100);\n        var l = Math.round(hsl.l * 100);\n        return this.a === 1 ? \"hsl(\".concat(h, \", \").concat(s, \"%, \").concat(l, \"%)\") : \"hsla(\".concat(h, \", \").concat(s, \"%, \").concat(l, \"%, \").concat(this.roundA, \")\");\n    };\n    /**\n     * Returns the hex value of the color.\n     * @param allow3Char will shorten hex value to 3 char if possible\n     */\n    TinyColor.prototype.toHex = function (allow3Char) {\n        if (allow3Char === void 0) { allow3Char = false; }\n        return rgbToHex(this.r, this.g, this.b, allow3Char);\n    };\n    /**\n     * Returns the hex value of the color -with a # appened.\n     * @param allow3Char will shorten hex value to 3 char if possible\n     */\n    TinyColor.prototype.toHexString = function (allow3Char) {\n        if (allow3Char === void 0) { allow3Char = false; }\n        return '#' + this.toHex(allow3Char);\n    };\n    /**\n     * Returns the hex 8 value of the color.\n     * @param allow4Char will shorten hex value to 4 char if possible\n     */\n    TinyColor.prototype.toHex8 = function (allow4Char) {\n        if (allow4Char === void 0) { allow4Char = false; }\n        return rgbaToHex(this.r, this.g, this.b, this.a, allow4Char);\n    };\n    /**\n     * Returns the hex 8 value of the color -with a # appened.\n     * @param allow4Char will shorten hex value to 4 char if possible\n     */\n    TinyColor.prototype.toHex8String = function (allow4Char) {\n        if (allow4Char === void 0) { allow4Char = false; }\n        return '#' + this.toHex8(allow4Char);\n    };\n    /**\n     * Returns the object as a RGBA object.\n     */\n    TinyColor.prototype.toRgb = function () {\n        return {\n            r: Math.round(this.r),\n            g: Math.round(this.g),\n            b: Math.round(this.b),\n            a: this.a,\n        };\n    };\n    /**\n     * Returns the RGBA values interpolated into a string with the following format:\n     * \"RGBA(xxx, xxx, xxx, xx)\".\n     */\n    TinyColor.prototype.toRgbString = function () {\n        var r = Math.round(this.r);\n        var g = Math.round(this.g);\n        var b = Math.round(this.b);\n        return this.a === 1 ? \"rgb(\".concat(r, \", \").concat(g, \", \").concat(b, \")\") : \"rgba(\".concat(r, \", \").concat(g, \", \").concat(b, \", \").concat(this.roundA, \")\");\n    };\n    /**\n     * Returns the object as a RGBA object.\n     */\n    TinyColor.prototype.toPercentageRgb = function () {\n        var fmt = function (x) { return \"\".concat(Math.round(bound01(x, 255) * 100), \"%\"); };\n        return {\n            r: fmt(this.r),\n            g: fmt(this.g),\n            b: fmt(this.b),\n            a: this.a,\n        };\n    };\n    /**\n     * Returns the RGBA relative values interpolated into a string\n     */\n    TinyColor.prototype.toPercentageRgbString = function () {\n        var rnd = function (x) { return Math.round(bound01(x, 255) * 100); };\n        return this.a === 1\n            ? \"rgb(\".concat(rnd(this.r), \"%, \").concat(rnd(this.g), \"%, \").concat(rnd(this.b), \"%)\")\n            : \"rgba(\".concat(rnd(this.r), \"%, \").concat(rnd(this.g), \"%, \").concat(rnd(this.b), \"%, \").concat(this.roundA, \")\");\n    };\n    /**\n     * The 'real' name of the color -if there is one.\n     */\n    TinyColor.prototype.toName = function () {\n        if (this.a === 0) {\n            return 'transparent';\n        }\n        if (this.a < 1) {\n            return false;\n        }\n        var hex = '#' + rgbToHex(this.r, this.g, this.b, false);\n        for (var _i = 0, _a = Object.entries(names); _i < _a.length; _i++) {\n            var _b = _a[_i], key = _b[0], value = _b[1];\n            if (hex === value) {\n                return key;\n            }\n        }\n        return false;\n    };\n    TinyColor.prototype.toString = function (format) {\n        var formatSet = Boolean(format);\n        format = format !== null && format !== void 0 ? format : this.format;\n        var formattedString = false;\n        var hasAlpha = this.a < 1 && this.a >= 0;\n        var needsAlphaFormat = !formatSet && hasAlpha && (format.startsWith('hex') || format === 'name');\n        if (needsAlphaFormat) {\n            // Special case for \"transparent\", all other non-alpha formats\n            // will return rgba when there is transparency.\n            if (format === 'name' && this.a === 0) {\n                return this.toName();\n            }\n            return this.toRgbString();\n        }\n        if (format === 'rgb') {\n            formattedString = this.toRgbString();\n        }\n        if (format === 'prgb') {\n            formattedString = this.toPercentageRgbString();\n        }\n        if (format === 'hex' || format === 'hex6') {\n            formattedString = this.toHexString();\n        }\n        if (format === 'hex3') {\n            formattedString = this.toHexString(true);\n        }\n        if (format === 'hex4') {\n            formattedString = this.toHex8String(true);\n        }\n        if (format === 'hex8') {\n            formattedString = this.toHex8String();\n        }\n        if (format === 'name') {\n            formattedString = this.toName();\n        }\n        if (format === 'hsl') {\n            formattedString = this.toHslString();\n        }\n        if (format === 'hsv') {\n            formattedString = this.toHsvString();\n        }\n        return formattedString || this.toHexString();\n    };\n    TinyColor.prototype.toNumber = function () {\n        return (Math.round(this.r) << 16) + (Math.round(this.g) << 8) + Math.round(this.b);\n    };\n    TinyColor.prototype.clone = function () {\n        return new TinyColor(this.toString());\n    };\n    /**\n     * Lighten the color a given amount. Providing 100 will always return white.\n     * @param amount - valid between 1-100\n     */\n    TinyColor.prototype.lighten = function (amount) {\n        if (amount === void 0) { amount = 10; }\n        var hsl = this.toHsl();\n        hsl.l += amount / 100;\n        hsl.l = clamp01(hsl.l);\n        return new TinyColor(hsl);\n    };\n    /**\n     * Brighten the color a given amount, from 0 to 100.\n     * @param amount - valid between 1-100\n     */\n    TinyColor.prototype.brighten = function (amount) {\n        if (amount === void 0) { amount = 10; }\n        var rgb = this.toRgb();\n        rgb.r = Math.max(0, Math.min(255, rgb.r - Math.round(255 * -(amount / 100))));\n        rgb.g = Math.max(0, Math.min(255, rgb.g - Math.round(255 * -(amount / 100))));\n        rgb.b = Math.max(0, Math.min(255, rgb.b - Math.round(255 * -(amount / 100))));\n        return new TinyColor(rgb);\n    };\n    /**\n     * Darken the color a given amount, from 0 to 100.\n     * Providing 100 will always return black.\n     * @param amount - valid between 1-100\n     */\n    TinyColor.prototype.darken = function (amount) {\n        if (amount === void 0) { amount = 10; }\n        var hsl = this.toHsl();\n        hsl.l -= amount / 100;\n        hsl.l = clamp01(hsl.l);\n        return new TinyColor(hsl);\n    };\n    /**\n     * Mix the color with pure white, from 0 to 100.\n     * Providing 0 will do nothing, providing 100 will always return white.\n     * @param amount - valid between 1-100\n     */\n    TinyColor.prototype.tint = function (amount) {\n        if (amount === void 0) { amount = 10; }\n        return this.mix('white', amount);\n    };\n    /**\n     * Mix the color with pure black, from 0 to 100.\n     * Providing 0 will do nothing, providing 100 will always return black.\n     * @param amount - valid between 1-100\n     */\n    TinyColor.prototype.shade = function (amount) {\n        if (amount === void 0) { amount = 10; }\n        return this.mix('black', amount);\n    };\n    /**\n     * Desaturate the color a given amount, from 0 to 100.\n     * Providing 100 will is the same as calling greyscale\n     * @param amount - valid between 1-100\n     */\n    TinyColor.prototype.desaturate = function (amount) {\n        if (amount === void 0) { amount = 10; }\n        var hsl = this.toHsl();\n        hsl.s -= amount / 100;\n        hsl.s = clamp01(hsl.s);\n        return new TinyColor(hsl);\n    };\n    /**\n     * Saturate the color a given amount, from 0 to 100.\n     * @param amount - valid between 1-100\n     */\n    TinyColor.prototype.saturate = function (amount) {\n        if (amount === void 0) { amount = 10; }\n        var hsl = this.toHsl();\n        hsl.s += amount / 100;\n        hsl.s = clamp01(hsl.s);\n        return new TinyColor(hsl);\n    };\n    /**\n     * Completely desaturates a color into greyscale.\n     * Same as calling `desaturate(100)`\n     */\n    TinyColor.prototype.greyscale = function () {\n        return this.desaturate(100);\n    };\n    /**\n     * Spin takes a positive or negative amount within [-360, 360] indicating the change of hue.\n     * Values outside of this range will be wrapped into this range.\n     */\n    TinyColor.prototype.spin = function (amount) {\n        var hsl = this.toHsl();\n        var hue = (hsl.h + amount) % 360;\n        hsl.h = hue < 0 ? 360 + hue : hue;\n        return new TinyColor(hsl);\n    };\n    /**\n     * Mix the current color a given amount with another color, from 0 to 100.\n     * 0 means no mixing (return current color).\n     */\n    TinyColor.prototype.mix = function (color, amount) {\n        if (amount === void 0) { amount = 50; }\n        var rgb1 = this.toRgb();\n        var rgb2 = new TinyColor(color).toRgb();\n        var p = amount / 100;\n        var rgba = {\n            r: (rgb2.r - rgb1.r) * p + rgb1.r,\n            g: (rgb2.g - rgb1.g) * p + rgb1.g,\n            b: (rgb2.b - rgb1.b) * p + rgb1.b,\n            a: (rgb2.a - rgb1.a) * p + rgb1.a,\n        };\n        return new TinyColor(rgba);\n    };\n    TinyColor.prototype.analogous = function (results, slices) {\n        if (results === void 0) { results = 6; }\n        if (slices === void 0) { slices = 30; }\n        var hsl = this.toHsl();\n        var part = 360 / slices;\n        var ret = [this];\n        for (hsl.h = (hsl.h - ((part * results) >> 1) + 720) % 360; --results;) {\n            hsl.h = (hsl.h + part) % 360;\n            ret.push(new TinyColor(hsl));\n        }\n        return ret;\n    };\n    /**\n     * taken from https://github.com/infusion/jQuery-xcolor/blob/master/jquery.xcolor.js\n     */\n    TinyColor.prototype.complement = function () {\n        var hsl = this.toHsl();\n        hsl.h = (hsl.h + 180) % 360;\n        return new TinyColor(hsl);\n    };\n    TinyColor.prototype.monochromatic = function (results) {\n        if (results === void 0) { results = 6; }\n        var hsv = this.toHsv();\n        var h = hsv.h;\n        var s = hsv.s;\n        var v = hsv.v;\n        var res = [];\n        var modification = 1 / results;\n        while (results--) {\n            res.push(new TinyColor({ h: h, s: s, v: v }));\n            v = (v + modification) % 1;\n        }\n        return res;\n    };\n    TinyColor.prototype.splitcomplement = function () {\n        var hsl = this.toHsl();\n        var h = hsl.h;\n        return [\n            this,\n            new TinyColor({ h: (h + 72) % 360, s: hsl.s, l: hsl.l }),\n            new TinyColor({ h: (h + 216) % 360, s: hsl.s, l: hsl.l }),\n        ];\n    };\n    /**\n     * Compute how the color would appear on a background\n     */\n    TinyColor.prototype.onBackground = function (background) {\n        var fg = this.toRgb();\n        var bg = new TinyColor(background).toRgb();\n        return new TinyColor({\n            r: bg.r + (fg.r - bg.r) * fg.a,\n            g: bg.g + (fg.g - bg.g) * fg.a,\n            b: bg.b + (fg.b - bg.b) * fg.a,\n        });\n    };\n    /**\n     * Alias for `polyad(3)`\n     */\n    TinyColor.prototype.triad = function () {\n        return this.polyad(3);\n    };\n    /**\n     * Alias for `polyad(4)`\n     */\n    TinyColor.prototype.tetrad = function () {\n        return this.polyad(4);\n    };\n    /**\n     * Get polyad colors, like (for 1, 2, 3, 4, 5, 6, 7, 8, etc...)\n     * monad, dyad, triad, tetrad, pentad, hexad, heptad, octad, etc...\n     */\n    TinyColor.prototype.polyad = function (n) {\n        var hsl = this.toHsl();\n        var h = hsl.h;\n        var result = [this];\n        var increment = 360 / n;\n        for (var i = 1; i < n; i++) {\n            result.push(new TinyColor({ h: (h + i * increment) % 360, s: hsl.s, l: hsl.l }));\n        }\n        return result;\n    };\n    /**\n     * compare color vs current color\n     */\n    TinyColor.prototype.equals = function (color) {\n        return this.toRgbString() === new TinyColor(color).toRgbString();\n    };\n    return TinyColor;\n}());\nexport { TinyColor };\n// kept for backwards compatability with v1\nexport function tinycolor(color, opts) {\n    if (color === void 0) { color = ''; }\n    if (opts === void 0) { opts = {}; }\n    return new TinyColor(color, opts);\n}\n","/* eslint-disable import/prefer-default-export, prefer-destructuring */\nimport { generate } from '@ant-design/colors';\nimport { TinyColor } from '@ctrl/tinycolor';\nimport canUseDom from \"rc-util/es/Dom/canUseDom\";\nimport { updateCSS } from \"rc-util/es/Dom/dynamicCSS\";\nimport warning from '../_util/warning';\nvar dynamicStyleMark = \"-ant-\".concat(Date.now(), \"-\").concat(Math.random());\nexport function getStyle(globalPrefixCls, theme) {\n  var variables = {};\n  var formatColor = function formatColor(color, updater) {\n    var clone = color.clone();\n    clone = (updater === null || updater === void 0 ? void 0 : updater(clone)) || clone;\n    return clone.toRgbString();\n  };\n  var fillColor = function fillColor(colorVal, type) {\n    var baseColor = new TinyColor(colorVal);\n    var colorPalettes = generate(baseColor.toRgbString());\n    variables[\"\".concat(type, \"-color\")] = formatColor(baseColor);\n    variables[\"\".concat(type, \"-color-disabled\")] = colorPalettes[1];\n    variables[\"\".concat(type, \"-color-hover\")] = colorPalettes[4];\n    variables[\"\".concat(type, \"-color-active\")] = colorPalettes[6];\n    variables[\"\".concat(type, \"-color-outline\")] = baseColor.clone().setAlpha(0.2).toRgbString();\n    variables[\"\".concat(type, \"-color-deprecated-bg\")] = colorPalettes[0];\n    variables[\"\".concat(type, \"-color-deprecated-border\")] = colorPalettes[2];\n  };\n  // ================ Primary Color ================\n  if (theme.primaryColor) {\n    fillColor(theme.primaryColor, 'primary');\n    var primaryColor = new TinyColor(theme.primaryColor);\n    var primaryColors = generate(primaryColor.toRgbString());\n    // Legacy - We should use semantic naming standard\n    primaryColors.forEach(function (color, index) {\n      variables[\"primary-\".concat(index + 1)] = color;\n    });\n    // Deprecated\n    variables['primary-color-deprecated-l-35'] = formatColor(primaryColor, function (c) {\n      return c.lighten(35);\n    });\n    variables['primary-color-deprecated-l-20'] = formatColor(primaryColor, function (c) {\n      return c.lighten(20);\n    });\n    variables['primary-color-deprecated-t-20'] = formatColor(primaryColor, function (c) {\n      return c.tint(20);\n    });\n    variables['primary-color-deprecated-t-50'] = formatColor(primaryColor, function (c) {\n      return c.tint(50);\n    });\n    variables['primary-color-deprecated-f-12'] = formatColor(primaryColor, function (c) {\n      return c.setAlpha(c.getAlpha() * 0.12);\n    });\n    var primaryActiveColor = new TinyColor(primaryColors[0]);\n    variables['primary-color-active-deprecated-f-30'] = formatColor(primaryActiveColor, function (c) {\n      return c.setAlpha(c.getAlpha() * 0.3);\n    });\n    variables['primary-color-active-deprecated-d-02'] = formatColor(primaryActiveColor, function (c) {\n      return c.darken(2);\n    });\n  }\n  // ================ Success Color ================\n  if (theme.successColor) {\n    fillColor(theme.successColor, 'success');\n  }\n  // ================ Warning Color ================\n  if (theme.warningColor) {\n    fillColor(theme.warningColor, 'warning');\n  }\n  // ================= Error Color =================\n  if (theme.errorColor) {\n    fillColor(theme.errorColor, 'error');\n  }\n  // ================= Info Color ==================\n  if (theme.infoColor) {\n    fillColor(theme.infoColor, 'info');\n  }\n  // Convert to css variables\n  var cssList = Object.keys(variables).map(function (key) {\n    return \"--\".concat(globalPrefixCls, \"-\").concat(key, \": \").concat(variables[key], \";\");\n  });\n  return \"\\n  :root {\\n    \".concat(cssList.join('\\n'), \"\\n  }\\n  \").trim();\n}\nexport function registerTheme(globalPrefixCls, theme) {\n  var style = getStyle(globalPrefixCls, theme);\n  if (canUseDom()) {\n    updateCSS(style, \"\".concat(dynamicStyleMark, \"-dynamic-theme\"));\n  } else {\n    process.env.NODE_ENV !== \"production\" ? warning(false, 'ConfigProvider', 'SSR do not support dynamic theme with css variables.') : void 0;\n  }\n}","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport IconContext from \"@ant-design/icons/es/components/Context\";\nimport { FormProvider as RcFormProvider } from 'rc-field-form';\nimport useMemo from \"rc-util/es/hooks/useMemo\";\nimport * as React from 'react';\nimport LocaleProvider, { ANT_MARK } from '../locale-provider';\nimport LocaleReceiver from '../locale-provider/LocaleReceiver';\nimport defaultLocale from '../locale/default';\nimport message from '../message';\nimport notification from '../notification';\nimport { ConfigConsumer, ConfigContext } from './context';\nimport { registerTheme } from './cssVariables';\nimport { DisabledContextProvider } from './DisabledContext';\nimport SizeContext, { SizeContextProvider } from './SizeContext';\nexport { ConfigContext, ConfigConsumer };\nexport var configConsumerProps = ['getTargetContainer', 'getPopupContainer', 'rootPrefixCls', 'getPrefixCls', 'renderEmpty', 'csp', 'autoInsertSpaceInButton', 'locale', 'pageHeader'];\n// These props is used by `useContext` directly in sub component\nvar PASSED_PROPS = ['getTargetContainer', 'getPopupContainer', 'renderEmpty', 'pageHeader', 'input', 'pagination', 'form'];\nexport var defaultPrefixCls = 'ant';\nexport var defaultIconPrefixCls = 'anticon';\nvar globalPrefixCls;\nvar globalIconPrefixCls;\nfunction getGlobalPrefixCls() {\n  return globalPrefixCls || defaultPrefixCls;\n}\nfunction getGlobalIconPrefixCls() {\n  return globalIconPrefixCls || defaultIconPrefixCls;\n}\nvar setGlobalConfig = function setGlobalConfig(_ref) {\n  var prefixCls = _ref.prefixCls,\n    iconPrefixCls = _ref.iconPrefixCls,\n    theme = _ref.theme;\n  if (prefixCls !== undefined) {\n    globalPrefixCls = prefixCls;\n  }\n  if (iconPrefixCls !== undefined) {\n    globalIconPrefixCls = iconPrefixCls;\n  }\n  if (theme) {\n    registerTheme(getGlobalPrefixCls(), theme);\n  }\n};\nexport var globalConfig = function globalConfig() {\n  return {\n    getPrefixCls: function getPrefixCls(suffixCls, customizePrefixCls) {\n      if (customizePrefixCls) return customizePrefixCls;\n      return suffixCls ? \"\".concat(getGlobalPrefixCls(), \"-\").concat(suffixCls) : getGlobalPrefixCls();\n    },\n    getIconPrefixCls: getGlobalIconPrefixCls,\n    getRootPrefixCls: function getRootPrefixCls(rootPrefixCls, customizePrefixCls) {\n      // Customize rootPrefixCls is first priority\n      if (rootPrefixCls) {\n        return rootPrefixCls;\n      }\n      // If Global prefixCls provided, use this\n      if (globalPrefixCls) {\n        return globalPrefixCls;\n      }\n      // [Legacy] If customize prefixCls provided, we cut it to get the prefixCls\n      if (customizePrefixCls && customizePrefixCls.includes('-')) {\n        return customizePrefixCls.replace(/^(.*)-[^-]*$/, '$1');\n      }\n      // Fallback to default prefixCls\n      return getGlobalPrefixCls();\n    }\n  };\n};\nvar ProviderChildren = function ProviderChildren(props) {\n  var _a, _b;\n  var children = props.children,\n    csp = props.csp,\n    autoInsertSpaceInButton = props.autoInsertSpaceInButton,\n    form = props.form,\n    locale = props.locale,\n    componentSize = props.componentSize,\n    direction = props.direction,\n    space = props.space,\n    virtual = props.virtual,\n    dropdownMatchSelectWidth = props.dropdownMatchSelectWidth,\n    legacyLocale = props.legacyLocale,\n    parentContext = props.parentContext,\n    iconPrefixCls = props.iconPrefixCls,\n    componentDisabled = props.componentDisabled;\n  var getPrefixCls = React.useCallback(function (suffixCls, customizePrefixCls) {\n    var prefixCls = props.prefixCls;\n    if (customizePrefixCls) return customizePrefixCls;\n    var mergedPrefixCls = prefixCls || parentContext.getPrefixCls('');\n    return suffixCls ? \"\".concat(mergedPrefixCls, \"-\").concat(suffixCls) : mergedPrefixCls;\n  }, [parentContext.getPrefixCls, props.prefixCls]);\n  var config = _extends(_extends({}, parentContext), {\n    csp: csp,\n    autoInsertSpaceInButton: autoInsertSpaceInButton,\n    locale: locale || legacyLocale,\n    direction: direction,\n    space: space,\n    virtual: virtual,\n    dropdownMatchSelectWidth: dropdownMatchSelectWidth,\n    getPrefixCls: getPrefixCls\n  });\n  // Pass the props used by `useContext` directly with child component.\n  // These props should merged into `config`.\n  PASSED_PROPS.forEach(function (propName) {\n    var propValue = props[propName];\n    if (propValue) {\n      config[propName] = propValue;\n    }\n  });\n  // https://github.com/ant-design/ant-design/issues/27617\n  var memoedConfig = useMemo(function () {\n    return config;\n  }, config, function (prevConfig, currentConfig) {\n    var prevKeys = Object.keys(prevConfig);\n    var currentKeys = Object.keys(currentConfig);\n    return prevKeys.length !== currentKeys.length || prevKeys.some(function (key) {\n      return prevConfig[key] !== currentConfig[key];\n    });\n  });\n  var memoIconContextValue = React.useMemo(function () {\n    return {\n      prefixCls: iconPrefixCls,\n      csp: csp\n    };\n  }, [iconPrefixCls, csp]);\n  var childNode = children;\n  // Additional Form provider\n  var validateMessages = {};\n  if (locale) {\n    validateMessages = ((_a = locale.Form) === null || _a === void 0 ? void 0 : _a.defaultValidateMessages) || ((_b = defaultLocale.Form) === null || _b === void 0 ? void 0 : _b.defaultValidateMessages) || {};\n  }\n  if (form && form.validateMessages) {\n    validateMessages = _extends(_extends({}, validateMessages), form.validateMessages);\n  }\n  if (Object.keys(validateMessages).length > 0) {\n    childNode = /*#__PURE__*/React.createElement(RcFormProvider, {\n      validateMessages: validateMessages\n    }, children);\n  }\n  if (locale) {\n    childNode = /*#__PURE__*/React.createElement(LocaleProvider, {\n      locale: locale,\n      _ANT_MARK__: ANT_MARK\n    }, childNode);\n  }\n  if (iconPrefixCls || csp) {\n    childNode = /*#__PURE__*/React.createElement(IconContext.Provider, {\n      value: memoIconContextValue\n    }, childNode);\n  }\n  if (componentSize) {\n    childNode = /*#__PURE__*/React.createElement(SizeContextProvider, {\n      size: componentSize\n    }, childNode);\n  }\n  if (componentDisabled !== undefined) {\n    childNode = /*#__PURE__*/React.createElement(DisabledContextProvider, {\n      disabled: componentDisabled\n    }, childNode);\n  }\n  return /*#__PURE__*/React.createElement(ConfigContext.Provider, {\n    value: memoedConfig\n  }, childNode);\n};\nvar ConfigProvider = function ConfigProvider(props) {\n  React.useEffect(function () {\n    if (props.direction) {\n      message.config({\n        rtl: props.direction === 'rtl'\n      });\n      notification.config({\n        rtl: props.direction === 'rtl'\n      });\n    }\n  }, [props.direction]);\n  return /*#__PURE__*/React.createElement(LocaleReceiver, null, function (_, __, legacyLocale) {\n    return /*#__PURE__*/React.createElement(ConfigConsumer, null, function (context) {\n      return /*#__PURE__*/React.createElement(ProviderChildren, _extends({\n        parentContext: context,\n        legacyLocale: legacyLocale\n      }, props));\n    });\n  });\n};\n/** @private internal Usage. do not use in your production */\nConfigProvider.ConfigContext = ConfigContext;\nConfigProvider.SizeContext = SizeContext;\nConfigProvider.config = setGlobalConfig;\nexport default ConfigProvider;","import unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nexport default function _createForOfIteratorHelper(o) {\n  if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) {\n    if (Array.isArray(o) || (o = unsupportedIterableToArray(o))) {\n      var i = 0;\n\n      var F = function F() {};\n\n      return {\n        s: F,\n        n: function n() {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function e(_e) {\n          throw _e;\n        },\n        f: F\n      };\n    }\n\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var it,\n      normalCompletion = true,\n      didErr = false,\n      err;\n  return {\n    s: function s() {\n      it = o[Symbol.iterator]();\n    },\n    n: function n() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function e(_e2) {\n      didErr = true;\n      err = _e2;\n    },\n    f: function f() {\n      try {\n        if (!normalCompletion && it[\"return\"] != null) it[\"return\"]();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}","export function shallowEqual<T>(\n  objA: T,\n  objB: T,\n  compare?: (a: T, b: T, key?: string) => boolean | void,\n  compareContext?: any\n) {\n  var compareResult = compare\n    ? compare.call(compareContext, objA, objB)\n    : void 0;\n  if (compareResult !== void 0) {\n    return !!compareResult;\n  }\n\n  if (objA === objB) {\n    return true;\n  }\n\n  if (typeof objA !== 'object' || !objA || typeof objB !== 'object' || !objB) {\n    return false;\n  }\n\n  var keysA = Object.keys(objA);\n  var keysB = Object.keys(objB);\n\n  if (keysA.length !== keysB.length) {\n    return false;\n  }\n\n  var bHasOwnProperty = Object.prototype.hasOwnProperty.bind(objB);\n\n  // Test for A's keys different from B.\n  for (var idx = 0; idx < keysA.length; idx++) {\n    var key = keysA[idx];\n\n    if (!bHasOwnProperty(key)) {\n      return false;\n    }\n\n    var valueA = (objA as any)[key];\n    var valueB = (objB as any)[key];\n\n    compareResult = compare\n      ? compare.call(compareContext, valueA, valueB, key)\n      : void 0;\n\n    if (\n      compareResult === false ||\n      (compareResult === void 0 && valueA !== valueB)\n    ) {\n      return false;\n    }\n  }\n\n  return true;\n}\n","import ActionType from './type';\r\nexport const changeBtnState = (state) => ({\r\n    type: ActionType.CHANGE_BTN_STATE,\r\n    state\r\n})\r\n//----------------init edit------------------------\r\nexport const setParsedFileData = (columnList, granularity, dataRange, timeCol, timeValue) => ({\r\n    type: ActionType.SET_PARSED_FILE_DATA,\r\n    columnList,\r\n    granularity,\r\n    dataRange,\r\n    timeCol,\r\n    timeValue\r\n})\r\nexport const setScale = (scale) => ({\r\n    type: ActionType.SET_SCALE,\r\n    scale\r\n})\r\n\r\n//------before generate--------\r\nexport const setTask = (task) => ({\r\n    type: ActionType.SET_TASK,\r\n    task\r\n})\r\n\r\n// ---------------time seires anaysis flow----------------------------\r\nexport const setSequence = (sequence) => ({\r\n    type: ActionType.SET_SEQUENCE,\r\n    sequence\r\n})\r\nexport const setRedundantRecommend = (recommededList) => ({\r\n    type: ActionType.SET_REDUNDANT,\r\n    recommededList\r\n})\r\n\r\nexport const addEmptyCard = (index) => ({\r\n    type: ActionType.ADD_EMPTY_CARD,\r\n    index\r\n})\r\n\r\nexport const changeCardLocation = (origin, target) => ({\r\n    type: ActionType.CHANGE_CRAD_LOCATION,\r\n    origin,\r\n    target\r\n})\r\n\r\nexport const removeCard = (index) => ({\r\n    type: ActionType.REMOVE_CARD,\r\n    index\r\n})\r\n\r\nexport const fixCard = (index, spec, factType, recommendList, oriBlock, captionId) => ({\r\n    type: ActionType.FIX_CARD,\r\n    index,\r\n    spec,\r\n    factType,\r\n    recommendList,\r\n    oriBlock,\r\n    captionId\r\n})\r\n\r\nexport const setSelectedCardIndex = (index) => ({\r\n    type: ActionType.SET_SELECTED_CARD_INDEX,\r\n    index\r\n})\r\n\r\n//-----------------recommend insight card----------------\r\nexport const setSelectedRecommendCard = (index) => ({\r\n    type: ActionType.SET_SELECTED_RECOMMEND_CARD,\r\n    index\r\n})\r\nexport const removeRecommendCard = (index) => ({\r\n    type: ActionType.REMOVE_RECOMMEND_CARD,\r\n    index\r\n})\r\nexport const addRecommendList = (index, recommendList) => ({\r\n    type: ActionType.ADD_RECOMMEND_LIST,\r\n    index,\r\n    recommendList\r\n})\r\n\r\n//--------------------pop insight card------------\r\nexport const addPopInsights = (segment_key, segment_insights) => ({\r\n    type: ActionType.ADD_SEGMENTS_INSIGHTS,\r\n    segment_key,\r\n    segment_insights\r\n})\r\n\r\nexport const setPopInsightCardState = (state) => ({\r\n    type: ActionType.SET_POP_CARD_START,\r\n    state\r\n})\r\nexport const setCurrentPopInsights = (insights) => ({\r\n    type: ActionType.SET_POP_INSIGHTS,\r\n    insights\r\n})\r\nexport const setTooltipContainer = (container) => ({\r\n    type: ActionType.SET_TOOLTIP_CONTAINER,\r\n    container\r\n})\r\n\r\n\r\n//----------------------configure edit----------------\r\n\r\nexport const setConfigureInsightColumns = (columns) => ({\r\n    type: ActionType.SET_CONFIGURE_COLUMNS,\r\n    columns\r\n})\r\n\r\nexport const setConfigureInsightTime = (start, end) => ({\r\n    type: ActionType.SET_CONFIGURE_TIME,\r\n    start,\r\n    end\r\n})\r\n\r\nexport const setConfigureInsightType = (insightType) => ({\r\n    type: ActionType.SET_CONFIGURE_TYPE,\r\n    insightType\r\n})\r\n\r\nexport const setConfigureInsightBreakdown = (breakdown) => ({\r\n    type: ActionType.SET_CONFIGURE_BREAKDOWN,\r\n    breakdown\r\n})\r\n\r\nexport const setProcessTime = (time) => ({\r\n    type: ActionType.SET_PROCESS_TIME,\r\n    time\r\n})\r\nexport const setProcessGranularity = (granularity) => ({\r\n    type: ActionType.SET_PROCESS_GRANULARITY,\r\n    granularity\r\n})\r\nexport const setProcessColumns = (columns) => ({\r\n    type: ActionType.SET_PROCESS_COLUMNS,\r\n    columns\r\n})\r\n\r\nexport const updateColumnsAndRange = (columns, dataRange, timeValues) => ({\r\n    type: ActionType.UPDATE_COLUMNS_AND_RANGE,\r\n    columns,\r\n    dataRange,\r\n    timeValues\r\n})\r\n","import { createSelector } from 'reselect';\r\nexport const rightBtnState = state => state.series.rightBtnState;\r\nexport const drawScale = state => state.series.drawScale;\r\n//-------------------------data----------------------\r\nexport const columnsName = state => state.series.columnsName;\r\nexport const granularityName = state => state.series.granularityName;\r\nexport const dataRange = state => state.series.dataRange;\r\nexport const timeColumnName = state => state.series.timeColumnName;\r\nexport const timeValue = state => state.series.timeValue;\r\nexport const chartScale = state => state.series.chartScale;\r\nexport const chartMargin = state => state.series.chartMargin;\r\n\r\n//-----------------------configure----------------------\r\nexport const task = state => state.series.task;\r\nexport const originColumnName = state => state.series.originColumnName;\r\nexport const originDataRange = state => state.series.originDataRange;\r\nexport const originTimeValue = state => state.series.originTimeValue;\r\n\r\n\r\n//-------------------sequence---------------------------\r\nexport const sequence = state => state.series.sequence;\r\nexport const redundantRecommend = state => state.series.redundantRecommend;\r\nexport const segmentInsightsStorage = state => state.series.segmentInsightsStorage;\r\nexport const selectedCardIndex = state => state.series.selectedCardIndex;\r\n\r\n\r\n// export const selectedCardColumns = createSelector(\r\n//     sequence,\r\n//     selectedCardIndex,\r\n//     function (sequence, selectedCardIndex) {\r\n//         let columnsList = []\r\n//         if (sequence[selectedCardIndex]) {\r\n//             console.log(sequence)\r\n//             console.log(selectedCardIndex)\r\n//             if (sequence[selectedCardIndex].type !== \"empty\") {\r\n//                 let measures = sequence[selectedCardIndex].spec.fact.measure\r\n//                 measures.map((measure, i) => {\r\n//                     columnsList.push(measure.field)\r\n//                 })\r\n//             }\r\n//         }\r\n//         // }else if(sequence[selectedCardIndex-1]){\r\n//         //     let measures = sequence[selectedCardIndex-1].spec.fact.measure\r\n//         //     measures.map((measure, i) => {\r\n//         //         columnsList.push(measure.field)\r\n//         //     })\r\n//         // }\r\n//         return columnsList\r\n\r\n//     }\r\n// )\r\n// export const selectedCardType = createSelector(\r\n//     sequence,\r\n//     selectedCardIndex,\r\n//     function (sequence, selectedCardIndex) {\r\n//         if (sequence[selectedCardIndex])\r\n//         {\r\n//             if(sequence[selectedCardIndex].type!==\"empty\"){\r\n//                 return sequence[selectedCardIndex].type\r\n//             }\r\n//         }\r\n//         // else if (sequence[selectedCardIndex - 1])\r\n//         //     return sequence[selectedCardIndex - 1].type\r\n//         return \"\"\r\n//     }\r\n// )\r\n// export const selectedCardSubspace = createSelector(\r\n//     sequence,\r\n//     selectedCardIndex,\r\n//     function (sequence, selectedCardIndex) {\r\n//         if (sequence[selectedCardIndex]){\r\n//             if(sequence[selectedCardIndex].type!==\"empty\"){\r\n//                 return sequence[selectedCardIndex].spec.fact.subspace\r\n//             }else{\r\n//                 return [0,0]\r\n//             }\r\n//         }\r\n\r\n//         return []\r\n//     }\r\n// )\r\n\r\n//--------recommend list-------------\r\nexport const recommendList = state => state.series.recommendList;\r\nexport const selectedRecommendCardIndex = state => state.series.selectedRecommendCardIndex;\r\n\r\n//---------pop card-------------\r\n\r\nexport const isPopInsightCard = state => state.series.isPopInsightCard;\r\nexport const currentPopInsightList = state => state.series.currentPopInsightList;\r\nexport const tooltipContainer = state => state.series.tooltipContainer;\r\n\r\n\r\n//-------------------configure edit-----------------\r\n\r\nexport const configureInsightColumns = state => state.series.configureInsightColumns;\r\nexport const configureInsightTime = state => state.series.configureInsightTime;\r\nexport const configureInsightType = state => state.series.configureInsightType;\r\nexport const configureInsightBreakdown = state => state.series.configureInsightBreakdown;\r\n\r\n\r\n//--------------------file preprocess--------------\r\nexport const processTime = state => state.series.processTime;\r\nexport const processGranularity = state => state.series.processGranularity;\r\nexport const processColumns = state => state.series.processColumns;\r\n","/*\r\n发送异步ajax请求的模块\r\n封装axios库\r\n函数的返回值是promise对象\r\n */\r\nimport axios from 'axios'\r\nexport default function ajax(url,data={},type='GET',config={}){\r\n    if(type==='GET'){\r\n        return axios.get(url,{\r\n            params:data\r\n        });\r\n    }else{\r\n        if(JSON.stringify(config)==='{}'){\r\n            return axios.post(url,data);\r\n        }\r\n        return axios.post(url,data,config);\r\n    }\r\n}","/*\r\n包含应用中所有接口请求函数的模块\r\n每个函数的返回值都是promise\r\n */\r\nimport ajax from './ajax'\r\nimport config from './config';\r\n// let uploadUrl = 'http://localhost:6038/upload'\r\n// let parseFileUrl = 'http://localhost:6038/metadata'\r\n// let generateSequenceUrl = 'http://localhost:6040/generate/story'\r\n// let findInsightUrl = 'http://localhost:6040/generate/insight'\r\n// let fileProcess = 'http://localhost:6038/preprocess'\r\n// let genertateRecommendList = 'http://localhost:6040/generate/recommend'\r\n//zerotier:172.30.249.157\r\n// let uploadUrl = 'http://172.30.249.157:6038/upload'\r\n// let parseFileUrl = 'http://172.30.249.157:6038/metadata'\r\n// let generateSequenceUrl = 'http://172.30.249.157:6040/generate/story'\r\n// let findInsightUrl = 'http://172.30.249.157:6040/generate/insight'\r\n// let fileProcess = 'http://172.30.249.157:6038/preprocess'\r\n// let genertateRecommendList = 'http://172.30.249.157:6040/generate/recommend'\r\n// vasta-api.idvxlab.com\r\nlet uploadUrl = 'https://vasta-api.idvxlab.com:8008/upload'\r\nlet parseFileUrl = 'https://vasta-api.idvxlab.com:8008/metadata'\r\nlet generateSequenceUrl = 'https://vasta-api.idvxlab.com:8008/generate/story'\r\nlet findInsightUrl = 'https://vasta-api.idvxlab.com:8008/generate/insight'\r\nlet fileProcess = 'https://vasta-api.idvxlab.com:8008/preprocess'\r\nlet genertateRecommendList = 'https://vasta-api.idvxlab.com:8008/generate/recommend'\r\n//upload file\r\nexport const uploadFile = (formData) => ajax(uploadUrl, formData, 'POST',\r\n    {\r\n        \"headers\": {\r\n            'Content-Type': 'multipart/form-data' //application/json; charset=utf-8\r\n        },\r\n    });\r\n\r\nexport const processFile = (path, start, end, variable, aggregate) => ajax(fileProcess,\r\n    {\r\n        'path': path,\r\n        'start': start,\r\n        'end': end,\r\n        'variable': variable,\r\n        'aggregate': aggregate\r\n    },\r\n    'POST',\r\n    {\r\n        \"headers\": {\r\n            'Content-Type': 'application/json'\r\n        }\r\n    }\r\n);\r\n\r\n//analysis file's columns、time column、granularity and so on\r\nexport const parsingFile = (fileurl) => ajax(\r\n    parseFileUrl,\r\n    {\r\n        'path': fileurl\r\n    },\r\n    'GET'\r\n);\r\n\r\n\r\n//------------generate sequence-----------\r\nexport const generateSequence = (file_path, time_col, task) => ajax(generateSequenceUrl,\r\n    {\r\n        'path': file_path,\r\n        'time_field': time_col,\r\n        'task': task\r\n    },\r\n    'POST',\r\n    {\r\n        \"headers\": {\r\n            'Content-Type': 'application/json'\r\n        }\r\n    }\r\n);\r\n//---find insights-------\r\nexport const findInsight = (file_url, fields, time_field, location) => ajax(findInsightUrl,\r\n    {\r\n        'file_url': file_url,\r\n        'fields': fields,\r\n        'time_field': time_field,\r\n        'location': location\r\n    },\r\n    'POST',\r\n    {\r\n        \"headers\": {\r\n            'Content-Type': 'application/json'\r\n        }\r\n    }\r\n);\r\n//-------generate single insight-------\r\nexport const generateSingleInsight = (file_url, fields, time_field, location, insights) => ajax(findInsightUrl,\r\n    {\r\n        'file_url': file_url,\r\n        'fields': fields,\r\n        'time_field': time_field,\r\n        'location': location,\r\n        'insights': insights\r\n    },\r\n    'POST',\r\n    {\r\n        \"headers\": {\r\n            'Content-Type': 'application/json'\r\n        }\r\n    }\r\n);\r\n//------request recommendList-------\r\nexport const generateRecommendList = (file_url, time_field, task, previous, current) => ajax(genertateRecommendList,\r\n    {\r\n        'file_url': file_url,\r\n        'time_field': time_field,\r\n        'task': task,\r\n        'previous': previous,\r\n        'current': current\r\n    },\r\n    'POST',\r\n    {\r\n        \"headers\": {\r\n            'Content-Type': 'application/json'\r\n        }\r\n    }\r\n);\r\n//------generate update story-------\r\nexport const generateSubsequent = (path, time_field, existing_insights, task) => ajax(generateSequenceUrl,\r\n    {\r\n        'path': path,\r\n        'time_field': time_field,\r\n        'existing_insights': existing_insights,\r\n        'task': task\r\n    },\r\n    'POST',\r\n    {\r\n        \"headers\": {\r\n            'Content-Type': 'application/json'\r\n        }\r\n    }\r\n);","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;","// This icon file is generated automatically.\nvar ExclamationCircleFilled = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296zm32 440a48.01 48.01 0 010-96 48.01 48.01 0 010 96z\" } }] }, \"name\": \"exclamation-circle\", \"theme\": \"filled\" };\nexport default ExclamationCircleFilled;\n","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport ExclamationCircleFilledSvg from \"@ant-design/icons-svg/es/asn/ExclamationCircleFilled\";\nimport AntdIcon from '../components/AntdIcon';\nvar ExclamationCircleFilled = function ExclamationCircleFilled(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _objectSpread(_objectSpread({}, props), {}, {\n    ref: ref,\n    icon: ExclamationCircleFilledSvg\n  }));\n};\nExclamationCircleFilled.displayName = 'ExclamationCircleFilled';\nexport default /*#__PURE__*/React.forwardRef(ExclamationCircleFilled);","// This icon file is generated automatically.\nvar InfoCircleFilled = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm32 664c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V456c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272zm-32-344a48.01 48.01 0 010-96 48.01 48.01 0 010 96z\" } }] }, \"name\": \"info-circle\", \"theme\": \"filled\" };\nexport default InfoCircleFilled;\n","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport InfoCircleFilledSvg from \"@ant-design/icons-svg/es/asn/InfoCircleFilled\";\nimport AntdIcon from '../components/AntdIcon';\nvar InfoCircleFilled = function InfoCircleFilled(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _objectSpread(_objectSpread({}, props), {}, {\n    ref: ref,\n    icon: InfoCircleFilledSvg\n  }));\n};\nInfoCircleFilled.displayName = 'InfoCircleFilled';\nexport default /*#__PURE__*/React.forwardRef(InfoCircleFilled);","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport CheckCircleFilled from \"@ant-design/icons/es/icons/CheckCircleFilled\";\nimport CloseCircleFilled from \"@ant-design/icons/es/icons/CloseCircleFilled\";\nimport ExclamationCircleFilled from \"@ant-design/icons/es/icons/ExclamationCircleFilled\";\nimport InfoCircleFilled from \"@ant-design/icons/es/icons/InfoCircleFilled\";\nimport LoadingOutlined from \"@ant-design/icons/es/icons/LoadingOutlined\";\nimport classNames from 'classnames';\nimport RCNotification from 'rc-notification';\nimport * as React from 'react';\nimport ConfigProvider, { globalConfig } from '../config-provider';\nimport createUseMessage from './hooks/useMessage';\nvar messageInstance;\nvar defaultDuration = 3;\nvar defaultTop;\nvar key = 1;\nvar localPrefixCls = '';\nvar transitionName = 'move-up';\nvar hasTransitionName = false;\nvar getContainer;\nvar maxCount;\nvar rtl = false;\nexport function getKeyThenIncreaseKey() {\n  return key++;\n}\nfunction setMessageConfig(options) {\n  if (options.top !== undefined) {\n    defaultTop = options.top;\n    messageInstance = null; // delete messageInstance for new defaultTop\n  }\n\n  if (options.duration !== undefined) {\n    defaultDuration = options.duration;\n  }\n  if (options.prefixCls !== undefined) {\n    localPrefixCls = options.prefixCls;\n  }\n  if (options.getContainer !== undefined) {\n    getContainer = options.getContainer;\n    messageInstance = null; // delete messageInstance for new getContainer\n  }\n\n  if (options.transitionName !== undefined) {\n    transitionName = options.transitionName;\n    messageInstance = null; // delete messageInstance for new transitionName\n    hasTransitionName = true;\n  }\n  if (options.maxCount !== undefined) {\n    maxCount = options.maxCount;\n    messageInstance = null;\n  }\n  if (options.rtl !== undefined) {\n    rtl = options.rtl;\n  }\n}\nfunction getRCNotificationInstance(args, callback) {\n  var customizePrefixCls = args.prefixCls,\n    getContextPopupContainer = args.getPopupContainer;\n  var _globalConfig = globalConfig(),\n    getPrefixCls = _globalConfig.getPrefixCls,\n    getRootPrefixCls = _globalConfig.getRootPrefixCls,\n    getIconPrefixCls = _globalConfig.getIconPrefixCls;\n  var prefixCls = getPrefixCls('message', customizePrefixCls || localPrefixCls);\n  var rootPrefixCls = getRootPrefixCls(args.rootPrefixCls, prefixCls);\n  var iconPrefixCls = getIconPrefixCls();\n  if (messageInstance) {\n    callback({\n      prefixCls: prefixCls,\n      rootPrefixCls: rootPrefixCls,\n      iconPrefixCls: iconPrefixCls,\n      instance: messageInstance\n    });\n    return;\n  }\n  var instanceConfig = {\n    prefixCls: prefixCls,\n    transitionName: hasTransitionName ? transitionName : \"\".concat(rootPrefixCls, \"-\").concat(transitionName),\n    style: {\n      top: defaultTop\n    },\n    getContainer: getContainer || getContextPopupContainer,\n    maxCount: maxCount\n  };\n  RCNotification.newInstance(instanceConfig, function (instance) {\n    if (messageInstance) {\n      callback({\n        prefixCls: prefixCls,\n        rootPrefixCls: rootPrefixCls,\n        iconPrefixCls: iconPrefixCls,\n        instance: messageInstance\n      });\n      return;\n    }\n    messageInstance = instance;\n    if (process.env.NODE_ENV === 'test') {\n      messageInstance.config = instanceConfig;\n    }\n    callback({\n      prefixCls: prefixCls,\n      rootPrefixCls: rootPrefixCls,\n      iconPrefixCls: iconPrefixCls,\n      instance: instance\n    });\n  });\n}\nvar typeToIcon = {\n  info: InfoCircleFilled,\n  success: CheckCircleFilled,\n  error: CloseCircleFilled,\n  warning: ExclamationCircleFilled,\n  loading: LoadingOutlined\n};\nexport var typeList = Object.keys(typeToIcon);\nfunction getRCNoticeProps(args, prefixCls, iconPrefixCls) {\n  var _classNames;\n  var duration = args.duration !== undefined ? args.duration : defaultDuration;\n  var IconComponent = typeToIcon[args.type];\n  var messageClass = classNames(\"\".concat(prefixCls, \"-custom-content\"), (_classNames = {}, _defineProperty(_classNames, \"\".concat(prefixCls, \"-\").concat(args.type), args.type), _defineProperty(_classNames, \"\".concat(prefixCls, \"-rtl\"), rtl === true), _classNames));\n  return {\n    key: args.key,\n    duration: duration,\n    style: args.style || {},\n    className: args.className,\n    content: /*#__PURE__*/React.createElement(ConfigProvider, {\n      iconPrefixCls: iconPrefixCls\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: messageClass\n    }, args.icon || IconComponent && /*#__PURE__*/React.createElement(IconComponent, null), /*#__PURE__*/React.createElement(\"span\", null, args.content))),\n    onClose: args.onClose,\n    onClick: args.onClick\n  };\n}\nfunction notice(args) {\n  var target = args.key || getKeyThenIncreaseKey();\n  var closePromise = new Promise(function (resolve) {\n    var callback = function callback() {\n      if (typeof args.onClose === 'function') {\n        args.onClose();\n      }\n      return resolve(true);\n    };\n    getRCNotificationInstance(args, function (_ref) {\n      var prefixCls = _ref.prefixCls,\n        iconPrefixCls = _ref.iconPrefixCls,\n        instance = _ref.instance;\n      instance.notice(getRCNoticeProps(_extends(_extends({}, args), {\n        key: target,\n        onClose: callback\n      }), prefixCls, iconPrefixCls));\n    });\n  });\n  var result = function result() {\n    var _a;\n    if (messageInstance) {\n      messageInstance.removeNotice(target);\n      (_a = args.onClose) === null || _a === void 0 ? void 0 : _a.call(args);\n    }\n  };\n  result.then = function (filled, rejected) {\n    return closePromise.then(filled, rejected);\n  };\n  result.promise = closePromise;\n  return result;\n}\nfunction isArgsProps(content) {\n  return Object.prototype.toString.call(content) === '[object Object]' && !!content.content;\n}\nvar api = {\n  open: notice,\n  config: setMessageConfig,\n  destroy: function destroy(messageKey) {\n    if (messageInstance) {\n      if (messageKey) {\n        var _messageInstance = messageInstance,\n          removeNotice = _messageInstance.removeNotice;\n        removeNotice(messageKey);\n      } else {\n        var _messageInstance2 = messageInstance,\n          destroy = _messageInstance2.destroy;\n        destroy();\n        messageInstance = null;\n      }\n    }\n  }\n};\nexport function attachTypeApi(originalApi, type) {\n  originalApi[type] = function (content, duration, onClose) {\n    if (isArgsProps(content)) {\n      return originalApi.open(_extends(_extends({}, content), {\n        type: type\n      }));\n    }\n    if (typeof duration === 'function') {\n      onClose = duration;\n      duration = undefined;\n    }\n    return originalApi.open({\n      content: content,\n      duration: duration,\n      type: type,\n      onClose: onClose\n    });\n  };\n}\ntypeList.forEach(function (type) {\n  return attachTypeApi(api, type);\n});\napi.warn = api.warning;\napi.useMessage = createUseMessage(getRCNotificationInstance, getRCNoticeProps);\n/** @internal test Only function. Not work on production */\nexport var getInstance = function getInstance() {\n  return process.env.NODE_ENV === 'test' ? messageInstance : null;\n};\nexport default api;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport useRCNotification from \"rc-notification/es/useNotification\";\nimport * as React from 'react';\nimport { attachTypeApi, getKeyThenIncreaseKey, typeList } from '..';\nimport { ConfigConsumer } from '../../config-provider';\nexport default function createUseMessage(getRcNotificationInstance, getRCNoticeProps) {\n  var useMessage = function useMessage() {\n    // We can only get content by render\n    var getPrefixCls;\n    var getPopupContainer;\n    // We create a proxy to handle delay created instance\n    var innerInstance = null;\n    var proxy = {\n      add: function add(noticeProps, holderCallback) {\n        innerInstance === null || innerInstance === void 0 ? void 0 : innerInstance.component.add(noticeProps, holderCallback);\n      }\n    };\n    var _useRCNotification = useRCNotification(proxy),\n      _useRCNotification2 = _slicedToArray(_useRCNotification, 2),\n      hookNotify = _useRCNotification2[0],\n      holder = _useRCNotification2[1];\n    function notify(args) {\n      var customizePrefixCls = args.prefixCls;\n      var mergedPrefixCls = getPrefixCls('message', customizePrefixCls);\n      var rootPrefixCls = getPrefixCls();\n      var target = args.key || getKeyThenIncreaseKey();\n      var closePromise = new Promise(function (resolve) {\n        var callback = function callback() {\n          if (typeof args.onClose === 'function') {\n            args.onClose();\n          }\n          return resolve(true);\n        };\n        getRcNotificationInstance(_extends(_extends({}, args), {\n          prefixCls: mergedPrefixCls,\n          rootPrefixCls: rootPrefixCls,\n          getPopupContainer: getPopupContainer\n        }), function (_ref) {\n          var prefixCls = _ref.prefixCls,\n            instance = _ref.instance;\n          innerInstance = instance;\n          hookNotify(getRCNoticeProps(_extends(_extends({}, args), {\n            key: target,\n            onClose: callback\n          }), prefixCls));\n        });\n      });\n      var result = function result() {\n        if (innerInstance) {\n          innerInstance.removeNotice(target);\n        }\n      };\n      result.then = function (filled, rejected) {\n        return closePromise.then(filled, rejected);\n      };\n      result.promise = closePromise;\n      return result;\n    }\n    // Fill functions\n    var hookApiRef = React.useRef({});\n    hookApiRef.current.open = notify;\n    typeList.forEach(function (type) {\n      return attachTypeApi(hookApiRef.current, type);\n    });\n    return [hookApiRef.current, /*#__PURE__*/React.createElement(ConfigConsumer, {\n      key: \"holder\"\n    }, function (context) {\n      getPrefixCls = context.getPrefixCls;\n      getPopupContainer = context.getPopupContainer;\n      return holder;\n    })];\n  };\n  return useMessage;\n}","export const euclidean = function(v1, v2) {\n    var total = 0;\n    for (var i = 0; i < v1.length; i++) {\n       total += Math.pow(v2[i] - v1[i], 2);      \n    }\n    return Math.sqrt(total);\n}\n\nexport const manhattan = function(v1, v2) {\n   var total = 0;\n   for (var i = 0; i < v1.length ; i++) {\n      total += Math.abs(v2[i] - v1[i]);      \n   }\n   return total;\n}\n\nexport const factSimilarity = function(f1, f2) {\n   // 1. fact\n   let s1 = f1.type === f2.type ? 1 : 0;\n\n   // 2. measure\n   let s2\n   let m1 = f1.measure.map(x=>x.field);\n   let m2 = f2.measure.map(x=>x.field);\n   if (m1.length === 0 && m2.length === 0) {\n      s2 = 1 // no measure\n   } else {\n      let m_intersection = m1.filter(value => m2.includes(value));\n      let m_longer = m1.length > m2.length ? m1 : m2;\n      s2 = m_intersection.length / m_longer.length;\n   }\n\n   // 3. subspace\n   let s3\n   let subspace1fields = f1.subspace.map(x=>x.field);\n   let subspace2fields = f2.subspace.map(x=>x.field);\n   if (subspace1fields.length === 0 && subspace2fields.length === 0) {\n      s3 = 1 // subspace is whole data\n   } else {\n      let subspace_intersection = subspace1fields.filter(value => subspace2fields.includes(value));\n      let subspace_longer = subspace1fields.length > subspace2fields.length ? subspace1fields : subspace2fields;\n      s3 = subspace_intersection.length / subspace_longer.length;\n   }\n\n   // 4. groupby\n   let s4;\n   let g1 = f1.groupby;\n   let g2 = f2.groupby;\n   if (g1.length === 0 && g2.length === 0) {\n      s4 = 1;\n   } else {\n      let g_intersection = g1.filter(value => g2.includes(value));\n      let g_longer = g1.length > g2.length ? g1 : g2;\n      s4 = g_intersection.length / g_longer.length;\n   }\n   \n   // 5. focus\n   let s5;\n   let focus1 = f1.focus.map(x=>x.value);\n   let focus2 = f2.focus.map(x=>x.value);\n   if (focus1.length === 0 && focus2.length === 0) {\n      s5 = 0; // no focus\n   } else {\n      let focus_intersection = focus1.filter(value => focus2.includes(value))\n      let focus_longer = focus1.length > focus2.length ? focus1 : focus2\n      s5 = focus_intersection.length / focus_longer.length\n   }\n\n   let similarity = 0.2*s1 + 0.2*s2 + 0.2*s3 + 0.2*s4 + 0.2*s5;\n   return similarity;\n}\n\nexport const factDistance = function(f1, f2) {\n   return 1 - factSimilarity(f1, f2)\n}","// reference: https://github.com/harthur/clustering\nimport {factDistance} from './distance';\n\nconst HierarchicalClustering = function(distance, linkage, threshold) {\n    this.distance = distance;\n    this.linkage = linkage;\n    this.threshold = threshold === undefined ? Infinity : threshold;\n}\n\nHierarchicalClustering.prototype = {\n    cluster : function(items, snapshotPeriod, snapshotCb) {\n        this.clusters = [];\n        this.dists = [];  // distances between each pair of clusters\n        this.mins = []; // closest cluster for each cluster\n        this.index = []; // keep a hash of all clusters by key\n        \n        for (let i = 0; i < items.length; i++) {\n            let cluster = {\n                value: items[i],\n                key: i,\n                index: i,\n                size: 1\n            };\n            this.clusters[i] = cluster;\n            this.index[i] = cluster;\n            this.dists[i] = [];\n            this.mins[i] = 0;\n        }\n\n        for (let i = 0; i < this.clusters.length; i++) {\n            for (let j = 0; j <= i; j++) {\n                let dist = (i === j) ? Infinity : \n                this.distance(this.clusters[i].value, this.clusters[j].value);\n                this.dists[i][j] = dist;\n                this.dists[j][i] = dist;\n\n                if (dist < this.dists[i][this.mins[i]]) {\n                this.mins[i] = j;               \n                }\n            }\n        }\n\n        let merged = this.mergeClosest();\n        let i = 0;\n        while (merged) {\n            if (snapshotCb && (i++ % snapshotPeriod) === 0) {\n            snapshotCb(this.clusters);           \n            }\n            merged = this.mergeClosest();\n        }\n        \n        this.clusters.forEach(function(cluster) {\n            // clean up metadata used for clustering\n            delete cluster.key;\n            delete cluster.index;\n        });\n\n        return this.clusters;\n    },\n\n    mergeClosest: function() {\n        // find two closest clusters from cached mins\n        let minKey = 0, min = Infinity;\n        for (let i = 0; i < this.clusters.length; i++) {\n            let key = this.clusters[i].key,\n                dist = this.dists[key][this.mins[key]];\n            if (dist < min) {\n                minKey = key;\n                min = dist;\n            }\n        }\n        if (min >= this.threshold) {\n            return false;         \n        }\n\n        let c1 = this.index[minKey],\n            c2 = this.index[this.mins[minKey]];\n\n        // merge two closest clusters\n        let merged = {\n            left: c1,\n            right: c2,\n            key: c1.key,\n            size: c1.size + c2.size\n        };\n\n        this.clusters[c1.index] = merged;\n        this.clusters.splice(c2.index, 1);\n        this.index[c1.key] = merged;\n\n        // update distances with new merged cluster\n        for (let i = 0; i < this.clusters.length; i++) {\n            let ci = this.clusters[i];\n            let dist;\n            if (c1.key === ci.key) {\n                dist = Infinity;            \n            }\n            else if (this.linkage === \"single\") {\n                dist = this.dists[c1.key][ci.key];\n                if (this.dists[c1.key][ci.key] > this.dists[c2.key][ci.key]) {\n                dist = this.dists[c2.key][ci.key];\n                }\n            }\n            else if (this.linkage === \"complete\") {\n                dist = this.dists[c1.key][ci.key];\n                if (this.dists[c1.key][ci.key] < this.dists[c2.key][ci.key]) {\n                dist = this.dists[c2.key][ci.key];              \n                }\n            }\n            else if (this.linkage === \"average\") {\n                dist = (this.dists[c1.key][ci.key] * c1.size\n                    + this.dists[c2.key][ci.key] * c2.size) / (c1.size + c2.size);\n            }\n            else {\n                dist = this.distance(ci.value, c1.value);            \n            }\n\n            this.dists[c1.key][ci.key] = this.dists[ci.key][c1.key] = dist;\n        }\n\n        \n        // update cached mins\n        for (let i = 0; i < this.clusters.length; i++) {\n            let key1 = this.clusters[i].key;        \n            if (this.mins[key1] === c1.key || this.mins[key1] === c2.key) {\n                let min = key1;\n                for (let j = 0; j < this.clusters.length; j++) {\n                let key2 = this.clusters[j].key;\n                if (this.dists[key1][key2] < this.dists[key1][min]) {\n                    min = key2;                  \n                }\n                }\n                this.mins[key1] = min;\n            }\n            this.clusters[i].index = i;\n        }\n        \n        // clean up metadata used for clustering\n        delete c1.key; delete c2.key;\n        delete c1.index; delete c2.index;\n\n        return true;\n    }\n    }\n\nexport const hcluster = function(items, linkage, threshold, snapshot, snapshotCallback) {\n    linkage = linkage || \"average\";\n    let clusters = (new HierarchicalClustering(factDistance, linkage, threshold))\n                   .cluster(items, snapshot, snapshotCallback);\n       \n    if (threshold === undefined) {\n       return clusters[0]; // all clustered into one\n    }\n    return clusters;\n}","export const factAggRules = [\n  {\n    \"Fact Type 1\": \"distribution\",\n    \"Fact Type 2\": \"distribution\",\n    \"Chart\": \"Stacked Bar Chart\",\n    \"Measure\": \"\",\n    \"Subspace\": \"\",\n    \"Groupby\": \"\",\n    \"Focus\": \"\",\n    \n  },\n  {\n    \"Fact Type 1\": \"distribution\",\n    \"Fact Type 2\": \"difference\",\n    \"Chart\": \"Vertical Bar Chart\",\n    \"Measure\": \"equal\",\n    \"Subspace\": \"equal\",\n    \"Groupby\": \"equal\",\n    \"Focus\": \"difference\",\n    \n  },\n  {\n    \"Fact Type 1\": \"distribution\",\n    \"Fact Type 2\": \"rank\",\n    \"Chart\": \"Horizontal Bar Chart\",\n    \"Measure\": \"equal\",\n    \"Subspace\": \"equal\",\n    \"Groupby\": \"equal\",\n    \"Focus\": \"rank\",\n    \n  },\n  {\n    \"Fact Type 1\": \"distribution\",\n    \"Fact Type 2\": \"categorization\",\n    \"Chart\": \"Isotype Bar Chart\",\n    \"Measure\": \"distribution\",\n    \"Subspace\": \"equal\",\n    \"Groupby\": \"equal\",\n    \"Focus\": \"\",\n    \n  },\n  {\n    \"Fact Type 1\": \"distribution\",\n    \"Fact Type 2\": \"value\",\n    \"Chart\": \"juxtaposition\",\n    \"Measure\": \"\",\n    \"Subspace\": \"\",\n    \"Groupby\": \"\",\n    \"Focus\": \"\",\n    \n  },\n  {\n    \"Fact Type 1\": \"distribution\",\n    \"Fact Type 2\": \"extreme\",\n    \"Chart\": \"Vertical Bar Chart\",\n    \"Measure\": \"equal\",\n    \"Subspace\": \"equal\",\n    \"Groupby\": \"equal\",\n    \"Focus\": \"extreme\",\n    \n  },\n  {\n    \"Fact Type 1\": \"distribution\",\n    \"Fact Type 2\": \"proportion\",\n    \"Chart\": \"juxtaposition\",\n    \"Measure\": \"\",\n    \"Subspace\": \"\",\n    \"Groupby\": \"\",\n    \"Focus\": \"\",\n    \n  },\n  {\n    \"Fact Type 1\": \"distribution\",\n    \"Fact Type 2\": \"outlier\",\n    \"Chart\": \"Vertical Bar Chart\",\n    \"Measure\": \"equal\",\n    \"Subspace\": \"equal\",\n    \"Groupby\": \"equal\",\n    \"Focus\": \"outlier\",\n    \n  },\n  {\n    \"Fact Type 1\": \"distribution\",\n    \"Fact Type 2\": \"association\",\n    \"Chart\": \"juxtaposition\",\n    \"Measure\": \"\",\n    \"Subspace\": \"\",\n    \"Groupby\": \"\",\n    \"Focus\": \"\",\n    \n  },\n  {\n    \"Fact Type 1\": \"distribution\",\n    \"Fact Type 2\": \"trend\",\n    \"Chart\": \"Vertical Bar Chart\",\n    \"Measure\": \"equal\",\n    \"Subspace\": \"equal\",\n    \"Groupby\": \"equal\",\n    \"Focus\": \"\",\n    \n  },\n  {\n    \"Fact Type 1\": \"difference\",\n    \"Fact Type 2\": \"distribution\",\n    \"Chart\": \"Vertical Bar Chart\",\n    \"Measure\": \"equal\",\n    \"Subspace\": \"equal\",\n    \"Groupby\": \"equal\",\n    \"Focus\": \"difference\",\n    \n  },\n  {\n    \"Fact Type 1\": \"difference\",\n    \"Fact Type 2\": \"difference\",\n    \"Chart\": \"juxtaposition\",\n    \"Measure\": \"\",\n    \"Subspace\": \"\",\n    \"Groupby\": \"\",\n    \"Focus\": \"\",\n    \n  },\n  {\n    \"Fact Type 1\": \"difference\",\n    \"Fact Type 2\": \"rank\",\n    \"Chart\": \"juxtaposition\",\n    \"Measure\": \"\",\n    \"Subspace\": \"\",\n    \"Groupby\": \"\",\n    \"Focus\": \"\",\n    \n  },\n  {\n    \"Fact Type 1\": \"difference\",\n    \"Fact Type 2\": \"categorization\",\n    \"Chart\": \"juxtaposition\",\n    \"Measure\": \"\",\n    \"Subspace\": \"\",\n    \"Groupby\": \"\",\n    \"Focus\": \"\",\n    \n  },\n  {\n    \"Fact Type 1\": \"difference\",\n    \"Fact Type 2\": \"value\",\n    \"Chart\": \"juxtaposition\",\n    \"Measure\": \"\",\n    \"Subspace\": \"\",\n    \"Groupby\": \"\",\n    \"Focus\": \"\",\n    \n  },\n  {\n    \"Fact Type 1\": \"difference\",\n    \"Fact Type 2\": \"extreme\",\n    \"Chart\": \"juxtaposition\",\n    \"Measure\": \"\",\n    \"Subspace\": \"\",\n    \"Groupby\": \"\",\n    \"Focus\": \"\",\n    \n  },\n  {\n    \"Fact Type 1\": \"difference\",\n    \"Fact Type 2\": \"proportion\",\n    \"Chart\": \"juxtaposition\",\n    \"Measure\": \"\",\n    \"Subspace\": \"\",\n    \"Groupby\": \"\",\n    \"Focus\": \"\",\n    \n  },\n  {\n    \"Fact Type 1\": \"difference\",\n    \"Fact Type 2\": \"outlier\",\n    \"Chart\": \"juxtaposition\",\n    \"Measure\": \"\",\n    \"Subspace\": \"\",\n    \"Groupby\": \"\",\n    \"Focus\": \"\",\n    \n  },\n  {\n    \"Fact Type 1\": \"difference\",\n    \"Fact Type 2\": \"association\",\n    \"Chart\": \"juxtaposition\",\n    \"Measure\": \"\",\n    \"Subspace\": \"\",\n    \"Groupby\": \"\",\n    \"Focus\": \"\",\n    \n  },\n  {\n    \"Fact Type 1\": \"difference\",\n    \"Fact Type 2\": \"trend\",\n    \"Chart\": \"Vertical Bar Chart\",\n    \"Measure\": \"equal\",\n    \"Subspace\": \"equal\",\n    \"Groupby\": \"equal\",\n    \"Focus\": \"difference\",\n    \n  },\n  {\n    \"Fact Type 1\": \"rank\",\n    \"Fact Type 2\": \"distribution\",\n    \"Chart\": \"Horizontal Bar Chart\",\n    \"Measure\": \"equal\",\n    \"Subspace\": \"equal\",\n    \"Groupby\": \"equal\",\n    \"Focus\": \"rank\",\n    \n  },\n  {\n    \"Fact Type 1\": \"rank\",\n    \"Fact Type 2\": \"difference\",\n    \"Chart\": \"juxtaposition\",\n    \"Measure\": \"\",\n    \"Subspace\": \"\",\n    \"Groupby\": \"\",\n    \"Focus\": \"\",\n    \n  },\n  {\n    \"Fact Type 1\": \"rank\",\n    \"Fact Type 2\": \"rank\",\n    \"Chart\": \"juxtaposition\",\n    \"Measure\": \"\",\n    \"Subspace\": \"\",\n    \"Groupby\": \"\",\n    \"Focus\": \"\",\n    \n  },\n  {\n    \"Fact Type 1\": \"rank\",\n    \"Fact Type 2\": \"categorization\",\n    \"Chart\": \"juxtaposition\",\n    \"Measure\": \"\",\n    \"Subspace\": \"\",\n    \"Groupby\": \"\",\n    \"Focus\": \"\",\n    \n  },\n  {\n    \"Fact Type 1\": \"rank\",\n    \"Fact Type 2\": \"value\",\n    \"Chart\": \"juxtaposition\",\n    \"Measure\": \"\",\n    \"Subspace\": \"\",\n    \"Groupby\": \"\",\n    \"Focus\": \"\",\n    \n  },\n  {\n    \"Fact Type 1\": \"rank\",\n    \"Fact Type 2\": \"extreme\",\n    \"Chart\": \"Horizontal Bar Chart\",\n    \"Measure\": \"equal\",\n    \"Subspace\": \"equal\",\n    \"Groupby\": \"equal\",\n    \"Focus\": \"rank\",\n    \n  },\n  {\n    \"Fact Type 1\": \"rank\",\n    \"Fact Type 2\": \"proportion\",\n    \"Chart\": \"juxtaposition\",\n    \"Measure\": \"\",\n    \"Subspace\": \"\",\n    \"Groupby\": \"\",\n    \"Focus\": \"\",\n    \n  },\n  {\n    \"Fact Type 1\": \"rank\",\n    \"Fact Type 2\": \"outlier\",\n    \"Chart\": \"juxtaposition\",\n    \"Measure\": \"\",\n    \"Subspace\": \"\",\n    \"Groupby\": \"\",\n    \"Focus\": \"\",\n    \n  },\n  {\n    \"Fact Type 1\": \"rank\",\n    \"Fact Type 2\": \"association\",\n    \"Chart\": \"juxtaposition\",\n    \"Measure\": \"\",\n    \"Subspace\": \"\",\n    \"Groupby\": \"\",\n    \"Focus\": \"\",\n    \n  },\n  {\n    \"Fact Type 1\": \"rank\",\n    \"Fact Type 2\": \"trend\",\n    \"Chart\": \"juxtaposition\",\n    \"Measure\": \"\",\n    \"Subspace\": \"\",\n    \"Groupby\": \"\",\n    \"Focus\": \"\",\n    \n  },\n  {\n    \"Fact Type 1\": \"categorization\",\n    \"Fact Type 2\": \"distribution\",\n    \"Chart\": \"Isotype Bar Chart\",\n    \"Measure\": \"distribution\",\n    \"Subspace\": \"equal\",\n    \"Groupby\": \"equal\",\n    \"Focus\": \"\",\n    \n  },\n  {\n    \"Fact Type 1\": \"categorization\",\n    \"Fact Type 2\": \"difference\",\n    \"Chart\": \"juxtaposition\",\n    \"Measure\": \"\",\n    \"Subspace\": \"\",\n    \"Groupby\": \"\",\n    \"Focus\": \"\",\n    \n  },\n  {\n    \"Fact Type 1\": \"categorization\",\n    \"Fact Type 2\": \"rank\",\n    \"Chart\": \"juxtaposition\",\n    \"Measure\": \"\",\n    \"Subspace\": \"\",\n    \"Groupby\": \"\",\n    \"Focus\": \"\",\n    \n  },\n  {\n    \"Fact Type 1\": \"categorization\",\n    \"Fact Type 2\": \"categorization\",\n    \"Chart\": \"juxtaposition\",\n    \"Measure\": \"\",\n    \"Subspace\": \"\",\n    \"Groupby\": \"\",\n    \"Focus\": \"\",\n    \n  },\n  {\n    \"Fact Type 1\": \"categorization\",\n    \"Fact Type 2\": \"value\",\n    \"Chart\": \"juxtaposition\",\n    \"Measure\": \"\",\n    \"Subspace\": \"\",\n    \"Groupby\": \"\",\n    \"Focus\": \"\",\n    \n  },\n  {\n    \"Fact Type 1\": \"categorization\",\n    \"Fact Type 2\": \"extreme\",\n    \"Chart\": \"Isotype Bar Chart\",\n    \"Measure\": \"extreme\",\n    \"Subspace\": \"equal\",\n    \"Groupby\": \"equal\",\n    \"Focus\": \"extreme\",\n    \n  },\n  {\n    \"Fact Type 1\": \"categorization\",\n    \"Fact Type 2\": \"proportion\",\n    \"Chart\": \"juxtaposition\",\n    \"Measure\": \"\",\n    \"Subspace\": \"\",\n    \"Groupby\": \"\",\n    \"Focus\": \"\",\n    \n  },\n  {\n    \"Fact Type 1\": \"categorization\",\n    \"Fact Type 2\": \"outlier\",\n    \"Chart\": \"Isotype Bar Chart\",\n    \"Measure\": \"outlier\",\n    \"Subspace\": \"equal\",\n    \"Groupby\": \"equal\",\n    \"Focus\": \"outlier\",\n    \n  },\n  {\n    \"Fact Type 1\": \"categorization\",\n    \"Fact Type 2\": \"association\",\n    \"Chart\": \"juxtaposition\",\n    \"Measure\": \"\",\n    \"Subspace\": \"\",\n    \"Groupby\": \"\",\n    \"Focus\": \"\",\n    \n  },\n  {\n    \"Fact Type 1\": \"categorization\",\n    \"Fact Type 2\": \"trend\",\n    \"Chart\": \"Isotype Bar Chart\",\n    \"Measure\": \"trend\",\n    \"Subspace\": \"equal\",\n    \"Groupby\": \"equal\",\n    \"Focus\": \"\",\n    \n  },\n  {\n    \"Fact Type 1\": \"value\",\n    \"Fact Type 2\": \"distribution\",\n    \"Chart\": \"juxtaposition\",\n    \"Measure\": \"\",\n    \"Subspace\": \"\",\n    \"Groupby\": \"\",\n    \"Focus\": \"\",\n    \n  },\n  {\n    \"Fact Type 1\": \"value\",\n    \"Fact Type 2\": \"difference\",\n    \"Chart\": \"juxtaposition\",\n    \"Measure\": \"\",\n    \"Subspace\": \"\",\n    \"Groupby\": \"\",\n    \"Focus\": \"\",\n    \n  },\n  {\n    \"Fact Type 1\": \"value\",\n    \"Fact Type 2\": \"rank\",\n    \"Chart\": \"juxtaposition\",\n    \"Measure\": \"\",\n    \"Subspace\": \"\",\n    \"Groupby\": \"\",\n    \"Focus\": \"\",\n    \n  },\n  {\n    \"Fact Type 1\": \"value\",\n    \"Fact Type 2\": \"categorization\",\n    \"Chart\": \"juxtaposition\",\n    \"Measure\": \"\",\n    \"Subspace\": \"\",\n    \"Groupby\": \"\",\n    \"Focus\": \"\",\n    \n  },\n  {\n    \"Fact Type 1\": \"value\",\n    \"Fact Type 2\": \"value\",\n    \"Chart\": \"juxtaposition\",\n    \"Measure\": \"\",\n    \"Subspace\": \"\",\n    \"Groupby\": \"\",\n    \"Focus\": \"\",\n    \n  },\n  {\n    \"Fact Type 1\": \"value\",\n    \"Fact Type 2\": \"extreme\",\n    \"Chart\": \"juxtaposition\",\n    \"Measure\": \"\",\n    \"Subspace\": \"\",\n    \"Groupby\": \"\",\n    \"Focus\": \"\",\n    \n  },\n  {\n    \"Fact Type 1\": \"value\",\n    \"Fact Type 2\": \"proportion\",\n    \"Chart\": \"juxtaposition\",\n    \"Measure\": \"\",\n    \"Subspace\": \"\",\n    \"Groupby\": \"\",\n    \"Focus\": \"\",\n    \n  },\n  {\n    \"Fact Type 1\": \"value\",\n    \"Fact Type 2\": \"outlier\",\n    \"Chart\": \"juxtaposition\",\n    \"Measure\": \"\",\n    \"Subspace\": \"\",\n    \"Groupby\": \"\",\n    \"Focus\": \"\",\n    \n  },\n  {\n    \"Fact Type 1\": \"value\",\n    \"Fact Type 2\": \"association\",\n    \"Chart\": \"juxtaposition\",\n    \"Measure\": \"\",\n    \"Subspace\": \"\",\n    \"Groupby\": \"\",\n    \"Focus\": \"\",\n    \n  },\n  {\n    \"Fact Type 1\": \"value\",\n    \"Fact Type 2\": \"trend\",\n    \"Chart\": \"juxtaposition\",\n    \"Measure\": \"\",\n    \"Subspace\": \"\",\n    \"Groupby\": \"\",\n    \"Focus\": \"\",\n    \n  },\n  {\n    \"Fact Type 1\": \"extreme\",\n    \"Fact Type 2\": \"distribution\",\n    \"Chart\": \"Vertical Bar Chart\",\n    \"Measure\": \"equal\",\n    \"Subspace\": \"equal\",\n    \"Groupby\": \"equal\",\n    \"Focus\": \"extreme\",\n    \n  },\n  {\n    \"Fact Type 1\": \"extreme\",\n    \"Fact Type 2\": \"difference\",\n    \"Chart\": \"juxtaposition\",\n    \"Measure\": \"\",\n    \"Subspace\": \"\",\n    \"Groupby\": \"\",\n    \"Focus\": \"\",\n    \n  },\n  {\n    \"Fact Type 1\": \"extreme\",\n    \"Fact Type 2\": \"rank\",\n    \"Chart\": \"Horizontal Bar Chart\",\n    \"Measure\": \"equal\",\n    \"Subspace\": \"equal\",\n    \"Groupby\": \"equal\",\n    \"Focus\": \"rank\",\n    \n  },\n  {\n    \"Fact Type 1\": \"extreme\",\n    \"Fact Type 2\": \"categorization\",\n    \"Chart\": \"Isotype Bar Chart\",\n    \"Measure\": \"extreme\",\n    \"Subspace\": \"equal\",\n    \"Groupby\": \"equal\",\n    \"Focus\": \"extreme\",\n    \n  },\n  {\n    \"Fact Type 1\": \"extreme\",\n    \"Fact Type 2\": \"value\",\n    \"Chart\": \"juxtaposition\",\n    \"Measure\": \"\",\n    \"Subspace\": \"\",\n    \"Groupby\": \"\",\n    \"Focus\": \"\",\n    \n  },\n  {\n    \"Fact Type 1\": \"extreme\",\n    \"Fact Type 2\": \"extreme\",\n    \"Chart\": \"juxtaposition\",\n    \"Measure\": \"\",\n    \"Subspace\": \"\",\n    \"Groupby\": \"\",\n    \"Focus\": \"\",\n    \n  },\n  {\n    \"Fact Type 1\": \"extreme\",\n    \"Fact Type 2\": \"proportion\",\n    \"Chart\": \"juxtaposition\",\n    \"Measure\": \"\",\n    \"Subspace\": \"\",\n    \"Groupby\": \"\",\n    \"Focus\": \"\",\n    \n  },\n  {\n    \"Fact Type 1\": \"extreme\",\n    \"Fact Type 2\": \"outlier\",\n    \"Chart\": \"Vertical Bar Chart\",\n    \"Measure\": \"equal\",\n    \"Subspace\": \"equal\",\n    \"Groupby\": \"equal\",\n    \"Focus\": \"extreme+outlier\",\n    \n  },\n  {\n    \"Fact Type 1\": \"extreme\",\n    \"Fact Type 2\": \"association\",\n    \"Chart\": \"juxtaposition\",\n    \"Measure\": \"\",\n    \"Subspace\": \"\",\n    \"Groupby\": \"\",\n    \"Focus\": \"\",\n    \n  },\n  {\n    \"Fact Type 1\": \"extreme\",\n    \"Fact Type 2\": \"trend\",\n    \"Chart\": \"Line Chart\",\n    \"Measure\": \"equal\",\n    \"Subspace\": \"equal\",\n    \"Groupby\": \"equal\",\n    \"Focus\": \"extreme\",\n    \n  },\n  {\n    \"Fact Type 1\": \"proportion\",\n    \"Fact Type 2\": \"distribution\",\n    \"Chart\": \"juxtaposition\",\n    \"Measure\": \"\",\n    \"Subspace\": \"\",\n    \"Groupby\": \"\",\n    \"Focus\": \"\",\n    \n  },\n  {\n    \"Fact Type 1\": \"proportion\",\n    \"Fact Type 2\": \"difference\",\n    \"Chart\": \"juxtaposition\",\n    \"Measure\": \"\",\n    \"Subspace\": \"\",\n    \"Groupby\": \"\",\n    \"Focus\": \"\",\n    \n  },\n  {\n    \"Fact Type 1\": \"proportion\",\n    \"Fact Type 2\": \"rank\",\n    \"Chart\": \"juxtaposition\",\n    \"Measure\": \"\",\n    \"Subspace\": \"\",\n    \"Groupby\": \"\",\n    \"Focus\": \"\",\n    \n  },\n  {\n    \"Fact Type 1\": \"proportion\",\n    \"Fact Type 2\": \"categorization\",\n    \"Chart\": \"juxtaposition\",\n    \"Measure\": \"\",\n    \"Subspace\": \"\",\n    \"Groupby\": \"\",\n    \"Focus\": \"\",\n    \n  },\n  {\n    \"Fact Type 1\": \"proportion\",\n    \"Fact Type 2\": \"value\",\n    \"Chart\": \"juxtaposition\",\n    \"Measure\": \"\",\n    \"Subspace\": \"\",\n    \"Groupby\": \"\",\n    \"Focus\": \"\",\n    \n  },\n  {\n    \"Fact Type 1\": \"proportion\",\n    \"Fact Type 2\": \"extreme\",\n    \"Chart\": \"juxtaposition\",\n    \"Measure\": \"\",\n    \"Subspace\": \"\",\n    \"Groupby\": \"\",\n    \"Focus\": \"\",\n    \n  },\n  {\n    \"Fact Type 1\": \"proportion\",\n    \"Fact Type 2\": \"proportion\",\n    \"Chart\": \"juxtaposition\",\n    \"Measure\": \"\",\n    \"Subspace\": \"\",\n    \"Groupby\": \"\",\n    \"Focus\": \"\",\n    \n  },\n  {\n    \"Fact Type 1\": \"proportion\",\n    \"Fact Type 2\": \"outlier\",\n    \"Chart\": \"juxtaposition\",\n    \"Measure\": \"\",\n    \"Subspace\": \"\",\n    \"Groupby\": \"\",\n    \"Focus\": \"\",\n    \n  },\n  {\n    \"Fact Type 1\": \"proportion\",\n    \"Fact Type 2\": \"association\",\n    \"Chart\": \"juxtaposition\",\n    \"Measure\": \"\",\n    \"Subspace\": \"\",\n    \"Groupby\": \"\",\n    \"Focus\": \"\",\n    \n  },\n  {\n    \"Fact Type 1\": \"proportion\",\n    \"Fact Type 2\": \"trend\",\n    \"Chart\": \"juxtaposition\",\n    \"Measure\": \"\",\n    \"Subspace\": \"\",\n    \"Groupby\": \"\",\n    \"Focus\": \"\",\n    \n  },\n  {\n    \"Fact Type 1\": \"outlier\",\n    \"Fact Type 2\": \"distribution\",\n    \"Chart\": \"Vertical Bar Chart\",\n    \"Measure\": \"equal\",\n    \"Subspace\": \"equal\",\n    \"Groupby\": \"equal\",\n    \"Focus\": \"outlier\",\n    \n  },\n  {\n    \"Fact Type 1\": \"outlier\",\n    \"Fact Type 2\": \"difference\",\n    \"Chart\": \"juxtaposition\",\n    \"Measure\": \"\",\n    \"Subspace\": \"\",\n    \"Groupby\": \"\",\n    \"Focus\": \"\",\n    \n  },\n  {\n    \"Fact Type 1\": \"outlier\",\n    \"Fact Type 2\": \"rank\",\n    \"Chart\": \"juxtaposition\",\n    \"Measure\": \"\",\n    \"Subspace\": \"\",\n    \"Groupby\": \"\",\n    \"Focus\": \"\",\n    \n  },\n  {\n    \"Fact Type 1\": \"outlier\",\n    \"Fact Type 2\": \"categorization\",\n    \"Chart\": \"Isotype Bar Chart\",\n    \"Measure\": \"outlier\",\n    \"Subspace\": \"equal\",\n    \"Groupby\": \"equal\",\n    \"Focus\": \"outlier\",\n    \n  },\n  {\n    \"Fact Type 1\": \"outlier\",\n    \"Fact Type 2\": \"value\",\n    \"Chart\": \"juxtaposition\",\n    \"Measure\": \"\",\n    \"Subspace\": \"\",\n    \"Groupby\": \"\",\n    \"Focus\": \"\",\n    \n  },\n  {\n    \"Fact Type 1\": \"outlier\",\n    \"Fact Type 2\": \"extreme\",\n    \"Chart\": \"Vertical Bar Chart\",\n    \"Measure\": \"equal\",\n    \"Subspace\": \"equal\",\n    \"Groupby\": \"equal\",\n    \"Focus\": \"extreme+outlier\",\n    \n  },\n  {\n    \"Fact Type 1\": \"outlier\",\n    \"Fact Type 2\": \"proportion\",\n    \"Chart\": \"juxtaposition\",\n    \"Measure\": \"\",\n    \"Subspace\": \"\",\n    \"Groupby\": \"\",\n    \"Focus\": \"\",\n    \n  },\n  {\n    \"Fact Type 1\": \"outlier\",\n    \"Fact Type 2\": \"outlier\",\n    \"Chart\": \"juxtaposition\",\n    \"Measure\": \"\",\n    \"Subspace\": \"\",\n    \"Groupby\": \"\",\n    \"Focus\": \"\",\n    \n  },\n  {\n    \"Fact Type 1\": \"outlier\",\n    \"Fact Type 2\": \"association\",\n    \"Chart\": \"juxtaposition\",\n    \"Measure\": \"\",\n    \"Subspace\": \"\",\n    \"Groupby\": \"\",\n    \"Focus\": \"\",\n    \n  },\n  {\n    \"Fact Type 1\": \"outlier\",\n    \"Fact Type 2\": \"trend\",\n    \"Chart\": \"Line Chart\",\n    \"Measure\": \"equal\",\n    \"Subspace\": \"equal\",\n    \"Groupby\": \"equal\",\n    \"Focus\": \"outlier\",\n    \n  },\n  {\n    \"Fact Type 1\": \"association\",\n    \"Fact Type 2\": \"distribution\",\n    \"Chart\": \"juxtaposition\",\n    \"Measure\": \"\",\n    \"Subspace\": \"\",\n    \"Groupby\": \"\",\n    \"Focus\": \"\",\n    \n  },\n  {\n    \"Fact Type 1\": \"association\",\n    \"Fact Type 2\": \"difference\",\n    \"Chart\": \"juxtaposition\",\n    \"Measure\": \"\",\n    \"Subspace\": \"\",\n    \"Groupby\": \"\",\n    \"Focus\": \"\",\n    \n  },\n  {\n    \"Fact Type 1\": \"association\",\n    \"Fact Type 2\": \"rank\",\n    \"Chart\": \"juxtaposition\",\n    \"Measure\": \"\",\n    \"Subspace\": \"\",\n    \"Groupby\": \"\",\n    \"Focus\": \"\",\n    \n  },\n  {\n    \"Fact Type 1\": \"association\",\n    \"Fact Type 2\": \"categorization\",\n    \"Chart\": \"juxtaposition\",\n    \"Measure\": \"\",\n    \"Subspace\": \"\",\n    \"Groupby\": \"\",\n    \"Focus\": \"\",\n    \n  },\n  {\n    \"Fact Type 1\": \"association\",\n    \"Fact Type 2\": \"value\",\n    \"Chart\": \"juxtaposition\",\n    \"Measure\": \"\",\n    \"Subspace\": \"\",\n    \"Groupby\": \"\",\n    \"Focus\": \"\",\n    \n  },\n  {\n    \"Fact Type 1\": \"association\",\n    \"Fact Type 2\": \"extreme\",\n    \"Chart\": \"juxtaposition\",\n    \"Measure\": \"\",\n    \"Subspace\": \"\",\n    \"Groupby\": \"\",\n    \"Focus\": \"\",\n    \n  },\n  {\n    \"Fact Type 1\": \"association\",\n    \"Fact Type 2\": \"proportion\",\n    \"Chart\": \"juxtaposition\",\n    \"Measure\": \"\",\n    \"Subspace\": \"\",\n    \"Groupby\": \"\",\n    \"Focus\": \"\",\n    \n  },\n  {\n    \"Fact Type 1\": \"association\",\n    \"Fact Type 2\": \"outlier\",\n    \"Chart\": \"juxtaposition\",\n    \"Measure\": \"\",\n    \"Subspace\": \"\",\n    \"Groupby\": \"\",\n    \"Focus\": \"\",\n    \n  },\n  {\n    \"Fact Type 1\": \"association\",\n    \"Fact Type 2\": \"association\",\n    \"Chart\": \"juxtaposition\",\n    \"Measure\": \"\",\n    \"Subspace\": \"\",\n    \"Groupby\": \"\",\n    \"Focus\": \"\",\n    \n  },\n  {\n    \"Fact Type 1\": \"association\",\n    \"Fact Type 2\": \"trend\",\n    \"Chart\": \"juxtaposition\",\n    \"Measure\": \"\",\n    \"Subspace\": \"\",\n    \"Groupby\": \"\",\n    \"Focus\": \"\",\n    \n  },\n  {\n    \"Fact Type 1\": \"trend\",\n    \"Fact Type 2\": \"distribution\",\n    \"Chart\": \"Vertical Bar Chart\",\n    \"Measure\": \"equal\",\n    \"Subspace\": \"equal\",\n    \"Groupby\": \"equal\",\n    \"Focus\": \"\",\n    \n  },\n  {\n    \"Fact Type 1\": \"trend\",\n    \"Fact Type 2\": \"difference\",\n    \"Chart\": \"Vertical Bar Chart\",\n    \"Measure\": \"equal\",\n    \"Subspace\": \"equal\",\n    \"Groupby\": \"equal\",\n    \"Focus\": \"difference\",\n    \n  },\n  {\n    \"Fact Type 1\": \"trend\",\n    \"Fact Type 2\": \"rank\",\n    \"Chart\": \"juxtaposition\",\n    \"Measure\": \"\",\n    \"Subspace\": \"\",\n    \"Groupby\": \"\",\n    \"Focus\": \"\",\n    \n  },\n  {\n    \"Fact Type 1\": \"trend\",\n    \"Fact Type 2\": \"categorization\",\n    \"Chart\": \"Isotype Bar Chart\",\n    \"Measure\": \"trend\",\n    \"Subspace\": \"equal\",\n    \"Groupby\": \"equal\",\n    \"Focus\": \"\",\n    \n  },\n  {\n    \"Fact Type 1\": \"trend\",\n    \"Fact Type 2\": \"value\",\n    \"Chart\": \"juxtaposition\",\n    \"Measure\": \"\",\n    \"Subspace\": \"\",\n    \"Groupby\": \"\",\n    \"Focus\": \"\",\n    \n  },\n  {\n    \"Fact Type 1\": \"trend\",\n    \"Fact Type 2\": \"extreme\",\n    \"Chart\": \"Line Chart\",\n    \"Measure\": \"equal\",\n    \"Subspace\": \"equal\",\n    \"Groupby\": \"equal\",\n    \"Focus\": \"extreme\",\n    \n  },\n  {\n    \"Fact Type 1\": \"trend\",\n    \"Fact Type 2\": \"proportion\",\n    \"Chart\": \"juxtaposition\",\n    \"Measure\": \"\",\n    \"Subspace\": \"\",\n    \"Groupby\": \"\",\n    \"Focus\": \"\",\n    \n  },\n  {\n    \"Fact Type 1\": \"trend\",\n    \"Fact Type 2\": \"outlier\",\n    \"Chart\": \"Line Chart\",\n    \"Measure\": \"equal\",\n    \"Subspace\": \"equal\",\n    \"Groupby\": \"equal\",\n    \"Focus\": \"outlier\",\n    \n  },\n  {\n    \"Fact Type 1\": \"trend\",\n    \"Fact Type 2\": \"association\",\n    \"Chart\": \"juxtaposition\",\n    \"Measure\": \"\",\n    \"Subspace\": \"\",\n    \"Groupby\": \"\",\n    \"Focus\": \"\",\n    \n  },\n  {\n    \"Fact Type 1\": \"trend\",\n    \"Fact Type 2\": \"trend\",\n    \"Chart\": \"Stacked Line Chart\",\n    \"Measure\": \"\",\n    \"Subspace\": \"\",\n    \"Groupby\": \"\",\n    \"Focus\": \"\",\n    \n  }\n]","export default {\n    JUXTAPOSITION: 'juxtaposition',\n    AREA_CHART: 'Area Chart',\n    VERTICAL_BAR_CHART: 'Vertical Bar Chart',\n    VERTICAL_DIFFERENCE_BAR_CHART: 'Vertical Difference Bar Chart',\n    VERTICAL_DIFFERENCE_ARROW_CHART: 'Vertical Difference Arrow Chart',\n    HORIZONTAL_BAR_CHART: 'Horizontal Bar Chart',\n    PROGRESS_BAR_CHART: 'Progress Bar Chart',\n    STACKED_BAR_CHART: 'Stacked Bar Chart',\n    ISOTYPE_BAR_CHART: 'Isotype Bar Chart',\n    PROPORTION_ISOTYPE_CHART: 'Proportion Isotype Chart',\n    COLOR_FILLING_MAP: 'Color Filling Map',\n    BUBBLE_CHART: 'Bubble Chart',\n    TEXT_CHART: 'Text Chart',\n    LINE_CHART: 'Line Chart',\n    STACKED_LINE_CHART: 'Stacked Line Chart',\n    RING_CHART: 'Ring Chart',\n    HALF_RING_CHART: 'Half Ring Chart',\n    PIE_CHART: 'Pie Chart',\n    SCATTER_PLOT: 'Scatter Plot',\n    TREE_MAP: 'Treemap',\n    BUBBLE_MAP: 'Bubblemap'\n}","import _ from 'lodash';\nimport {hcluster} from './hcluster';\nimport {getLeafNodes} from './tree';\nimport {factSimilarity} from './distance';\nimport {factAggRules} from './factAggRule';\nimport ChartType from '../constant/ChartType';\n\nexport const storyAggregation = function(original_facts, aggregationLevel) {\n    let facts = original_facts.slice();\n    for (let index = 0; index < facts.length; index++) {\n        facts[index].index = index;\n        facts[index].aggregated = false;\n        facts[index].aggregatedFact = null;\n    }\n    // Step 1. construct a hierachical cluster tree\n    let htree = hcluster(facts);\n    // Step 2. get all single leaf and double leaves\n    let nodes = getLeafNodes(htree);\n    // Step 3. filter double leaves\n    let doubleNodes = nodes.filter(x=>x.length>1);\n    // Step 4. rank according to fact similarity\n    doubleNodes.sort(function(a, b){return factSimilarity(b[0], b[1]) - factSimilarity(a[0], a[1])});\n    let aggregationCount = parseInt((doubleNodes.length+1) * aggregationLevel)\n    let aggFacts = doubleNodes.slice(0, aggregationCount);\n    for (const aggFact of aggFacts) {\n        let firstIndex = aggFact[0].index < aggFact[1].index? aggFact[0].index:aggFact[1].index;\n        let secondIndex = aggFact[0].index > aggFact[1].index? aggFact[0].index:aggFact[1].index;\n        facts[firstIndex] = factAggregation(facts[firstIndex], facts[secondIndex])\n        facts[secondIndex].aggregated = true;\n        facts[secondIndex].aggregatedFact = null;\n    }\n    return facts;\n}\n\nexport const factAggregation = function(f1, f2) {\n    let rule = factAggRules.filter(x=>(x['Fact Type 1']===f1.type&&x['Fact Type 2']===f2.type))[0]\n    let compoundFact = _.cloneDeep(f1);\n    compoundFact.aggregated = true;\n    compoundFact.aggregatedFact = _.cloneDeep(f2)\n    compoundFact.compoundType = [f1.type, f2.type];\n    compoundFact.compoundChart = ChartType.JUXTAPOSITION;\n    compoundFact.score += compoundFact.aggregatedFact.score;\n    // Step 1. check rule is juxtaposition or not\n    if (rule.chart === ChartType.JUXTAPOSITION) {\n        return compoundFact;\n    }\n    // Step 2. process stacked chart\n    if (rule.chart === ChartType.STACKED_BAR_CHART) {\n        compoundFact.compoundChart = ChartType.STACKED_BAR_CHART;\n        return compoundFact;\n    }\n    if (rule.chart === ChartType.STACKED_LINE_CHART) {\n        compoundFact.compoundChart = ChartType.STACKED_LINE_CHART;\n        return compoundFact;\n    }\n\n    // Step 3. check equal rule\n    if (rule['Measure'] === \"equal\") {\n        let measure1 = new Set(f1.measure.map(x=>x[\"field\"]));\n        let measure2 = new Set(f2.measure.map(x=>x[\"field\"]));\n        if (!eqSet(measure1, measure2)) {\n            return compoundFact;\n        }\n    }\n    if (rule['Subspace'] === \"equal\") {\n        let subspace1 = new Set(f1.subspace.map(x=>x[\"field\"]+\"++\"+x[\"value\"]));\n        let subspace2 = new Set(f2.subspace.map(x=>x[\"field\"]+\"++\"+x[\"value\"]));\n        if (!eqSet(subspace1, subspace2)) {\n            return compoundFact;\n        }\n    }\n    if (rule['Groupby'] === \"equal\") {\n        let groupby1 = new Set(f1.groupby);\n        let groupby2 = new Set(f2.groupby);\n        if (!eqSet(groupby1, groupby2)) {\n            return compoundFact;\n        }\n    }\n    if (rule['Focus'] === \"equal\") {\n        let focus1 = new Set(f1.focus.map(x=>x[\"field\"]+\"++\"+x[\"value\"]));\n        let focus2 = new Set(f2.focus.map(x=>x[\"field\"]+\"++\"+x[\"value\"]));\n        if (!eqSet(focus1, focus2)) {\n            return compoundFact;\n        }\n    }\n    // Step 4. fill fact\n    compoundFact.compoundChart = rule['Chart'];\n    if (rule['Measure'] !== \"equal\" && rule['Measure'] !== \"\") {\n        if (f1.type === rule['Measure']) {\n            compoundFact.measure = f1.measure;\n        } else {\n            compoundFact.measure = f2.measure;\n        }\n    }\n    if (rule['Subspace'] !== \"equal\" && rule['Subspace'] !== \"\") {\n        if (f1.type === rule['Subspace']) {\n            compoundFact.subspace = f1.subspace;\n        } else {\n            compoundFact.subspace = f2.subspace;\n        }\n    }\n    if (rule['Groupby'] !== \"equal\" && rule['Groupby'] !== \"\") {\n        if (f1.type === rule['Groupby']) {\n            compoundFact.groupby = f1.groupby;\n        } else {\n            compoundFact.groupby = f2.groupby;\n        }\n    }\n    if (rule['Focus'] !== \"equal\" && rule['Focus'] !== \"\") {\n        if (f1.type === rule['Focus']) {\n            compoundFact.focus = f1.focus;\n        } else {\n            compoundFact.focus = f2.focus;\n        }\n    }\n    \n    return compoundFact;\n}\n\nfunction eqSet(as, bs) {\n    if (as.size !== bs.size) return false;\n    for (var a of as) if (!bs.has(a)) return false;\n    return true;\n}","export const getLeafNodes = (tree) => {\n    let nodes = []\n    if (!tree) {\n        return nodes\n    }\n    if (tree.size > 2) {\n        let leftLeafNodes = getLeafNodes(tree.left);\n        let rightLeafNodes = getLeafNodes(tree.right);\n        nodes.push(...leftLeafNodes);\n        nodes.push(...rightLeafNodes);\n    } else if (tree.size === 2) {\n        nodes.push([tree.left.value, tree.right.value]);\n    } else {\n        nodes.push([tree.value]);\n    }\n    return nodes;\n}","import { createSelector } from 'reselect';\nimport { storyAggregation } from '../tool/factAggregation';\n\n// data\nexport const file_url = state => state.story.file_url;\nexport const fileName = state => state.story.fileName;\nexport const title = state => state.story.title;\nexport const data = state => state.story.data;\nexport const schema = state => state.story.schema;\nexport const originFileUrl = state => state.story.originFileUrl;\nexport const originData = state => state.story.originData;\nexport const originSchema = state => state.story.originSchema;\n// story\nconst originFacts = state => state.story.facts;\nexport const relations = state => state.story.relations;\nexport const method = state => state.story.method;\nexport const maxStoryLength = state => state.story.maxStoryLength;\nexport const chartDiversity = state => state.story.chartDiversity;\nexport const information = state => state.story.information;\nexport const timeLimit = state => state.story.timeLimit;\nexport const resultCoverage = state => state.story.resultCoverage;\nexport const aggregationLevel = state => state.story.aggregationLevel;\nexport const rewardWeight = state => state.story.rewardWeight;\nexport const historyStory = state => state.story.historyStory;\nexport const generateProgress = state => state.story.generateProgress;\n\n\nexport const facts = createSelector(\n    originFacts,\n    aggregationLevel,\n    function (originFacts, aggregationLevel) {\n        return storyAggregation(originFacts, aggregationLevel)\n    }\n)\n\n\nexport const storyParameter = createSelector(\n    maxStoryLength,\n    information,\n    chartDiversity,\n    timeLimit,\n    function (maxStoryLength, information, chartDiversity, timeLimit) {\n        return {\n            maxStoryLength: maxStoryLength,\n            information: information,\n            chartDiversity: chartDiversity,\n            timeLimit: timeLimit,\n        }\n    }\n)\n\n","//let calliopeService = 'service.datacalliope.com';\nlet calliopeService = 'calliope-service.idvxlab.com';\n//let calliopeLiteService = 'calliope-service.idvxlab.com:8004';\nlet calliopeLiteService = 'calliope-service.idvxlab.com:8002';\n// let applicationUrl='https://datacalliope.com';\nlet applicationUrl = 'http://calliope-dev.idvxlab.com';\n\nlet urlPrefix = process.env.NODE_ENV === 'production' ? `https://${calliopeService}:8002/api/v1` : 'http://localhost:7001/api/v1';\nlet uploadDataPrefix = process.env.NODE_ENV === 'production' ? `https://${calliopeLiteService}` : 'http://localhost:6038';//todo  7001\nlet generationUrlPrefix = process.env.NODE_ENV === 'production' ? `https://${calliopeLiteService}` : 'http://localhost:6040';//todo  7001\nlet activitiesPrefix = process.env.NODE_ENV === 'production' ? `https://${calliopeService}:8002/log/v1` : 'http://localhost:7001/log/v1';\nlet publicPrefix = process.env.NODE_ENV === 'production' ? applicationUrl : 'http://localhost:3000';\n//let client_id = '033338f2-02a8-44d4-8d54-5173b4a864f9';\nlet client_id = '6dcd0f8b-6990-4d69-9018-29b3351aa6ff';\nlet accountIp = `https://account.datacalliope.com`\nlet logoutRedirectUrlIp = `https://service.datacalliope.com:8001`\n\n\n//sequence API\n// let generateSequencePrefic='http://192.168.1.82:6040/'\n// let fileServerPrefix='http://172.30.138.189:6038'\n// let generateServerPrefix='http://172.30.138.189:6040'\n// setupPoxy.js进行跨域配置\n// let fileServerPrefix='http://172.30.138.189:6038'\nlet fileServerPrefix = 'http://localhost:6038'\nconst config = {\n    url: {\n        //sequence\n        uploadFileUrl: `${fileServerPrefix}/upload`,\n        // generateSequenceUrl:`${generateServerPrefix}/generate/story`,\n\n\n        applicationUrl: applicationUrl,\n        //share\n        publicPrefix: publicPrefix,\n        //login\n        loginadmintest: `${urlPrefix}/loginadmintest`,\n        loginRedirectUrl: `${accountIp}/#/login?response_type=code&client_id=${client_id}&grant_type=authorization_code&redirect_uri=${applicationUrl}`,\n        logoutRedirectUrl: `${applicationUrl}/#/logout`,\n        authenUrl: accountIp,\n        accessToken: `${urlPrefix}/accesstoken`,\n        userImage: `${logoutRedirectUrlIp}/img`,\n        checkToken: `${urlPrefix}/checktoken`,\n        //logout\n        logout: `${urlPrefix}/logout`,\n        logoutAuthSystem: `${logoutRedirectUrlIp}/logout`,\n        //activities\n        users: `${urlPrefix}/users`,\n        activitiesApi: `${activitiesPrefix}/users`,\n        //upload\n        uploadDataPrefix: uploadDataPrefix,\n        uploadData: `${uploadDataPrefix}/upload`,\n        share: `${uploadDataPrefix}/share`,\n        fetch: `${uploadDataPrefix}/data/share`,\n        //story generation\n        factScoring: `${generationUrlPrefix}/fact`,\n        generate: `${generationUrlPrefix}/generate`,\n\n\n        //sequence:\n        // generateSequence:`${generateSequencePrefic}/generate/story`\n    }\n}\nexport default config","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","import arrayLikeToArray from \"./arrayLikeToArray\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(n);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","export const originChartSize = {\r\n    \"trend\": {\"width\":600,\"height\":280},\r\n    \"forecasting\": {\"width\":600,\"height\":280},\r\n    \"frequent_pattern\": {\"width\":600,\"height\":280},\r\n    \"seasonality\": {\"width\":600,\"height\":280},\r\n    \"univariate_outlier\":{\"width\":600,\"height\":280},\r\n    \"univariate_distribution\": {\"width\":600,\"height\":280},\r\n    \"similarity\": {\"width\":600,\"height\":360},\r\n    \"multivariate_outlier\": {\"width\":600,\"height\":360},\r\n    \"multivariate_distribution\": {\"width\":550,\"height\":420},\r\n    \"clustering\": {\"width\":314,\"height\":216},\r\n    \"origin\": {\"width\":600,\"height\":360},\r\n    \"outstanding\": {\"width\":600,\"height\":280},\r\n    \"autocorrelation\": {\"width\":600,\"height\":280},\r\n}","import * as d3 from 'd3';\n\nclass Data {\n    constructor() {\n        this._table = [];\n        this._schema = [];\n    }\n\n    table() {\n        return this._table;\n    }\n\n    schema() {\n        return this._schema;\n    }\n\n    load(spec) {\n        return new Promise((resolve, reject) => {\n            let numericalFields = [];\n            let numerical = spec.schema.filter(d => d.type === \"numerical\");\n            numericalFields = numerical.map(d => d.field);\n            if ('values' in spec) {\n                let data = spec.values;\n                data.forEach((d, i) => {\n                    for (let key in d) {\n                        if (numericalFields.indexOf(key) !== -1) {\n                            d[key] = parseFloat(d[key])\n                        }\n                    }\n                })\n                this._table = data;\n                this._schema = spec.schema;\n                resolve(this);\n            } else {\n                d3.csv(spec.url)\n                .then(function (data) {\n                    data.forEach((d, i) => {\n                        for (let key in d) {\n                            if (numericalFields.indexOf(key) !== -1) {\n                                d[key] = parseFloat(d[key])\n                            }\n                        }\n                    })\n                    this._table = data;\n                    this._schema = spec.schema;\n                    resolve(this);\n                }.bind(this)).catch(function (error) {\n                    reject(error);\n                })\n            }\n        });\n    }\n}\n\nexport default Data;","const aggregationtype = {\n    SUM: 'sum',\n    MAX: 'max',\n    MIN: 'min',\n    AVG: 'avg',\n    COUNT: 'count',\n    NONE: 'none'\n}\n\nexport default aggregationtype","import * as d3 from 'd3';\nimport AggregationType from './visualization/aggregationtype';\n\nclass Fact {\n    constructor() {\n        // table, factspec\n        this._table = [];\n        this._schema = [];\n        this._factdata = [];\n        this._type = \"\";\n        this._measure = [];\n        this._subspace = [];\n        this._breakdown = [];\n        this._parameter = \"\";\n        this._focus = [];\n    }\n\n    table(value) {\n        if (!value) {\n            return this._table;\n        }\n        this._table = value;\n        this._factdata = value;\n    }\n\n    schema(value) {\n        this._schema = value;\n    }\n\n    factdata() {\n        return this._factdata;\n    }\n\n    fact() {\n        return {\n            type: this._type,\n            measure: this._measure,\n            subspace: this._subspace,\n            breakdown: this._breakdown,\n            focus: this._focus,\n            parameter: this._parameter\n        }\n    }\n\n    load(spec) {\n        this._type = spec.type;\n        this._measure = spec.measure ? spec.measure : [];\n        if (this._measure.length === 0) {\n            this._measure = [{ 'aggregate': 'count' }];\n        }\n        this._subspace = spec.subspace ? spec.subspace : [];\n        this._breakdown = spec.breakdown ? spec.breakdown : [];\n        this._focus = spec.focus ? spec.focus : [];\n\n        let schemaDict = {};\n        for (const column of this._schema) {\n            schemaDict[column.field] = {};\n            schemaDict[column.field]['subtype'] = column.subtype;\n            schemaDict[column.field]['pictype'] = column.pictype;\n            schemaDict[column.field]['type'] = column.type;\n            schemaDict[column.field]['values'] = column.values;\n            schemaDict[column.field]['isPostCode'] = column.isPostCode;\n        }\n        this._measure = this._measure.map(x => {\n            if ('field' in x) {\n                x['type'] = schemaDict[x.field]['type'];\n                if (schemaDict[x.field]['subtype']) {\n                    x['subtype'] = schemaDict[x.field]['subtype'];\n                }\n                if (schemaDict[x.field]['pictype']) {\n                    x['pictype'] = schemaDict[x.field]['pictype'];\n                }\n            }\n            return x;\n        });\n        this._subspace = this._subspace.map(x => {\n            if (parseInt(x).toString !== \"NaN\") {\n                return x\n            }\n            x['type'] = schemaDict[x.field]['type'];\n            if (schemaDict[x.field]['subtype']) {\n                x['subtype'] = schemaDict[x.field]['subtype'];\n            }\n            if (schemaDict[x.field]['pictype']) {\n                x['pictype'] = schemaDict[x.field]['pictype'];\n            }\n            if (schemaDict[x.field]['isPostCode']) {\n                x['isPostCode'] = schemaDict[x.field]['isPostCode'];\n            }\n            return x;\n        });\n        this._breakdown = this._breakdown.map(x => {\n            x['type'] = schemaDict[x.field]['type'];\n            if (schemaDict[x.field]['subtype']) {\n                x['subtype'] = schemaDict[x.field]['subtype'];\n            }\n            if (schemaDict[x.field]['pictype']) {\n                x['pictype'] = schemaDict[x.field]['pictype'];\n            }\n            if (schemaDict[x.field]['values']) {\n                x['values'] = schemaDict[x.field]['values'];\n            }\n            if (schemaDict[x.field]['isPostCode']) {\n                x['isPostCode'] = schemaDict[x.field]['isPostCode'];\n            }\n            return x;\n        });\n        this._focus = this._focus.map(x => {\n            x['type'] = schemaDict[x.field]['type'];\n            if (schemaDict[x.field]['subtype']) {\n                x['subtype'] = schemaDict[x.field]['subtype'];\n            }\n            if (schemaDict[x.field]['pictype']) {\n                x['pictype'] = schemaDict[x.field]['pictype'];\n            }\n            return x;\n        });\n\n        /** subspace **/\n        if (this._subspace.length > 0) {\n            this._factdata = this.filter(this.factdata(), this._subspace);\n        }\n        /** aggregate **/\n        if (this._measure.length > 0) {\n            let measure = this._measure;\n            let breakdown = this._breakdown;\n            this._factdata = this.aggregate(this._factdata, measure, breakdown);\n        }\n\n        /** parameter **/\n        try {\n            this._parameter = this.parameter()\n        } catch (error) {\n            console.log('parameter is wrong')\n        }\n\n        return new Promise((resolve, reject) => {\n            resolve(this);\n        });\n    }\n\n    parameter() {\n        /* eslint-disable no-unused-vars */\n        let data = this.factdata();\n        let fact = this.fact();\n        let breakdown = fact.breakdown;\n        let focus = fact.focus;\n        let measure = fact.measure;\n        /* eslint-enable no-unused-vars */\n    }\n\n    filter(data, subspace) {\n        let filteredData = data;\n        // for time series insights\n        if (parseInt(subspace[0]).toString() !== \"NaN\") {\n            if (subspace.length === 2) {\n                return data.slice(subspace[0], subspace[1] + 1)\n            } else {\n                return data\n            }\n        }\n        //只有subspace有数据才会进入到该函数\n        //先提取出subspace中的第一个内容，观察是否有\"operator\"选项\n        //如果有\"operator\":那么按照新的过滤方式处理\n        //如果没有\"operator\":那么遵循原来的过滤方式\n        let wayFlag = subspace[0].hasOwnProperty(\"operator\");\n        if (wayFlag) {\n            //多个subspace\n            //一个subspace对应多个value\n            //要根据operator选项判断清楚进行何种操作\n            subspace.forEach((item) => {\n                let operator = item[\"operator\"];\n                switch (operator) {\n                    case \"EQ\":\n                        //表示==某个值，这里的值仅为某个数值类型的值\n                        filteredData = filteredData.filter((x) => {\n                            //比较浮点数的大小\n                            return Math.abs(x[item.field] - parseFloat(item.value[0])) < 1e-2;\n                        });\n                        break;\n                    case \"IN\":\n                        //表示==某个值\n                        filteredData = filteredData.filter((x) => {\n                            return item.value.includes(x[item.field]);\n                        });\n                        break;\n                    case \"RANGE\":\n                        //表示在某个值的范围内，value中会有两个值\n                        //需要将两个值都取出来,转化为数值形式\n                        let value1 = parseFloat(item.value[0]);\n                        let value2 = parseFloat(item.value[1]);\n                        let max = value1;\n                        let min = value2;\n                        // 比较大小，确定边界范围\n                        if (value1 < value2) {\n                            max = value2;\n                            min = value1;\n                        }\n                        filteredData = filteredData.filter((x) => {\n                            return x[item.field] >= min && x[item.field] <= max;\n                        });\n                        break;\n                    case \"NOT RANGE\":\n                        //表示在某个值的范围内，value中会有两个值\n                        //需要将两个值都取出来,转化为数值形式\n                        let valueNoRange1 = parseFloat(item.value[0]);\n                        let valueNoRange2 = parseFloat(item.value[1]);\n                        let max1 = valueNoRange1;\n                        let min1 = valueNoRange2;\n                        // 比较大小，确定边界范围\n                        if (valueNoRange1 < valueNoRange2) {\n                            max1 = valueNoRange2;\n                            min1 = valueNoRange1;\n                        }\n                        filteredData = filteredData.filter((x) => {\n                            return x[item.field] < min1 || x[item.field] > max1;\n                        });\n                        break;\n                    case \"GT\":\n                        //表示大于某个值，所以这里的值仅有一个\n                        //需要将其进行转化为数值形式\n                        filteredData = filteredData.filter((x) => {\n                            return x[item.field] > parseFloat(item.value[0]);\n                        });\n                        break;\n                    case \"LT\":\n                        //表示小于某个值，所以这里的值仅有一个\n                        //需要将其进行转化为数值形式\n                        filteredData = filteredData.filter((x) => {\n                            return x[item.field] < parseFloat(item.value[0]);\n                        });\n                        break;\n                    default:\n                        console.log(\"operator error!not in [GT,IN,LT,NOT RANGE,RANGE,EQ]\");\n\n                }\n            });\n            return filteredData;\n\n        } else {\n\n            /** filter rows **/\n            for (const sub of subspace) {\n                filteredData = filteredData.filter((x) => x[sub.field] === sub.value)\n            }\n            return filteredData\n        }\n    }\n\n    aggregate(data, measures, breakdowns) {\n        return data\n        // let aggdata = [];\n        // if (measures.length <= 1) {\n        //     aggdata = data;\n        // } else if (measures.length === 2) {\n        //     // over one measure\n        //     let aggdata1 = [];\n        //     let aggdata2 = [];\n        //     if (breakdowns.length > 0) {\n        //         aggdata1 = this.agg(data, measures[0], breakdowns);\n        //         aggdata2 = this.agg(data, measures[1], breakdowns);\n        //     } else {\n        //         aggdata1 = JSON.parse(JSON.stringify(data));\n        //         aggdata2 = JSON.parse(JSON.stringify(data));\n        //     }\n        //     let breakdownfields = breakdowns.map(x => x.field)\n        //     for (let index = 0; index < aggdata1.length; index++) {\n        //         const element1 = aggdata1[index];\n        //         for (const key in element1) {\n        //             if (!breakdownfields.includes(key)) {\n        //                 element1[\"measure0:\" + key] = element1[key];\n        //                 delete element1[key];\n        //             }\n        //         }\n        //         const element2 = aggdata2[index];\n        //         for (const key in element2) {\n        //             if (!breakdownfields.includes(key)) {\n        //                 element2[\"measure1:\" + key] = element2[key];\n        //                 delete element2[key];\n        //             }\n        //         }\n        //         aggdata.push(Object.assign(element1, element2));\n        //     }\n        // } else {\n        //     aggdata = data\n        // }\n        // return aggdata;\n    }\n\n    agg(data, measure, breakdowns) {\n        let aggdata = {};\n        /**\n         * filter columns\n         */\n        let columns = [];\n        columns = columns.concat(breakdowns.map(x => x.field));\n        if (measure.aggregate !== \"count\") {\n            columns.push(measure.field);\n        }\n        for (let measureField of Object.keys(measure)) {\n            columns.push(measure[measureField])\n        }\n        aggdata = data.map(x => {\n            let y = {};\n            for (const column of columns) {\n                y[column] = x[column];\n            }\n            return y;\n        });\n        switch (measure.aggregate) {\n            case AggregationType.SUM:\n                aggdata = this.sum(aggdata, measure, breakdowns);\n                break;\n            case AggregationType.AVG:\n                aggdata = this.avg(aggdata, measure, breakdowns);\n                break;\n            case AggregationType.MAX:\n                aggdata = this.max(aggdata, measure, breakdowns);\n                break;\n            case AggregationType.MIN:\n                aggdata = this.min(aggdata, measure, breakdowns);\n                break;\n            case AggregationType.COUNT:\n                aggdata = this.count(aggdata, measure, breakdowns)\n                break;\n\n            default:\n                aggdata = this.max(aggdata, measure, breakdowns);\n                break;\n        }\n        return aggdata;\n    }\n\n    sum(data, measure, breakdowns) {\n        let factdata = [];\n        if (breakdowns.length > 1) {\n            /** has series **/\n            let seriesData = d3.nest().key(d => d[breakdowns[1].field]).entries(data);\n            for (const series of seriesData) {\n                let calculateData = d3.nest().key(d => d[breakdowns[0].field]).entries(series.values);\n                let sumData = new Array(calculateData.length).fill(0);\n                let categoryData = calculateData.map(function (d, i) {\n                    d.values.forEach(d => {\n                        sumData[i] += d[measure.field]\n                    })\n                    let sumRows = Object.assign({}, d.values[0])\n                    sumRows[measure.field] = sumData[i]\n                    return sumRows\n                });\n                factdata = factdata.concat(categoryData);\n            }\n\n        } else if (breakdowns.length === 1) {\n            /** no series **/\n            let calculateData = d3.nest().key(d => d[breakdowns[0].field]).entries(data);\n            let sumData = new Array(calculateData.length).fill(0);\n            factdata = calculateData.map(function (d, i) {\n                d.values.forEach(d => {\n                    sumData[i] += d[measure.field]\n                })\n                let sumRows = Object.assign({}, d.values[0])\n                sumRows[measure.field] = sumData[i]\n                return sumRows\n            });\n        } else {\n            /** no breakdown **/\n            let agg = {};\n            agg[measure.field] = 0;\n            for (let index = 0; index < data.length; index++) {\n                agg[measure.field] += data[index][measure.field];\n            }\n            factdata.push(agg);\n        }\n        return factdata;\n    }\n\n    avg(data, measure, breakdowns) {\n        let factdata = [];\n        if (breakdowns.length > 1) {\n            /** has series **/\n            let seriesData = d3.nest().key(d => d[breakdowns[1].field]).entries(data);\n            for (const series of seriesData) {\n                let calculateData = d3.nest().key(d => d[breakdowns[0].field]).entries(series.values);\n                let sumData = new Array(calculateData.length).fill(0);\n                let categoryData = calculateData.map(function (d, i) {\n                    d.values.forEach(d => {\n                        sumData[i] += d[measure.field]\n                    })\n                    let sumRows = Object.assign({}, d.values[0])\n                    sumRows[measure.field] = sumData[i] / d.values.length;\n                    return sumRows;\n                });\n                factdata = factdata.concat(categoryData);\n            }\n\n        } else if (breakdowns.length === 1) {\n            /** no series **/\n            let calculateData = d3.nest().key(d => d[breakdowns[0].field]).entries(data);\n            let sumData = new Array(calculateData.length).fill(0);\n            factdata = calculateData.map(function (d, i) {\n                d.values.forEach(d => {\n                    sumData[i] += d[measure.field]\n                })\n                let sumRows = Object.assign({}, d.values[0])\n                sumRows[measure.field] = sumData[i] / d.values.length;\n                return sumRows;\n            });\n        } else {\n            /** no breakdown **/\n            let agg = {};\n            agg[measure.field] = 0;\n            for (let index = 0; index < data.length; index++) {\n                agg[measure.field] += data[index][measure.field];\n            }\n            agg[measure.field] /= data.length;\n            factdata.push(agg);\n        }\n        return factdata;\n    }\n\n    max(data, measure, breakdowns) {\n        let factdata = [];\n        if (breakdowns.length > 1) {\n            /** has series **/\n            let seriesData = d3.nest().key(d => d[breakdowns[1].field]).entries(data);\n            for (const series of seriesData) {\n                let calculateData = d3.nest().key(d => d[breakdowns[0].field]).entries(series.values);\n                let categoryData = calculateData.map(function (d, i) {\n                    let index = d3.scan(d.values, function (a, b) {\n                        if (a[measure.field] && b[measure.field])\n                            return b[measure.field] - a[measure.field];\n                    });\n                    if (index >= 0) {\n                        return d.values[index]\n                    } else {\n                        return d.values[0];\n                    }\n                });\n                factdata = factdata.concat(categoryData);\n            }\n\n        } else if (breakdowns.length === 1) {\n            /** no series **/\n            let calculateData = d3.nest().key(d => d[breakdowns[0].field]).entries(data);\n            factdata = calculateData.map(function (d, i) {\n                let index = d3.scan(d.values, function (a, b) {\n                    if (a[measure.field] && b[measure.field])\n                        return b[measure.field] - a[measure.field];\n                });\n                if (index >= 0) {\n                    return d.values[index]\n                } else {\n                    return d.values[0];\n                }\n            });\n        } else {\n            /** no breakdown **/\n            let agg = {};\n            agg[measure.field] = data[0][measure.field];\n            for (let index = 0; index < data.length; index++) {\n                if (agg[measure.field] < data[index][measure.field]) {\n                    agg[measure.field] = data[index][measure.field];\n                }\n            }\n            factdata.push(agg);\n        }\n        return factdata;\n    }\n\n    min(data, measure, breakdowns) {\n        let factdata = [];\n        if (breakdowns.length > 1) {\n            /** has series **/\n            let seriesData = d3.nest().key(d => d[breakdowns[1].field]).entries(data);\n            for (const series of seriesData) {\n                let calculateData = d3.nest().key(d => d[breakdowns[0].field]).entries(series.values);\n                let categoryData = calculateData.map(function (d) {\n                    let index = d3.scan(d.values, function (a, b) {\n                        if (a[measure.field] && b[measure.field])\n                            return a[measure.field] - b[measure.field];\n                    });\n                    if (index >= 0) {\n                        return d.values[index]\n                    } else {\n                        return d.values[0]\n                    }\n                });\n                factdata = factdata.concat(categoryData);\n            }\n\n        } else if (breakdowns.length === 1) {\n            /** no series **/\n            let calculateData = d3.nest().key(d => d[breakdowns[0].field]).entries(data);\n            factdata = calculateData.map(function (d) {\n                let index = d3.scan(d.values, function (a, b) {\n                    if (a[measure.field] && b[measure.field])\n                        return a[measure.field] - b[measure.field];\n                });\n                if (index >= 0) {\n                    return d.values[index]\n                } else {\n                    return d.values[0]\n                }\n            });\n        } else {\n            /** no breakdown **/\n            let agg = {};\n            agg[measure.field] = data[0][measure.field];\n            for (let index = 0; index < data.length; index++) {\n                if (agg[measure.field] > data[index][measure.field]) {\n                    agg[measure.field] = data[index][measure.field];\n                }\n            }\n            factdata.push(agg);\n        }\n        return factdata;\n    }\n\n    count(data, measure, breakdowns) {\n        let factdata = [];\n        if (breakdowns.length > 1) {\n            /** has series **/\n            let seriesData = d3.nest().key(d => d[breakdowns[1].field]).entries(data);\n            for (const series of seriesData) {\n                let calculateData = d3.nest().key(d => d[breakdowns[0].field]).entries(series.values);\n                let countData = new Array(calculateData.length).fill(0);\n                let categoryData = calculateData.map(function (d, i) {\n                    d.values.forEach(() => {\n                        countData[i] += 1;\n                    })\n                    let countRows = d.values[0];\n                    countRows['COUNT'] = countData[i];\n                    return countRows;\n                });\n                factdata = factdata.concat(categoryData);\n            }\n\n        } else if (breakdowns.length === 1) {\n            /** no series **/\n            let calculateData = d3.nest().key(d => d[breakdowns[0].field]).entries(data);\n            let countData = new Array(calculateData.length).fill(0);\n            factdata = calculateData.map(function (d, i) {\n                d.values.forEach(() => {\n                    countData[i] += 1\n                })\n                let countRows = d.values[0];\n                countRows['COUNT'] = countData[i];\n                return countRows;\n            });\n        } else {\n            /** no breakdown **/\n            let agg = { 'COUNT': data.length };\n            factdata.push(agg);\n        }\n        return factdata;\n    }\n}\n\nexport default Fact;\n","const ChartType = {\n    FREQUENT_PATTERN: 'frequent_pattern',\n    UNIVARIATE_OUTLIER: 'univariate_outlier',\n    MULTIVARIATE_OUTLIER: 'multivariate_outlier',\n    TREND: 'trend',\n    FORECASTING: 'forecasting',\n    UNIVARIATE_DISTRIBUTION: 'univariate_distribution',\n    MULTIVARIATE_DISTRIBUTION: 'multivariate_distribution',\n    SEASONALITY: 'seasonality',\n    CLUSTERING: 'clustering',\n    SIMILARITY:'similarity',\n    ORIGIN:'origin',\n    AUTOCORRELATION:'autocorrelation',\n    OUTSTANDING:'outstanding'\n}\n\nexport default ChartType","import * as d3 from 'd3';\n\nclass Chart {\n    constructor() {\n        this._container = document.createElement(\"div\");\n        this._width = 0;\n        this._height = 0;\n        this._table = [];\n        this._factdata = [];\n        this._subspace = [];\n        this._measure = [];\n        this._breakdown = [];\n        this._focus = [];\n        this._duration = 0;\n        this._showTooltip=false;\n        this._showSuggestion = false; // When true, it will show the suggestion that whether the chart supports the data.\n    }\n\n    container(value) {\n        if (!value) {\n            d3.select(this._container).selectAll(\"*\").remove();\n            return this._container;\n        }\n        this._container = value;\n    }\n   \n    style(value) {\n        if (!value) {\n            return this._style;\n        }\n        this._style = value;\n    }\n\n    size(value) {\n        if (!value) {\n            return this._size;\n        }\n        this._size = value;\n    }\n\n    width(value) {\n        if (!value) {\n            if (this._width !== 0) {\n                return this._width;\n            } else {\n                return 640;\n            }\n        }\n        this._width = value;\n    }\n\n    height(value) {\n        if (!value) {\n            if (this._height !== 0) {\n                return this._height;\n            } else {\n                return 400;\n            }\n        }\n        this._height = value;\n    }\n\n    table(value) {\n        if (!value) {\n            return this._table;\n        }\n        this._table = value;\n    }\n\n    factdata(value) {\n        if (!value) {\n            return this._factdata;\n        }\n        this._factdata = value;\n    }\n\n    subspace(value) {\n        if (!value) {\n            return this._subspace;\n        }\n        this._subspace = value;\n    }\n\n    measure(value) {\n        if (!value) {\n            return this._measure;\n        }\n        this._measure = value;\n    }\n\n    breakdown(value) {\n        if (!value) {\n            return this._breakdown;\n        }\n        this._breakdown = value;\n    }\n\n    focus(value) {\n        if (!value) {\n            return this._focus;\n        }\n        this._focus = value\n    }\n\n    duration(value) {\n        if (!value) {\n            return this._duration;\n        }\n        this._duration = value;\n    }\n\n    showSuggestion(value) {\n        if (!value) {\n            return this._showSuggestion;\n        }\n        this._showSuggestion = value;\n    }\n    showTooltip(value) {\n        if (!value) {\n            return this._showTooltip;\n        }\n        this._showTooltip = value;\n    }\n\n    toSVG() { }\n\n    toJPG() { }\n}\n\nexport default Chart;","import * as d3 from \"d3\";\r\nconst parseTime = (date) => {\r\n    if (d3.timeParse(\"%Y-%m-%d\")(date))\r\n        return d3.timeParse(\"%Y-%m-%d\")(date);\r\n    else if (d3.timeParse(\"%Y/%m/%d\")(date))\r\n        return d3.timeParse(\"%Y/%m/%d\")(date);\r\n    else if (d3.timeParse(\"%Y-%m\")(date))\r\n        return d3.timeParse(\"%Y-%m\")(date);\r\n    else if (d3.timeParse(\"%Y/%m\")(date))\r\n        return d3.timeParse(\"%Y/%m\")(date);\r\n    else if (d3.timeParse(\"%Y\")(date))\r\n        return d3.timeParse(\"%Y\")(date);\r\n    else if (d3.timeParse(\"%Y-%m-%dT%H:%M:%S.%fZ\")(date))\r\n        return d3.timeParse(\"%Y-%m-%dT%H:%M:%S.%fZ\")(date)\r\n    else if (d3.timeParse(\"%Y-%m-%d %H:%M:%S\")(date))\r\n        return d3.timeParse(\"%Y-%m-%d %H:%M:%S\")(date)\r\n    else if (d3.timeParse(\"%Y-%m-%d %H:%M:%S.%f\")(date))\r\n        return d3.timeParse(\"%Y-%m-%d %H:%M:%S.%f\")(date)\r\n    else \r\n    {   \r\n        return date\r\n    }\r\n\r\n}\r\nconst formatTick = (date) => {\r\n    if (d3.timeParse(\"%Y-%m-%d\")(date))\r\n        return d3.timeFormat(\"%Y-%-m-%-d\");\r\n\r\n    else if (d3.timeParse(\"%Y/%m/%d\")(date)){\r\n        return d3.timeFormat(\"%Y/%-m/%-d\")\r\n    }\r\n\r\n    else if (d3.timeParse(\"%Y-%m\")(date))\r\n        return d3.timeFormat(\"%Y%-m\")\r\n\r\n    else if (d3.timeParse(\"%Y/%m\")(date))\r\n        return d3.timeFormat(\"%Y/%m\")\r\n\r\n    else if (d3.timeParse(\"%Y\")(date))\r\n        return d3.timeFormat(\"%Y\")\r\n\r\n    else if (d3.timeParse(\"%Y-%m-%dT%H:%M:%S.%fZ\")(date))\r\n        return d3.timeFormat(\"%Y-%m-%dT%H:%M:%S.%fZ\")\r\n\r\n    else if (d3.timeParse(\"%Y-%m-%d %H:%M:%S\")(date))\r\n        return d3.timeFormat(\"%Y-%m-%d %H:%M:%S\")\r\n\r\n    else if (d3.timeParse(\"%Y-%m-%d %H:%M:%S.%f\")(date)){\r\n        return d3.timeFormat(\"%Y-%m-%d %H:%M:%S.%f\")\r\n    }\r\n\r\n    else{\r\n        return \"\"\r\n}\r\n}\r\nconst formatTicksCount = (date) => {\r\n    if (d3.timeParse(\"%Y-%m-%d\")(date))\r\n        return d3.timeDay\r\n    else if (d3.timeParse(\"%Y/%m/%d\")(date))\r\n        return d3.timeDay\r\n    else if (d3.timeParse(\"%Y-%m\")(date))\r\n        return d3.timeMonth\r\n    else if (d3.timeParse(\"%Y/%m\")(date))\r\n        return d3.timeMonth\r\n    else if (d3.timeParse(\"%Y\")(date))\r\n        return d3.timeYear\r\n    else if (d3.timeParse(\"%Y-%m-%dT%H:%M:%S.%fZ\")(date))\r\n        return d3.timeFormat(\"%Y-%m-%dT%H:%M:%S.%fZ\")\r\n    else if (d3.timeParse(\"%Y-%m-%d %H:%M:%S\")(date))\r\n        return d3.timeFormat(\"%Y-%m-%d %H:%M:%S\")\r\n    else if (d3.timeParse(\"%Y-%m-%d %H:%M:%S.%f\")(date))\r\n        return d3.timeFormat(\"%Y-%m-%d %H:%M:%S.%f\")\r\n}\r\nconst SECOND = 1000\r\nconst MINUTE = SECOND * 60\r\nconst HOUR = MINUTE * 60\r\nconst DAY = HOUR * 24\r\nconst WEEK = DAY * 7\r\nconst MONTH = DAY * 30\r\nconst YEAR = DAY * 365\r\nconst parseIntervalString = (interval) => {\r\n    if (interval / SECOND < 1) {\r\n        return interval + ' ms'\r\n    } else if (interval / MINUTE < 1) {\r\n        return (interval / SECOND).toFixed(1) + ' s'\r\n    } else if (interval / HOUR < 1) {\r\n        return (interval / MINUTE).toFixed(1) + ' min(s)'\r\n    } else if (interval / DAY < 1) {\r\n        return (interval / HOUR).toFixed(1) + ' hour(s)'\r\n    } else if (interval / WEEK < 1) {\r\n        return (interval / DAY).toFixed(1) + ' day(s)'\r\n    } else if (interval / MONTH < 1) {\r\n        return (interval / WEEK).toFixed(1) + ' week(s)'\r\n    } else if (interval / YEAR < 1) {\r\n        return (interval / MONTH).toFixed(1) + ' month(s)'\r\n    } else {\r\n        return (interval / YEAR).toFixed(1) + ' year(s)'\r\n    }\r\n}\r\nexport {parseTime,formatTick,formatTicksCount,parseIntervalString}","import * as d3 from 'd3';\nimport Chart from '../../chart';\nimport { parseTime, formatTick, formatTicksCount } from '../constant/timeConstant'\nconst ENGFONT = \"OPPOSans\";\nconst COLOR_AXIS = \"#000000\";\nconst COLOR_REGULAR = \"#808080\";\nconst COLOR_OUTLIER = \"#F72D35\"\nconst COLOR_GRID = \"#E6E6E6\";\nconst SERIES_COLORS = [\"#6C8EF2\", \"#E1944E\", \"#8B65BA\", \"#4B8384\"]\n\nclass MultivariateOutlier extends Chart {\n    constructor() {\n        super();\n        this._x = '';\n        this._y = '';\n    }\n\n    display() {\n        let factData = this.factdata()\n        let measure = this.measure();\n        let breakdown = this.breakdown();\n        let focus = this.focus();\n        // set data\n        factData = factData.sort((a, b) => parseTime(a[breakdown[0].field]) - parseTime(b[breakdown[0].field]))\n\n        let data = factData\n        if (focus.length === 0) return\n\n        // set the dimensions and margins of the graph\n        let chartSize = { width: 600, height: 360 }\n        let margin = {\n            \"top\": 15,\n            \"right\": 20,\n            \"bottom\": 15,\n            \"left\": 5\n        }\n        let tickSize = 10\n        let tickWidth = 2\n\n        let width = chartSize.width - margin.left - margin.right,\n            height = chartSize.height - margin.top - margin.bottom;\n\n        let containerSelector = this.container()\n        let svg = d3.select(this.container())\n            .append(\"svg\")\n            .attr(\"width\", chartSize.width)\n            .attr(\"height\", chartSize.height)\n            .append(\"g\")\n            .attr(\"transform\", \"translate(\" + (margin.left + 10) + \",\" + margin.top + \")\")\n            .attr(\"font-family\", ENGFONT);\n\n        let lineLayer = svg.append(\"g\").attr('class', 'lineLayer')\n\n        // set the ranges\n        let x = d3.scaleTime()\n            .range([30, width - 10])\n        // Scale the range of the data in the domains\n        x.domain(d3.extent(data, function (d) { return parseTime(d[breakdown[0].field]); }));\n        // .padding(0.1);\n\n        // add the x Axis\n        let format_TicksCount = formatTicksCount(data[0][breakdown[0].field]);\n        let tick_format = formatTick(data[0][breakdown[0].field]);\n        let axisX = d3.axisBottom(x).tickFormat(tick_format)\n        if (format_TicksCount === d3.timeYear) {\n            axisX.ticks(format_TicksCount)\n        }\n\n        let tooltipLayer = svg.append('g').attr('class', 'tooltip')\n        let tickValues = [];\n\n        let yAxisLayer = svg.append(\"g\").attr(\"class\", \"yAxis\")\n        let ys = []\n        let oneYLength = (height - 20 + 15) / focus[0][\"clusters\"].length\n        for (let outlier of focus) {\n            let start = Math.max(0, outlier.start - 1)\n            let end = Math.min(data.length - 1, outlier.end + 1)\n            tickValues.push(parseTime(data[start][breakdown[0].field]))\n            tickValues.push(parseTime(data[end][breakdown[0].field]))\n\n            for (let i = 0; i < outlier[\"clusters\"].length; i++) {\n                let cluster = outlier[\"clusters\"][i]\n                let y = d3.scaleLinear().range([oneYLength * (i + 1) - 15, oneYLength * i])\n\n                // lineLayer\n                lineLayer.append('g').selectAll('line.line')\n                    .data(y.ticks(5)).enter().append('line')\n                    .attr('x1', 30)\n                    .attr('x2', chartSize.width)\n                    .attr('y1', function (d) { return y(d) })\n                    .attr('y2', function (d) { return y(d) })\n                    .attr('stroke', COLOR_GRID)\n                    .attr('stroke-width', '2px')\n\n                tooltipLayer.append(\"rect\")\n                    .attr(\"width\", x(parseTime(data[end][breakdown[0].field])) - x(parseTime(data[start][breakdown[0].field])))\n                    .attr(\"height\", oneYLength - 15)\n                    .style(\"fill\", \"rgb(100%,\" + (1 - cluster[\"center\"][\"score\"]) * 100 + \"%,\" + (1 - cluster[\"center\"][\"score\"]) * 100 + \"%, 50%)\")\n                    .attr(\"x\", x(parseTime(data[start][breakdown[0].field])))\n                    .attr(\"y\", oneYLength * i)\n                if (i === outlier[\"clusters\"].length - 1) {\n                    tooltipLayer.append(\"rect\")\n                        .attr(\"width\", x(parseTime(data[end][breakdown[0].field])) - x(parseTime(data[start][breakdown[0].field])))\n                        .attr(\"height\", 10)\n                        .style(\"fill\", \"red\")\n                        .attr(\"x\", x(parseTime(data[start][breakdown[0].field])))\n                        .attr(\"y\", oneYLength * (i + 1) - 15)\n                }\n\n                y.domain([0, 1])\n                for (let other of cluster[\"other\"]) {\n                    y.domain(d3.extent([].concat(\n                        data.map(function (d) {\n                            return d[other[\"field\"]]\n                        })\n                    )))\n                    let lineGen = d3.line().curve(d3.curveMonotoneX)\n                        .x(function (d) {\n                            return x(parseTime(d[breakdown[0].field]));\n                        })\n                        .y(function (d) {\n                            return y(d[other[\"field\"]]);\n                        })\n                    lineLayer.append('path')\n                        .attr('d', lineGen(data))\n                        .attr('stroke', COLOR_REGULAR)\n                        .attr('stroke-width', '2px')\n                        .attr('fill', 'none')\n                        .attr('opacity', 0.5)\n                }\n\n                y.domain([0, 1])\n                let lineGen = d3.line().curve(d3.curveMonotoneX)\n                    .x(function (d) {\n                        return x(parseTime(d.x));\n                    })\n                    .y(function (d) {\n                        return y(d.y);\n                    })\n\n                let centerPts = []\n                for (let o = 0; o < cluster[\"center\"][\"value\"].length; o++) {\n                    centerPts.push({ x: data[start + o][breakdown[0].field], y: cluster[\"center\"][\"value\"][o] })\n                }\n                tooltipLayer.append(\"path\")\n                    .attr(\"d\", lineGen(centerPts))\n                    .attr(\"stroke\", SERIES_COLORS[i])\n                    .attr(\"stroke-width\", \"2px\")\n                    .attr(\"fill\", \"none\")\n\n                let forecastPts = []\n                forecastPts.push({ x: data[start][breakdown[0].field], y: cluster[\"center\"][\"value\"][0] })\n                for (let o = 0; o < cluster[\"center\"][\"forecast\"].length; o++) {\n                    forecastPts.push({ x: data[start + 1 + o][breakdown[0].field], y: cluster[\"center\"][\"forecast\"][o] })\n                }\n                forecastPts.push({ x: data[end][breakdown[0].field], y: cluster[\"center\"][\"value\"][cluster[\"center\"][\"value\"].length - 1] })\n\n                tooltipLayer.append(\"path\")\n                    .attr(\"d\", lineGen(forecastPts))\n                    .attr(\"stroke\", SERIES_COLORS[i])\n                    .attr(\"stroke-width\", \"2px\")\n                    .attr(\"stroke-dasharray\", \"6, 3\")\n                    .attr(\"fill\", \"none\")\n\n                if (outlier[\"clusters\"].length <= 3) {\n                    y.domain(d3.extent([].concat(\n                        data.map(function (d) {\n                            return d[cluster[\"other\"][0][\"field\"]]\n                        })\n                    )))\n                }\n                // add the y Axis\n                yAxisLayer.append(\"g\")\n                    .attr(\"transform\", \"translate(30, 0)\")\n                    .call(d3.axisLeft(y).ticks(5).tickFormat(function (d) {\n                        if ((d / 1000000) >= 1) {\n                            d = d / 1000000 + \"M\";\n                        } else if ((d / 1000) >= 1) {\n                            d = d / 1000 + \"K\";\n                        }\n                        return d;\n                    }))\n                    .call(g => {\n                        g.attr(\"font-size\", '10px')\n                        g.attr(\"font-weight\", 'light')\n                        g.attr(\"font-family\", ENGFONT)\n\n                        let domainD = g.selectAll(\".domain\").attr(\"d\");\n                        domainD = domainD.replace(\"M-6\", \"M-\" + (6 * chartSize.width / 640))\n                        domainD = domainD.replace(\"H-6\", \"H-\" + (6 * chartSize.width / 640))\n                        g.selectAll(\".domain\").attr(\"d\", domainD).attr(\"stroke-width\", tickWidth);\n                        g.selectAll(\".tick\")\n                            .select(\"line\")\n                            .attr(\"stroke\", COLOR_AXIS)\n                            .attr(\"stroke-width\", tickWidth)\n                            .attr(\"x2\", -6 * chartSize.width / 640);\n\n                        g.selectAll(\"text\")\n                            .attr(\"x\", -9 * chartSize.width / 640);\n                    });\n\n                // add y axis label\n                let title = yAxisLayer.append(\"text\")\n                    .attr(\"transform\", \"rotate(-90)\")\n                    .attr(\"y\", -5)\n                    .attr(\"x\", 0 - (oneYLength * (2 * i + 1) - 15) / 2)\n                    .style(\"text-anchor\", \"middle\")\n                    .style(\"font-size\", \"10px\")\n                    .text(cluster[\"other\"][0][\"field\"])\n                yAxisLayer.append(\"rect\")\n                    .attr(\"transform\", \"rotate(-90)\")\n                    .style(\"text-anchor\", \"middle\")\n                    .attr(\"x\", title.node().getBBox().x)\n                    .attr(\"y\", title.node().getBBox().y)\n                    .attr(\"width\", title.node().getBBox().width + 2)\n                    .attr(\"height\", title.node().getBBox().height)\n                    .attr(\"fill\", SERIES_COLORS[i])\n                title.node().remove()\n                yAxisLayer.append(\"text\")\n                    .attr(\"transform\", \"rotate(-90)\")\n                    .attr(\"y\", -5)\n                    .attr(\"x\", 0 - (oneYLength * (2 * i + 1) - 15) / 2)\n                    .style(\"text-anchor\", \"middle\")\n                    .style(\"font-size\", \"10px\")\n                    .text(cluster[\"other\"][0][\"field\"])\n                ys.push(y)\n            }\n\n            let tooltip = tooltipLayer.append(\"g\")\n            let tooltipText = tooltip.append(\"text\")\n                .attr(\"font-size\", \"10px\")\n                .attr(\"font-family\", ENGFONT)\n                .attr(\"stroke\", COLOR_OUTLIER)\n            tooltipText.append(\"tspan\")\n                .text(\"Anomaly score: \" + outlier.score.toFixed(4))\n                .attr(\"dy\", tooltipText.selectAll(\"tspan\").node().getBBox().height * 0.9)\n            let textWidth = tooltip.node().getBBox().width;\n            let textHeight = tooltip.node().getBBox().height;\n            let textY = height\n\n            let outlierX = (x(parseTime(data[start][breakdown[0].field])) + x(parseTime(data[end + 1][breakdown[0].field]))) / 2\n            tooltip.append(\"image\")\n                .attr(\"xlink:href\", \"./alert.svg\")\n                .attr(\"width\", \"15px\")\n                .attr(\"height\", \"13px\")\n                .attr(\"x\", (outlierX - (textWidth + 17) / 2))\n                .attr(\"y\", textY + 2);\n            tooltipText.attr(\"width\", textWidth)\n                .attr(\"height\", textHeight)\n                .attr(\"x\", (outlierX - (textWidth + 17) / 2) + 17)\n                .attr(\"y\", textY);\n        }\n\n        axisX.tickValues(tickValues)\n\n\n        svg.append(\"g\")\n            .attr(\"class\", \"xAxis\")\n            .attr(\"transform\", \"translate(0,\" + (height - 20) + \")\")\n            .call(axisX)\n            .attr(\"font-family\", ENGFONT)\n            .call(g => {\n                g.attr(\"font-size\", tickSize);\n                g.attr(\"font-family\", ENGFONT);\n\n                let domainD = g.selectAll(\".domain\").attr(\"d\");\n                domainD = domainD.replace(\"6V\", (6 * chartSize.height / 320) + \"V\")\n                domainD = domainD.replace(\"V6\", \"V\" + (6 * chartSize.height / 320))\n                g.selectAll(\".domain\").attr(\"d\", domainD).attr(\"stroke-width\", tickWidth);\n                g.selectAll(\".tick\")\n                    .selectAll(\"line\")\n                    .attr(\"stroke\", COLOR_AXIS)\n                    .attr(\"stroke-width\", tickWidth)\n                    .attr(\"y2\", 6 * chartSize.height / 320);\n\n                g.selectAll(\"text\")\n                    .attr(\"y\", 9 * chartSize.height / 320)\n\n                let nodes = g.selectAll(\"text\").nodes()\n                d3.select(nodes[0]).attr(\"x\", - nodes[0].getBBox().width / 2 + 5)\n                d3.select(nodes[1]).attr(\"x\", nodes[0].getBBox().width / 2 - 5)\n\n            });\n\n        // let tableContainer = d3.select(containerSelector).append(\"div\")\n        //     .style(\"position\", \"absolute\")\n        //     .style(\"left\", \"50px\")\n        //     .style(\"top\", oneYLength * (focus[0][\"clusters\"].length + 1))\n        //     .style(\"font-size\", \"8px\")\n        //     .style(\"font-family\", ENGFONT)\n        //     .style(\"border\", \"1px solid #000000\")\n        //     .style(\"overflow-y\", \"auto\")\n        //     .style(\"height\", \"100px\")\n        // let clusterTable = tableContainer.append(\"table\")\n        //     .style(\"border-collapse\", \"collapse\")\n        //     .style(\"border-spacing\", 0)\n        //     .attr(\"width\", width)\n        //     .style(\"position\", \"relative\")\n        // let headerTd = clusterTable.append(\"thead\")\n        //     .style(\"background\", \"#eeee\")\n        //     .style(\"position\", \"sticky\")\n        //     .style(\"top\", 0)\n        //     .append(\"tr\")\n        //     .style(\"table-layout\", \"fixed\")\n        //     .selectAll(\"th\")\n        //     .data([\"Rank\", \"Value\", \"Lane\", \"Cluster\", \"Anomaly score\"])\n        //     .enter()\n        //     .append(\"th\")\n        //     .style(\"text-align\", \"center\")\n        //     .style(\"padding\", \"5px 15px\")\n        //     .text(function (d) {\n        //         return d\n        //     })\n        // let tdWidth = headerTd.node().getBoundingClientRect().width + 30 // 30: padding\n        // let clusterRows = clusterTable.append(\"tbody\")\n        // var count = 1;\n        // for (let i = 0; i < focus[0][\"clusters\"].length; i++) {\n        //     let cluster = focus[0][\"clusters\"][i]\n        //     let row = clusterRows.append(\"tr\")\n        //         .style(\"table-layout\", \"fixed\")\n        //     for (let other of cluster[\"other\"]) {\n        //         let row = clusterRows.append(\"tr\")\n        //             .style(\"text-align\", \"center\")\n        //         row.append(\"td\")\n        //             .text(count)\n        //             .style(\"text-align\", \"center\")\n        //         count++\n        //         row.append(\"td\")\n        //             .style(\"text-align\", \"center\")\n        //             .text(other[\"field\"])\n        //         let lane = row.append(\"td\")\n        //             .style(\"text-align\", \"center\")\n        //             .append(\"svg\")\n        //             .attr(\"width\", tdWidth)\n        //             .attr(\"height\", 12)\n        //             .append(\"g\")\n        //         for (let j = 0; j < focus[0][\"clusters\"].length; j++) {\n        //             lane.append(\"rect\")\n        //                 .style(\"width\", 10)\n        //                 .style(\"height\", 10)\n        //                 .style(\"fill\", SERIES_COLORS[j])\n        //                 .style(\"x\", tdWidth / 2 - focus[0][\"clusters\"].length * 5 + 10 * j)\n        //                 .style(\"y\", 0)\n        //         }\n        //         lane.append(\"circle\")\n        //             .attr(\"cx\", tdWidth / 2 - focus[0][\"clusters\"].length * 5 + 5 + 10 * i)\n        //             .attr(\"cy\", 5)\n        //             .attr(\"r\", \"3px\")\n        //             .attr(\"stroke\", \"black\")\n        //             .attr(\"fill\", \"black\")\n        //         row.append(\"td\")\n        //             .style(\"text-align\", \"center\")\n        //             .text(\"C\" + i)\n        //         row.append(\"td\")\n        //             .style(\"text-align\", \"center\")\n        //             .text(other[\"score\"].toFixed(2))\n        //     }\n        // }\n        // tableContainer.style(\"height\", Math.min(15 * count + 15, 100) + \"px\")\n        return svg;\n    }\n}\n\n// const parseTime = (date) => {\n//     if (d3.timeParse(\"%Y-%m-%d\")(date))\n//         return d3.timeParse(\"%Y-%m-%d\")(date);\n//     else if (d3.timeParse(\"%Y/%m/%d\")(date))\n//         return d3.timeParse(\"%Y/%m/%d\")(date);\n//     else if (d3.timeParse(\"%Y-%m\")(date))\n//         return d3.timeParse(\"%Y-%m\")(date);\n//     else if (d3.timeParse(\"%Y/%m\")(date))\n//         return d3.timeParse(\"%Y/%m\")(date);\n//     else if (d3.timeParse(\"%Y\")(date))\n//         return d3.timeParse(\"%Y\")(date);\n//     else if (d3.timeParse(\"%Y-%m-%dT%H:%M:%S.%fZ\")(date))\n//         return d3.timeParse(\"%Y-%m-%dT%H:%M:%S.%fZ\")(date)\n//     else if (d3.timeParse(\"%Y-%m-%d %H:%M:%S\")(date))\n//         return d3.timeParse(\"%Y-%m-%d %H:%M:%S\")(date)\n//     else return date\n// }\n// const formatTick = (date) => {\n//     if (d3.timeParse(\"%Y-%m-%d\")(date))\n//         return d3.timeFormat(\"%Y-%-m-%-d\")\n//     else if (d3.timeParse(\"%Y/%m/%d\")(date))\n//         return d3.timeFormat(\"%Y/%-m/%-d\")\n//     else if (d3.timeParse(\"%Y-%m\")(date))\n//         return d3.timeFormat(\"%Y-%m\")\n//     else if (d3.timeParse(\"%Y/%m\")(date))\n//         return d3.timeFormat(\"%Y/%m\")\n//     else if (d3.timeParse(\"%Y\")(date))\n//         return d3.timeFormat(\"%Y\")\n//     else if (d3.timeParse(\"%Y-%m-%dT%H:%M:%S.%fZ\")(date))\n//         return d3.timeFormat(\"%Y/%m/%d/%H\")\n//     else if (d3.timeParse(\"%Y-%m-%d %H:%M:%S\")(date))\n//         return d3.timeFormat(\"%Y/%m/%d/%H\")\n//     else {\n//         return \"\"\n//     }\n// }\n\n// const formatTicksCount = (date) => {\n//     if (d3.timeParse(\"%Y-%m-%d\")(date))\n//         return d3.timeDay\n//     else if (d3.timeParse(\"%Y/%m/%d\")(date))\n//         return d3.timeDay\n//     else if (d3.timeParse(\"%Y-%m\")(date))\n//         return d3.timeMonth\n//     else if (d3.timeParse(\"%Y/%m\")(date))\n//         return d3.timeMonth\n//     else if (d3.timeParse(\"%Y\")(date))\n//         return d3.timeYear\n// }\n\nexport default MultivariateOutlier;","export function getPosition() {\r\n    var posX = 0, posY = 0;\r\n    var event = event || window.event;\r\n    if (event.pageX || event.pageY) {\r\n        posX = event.pageX;\r\n        posY = event.pageY;\r\n    } else if (event.clientX || event.clientY) {\r\n        posX = event.clientX + document.documentElement.scrollLeft + document.body.scrollLeft;\r\n        posY = event.clientY + document.documentElement.scrollTop + document.body.scrollTop;\r\n    }\r\n    return {posX:posX,posY:posY}\r\n}","import * as d3 from 'd3';\r\nimport Chart from '../../chart';\r\nimport { tooltipContainerId } from '../constant/getContainer';\r\nimport { getPosition } from '../constant/getPosition';\r\nimport { parseTime, formatTick, formatTicksCount } from '../constant/timeConstant'\r\nconst ENGFONT = \"OPPOSans\";\r\nconst COLOR_AXIS = \"#000000\";\r\nconst COLOR_REGULAR = \"#6C8EF2\";\r\nconst COLOR_STD = \"#8ED9AB\";\r\nconst COLOR_TEXT = \"#000000\";\r\nconst TRANSPARENCY_STD = 0.3;\r\nconst COLOR_GRID = \"#E6E6E6\";\r\nconst TICK_WIDTH = 2;\r\n\r\nclass UnivariateDistribution extends Chart {\r\n    constructor() {\r\n        super();\r\n        this._x = '';\r\n        this._y = '';\r\n    }\r\n    display() {\r\n        /**\r\n         * The main drawing function\r\n         */\r\n        //---------------parse fact-------------------------\r\n        let factResult = this.parseFact()\r\n        let data = factResult._data\r\n        let measure = factResult._measure\r\n        let breakdown = factResult._breakdown\r\n        let focus = factResult._focus\r\n        let measureName = factResult._measureName\r\n        if (focus.length === 0) return\r\n        if (breakdown[1] && breakdown[1].field) return;\r\n\r\n        //---------------init chart size--------------------\r\n        let chartResult = this.setChartStandard()\r\n        let chartSize = chartResult._chartSize\r\n        let width = chartResult._width\r\n        let height = chartResult._height\r\n        let margin = chartResult._margin\r\n\r\n        //------------------init---------------------------\r\n        let containerSelector = tooltipContainerId\r\n        //init svg\r\n        let svg = this.initSvg(chartSize, margin)\r\n        //init layer\r\n        let tooltipLayer = svg.append('g').attr('class', 'tooltip');\r\n\r\n        //------------------draw x axis-------------------\r\n        let xAxisResult = this.drawXAxis(svg, data, breakdown, width, height, chartSize)\r\n        let x = xAxisResult._x\r\n        let axisX = xAxisResult._axisX\r\n        let tick_format = xAxisResult._tick_format\r\n\r\n        //------------------draw y axis-------------------\r\n        let y = this.drawYAxis(svg, data, measure, chartSize, height)\r\n\r\n        //------------------draw univariate distribution---------------\r\n        let xLeft = x(parseTime(data[0][breakdown[0].field]));\r\n        let xRight = x(parseTime(data[data.length - 1][breakdown[0].field]));\r\n        let uniDistributionResult = this.drawUnivariateDistribution(y, data, xLeft, xRight, breakdown, focus, svg, tooltipLayer, axisX)\r\n        let mean = uniDistributionResult._mean\r\n        let x_mean = uniDistributionResult._x_mean\r\n        let y_mean = uniDistributionResult._y_mean\r\n        tooltipLayer = uniDistributionResult._tooltipLayer\r\n\r\n        //-------------------draw original line--------------------\r\n        let lineLayer = svg.append(\"g\").attr('class', 'lineLayer')\r\n        let originLineResult = this.drawBackLine(x, y, data, lineLayer, breakdown, measureName, width)\r\n        let rawPath = originLineResult._rawPath\r\n        let lineGen = originLineResult._lineGen\r\n\r\n        //--------------------draw insight text--------------------\r\n        this.drawInsightText(svg, y, xLeft, xRight, mean, x_mean, y_mean)\r\n        if (this._showTooltip) {\r\n            renderDetailValue(containerSelector, rawPath, x, y, height, data, breakdown, measureName, tick_format, tooltipLayer)\r\n        }\r\n        return svg;\r\n    }\r\n    parseFact() {\r\n        /**\r\n         * Parse fact json\r\n         * return:The contents of each field in fact\r\n         */\r\n        let factData = this.factdata()\r\n        let measure = this.measure();\r\n        let breakdown = this.breakdown();\r\n        let focus = this.focus();\r\n        // set data\r\n        let data = factData\r\n        let measureName = measure[0].aggregate === 'count' ? \"COUNT\" : measure[0].field\r\n        return { _data: data, _measure: measure, _breakdown: breakdown, _focus: focus, _measureName: measureName }\r\n    }\r\n    setChartStandard() {\r\n        /** \r\n         * calculate size of the chart\r\n         * return chart size parameters\r\n         */\r\n        // set the dimensions and margins of the graph\r\n        let chartSize = { width: 600, height: 280 }\r\n        let margin = {\r\n            \"top\": 15,\r\n            \"right\": 20,\r\n            \"bottom\": 15,\r\n            \"left\": 20\r\n        }\r\n        let width = chartSize.width - margin.left - margin.right,\r\n            height = chartSize.height - margin.top - margin.bottom;\r\n        return { _width: width, _height: height, _chartSize: chartSize, _margin: margin }\r\n    }\r\n    initSvg(chartSize, margin) {\r\n        /**\r\n         * Initialize SVG based on the drawing area size\r\n         * return :svg \r\n         */\r\n        let svg = d3.select(this.container())\r\n            .append(\"svg\")\r\n            .attr(\"width\", chartSize.width)\r\n            .attr(\"height\", chartSize.height)\r\n            .append(\"g\")\r\n            .attr(\"transform\", \"translate(\" + (margin.left + 10) + \",\" + margin.top + \")\")\r\n            .attr(\"font-family\", ENGFONT);\r\n        return svg\r\n    }\r\n    drawXAxis(svg, data, breakdown, width, height, chartSize) {\r\n        /**\r\n         * Draw the X axis\r\n         */\r\n        // set the ranges\r\n        let x = d3.scaleTime()\r\n            .range([0, width - 20])\r\n        // Scale the range of the data in the domains\r\n        x.domain(d3.extent(data, function (d) { return parseTime(d[breakdown[0].field]); }));\r\n        // add the x Axis\r\n        let format_TicksCount = formatTicksCount(data[0][breakdown[0].field]);\r\n        let tick_format = formatTick(data[0][breakdown[0].field]);\r\n        let axisX = d3.axisBottom(x).tickFormat(tick_format)\r\n        if (format_TicksCount === d3.timeYear) {\r\n            axisX.ticks(format_TicksCount)\r\n        }\r\n        svg.append(\"g\")\r\n            .attr(\"class\", \"xAxis\")\r\n            .attr(\"transform\", \"translate(0,\" + (height - 20) + \")\")\r\n            .call(axisX)\r\n            .call(g => {\r\n                g.attr(\"font-size\", '10px');\r\n                g.attr(\"font-family\", ENGFONT);\r\n                g.attr(\"font-weight\", 'light')\r\n\r\n                let domainD = g.selectAll(\".domain\").attr(\"d\");\r\n                domainD = domainD.replace(\"6V\", (6 * chartSize.height / 320) + \"V\")\r\n                domainD = domainD.replace(\"V6\", \"V\" + (6 * chartSize.height / 320))\r\n                g.selectAll(\".domain\").attr(\"d\", domainD).attr(\"stroke-width\", TICK_WIDTH);\r\n                g.selectAll(\".tick\")\r\n                    .selectAll(\"line\")\r\n                    .attr(\"stroke\", COLOR_AXIS)\r\n                    .attr(\"stroke-width\", TICK_WIDTH)\r\n                    .attr(\"y2\", 5);\r\n\r\n                g.selectAll(\"text\")\r\n                    .attr(\"y\", 10)\r\n                // .attr(\"transform\", 'rotate(-20)')\r\n                // .attr(\"style\", 'text-anchor: end')\r\n            });\r\n        return { _x: x, _axisX: axisX, _tick_format: tick_format }\r\n    }\r\n    drawYAxis(svg, data, measure, chartSize, height) {\r\n        /**\r\n         * Draw the Y axis\r\n         */\r\n        // .padding(0.1);\r\n        let y = d3.scaleLinear()\r\n            .range([height - 20, 0]);\r\n        y.domain(d3.extent([].concat(\r\n            // lower boundary minus margin\r\n            data.map(function (d) { return d[measure[0].field] * 0.85 }),\r\n            // upper boundary add margin\r\n            data.map(function (d) { return d[measure[0].field] * 1.15 })\r\n        )));\r\n        // add the y Axis\r\n        svg.append(\"g\")\r\n            .attr(\"class\", \"yAxis\")\r\n            // .attr(\"transform\", `translate(,0)`)\r\n            .call(d3.axisLeft(y).ticks(5).tickFormat(function (d) {\r\n                if ((d / 1000000) >= 1) {\r\n                    d = d / 1000000 + \"M\";\r\n                } else if ((d / 1000) >= 1) {\r\n                    d = d / 1000 + \"K\";\r\n                }\r\n                return d;\r\n            }))\r\n            .call(g => {\r\n                g.attr(\"font-size\", '10px')\r\n                g.attr(\"font-weight\", 'light')\r\n                g.attr(\"font-family\", ENGFONT)\r\n                let domainD = g.selectAll(\".domain\").attr(\"d\");\r\n                domainD = domainD.replace(\"M-6\", \"M-\" + (6 * chartSize.width / 640))\r\n                domainD = domainD.replace(\"H-6\", \"H-\" + (6 * chartSize.width / 640))\r\n                g.selectAll(\".domain\").attr(\"d\", domainD).attr(\"stroke-width\", TICK_WIDTH);\r\n                g.selectAll(\".tick\")\r\n                    .select(\"line\")\r\n                    .attr(\"stroke\", COLOR_AXIS)\r\n                    .attr(\"stroke-width\", TICK_WIDTH)\r\n                    .attr(\"x2\", -5);\r\n\r\n                g.selectAll(\"text\")\r\n                    .attr(\"x\", -10);\r\n            })\r\n        return y\r\n    }\r\n    drawBackLine(x, y, data, lineLayer, breakdown, measureName, width) {\r\n        /**\r\n         * draw series line and back grid\r\n         */\r\n        lineLayer.append('g').selectAll('line.line')\r\n            .data(y.ticks(5)).enter().append('line')\r\n            .attr('x1', 0)\r\n            .attr('x2', width - 20)\r\n            .attr('y1', function (d) { return y(d) })\r\n            .attr('y2', function (d) { return y(d) })\r\n            .attr('stroke', COLOR_GRID)\r\n            .attr('stroke-width', '2px')\r\n\r\n        let lineGen = d3.line().curve(d3.curveMonotoneX)\r\n            .x(function (d) {\r\n                return x(parseTime(d[breakdown[0].field]));\r\n            })\r\n            .y(function (d) {\r\n                return y(d[measureName]);\r\n            })\r\n        let rawPath = lineLayer.append('path')\r\n            .attr('d', lineGen(data))\r\n            .attr('stroke', COLOR_REGULAR)\r\n            .attr('stroke-width', '3px')\r\n            .attr('fill', 'none')\r\n        return { _rawPath: rawPath, _lineGen: lineGen }\r\n    }\r\n    drawUnivariateDistribution(y, data, xLeft, xRight, breakdown, focus, svg, tooltipLayer, axisX) {\r\n        let tickValues = [];\r\n        let std = [0, 0];\r\n        let mean = 0;\r\n        let x_mean = 0;\r\n        let y_mean = 0;\r\n\r\n        for (let distr of focus) {\r\n            let yVal = y(distr.value);\r\n            if (distr.name === \"mean\") {\r\n                mean = distr.value;\r\n                x_mean = xRight;\r\n                y_mean = yVal;\r\n\r\n            } else if (distr.name === \"mean-2std\") {\r\n                std[0] = distr.value;\r\n            } else if (distr.name === \"mean+2std\") {\r\n                std[1] = distr.value;\r\n            } else if (distr.name === \"min\") {\r\n                tooltipLayer.append('line')\r\n                    .attr('x1', xLeft)\r\n                    .attr('y1', y(distr.value))\r\n                    .attr('x2', xRight)\r\n                    .attr('y2', y(distr.value))\r\n                    .attr('stroke-width', '1px')\r\n                    .attr('stroke', 'black')\r\n                    .attr('stroke-dasharray', '6px');\r\n\r\n                let tooltip = tooltipLayer.append(\"text\")\r\n                    .attr(\"font-size\", '10px')\r\n                    .attr(\"font-family\", ENGFONT)\r\n                    .attr(\"fill\", COLOR_TEXT);\r\n                tooltip.append(\"tspan\")\r\n                    .text(\"Min: \" + distr.value)\r\n                    .attr(\"dy\", tooltip.selectAll(\"tspan\").node().getBBox().height * 0.9);\r\n                let textWidth = tooltip.node().getBBox().width;\r\n                let textHeight = tooltip.node().getBBox().height * 1.5;\r\n                tooltip.attr(\"width\", textWidth)\r\n                    .attr(\"height\", textHeight)\r\n                    .attr(\"x\", xRight - textWidth)\r\n                    .attr(\"y\", yVal - textHeight);\r\n            } else if (distr.name === \"max\") {\r\n                //std[1] = Math.min(distr.value, std[1])\r\n                tooltipLayer.append('line')\r\n                    .attr('x1', xLeft)\r\n                    .attr('y1', y(distr.value))\r\n                    .attr('x2', xRight)\r\n                    .attr('y2', y(distr.value))\r\n                    .attr('stroke-width', '1px')\r\n                    .attr('stroke', 'black')\r\n                    .attr('stroke-dasharray', '6px');\r\n\r\n                let tooltip = tooltipLayer.append(\"text\")\r\n                    .attr(\"font-size\", '10px')\r\n                    .attr(\"font-family\", ENGFONT)\r\n                    .attr(\"fill\", COLOR_TEXT);\r\n                tooltip.append(\"tspan\")\r\n                    .text(\"Max: \" + distr.value)\r\n                    .attr(\"dy\", tooltip.selectAll(\"tspan\").node().getBBox().height * 0.9);\r\n                let textWidth = tooltip.node().getBBox().width;\r\n                let textHeight = tooltip.node().getBBox().height * 1.5;\r\n                tooltip.attr(\"width\", textWidth)\r\n                    .attr(\"height\", textHeight)\r\n                    .attr(\"x\", xRight - textWidth)\r\n                    .attr(\"y\", yVal - textHeight);\r\n            }\r\n        }\r\n        // std color block\r\n        svg.append('rect')\r\n            .attr('x', 0)\r\n            .attr('y', y(std[1]))\r\n            .attr('width', xRight - xLeft)\r\n            .attr(\"height\", y(std[0]) - y(std[1]))\r\n            .attr('fill', COLOR_STD)\r\n            .attr('opacity', TRANSPARENCY_STD);\r\n\r\n        tickValues.push(parseTime(data[10][breakdown[0].field]))\r\n        tickValues.push(parseTime(data[data.length - 10][breakdown[0].field]))\r\n        axisX.tickValues(tickValues)\r\n        return { _tooltipLayer: tooltipLayer, _mean: mean, _x_mean: x_mean, _y_mean: y_mean }\r\n    }\r\n    drawInsightText(svg, y, xLeft, xRight, mean, x_mean, y_mean) {\r\n        let tooltipLayer2 = svg.append('g').attr('class', 'tooltip').style('background-color', 'white').style('opacity', 0.8);\r\n        tooltipLayer2.append('line')\r\n            .attr('x1', xLeft)\r\n            .attr('y1', y(mean))\r\n            .attr('x2', xRight)\r\n            .attr('y2', y(mean))\r\n            .attr('stroke-width', '1px')\r\n            .attr('stroke', 'black');\r\n        let tooltip = tooltipLayer2.append(\"text\")\r\n            .attr(\"font-size\", '10px')\r\n            .attr(\"font-family\", ENGFONT)\r\n            .attr(\"fill\", COLOR_TEXT);\r\n        tooltip.append(\"tspan\")\r\n            .text(\"Avg: \" + mean)\r\n            .attr(\"dy\", tooltip.selectAll(\"tspan\").node().getBBox().height * 0.9);\r\n\r\n        let textWidth = tooltip.node().getBBox().width;\r\n        let textHeight = tooltip.node().getBBox().height * 1.5;\r\n\r\n        svg.append('rect')\r\n            .attr('x', x_mean - textWidth)\r\n            .attr('y', y_mean - textHeight * 1.15)\r\n            .attr('width', textWidth)\r\n            .attr(\"height\", textHeight)\r\n            .attr('fill', 'white')\r\n            .attr('opacity', 0.8);\r\n\r\n        tooltip.attr(\"width\", textWidth)\r\n            .attr(\"height\", textHeight)\r\n            .attr(\"x\", x_mean - textWidth)\r\n            .attr(\"y\", y_mean - textHeight);\r\n\r\n\r\n        let tooltipLayer3 = svg.append('g').attr('class', 'tooltip').style('background-color', 'white').style('opacity', 0.8);\r\n        let tooltip2 = tooltipLayer3.append(\"text\")\r\n            .attr(\"font-size\", '10px')\r\n            .attr(\"font-family\", ENGFONT)\r\n            .attr(\"fill\", COLOR_TEXT);\r\n        tooltip2.append(\"tspan\")\r\n            .text(\"Avg: \" + mean)\r\n            .attr(\"dy\", tooltip2.selectAll(\"tspan\").node().getBBox().height * 0.9);\r\n\r\n        tooltip2.attr(\"width\", textWidth)\r\n            .attr(\"height\", textHeight)\r\n            .attr(\"x\", x_mean - textWidth)\r\n            .attr(\"y\", y_mean - textHeight);\r\n    }\r\n}\r\nlet renderDetailValue = (containerSelector, rawPath, x, y, height,\r\n    data, breakdown, measureName, tick_format, tooltipLayer) => {\r\n    let detailValueTooltip = d3.select(containerSelector)\r\n        .append(\"div\")\r\n        .attr(\"id\", \"value-tooltip\")\r\n        .style(\"z-index\", 2000)\r\n        .style(\"width\", \"95px\")\r\n        .style(\"width\", \"fit-content\")\r\n        .style(\"opacity\", 0)\r\n        .style(\"position\", \"absolute\")\r\n        .style(\"pointer-events\", \"none\")\r\n        .style(\"border-radius\", \"4px\")\r\n        .style(\"background\", \"#FFFFFF\")\r\n        .style(\"box-shadow\", \"0 0 5px #888888\")\r\n        .style(\"padding\", \"5px\")\r\n    let detailValueTitle = detailValueTooltip.append(\"span\")\r\n        .style(\"font\", `9px ${ENGFONT}`)\r\n        .style(\"font-weight\", \"bold\")\r\n        .style(\"display\", \"block\")\r\n        .style(\"color\", \"#000000\")\r\n    let detailValueContent = detailValueTooltip.append(\"svg\")\r\n        .attr(\"width\", \"95px\")\r\n        .attr(\"height\", \"30px\")\r\n    let detailValueColor = detailValueContent.append(\"circle\")\r\n        .attr(\"r\", 4)\r\n        .attr(\"cx\", \"5px\")\r\n        .attr(\"cy\", \"12px\")\r\n    let detailValueText = detailValueContent.append(\"text\")\r\n        .style(\"font\", `8px ${ENGFONT}`)\r\n        .style(\"color\", \"#000000\")\r\n        .attr(\"x\", \"14px\")\r\n        .attr(\"y\", \"14px\")\r\n\r\n    rawPath.on(\"mouseover\", function (d) {\r\n        detailValueTooltip.transition()\r\n            .duration(200)\r\n            .style(\"opacity\", .9)\r\n        detailValue.transition()\r\n            .duration(200)\r\n            .style(\"opacity\", 1)\r\n    })\r\n        .on(\"mouseout\", function (d) {\r\n            // If the mouse is exactly on the data point, \r\n            // then the mouse will on the circle instead of the path\r\n            // So here we should keep the tooltip shown when the mouse is still on the circle\r\n            let currentElement = document.elementFromPoint(d3.event.pageX, d3.event.pageY)\r\n            if (currentElement !== detailValueCircle.node()) {\r\n                detailValueTooltip.transition()\r\n                    .duration(500)\r\n                    .style(\"opacity\", 0)\r\n                detailValue.transition()\r\n                    .duration(500)\r\n                    .style(\"opacity\", 0)\r\n            }\r\n        })\r\n        .on(\"mousemove\", function (d) {\r\n            let result = getPosition()\r\n            let x0 = x.invert(d3.mouse(this)[0])\r\n            let currentIndex = bisectDate(data, x0, 1)\r\n            let time0 = parseTime(data[currentIndex - 1][breakdown[0].field])\r\n            let time1 = parseTime(data[currentIndex][breakdown[0].field])\r\n            let currentTime = x0 - time0 > time1 - x0 ? time1 : time0\r\n            let currentValue = currentTime === time0 ? data[currentIndex - 1][measureName] : data[currentIndex][measureName]\r\n            let title = tick_format(currentTime)\r\n            detailValueTooltip.style(\"left\", (result.posX + 30) + \"px\")\r\n                .style(\"top\", (result.posY + 20) + \"px\")\r\n            detailValueTitle.html(title)\r\n            detailValueColor.style(\"fill\", COLOR_REGULAR)\r\n            detailValueText.html(measureName + \": \" + currentValue.toFixed(2))\r\n\r\n            detailValueLine.attr(\"x1\", x(currentTime))\r\n            detailValueLine.attr(\"x2\", x(currentTime))\r\n            detailValueCircle.attr(\"cx\", x(currentTime))\r\n            detailValueCircle.attr(\"cy\", y(currentValue))\r\n            detailValueCircle.attr(\"stroke\", COLOR_REGULAR)\r\n        })\r\n\r\n    let bisectDate = d3.bisector(function (d) { return parseTime(d[breakdown[0].field]) }).left\r\n    let detailValue = tooltipLayer.append(\"g\")\r\n        .style(\"opacity\", 0)\r\n    let detailValueLine = detailValue.append(\"line\")\r\n        .attr(\"y1\", height - 20)\r\n        .attr(\"y2\", 0)\r\n        .attr(\"stroke-width\", \"2px\")\r\n        .attr(\"stroke\", COLOR_GRID)\r\n        .attr(\"stroke-dasharray\", \"6, 3\")\r\n    let detailValueCircle = detailValue.append(\"circle\")\r\n        .attr(\"r\", 3)\r\n        .attr(\"fill\", \"#FFFFFF\")\r\n        .attr(\"stroke-width\", \"2\")\r\n        .style(\"box-shadow\", \"0 0 5px #888888\")\r\n        .on(\"mouseover\", function (d) {\r\n            // FIXME: This is a nit\r\n            // Even mouse is not on the path, the tooltip will still be shown \r\n            // but the error area is small\r\n            detailValueTooltip.transition()\r\n                .duration(200)\r\n                .style(\"opacity\", .9)\r\n            detailValue.transition()\r\n                .duration(200)\r\n                .style(\"opacity\", 1)\r\n        }).on(\"mouseout\", function (d) {\r\n            // If the mouse is exactly on the data point, \r\n            // then the mouse will on the circle instead of the path\r\n            // So here we should hide all the tooltip when moving mouse out of the circle\r\n            detailValueTooltip.transition()\r\n                .duration(500)\r\n                .style(\"opacity\", 0)\r\n            detailValue.transition()\r\n                .duration(500)\r\n                .style(\"opacity\", 0)\r\n        })\r\n}\r\nexport default UnivariateDistribution;","export var tooltipContainerId=\"#whole-container\"","import * as d3 from \"d3\";\nimport Chart from \"../../chart\";\nimport { tooltipContainerId } from \"../constant/getContainer\";\nimport { getPosition } from \"../constant/getPosition\";\nimport { parseTime, formatTick, formatTicksCount } from '../constant/timeConstant'\nconst ENGFONT = \"OPPOSans\";\nconst COLOR_REGULAR = \"#6C8EF2\";\nconst COLOR_FREQUENT = \"#FFC111\";\nconst COLOR_GRID = \"#E6E6E6\";\nconst COLOR_AXIS = \"#000000\";\nconst TICK_WIDTH = 2;\n\nclass Trend extends Chart {\n    constructor() {\n        super();\n        this._x = \"\";\n        this._y = \"\";\n    }\n    display() {\n        /**\n        * The main drawing function\n        */\n        //---------------parse fact-------------------------\n        let factResult = this.parseFact()\n        let data = factResult._data\n        let measure = factResult._measure\n        let breakdown = factResult._breakdown\n        let focus = factResult._focus\n        let measureName = factResult._measureName\n        if (focus.length === 0) return\n        if (breakdown[1] && breakdown[1].field) return;\n\n        //---------------init chart size--------------------\n        let chartResult = this.setChartStandard()\n        let chartSize = chartResult._chartSize\n        let width = chartResult._width\n        let height = chartResult._height\n        let margin = chartResult._margin\n\n        //------------------init---------------------------\n        let containerSelector = tooltipContainerId\n        //init svg\n        let svg = this.initSvg(chartSize, margin)\n        //init layer\n        let lineLayer = svg.append(\"g\").attr(\"class\", \"lineLayer\")\n        let tooltipLayer = svg.append(\"g\").attr(\"class\", \"tooltip\");\n\n        /**\n         * Draw the X axis\n         */\n        // set the ranges\n        let x = d3.scaleTime()\n            .range([0, width])\n        // Scale the range of the data in the domains\n        x.domain(d3.extent(data, function (d) { return parseTime(d[breakdown[0].field]); }));\n        // add the x Axis\n        let format_TicksCount = formatTicksCount(data[0][breakdown[0].field]);\n        let tick_format = formatTick(data[0][breakdown[0].field]);\n        let axisX = d3.axisBottom(x).tickFormat(tick_format)\n        if (format_TicksCount === d3.timeYear) {\n            axisX.ticks(format_TicksCount)\n        }\n        //------------------draw y axis-------------------\n        let y = this.drawYAxis(svg, data, measure, chartSize, height)\n\n        //------------------draw original line------------\n        let originLineResult = this.drawBackLine(x, y, data, lineLayer, breakdown, measureName, chartSize)\n        let rawPath = originLineResult._rawPath\n        let lineGen = originLineResult._lineGen\n\n        //------------------draw trend--------------------\n        this.drawTrend(x, y, svg, data, breakdown, measure, focus, measureName, height, lineLayer, tooltipLayer, axisX, lineGen)\n        //-------------------tooltip----------------------\n        if (this._showTooltip) {\n            renderDetailValue(containerSelector, rawPath, x, y, height, data, breakdown, measureName, tick_format, tooltipLayer)\n        }\n\n\n        svg.append(\"g\")\n            .attr(\"class\", \"xAxis\")\n            .attr(\"transform\", \"translate(0,\" + (height - 20) + \")\")\n            .call(axisX)\n            .call(g => {\n                g.attr(\"font-size\", \"10px\");\n                g.attr(\"font-family\", ENGFONT);\n                g.attr(\"font-weight\", \"lighter\")\n\n                let domainD = g.selectAll(\".domain\").attr(\"d\");\n                domainD = domainD.replace(\"6V\", (6 * chartSize.height / 320) + \"V\")\n                domainD = domainD.replace(\"V6\", \"V\" + (6 * chartSize.height / 320))\n                g.selectAll(\".domain\").attr(\"d\", domainD).attr(\"stroke-width\", TICK_WIDTH);\n                g.selectAll(\".tick\")\n                    .selectAll(\"line\")\n                    .attr(\"stroke\", COLOR_AXIS)\n                    .attr(\"stroke-width\", TICK_WIDTH)\n                    .attr(\"y2\", 5);\n\n                g.selectAll(\"text\")\n                    .attr(\"y\", 10)\n                // .attr(\"transform\", \"rotate(-20)\")\n                // .attr(\"style\", \"text-anchor: end\")\n            });\n        return svg;\n    }\n    parseFact() {\n        /**\n         * Parse fact json\n         * return:The contents of each field in fact\n         */\n        let factData = this.factdata()\n        let measure = this.measure();\n        let breakdown = this.breakdown();\n        let focus = this.focus();\n        // set data\n        factData = factData.sort((a, b) => parseTime(a[breakdown[0].field]) - parseTime(b[breakdown[0].field]))\n        let data = factData;\n        let measureName = measure[0].aggregate === \"count\" ? \"COUNT\" : measure[0].field\n        return { _data: data, _measure: measure, _breakdown: breakdown, _focus: focus, _measureName: measureName }\n    }\n    setChartStandard() {\n        /** \n         * calculate size of the chart\n         * return chart size parameters\n         */\n        // set the dimensions and margins of the graph\n\n        let chartSize = { width: 600, height: 280 }\n        // eslint-disable-next-line\n        let margin = {\n            \"top\": 15,\n            \"right\": 20,\n            \"bottom\": 15,\n            \"left\": 20\n        };\n        let width = chartSize.width - margin.left - margin.right,\n            height = chartSize.height - margin.top - margin.bottom;\n        return { _width: width, _height: height, _chartSize: chartSize, _margin: margin }\n    }\n    initSvg(chartSize, margin) {\n        /**\n         * Initialize SVG based on the drawing area size\n         * return :svg \n         */\n        let svg = d3.select(this.container())\n            .append(\"svg\")\n            .attr(\"width\", chartSize.width)\n            .attr(\"height\", chartSize.height)\n            .append(\"g\")\n            .attr(\"transform\", \"translate(\" + (margin.left + 10) + \",\" + margin.top + \")\")\n            .attr(\"font-family\", ENGFONT);\n        return svg\n    }\n    drawYAxis(svg, data, measure, chartSize, height) {\n        /**\n         * Draw the Y axis\n         */\n        // .padding(0.1);\n        let y = d3.scaleLinear()\n            .range([height - 20, 0]);\n\n\n        y.domain(d3.extent([].concat(\n            // lower boundary minus margin\n            data.map(function (d) { return d[measure[0].field] * 0.95 }),\n            // upper boundary add margin\n            data.map(function (d) { return d[measure[0].field] * 1.05 })\n        )));\n        // add the y Axis\n        svg.append(\"g\")\n            .attr(\"class\", \"yAxis\")\n            // .attr(\"transform\", `translate(,0)`)\n            .call(d3.axisLeft(y).ticks(5).tickFormat(function (d) {\n                if ((d / 1000000) >= 1) {\n                    d = d / 1000000 + \"M\";\n                } else if ((d / 1000) >= 1) {\n                    d = d / 1000 + \"K\";\n                }\n                return d;\n            }))\n            .call(g => {\n                g.attr(\"font-size\", \"10px\")\n                g.attr(\"font-weight\", \"lighter\")\n                g.attr(\"font-family\", ENGFONT)\n                let domainD = g.selectAll(\".domain\").attr(\"d\");\n                domainD = domainD.replace(\"M-6\", \"M-\" + (6 * chartSize.width / 640))\n                domainD = domainD.replace(\"H-6\", \"H-\" + (6 * chartSize.width / 640))\n                g.selectAll(\".domain\").attr(\"d\", domainD).attr(\"stroke-width\", TICK_WIDTH);\n                g.selectAll(\".tick\")\n                    .select(\"line\")\n                    .attr(\"stroke\", COLOR_AXIS)\n                    .attr(\"stroke-width\", TICK_WIDTH)\n                    .attr(\"x2\", -5);\n\n                g.selectAll(\"text\")\n                    .attr(\"x\", -10);\n            })\n        return y\n    }\n    drawBackLine(x, y, data, lineLayer, breakdown, measureName, chartSize) {\n        /**\n         * draw series line and back grid\n         */\n        lineLayer.append(\"g\").selectAll(\"line.line\")\n            .data(y.ticks(5)).enter().append(\"line\")\n            .attr(\"x1\", 0)\n            .attr(\"x2\", chartSize.width)\n            .attr(\"y1\", function (d) { return y(d) })\n            .attr(\"y2\", function (d) { return y(d) })\n            .attr(\"stroke\", COLOR_GRID)\n            .attr(\"stroke-width\", \"2px\")\n        let lineGen = d3.line().curve(d3.curveMonotoneX)\n            .x(function (d) {\n                return x(parseTime(d[breakdown[0].field]));\n            })\n            .y(function (d) {\n                return y(d[measureName]);\n            })\n        let rawPath = lineLayer.append(\"path\")\n            .attr(\"d\", lineGen(data))\n            .attr(\"stroke\", COLOR_REGULAR)\n            .attr(\"stroke-width\", \"5px\")\n            .attr(\"fill\", \"none\")\n        return { _rawPath: rawPath, _lineGen: lineGen }\n    }\n    drawTrend(x, y, svg, data, breakdown, measure, focus, measureName, height, lineLayer, tooltipLayer, axisX, lineGen) {\n        /**\n         * draw trend insight\n         */\n        let tickValues = [];\n        for (let pattern of focus) {\n            let start = pattern.scope[0]\n            let end = pattern.scope[1]\n            let scale = pattern.value\n            let xLeft = x(parseTime(data[start][breakdown[0].field]));\n            let xRight = x(parseTime(data[end][breakdown[0].field]));\n            let yTop = y(data[end - 1][measureName])\n\n            tooltipLayer.append(\"line\")\n                .attr(\"x1\", xLeft)\n                .attr(\"y1\", y(data[start][measureName]))\n                .attr(\"x2\", xLeft)\n                .attr(\"y2\", height - 20)\n                .attr(\"stroke-width\", \"1px\")\n                .attr(\"stroke\", \"black\")\n                .attr(\"stroke-dasharray\", \"6, 3\");\n            tooltipLayer.append(\"line\")\n                .attr(\"x1\", xRight)\n                .attr(\"y1\", y(data[end][measureName]))\n                .attr(\"x2\", xRight)\n                .attr(\"y2\", height - 20)\n                .attr(\"stroke-width\", \"1px\")\n                .attr(\"stroke\", \"black\")\n                .attr(\"stroke-dasharray\", \"6, 3\");\n            let regressionData = []\n\n            for (let j = start, i = 0; j < end + 1; j++, i++) {\n                let tmp = {}\n                tmp[breakdown[0].field] = data[j][breakdown[0].field]\n                tmp[measure[0].field] = focus[0][\"regression\"][i]\n                regressionData.push(tmp)\n            }\n            lineLayer.append(\"path\")\n                .attr(\"d\", lineGen(regressionData))\n                .attr(\"stroke-width\", \"2px\")\n                .attr(\"stroke\", \"black\")\n                .attr(\"stroke-dasharray\", \"6, 3\")\n                .attr(\"fill\", \"none\")\n\n            let tooltip = tooltipLayer.append(\"text\")\n                .attr(\"font-size\", \"10px\")\n                .attr(\"font-family\", ENGFONT)\n                .attr(\"font-weight\", \"bold\")\n                .attr(\"fill\", COLOR_FREQUENT)\n            let increasing = regressionData[0][measureName] < regressionData[regressionData.length - 1][measureName]\n            tooltip.append(\"tspan\")\n                .text((increasing ? \"increasing \" + (scale * 100).toFixed(2) : \"descreasing \" + (scale * 100).toFixed(2)) + \"%\")\n                .attr(\"dy\", tooltip.selectAll(\"tspan\").node().getBBox().height * 0.9);\n            let textWidth = tooltip.node().getBBox().width;\n            let textHeight = tooltip.node().getBBox().height;\n            tooltip.attr(\"width\", textWidth)\n                .attr(\"height\", textHeight)\n                .attr(\"x\", xRight - textWidth - 10)\n                .attr(\"y\", yTop - textHeight - 80 + (increasing ? -5 : 15))\n            let arrowImage = increasing ? \"./arrow-up.png\" : \"./arrow-down.png\"\n            svg.append(\"image\")\n                .attr(\"xlink:href\", arrowImage)\n                .attr(\"width\", \"70px\")\n                .attr(\"height\", \"20px\")\n                .attr(\"x\", xRight - 40)\n                .attr(\"y\", yTop - textHeight - 80)\n\n            tickValues.push(parseTime(data[start][breakdown[0].field]))\n            tickValues.push(parseTime(data[end][breakdown[0].field]))\n        }\n        axisX.tickValues(tickValues)\n    }\n\n}\n\nlet renderDetailValue = (containerSelector, rawPath, x, y, height,\n    data, breakdown, measureName, tick_format, tooltipLayer) => {\n    let detailValueTooltip = d3.select(containerSelector)\n        .append(\"div\")\n        .attr(\"id\", \"value-tooltip\")\n        .style(\"z-index\", 2000)\n        .style(\"width\", \"fit-content\")\n        .style(\"height\", \"40px\")\n        .style(\"opacity\", 0)\n        .style(\"position\", \"absolute\")\n        .style(\"pointer-events\", \"none\")\n        .style(\"border-radius\", \"4px\")\n        .style(\"background\", \"#FFFFFF\")\n        .style(\"box-shadow\", \"0 0 5px #888888\")\n        .style(\"padding\", \"5px\")\n\n    let detailValueTitle = detailValueTooltip.append(\"span\")\n        .style(\"font\", `9px ${ENGFONT}`)\n        .style(\"font-weight\", \"bold\")\n        .style(\"display\", \"block\")\n        .style(\"color\", \"#000000\")\n    let detailValueContent = detailValueTooltip.append(\"svg\")\n        .attr(\"width\", \"95px\")\n        .attr(\"height\", \"30px\")\n    let detailValueColor = detailValueContent.append(\"circle\")\n        .attr(\"r\", 4)\n        .attr(\"cx\", \"5px\")\n        .attr(\"cy\", \"12px\")\n    let detailValueText = detailValueContent.append(\"text\")\n        .style(\"font\", `8px ${ENGFONT}`)\n        .style(\"color\", \"#000000\")\n        .attr(\"x\", \"14px\")\n        .attr(\"y\", \"14px\")\n\n    rawPath.on(\"mouseover\", function (d) {\n        detailValueTooltip.transition()\n            .duration(200)\n            .style(\"opacity\", .9)\n        detailValue.transition()\n            .duration(200)\n            .style(\"opacity\", 1)\n    })\n        .on(\"mouseout\", function (d) {\n            // If the mouse is exactly on the data point, \n            // then the mouse will on the circle instead of the path\n            // So here we should keep the tooltip shown when the mouse is still on the circle\n            let currentElement = document.elementFromPoint(d3.event.pageX, d3.event.pageY)\n            if (currentElement !== detailValueCircle.node()) {\n                detailValueTooltip.transition()\n                    .duration(500)\n                    .style(\"opacity\", 0)\n                detailValue.transition()\n                    .duration(500)\n                    .style(\"opacity\", 0)\n            }\n        })\n        .on(\"mousemove\", function (d) {\n            let result = getPosition()\n            let x0 = x.invert(d3.mouse(this)[0])\n            let currentIndex = bisectDate(data, x0, 1)\n            let time0 = parseTime(data[currentIndex - 1][breakdown[0].field])\n            let time1 = parseTime(data[currentIndex][breakdown[0].field])\n            let currentTime = x0 - time0 > time1 - x0 ? time1 : time0\n            let currentValue = currentTime === time0 ? data[currentIndex - 1][measureName] : data[currentIndex][measureName]\n            let title = tick_format(currentTime)\n            detailValueTooltip.style(\"left\", (result.posX + 30) + \"px\")\n                .style(\"top\", (result.posY + 20) + \"px\")\n            detailValueTitle.html(title)\n            detailValueColor.style(\"fill\", COLOR_REGULAR)\n            detailValueText.html(measureName + \": \" + currentValue.toFixed(2))\n            detailValueLine.attr(\"x1\", x(currentTime))\n            detailValueLine.attr(\"x2\", x(currentTime))\n            detailValueCircle.attr(\"cx\", x(currentTime))\n            detailValueCircle.attr(\"cy\", y(currentValue))\n            detailValueCircle.attr(\"stroke\", COLOR_REGULAR)\n        })\n\n    let bisectDate = d3.bisector(function (d) { return parseTime(d[breakdown[0].field]) }).left\n    let detailValue = tooltipLayer.append(\"g\")\n        .style(\"opacity\", 0)\n    let detailValueLine = detailValue.append(\"line\")\n        .attr(\"y1\", height - 20)\n        .attr(\"y2\", 0)\n        .attr(\"stroke-width\", \"2px\")\n        .attr(\"stroke\", COLOR_GRID)\n        .attr(\"stroke-dasharray\", \"6, 3\")\n    let detailValueCircle = detailValue.append(\"circle\")\n        .attr(\"r\", 3)\n        .attr(\"fill\", \"#FFFFFF\")\n        .attr(\"stroke-width\", \"2\")\n        .style(\"box-shadow\", \"0 0 5px #888888\")\n        .on(\"mouseover\", function (d) {\n            // FIXME: This is a nit\n            // Even mouse is not on the path, the tooltip will still be shown \n            // but the error area is small\n            detailValueTooltip.transition()\n                .duration(200)\n                .style(\"opacity\", .9)\n            detailValue.transition()\n                .duration(200)\n                .style(\"opacity\", 1)\n        }).on(\"mouseout\", function (d) {\n            // If the mouse is exactly on the data point, \n            // then the mouse will on the circle instead of the path\n            // So here we should hide all the tooltip when moving mouse out of the circle\n            detailValueTooltip.transition()\n                .duration(500)\n                .style(\"opacity\", 0)\n            detailValue.transition()\n                .duration(500)\n                .style(\"opacity\", 0)\n        })\n}\nexport default Trend;","export function uuid() {\r\n    var s = [];\r\n    var hexDigits = \"0123456789abcdef\";\r\n    for (var i = 0; i < 36; i++) {\r\n        s[i] = hexDigits.substr(Math.floor(Math.random() * 0x10), 1);\r\n    }\r\n    s[14] = \"4\"; // bits 12-15 of the time_hi_and_version field to 0010\r\n    s[19] = hexDigits.substr((s[19] & 0x3) | 0x8, 1); // bits 6-7 of the clock_seq_hi_and_reserved to 01\r\n    s[8] = s[13] = s[18] = s[23] = \"-\";\r\n\r\n    var uuid = s.join(\"\");\r\n    return uuid;\r\n}","import * as d3 from \"d3\";\nimport Chart from \"../../chart\";\nimport { uuid } from \"../constant/uuid\";\nimport { parseTime, formatTick, formatTicksCount, parseIntervalString } from '../constant/timeConstant'\nimport { tooltipContainerId } from \"../constant/getContainer\";\n\nconst ENGFONT = \"OPPOSans\";\nconst COLOR_REGULAR = \"#808080\";\nconst COLOR_SEASONAL = \"#6C8EF2\";\nconst COLOR_GRID = \"#E6E6E6\";\nconst COLOR_AXIS = \"#000000\";\nconst COLOR_TOOLTIP_DARK = \"#3E3A39\";\nconst COLOR_TOOLTIP_LIGHT = \"#FCFBE7\"\nconst NUM_TOOLTIP_DISPLAY_LEFT_PERIOD = 2\nconst NUM_TOOLTIP_DISPLAY_RIGHT_PERIOD = 3\nconst TICK_WIDTH = 2;\n\nclass Seasonality extends Chart {\n    constructor() {\n        super();\n        this._x = \"\";\n        this._y = \"\";\n    }\n    display() {\n        /**\n        * The main drawing function\n        */\n        //---------------parse fact-------------------------\n        let factResult = this.parseFact()\n        let data = factResult._data\n        let measure = factResult._measure\n        let breakdown = factResult._breakdown\n        let focus = factResult._focus\n        let measureName = factResult._measureName\n        if (focus.length === 0) return\n        if (breakdown[1] && breakdown[1].field) return;\n\n        //---------------init chart size--------------------\n        let chartResult = this.setChartStandard()\n        let chartSize = chartResult._chartSize\n        let width = chartResult._width\n        let height = chartResult._height\n        let margin = chartResult._margin\n\n        let startIndex = data.length\n        let endIndex = 0\n        for (let seasonality of focus) {\n            let interval = seasonality.interval\n            for (let i = 0; i < seasonality.seasonal.length; i++) {\n                startIndex = Math.max(0, Math.min(startIndex, seasonality.seasonal[i].start - Math.floor(interval / 2)))\n                endIndex = Math.min(data.length, Math.max(endIndex, seasonality.seasonal[i].end + Math.floor(interval / 2)))\n            }\n        }\n        data = data.slice(startIndex, endIndex)\n\n        //------------------init---------------------------\n        let containerSelector = tooltipContainerId\n        //init svg\n        let svg = this.initSvg(chartSize, margin)\n        //init layer\n        let lineLayer = svg.append(\"g\").attr(\"class\", \"lineLayer\")\n        let tooltipLayer = svg.append(\"g\").attr(\"class\", \"tooltip\");\n\n        //------------------draw x axis-------------------\n        let xAxisResult = this.drawXAxis(svg, data, breakdown, width, height, chartSize)\n        let x = xAxisResult._x\n        let axisX = xAxisResult._axisX\n        let tick_format = xAxisResult._tick_format\n        //------------------draw y axis-------------------\n        let y = this.drawYAxis(svg, data, measure, chartSize, height)\n\n        //------------------draw original line------------\n        let originLineResult = this.drawBackLine(x, y, data, lineLayer, breakdown, measureName, chartSize)\n        let rawPath = originLineResult._rawPath\n        let lineGen = originLineResult._lineGen\n\n        //-----------------draw seasonality insight---------\n        let tooltipPathList = this.drawSeasonality(x, data, breakdown, focus, height, tooltipLayer, axisX, lineGen, startIndex)\n        if (this._showTooltip) {\n            renderDetailValue(containerSelector, rawPath, x, y, height, data, breakdown, measureName, tick_format, tooltipLayer)\n            renderTooltip(containerSelector, tick_format, data, breakdown, tooltipPathList, focus[0], x, measureName)\n        }\n        return svg;\n    }\n    parseFact() {\n        /**\n         * Parse fact json\n         * return:The contents of each field in fact\n         */\n        let factData = this.factdata()\n        let measure = this.measure();\n        let breakdown = this.breakdown();\n        let focus = this.focus();\n        // set data\n        factData = factData.sort((a, b) => parseTime(a[breakdown[0].field]) - parseTime(b[breakdown[0].field]))\n        let data = factData;\n        let measureName = measure[0].aggregate === \"count\" ? \"COUNT\" : measure[0].field\n        return { _data: data, _measure: measure, _breakdown: breakdown, _focus: focus, _measureName: measureName }\n    }\n    setChartStandard() {\n        /** \n         * calculate size of the chart\n         * return chart size parameters\n         */\n        // set the dimensions and margins of the graph\n        let chartSize = { width: 600, height: 280 }\n        // eslint-disable-next-line\n        let margin = {\n            \"top\": 15,\n            \"right\": 20,\n            \"bottom\": 15,\n            \"left\": 20\n        };\n        let width = chartSize.width - margin.left - margin.right,\n            height = chartSize.height - margin.top - margin.bottom;\n        return { _width: width, _height: height, _chartSize: chartSize, _margin: margin }\n    }\n    initSvg(chartSize, margin) {\n        /**\n         * Initialize SVG based on the drawing area size\n         * return :svg \n         */\n        let svg = d3.select(this.container())\n            .append(\"svg\")\n            .attr(\"width\", chartSize.width)\n            .attr(\"height\", chartSize.height)\n            .append(\"g\")\n            .attr(\"transform\", \"translate(\" + (margin.left + 10) + \",\" + margin.top + \")\")\n            .attr(\"font-family\", ENGFONT);\n        return svg\n    }\n    drawXAxis(svg, data, breakdown, width, height, chartSize) {\n        /**\n         * Draw the X axis\n         */\n        // set the ranges\n        let x = d3.scaleTime()\n            .range([0, width])\n        // Scale the range of the data in the domains\n        x.domain(d3.extent(data, function (d) { return parseTime(d[breakdown[0].field]); }));\n        // add the x Axis\n        let format_TicksCount = formatTicksCount(data[0][breakdown[0].field]);\n        let tick_format = formatTick(data[0][breakdown[0].field]);\n        let axisX = d3.axisBottom(x).tickFormat(tick_format)\n        if (format_TicksCount === d3.timeYear) {\n            axisX.ticks(format_TicksCount)\n        }\n        svg.append(\"g\")\n            .attr(\"class\", \"xAxis\")\n            .attr(\"transform\", \"translate(0,\" + (height - 20) + \")\")\n            .call(axisX)\n            .call(g => {\n                g.attr(\"font-size\", \"10px\");\n                g.attr(\"font-family\", ENGFONT);\n                g.attr(\"font-weight\", \"lighter\")\n\n                let domainD = g.selectAll(\".domain\").attr(\"d\");\n                domainD = domainD.replace(\"6V\", (6 * chartSize.height / 320) + \"V\")\n                domainD = domainD.replace(\"V6\", \"V\" + (6 * chartSize.height / 320))\n                g.selectAll(\".domain\").attr(\"d\", domainD).attr(\"stroke-width\", TICK_WIDTH);\n                g.selectAll(\".tick\")\n                    .selectAll(\"line\")\n                    .attr(\"stroke\", COLOR_AXIS)\n                    .attr(\"stroke-width\", TICK_WIDTH)\n                    .attr(\"y2\", 5);\n\n                g.selectAll(\"text\")\n                    .attr(\"y\", 10)\n                // .attr(\"transform\", \"rotate(-20)\")\n                // .attr(\"style\", \"text-anchor: end\")\n            });\n        return { _x: x, _axisX: axisX, _tick_format: tick_format }\n    }\n    drawYAxis(svg, data, measure, chartSize, height) {\n        /**\n         * Draw the Y axis\n         */\n        // .padding(0.1);\n        let y = d3.scaleLinear()\n            .range([height - 20, 0]);\n        y.domain(extendYAxis(data, measure[0].field))\n        // add the y Axis\n        svg.append(\"g\")\n            .attr(\"class\", \"yAxis\")\n            // .attr(\"transform\", `translate(,0)`)\n            .call(d3.axisLeft(y).ticks(5).tickFormat(function (d) {\n                if ((d / 1000000) >= 1) {\n                    d = d / 1000000 + \"M\";\n                } else if ((d / 1000) >= 1) {\n                    d = d / 1000 + \"K\";\n                }\n                return d;\n            }))\n            .call(g => {\n                g.attr(\"font-size\", \"10px\")\n                g.attr(\"font-weight\", \"lighter\")\n                g.attr(\"font-family\", ENGFONT)\n                let domainD = g.selectAll(\".domain\").attr(\"d\");\n                domainD = domainD.replace(\"M-6\", \"M-\" + (6 * chartSize.width / 640))\n                domainD = domainD.replace(\"H-6\", \"H-\" + (6 * chartSize.width / 640))\n                g.selectAll(\".domain\").attr(\"d\", domainD).attr(\"stroke-width\", TICK_WIDTH);\n                g.selectAll(\".tick\")\n                    .select(\"line\")\n                    .attr(\"stroke\", COLOR_AXIS)\n                    .attr(\"stroke-width\", TICK_WIDTH)\n                    .attr(\"x2\", -5);\n\n                g.selectAll(\"text\")\n                    .attr(\"x\", -10);\n            })\n        return y\n    }\n    drawBackLine(x, y, data, lineLayer, breakdown, measureName, chartSize) {\n        /**\n         * draw series line and back grid\n         */\n        lineLayer.append(\"g\").selectAll(\"line.line\")\n            .data(y.ticks(5)).enter().append(\"line\")\n            .attr(\"x1\", 0)\n            .attr(\"x2\", chartSize.width)\n            .attr(\"y1\", function (d) { return y(d) })\n            .attr(\"y2\", function (d) { return y(d) })\n            .attr(\"stroke\", COLOR_GRID)\n            .attr(\"stroke-width\", \"2px\")\n\n        let lineGen = d3.line().curve(d3.curveMonotoneX)\n            .x(function (d) {\n                return x(parseTime(d[breakdown[0].field]));\n            })\n            .y(function (d) {\n                return y(d[measureName]);\n            })\n        let rawPath = lineLayer.append(\"path\")\n            .attr(\"d\", lineGen(data))\n            .attr(\"stroke\", COLOR_REGULAR)\n            .attr(\"stroke-width\", \"5px\")\n            .attr(\"fill\", \"none\")\n        return { _rawPath: rawPath, _lineGen: lineGen }\n    }\n    drawSeasonality(x, data, breakdown, focus, height, tooltipLayer, axisX, lineGen, startIndex) {\n        /**\n         * draw Seasonality insight\n         */\n        let tooltipPathList = []\n        let tickValues = []\n        for (let seasonality of focus) {\n            for (let i = 0; i < seasonality.seasonal.length; i++) {\n                let tooltipPeriod = seasonality.seasonal[i]\n                let tooltipPeriodStart = tooltipPeriod.start - startIndex\n                let tooltipPeriodEnd = tooltipPeriod.end - startIndex\n                if (i === 0 && tooltipPeriodStart > 0) {\n                    let xPos = x(parseTime(data[tooltipPeriodStart][breakdown[0].field]))\n                    tooltipLayer.append(\"line\")\n                        .attr(\"x1\", xPos)\n                        .attr(\"y1\", 0)\n                        .attr(\"x2\", xPos)\n                        .attr(\"y2\", height - 20)\n                        .attr(\"stroke-width\", \"1px\")\n                        .attr(\"stroke\", \"black\")\n                        .attr(\"stroke-dasharray\", \"6, 3\")\n                    tickValues.push(parseTime(data[tooltipPeriodStart][breakdown[0].field]))\n                }\n                if (i < seasonality.seasonal.length - 1 || tooltipPeriodEnd < data.length - 1) {\n                    let xPos = x(parseTime(data[tooltipPeriodEnd][breakdown[0].field]))\n                    tooltipLayer.append(\"line\")\n                        .attr(\"x1\", xPos)\n                        .attr(\"y1\", 0)\n                        .attr(\"x2\", xPos)\n                        .attr(\"y2\", height - 20)\n                        .attr(\"stroke-width\", \"1px\")\n                        .attr(\"stroke\", \"black\")\n                        .attr(\"stroke-dasharray\", \"6, 3\")\n                    tickValues.push(parseTime(data[tooltipPeriodEnd][breakdown[0].field]))\n                }\n                if (tooltipPeriod.seasonal) {\n                    tooltipPathList.push(\n                        tooltipLayer.append(\"path\")\n                            .attr(\"d\", lineGen(data.slice(tooltipPeriodStart, tooltipPeriodEnd + 1)))\n                            .attr(\"stroke\", COLOR_SEASONAL)\n                            .attr(\"stroke-width\", \"5px\")\n                            .attr(\"fill\", \"none\"))\n                }\n            }\n        }\n        axisX.tickValues(tickValues)\n        return tooltipPathList\n    }\n\n}\n\nlet renderTooltip = (containerSelector, tick_format, data, breakdown,\n    tooltipPathList, pattern, x, measureName) => {\n    let tooltipId = uuid()\n    let bisectDate = d3.bisector(function (d) { return parseTime(d[breakdown[0].field]) }).left\n    let hoverTooltip = d3.select(containerSelector)\n        .append(\"div\")\n        .attr(\"id\", \"hover-tooltip\")\n        .style(\"z-index\", 2000)\n        .style(\"width\", \"200px\")\n        .style(\"height\", \"115px\")\n        .style(\"opacity\", 0)\n        .style(\"position\", \"absolute\")\n        .style(\"pointer-events\", \"none\")\n        .style(\"padding-left\", \"10px\")\n    let hoverTooltipTitle = hoverTooltip.append(\"div\")\n        .style(\"display\", \"flex\")\n        .style(\"align-items\", \"center\")\n        .style(\"height\", \"15px\")\n        .style(\"width\", \"190px\")\n        .style(\"border\", `2px solid ${COLOR_TOOLTIP_DARK}`)\n        .style(\"border-radius\", \"4px 4px 0px 0px\")\n        .style(\"padding-left\", \"5px\")\n        .style(\"padding-right\", \"5px\")\n        .style(\"background\", COLOR_TOOLTIP_DARK)\n        .style(\"font\", `7px ${ENGFONT}`)\n        .style(\"font-weight\", \"bold\")\n        .style(\"color\", COLOR_TOOLTIP_LIGHT)\n        .style(\"text-overflow\", \"ellipsis\")\n        .style(\"overflow\", \"hidden\")\n        .style(\"white-space\", \"nowrap\")\n    let hoverTooltipContent = hoverTooltip.append(\"div\")\n        .style(\"width\", \"200px\")\n        .style(\"height\", \"100px\")\n        .style(\"border\", `2px solid ${COLOR_TOOLTIP_DARK}`)\n        .style(\"border-radius\", \"0px 4px 4px 4px\")\n        .style(\"background\", COLOR_TOOLTIP_LIGHT)\n    hoverTooltipContent.append(\"span\")\n        .style(\"position\", \"absolute\")\n        .style(\"left\", \"-10px\")\n        .style(\"top\", \"60px\")\n        .style(\"border-width\", \"10px\")\n        .style(\"border-style\", \"dashed solid dashed dashed\")\n        .style(\"border-color\", `transparent ${COLOR_TOOLTIP_DARK} transparent transparent`)\n        .style(\"font-size\", 0)\n        .style(\"line-height\", 0)\n    hoverTooltipContent.append(\"em\")\n        .style(\"position\", \"absolute\")\n        .style(\"left\", \"-4px\")\n        .style(\"top\", \"62px\")\n        .style(\"border-width\", \"8px\")\n        .style(\"border-style\", \"dashed solid dashed dashed\")\n        .style(\"border-color\", `transparent ${COLOR_TOOLTIP_LIGHT} transparent transparent`)\n        .style(\"font-size\", 0)\n        .style(\"line-height\", 0)\n    hoverTooltipContent.append(\"div\")\n        .attr(\"id\", \"tooltip-chart\" + tooltipId)\n\n    let tooltipX = d3.scaleLinear()\n        .range([10, 190])\n    let tooltipY = d3.scaleLinear()\n        .range([90, 10])\n    let tooltipLenGen = d3.line().curve(d3.curveMonotoneX)\n        .x(function (d) {\n            return tooltipX(d.x);\n        })\n        .y(function (d) {\n            return tooltipY(d.y);\n        })\n    let tooltipAvgY = d3.scaleLinear()\n        .range([90, 10])\n    tooltipAvgY.domain(extendYAxis(pattern.average))\n    let tooltipAvgLenGen = d3.line().curve(d3.curveMonotoneX)\n        .x(function (d) {\n            return tooltipX(d.x);\n        })\n        .y(function (d) {\n            return tooltipAvgY(d.y);\n        })\n    let intervalString = parseIntervalString(parseTime(data[pattern.interval][breakdown[0].field]) - parseTime(data[0][breakdown[0].field]))\n\n    for (let i = 0; i < tooltipPathList.length; i++) {\n        let tooltipPath = tooltipPathList[i]\n        tooltipPath\n            .on(\"mouseover\", function (d) {\n                hoverTooltip.transition()\n                    .duration(200)\n                    .style(\"opacity\", .9)\n            })\n            .on(\"mouseout\", function (d) {\n                hoverTooltip.transition()\n                    .duration(500)\n                    .style(\"opacity\", 0)\n            })\n            // eslint-disable-next-line\n            .on(\"mousemove\", function (d) {\n                let result = { posX: d3.mouse(this)[0], posY: d3.mouse(this)[1] }\n                let x0 = x.invert(d3.mouse(this)[0])\n                let currentIndex = bisectDate(data, x0, 1)\n                let periodLeft = Math.floor(currentIndex / pattern.interval) * pattern.interval\n                let periodRight = periodLeft + pattern.interval - 1\n                let title = tick_format(parseTime(data[periodLeft][breakdown[0].field])) + \"-\" +\n                    tick_format(parseTime(data[periodRight][breakdown[0].field]))\n                hoverTooltip.style(\"left\", (result.posX + 30) + \"px\")\n                    .style(\"top\", (result.posY - 50) + \"px\")\n                // no need to render chart\n                let previousSvg = d3.select(\"#tooltip-chart\" + tooltipId).node().getElementsByTagName(\"svg\")[0]\n                if (previousSvg && previousSvg.getAttribute(\"class\") === title) {\n                    return\n                }\n\n                // render chart\n                hoverTooltipTitle.html(title)\n                d3.select(\"#tooltip-chart\" + tooltipId).selectAll(\"*\").remove()\n\n                let currentPeriod = Math.floor(currentIndex / pattern.interval)\n                let tooltipData = []\n                let dataLeft = currentPeriod <= NUM_TOOLTIP_DISPLAY_LEFT_PERIOD ? 0 : periodLeft - NUM_TOOLTIP_DISPLAY_LEFT_PERIOD * pattern.interval\n                let dataRight = currentPeriod + NUM_TOOLTIP_DISPLAY_RIGHT_PERIOD + 1 >= data.length / pattern.interval ? data.length : periodRight + NUM_TOOLTIP_DISPLAY_RIGHT_PERIOD * pattern.interval\n                for (let i = dataLeft; i < dataRight; i++) {\n                    tooltipData.push({ x: i - dataLeft, y: data[i][measureName] })\n                }\n                tooltipX.domain([0, dataRight - dataLeft + 1])\n                tooltipY.domain(extendYAxis(tooltipData, \"y\"))\n                let tooltipLayer = d3.select(\"#tooltip-chart\" + tooltipId)\n                    .append(\"svg\")\n                    .attr(\"class\", title)\n                    .attr(\"width\", \"200\")\n                    .attr(\"height\", \"100\")\n                    .append(\"g\")\n                tooltipLayer.append(\"rect\")\n                    .style(\"width\", tooltipX(periodRight - dataLeft) - tooltipX(periodLeft - dataLeft))\n                    .style(\"height\", \"70px\")\n                    .style(\"fill\", \"#ffffff\")\n                    .style(\"x\", tooltipX(periodLeft - dataLeft))\n                    .style(\"y\", \"20px\")\n                for (let i = 0; i <= (dataRight - dataLeft) / pattern.interval; i++) {\n                    let xPos = tooltipX(i * pattern.interval)\n                    tooltipLayer.append(\"line\")\n                        .attr(\"x1\", xPos)\n                        .attr(\"y1\", 20)\n                        .attr(\"x2\", xPos)\n                        .attr(\"y2\", 90)\n                        .attr(\"stroke-width\", \"1px\")\n                        .attr(\"stroke\", \"black\")\n                }\n                tooltipLayer.append(\"path\")\n                    .attr(\"d\", tooltipLenGen(tooltipData))\n                    .attr(\"stroke\", COLOR_REGULAR)\n                    .attr(\"stroke-width\", \"2px\")\n                    .attr(\"fill\", \"none\")\n                for (let seasonal of pattern.seasonal) {\n                    let start = Math.max(seasonal.start, dataLeft) - dataLeft\n                    let end = Math.min(seasonal.end, dataRight) - dataLeft\n                    if (end < 0) {\n                        continue\n                    }\n                    for (let i = 0; i < (end - start) / pattern.interval; i++) {\n                        let newAvgData = []\n                        for (let j = 0; j < pattern.average.length; j++) {\n                            newAvgData.push({ x: start + i * pattern.interval + j, y: pattern.average[j] })\n                        }\n                        tooltipLayer.append(\"path\")\n                            .attr(\"d\", tooltipAvgLenGen(newAvgData))\n                            .attr(\"stroke\", \"#FFBB8A\")\n                            .attr(\"stroke-width\", \"2px\")\n                            .attr(\"stroke-dasharray\", \"6, 3\")\n                            .attr(\"fill\", \"none\")\n                    }\n                    tooltipLayer.append(\"path\")\n                        .attr(\"d\", tooltipLenGen(tooltipData.slice(start, end + 1)))\n                        .attr(\"stroke\", COLOR_SEASONAL)\n                        .attr(\"stroke-width\", \"3px\")\n                        .attr(\"fill\", \"none\")\n                }\n\n                let legendLayer = tooltipLayer.append(\"g\")\n                    .style(\"font-size\", \"6px\")\n                    .style(\"font-weight\", \"bold\")\n                    .style(\"font-family\", ENGFONT)\n                    .style(\"color\", COLOR_TOOLTIP_DARK)\n                legendLayer.append(\"line\")\n                    .attr(\"x1\", \"6px\")\n                    .attr(\"y1\", \"8px\")\n                    .attr(\"x2\", \"21px\")\n                    .attr(\"y2\", \"8px\")\n                    .attr(\"stroke-width\", \"2px\")\n                    .attr(\"stroke\", \"#FFBB8A\")\n                    .attr(\"stroke-dasharray\", \"6, 3\")\n                    .attr(\"fill\", \"none\")\n                legendLayer.append(\"text\")\n                    .attr(\"x\", \"25px\") // 6 + 15 + 4\n                    .attr(\"y\", \"10px\")\n                    .text(\"Seasonality\")\n                legendLayer.append(\"text\")\n                    .attr(\"x\", \"135px\")\n                    .attr(\"y\", \"10px\")\n                    .text(\"Interval \" + intervalString)\n            })\n    }\n}\n\nlet renderDetailValue = (containerSelector, rawPath, x, y, height,\n    data, breakdown, measureName, tick_format, tooltipLayer) => {\n    let detailValueTooltip = d3.select(containerSelector)\n        .append(\"div\")\n        .attr(\"id\", \"value-tooltip\")\n        .style(\"z-index\", 2000)\n        .style(\"width\", \"fit-content\")\n        .style(\"height\", \"40px\")\n        .style(\"opacity\", 0)\n        .style(\"position\", \"absolute\")\n        .style(\"pointer-events\", \"none\")\n        .style(\"border-radius\", \"4px\")\n        .style(\"background\", \"#FFFFFF\")\n        .style(\"box-shadow\", \"0 0 5px #888888\")\n        .style(\"padding\", \"5px\")\n\n    let detailValueTitle = detailValueTooltip.append(\"span\")\n        .style(\"font\", `9px ${ENGFONT}`)\n        .style(\"font-weight\", \"bold\")\n        .style(\"display\", \"block\")\n        .style(\"color\", \"#000000\")\n    let detailValueContent = detailValueTooltip.append(\"svg\")\n        .attr(\"width\", \"95px\")\n        .attr(\"height\", \"30px\")\n\n    let detailValueColor = detailValueContent.append(\"circle\")\n        .attr(\"r\", 4)\n        .attr(\"cx\", \"5px\")\n        .attr(\"cy\", \"12px\")\n    let detailValueText = detailValueContent.append(\"text\")\n        .style(\"font\", `8px ${ENGFONT}`)\n        .style(\"color\", \"#000000\")\n        .attr(\"x\", \"14px\")\n        .attr(\"y\", \"14px\")\n\n    rawPath.on(\"mouseover\", function (d) {\n        detailValueTooltip.transition()\n            .duration(200)\n            .style(\"opacity\", .9)\n        detailValue.transition()\n            .duration(200)\n            .style(\"opacity\", 1)\n    })\n        .on(\"mouseout\", function (d) {\n            // If the mouse is exactly on the data point, \n            // then the mouse will on the circle instead of the path\n            // So here we should keep the tooltip shown when the mouse is still on the circle\n            let currentElement = document.elementFromPoint(d3.event.pageX, d3.event.pageY)\n            if (currentElement !== detailValueCircle.node()) {\n                detailValueTooltip.transition()\n                    .duration(500)\n                    .style(\"opacity\", 0)\n                detailValue.transition()\n                    .duration(500)\n                    .style(\"opacity\", 0)\n            }\n        })\n        .on(\"mousemove\", function (d) {\n            let result = { posX: d3.mouse(this)[0], posY: d3.mouse(this)[1] }\n            let x0 = x.invert(d3.mouse(this)[0])\n            let currentIndex = bisectDate(data, x0, 1)\n            let time0 = parseTime(data[currentIndex - 1][breakdown[0].field])\n            let time1 = parseTime(data[currentIndex][breakdown[0].field])\n            let currentTime = x0 - time0 > time1 - x0 ? time1 : time0\n            let currentValue = currentTime === time0 ? data[currentIndex - 1][measureName] : data[currentIndex][measureName]\n            let title = tick_format(currentTime)\n            detailValueTooltip.style(\"left\", (result.posX + 30) + \"px\")\n                .style(\"top\", (result.posY + 20) + \"px\")\n            detailValueTitle.html(title)\n            detailValueColor.style(\"fill\", COLOR_REGULAR)\n            detailValueText.html(measureName + \": \" + currentValue.toFixed(2))\n\n            detailValueLine.attr(\"x1\", x(currentTime))\n            detailValueLine.attr(\"x2\", x(currentTime))\n            detailValueCircle.attr(\"cx\", x(currentTime))\n            detailValueCircle.attr(\"cy\", y(currentValue))\n            detailValueCircle.attr(\"stroke\", COLOR_REGULAR)\n        })\n\n    let bisectDate = d3.bisector(function (d) { return parseTime(d[breakdown[0].field]) }).left\n    let detailValue = tooltipLayer.append(\"g\")\n        .style(\"opacity\", 0)\n    let detailValueLine = detailValue.append(\"line\")\n        .attr(\"y1\", height - 20)\n        .attr(\"y2\", 0)\n        .attr(\"stroke-width\", \"2px\")\n        .attr(\"stroke\", COLOR_GRID)\n        .attr(\"stroke-dasharray\", \"6, 3\")\n    let detailValueCircle = detailValue.append(\"circle\")\n        .attr(\"r\", 3)\n        .attr(\"fill\", \"#FFFFFF\")\n        .attr(\"stroke-width\", \"2\")\n        .style(\"box-shadow\", \"0 0 5px #888888\")\n        .on(\"mouseover\", function (d) {\n            // FIXME: This is a nit\n            // Even mouse is not on the path, the tooltip will still be shown \n            // but the error area is small\n            detailValueTooltip.transition()\n                .duration(200)\n                .style(\"opacity\", .9)\n            detailValue.transition()\n                .duration(200)\n                .style(\"opacity\", 1)\n        }).on(\"mouseout\", function (d) {\n            // If the mouse is exactly on the data point, \n            // then the mouse will on the circle instead of the path\n            // So here we should hide all the tooltip when moving mouse out of the circle\n            detailValueTooltip.transition()\n                .duration(500)\n                .style(\"opacity\", 0)\n            detailValue.transition()\n                .duration(500)\n                .style(\"opacity\", 0)\n        })\n}\n\nlet extendYAxis = (data, measureField) => {\n    let minValue = d3.max(data.map(function (d) { return measureField === undefined ? d : d[measureField] }))\n    let maxValue = d3.min(data.map(function (d) { return measureField === undefined ? d : d[measureField] }))\n    return [maxValue + (maxValue - minValue) * 0.2, minValue - (maxValue - minValue) * 0.2]\n}\n\nexport default Seasonality;","import * as d3 from 'd3';\nimport Chart from '../../chart';\nimport { parseTime, formatTick, formatTicksCount } from '../constant/timeConstant'\n\nconst ENGFONT = \"OPPOSans\";\nconst COLOR_REGULAR = \"#6C8EF2\";\nconst COLOR_ELLIPSE = \"#E4E4E4\";\nconst COLOR_CIRCLE = \"#F28AB3\";\nconst TRANSPARENCY_ELLIPSE = 0.7;\nconst COLOR_STD = \"#8ED9AB\";\nconst COLOR_TEXT = \"#000000\";\nconst TRANSPARENCY_STD = 0.3;\nconst SERIES_COLORS = [\"#6C8EF2\", \"#E1944E\", \"#8B65BA\"]\n\nconst COLOR_GRID = \"#E6E6E6\";\nconst COLOR_AXIS = \"#000000\";\n\nclass MultivariateDistribution extends Chart {\n    constructor() {\n        super();\n        this._x = '';\n        this._y = '';\n    }\n\n    display() {\n        let factData = this.factdata();\n        let breakdown = this.breakdown();\n        let focus = this.focus();\n        let focusMeasure = []\n\n        // set data\n        let data = factData.sort((a, b) => parseTime(a[breakdown[0].field]) - parseTime(b[breakdown[0].field]))\n        if (focus.length === 0) return\n\n        // set the dimensions and margins of the graph\n        let chartSize = { width: 550, height: 440 }\n        let margin = {\n            \"top\": 15,\n            \"right\": 10,\n            \"bottom\": 15,\n            \"left\": 60\n        }\n        let tickWidth = 2\n\n        let containerSelector = this.container()\n        let svg = d3.select(containerSelector)\n            .append(\"svg\")\n            .attr(\"width\", chartSize.width)\n            .attr(\"height\", chartSize.height)\n            .append(\"g\")\n            .attr(\"transform\", \"translate(\" + (margin.left + 10) + \",\" + margin.top + \")\")\n            .attr(\"font-family\", ENGFONT);\n\n        var means = []\n        var stds = []\n        var rxs = []\n        var rys = []\n        var rads = []\n        var mins = []\n        var maxs = []\n        let tempList = []\n        for (let distr of focus) {\n            if (!tempList.includes(distr.field)) {\n                tempList.push(distr.field)\n                focusMeasure.push({ \"field\": distr.field })\n            }\n        }\n        let oneChartWidth = Math.floor(chartSize.width / focusMeasure.length)\n        let oneChartHeight = Math.floor(chartSize.height / focusMeasure.length)\n        for (let distr of focus) {\n            for (let j = 0; j < focusMeasure.length; j++) {\n                if (distr.field === focusMeasure[j].field) {\n                    if (distr.name === \"mean\") {\n                        means[j] = distr.value\n                    } else if (distr.name === \"std\") {\n                        stds[j] = distr.value\n                    } else if (distr.name === \"a\") {\n                        rxs[j] = distr.value\n                    } else if (distr.name === \"b\") {\n                        rys[j] = distr.value\n                    } else if (distr.name === \"rad\") {\n                        rads[j] = distr.value\n                    } else if (distr.name === 'min') {\n                        mins[j] = distr.value\n                    } else if (distr.name === 'max') {\n                        maxs[j] = distr.value\n                    }\n                }\n            }\n        }\n\n        let tooltipLayer = svg.append('g').attr('class', 'tooltip')\n        for (let i = 0; i <= focusMeasure.length - 1; i++) {\n            for (let j = 0; j <= focusMeasure.length - 1; j++) {\n                let startX = oneChartWidth * i\n                let startY = oneChartHeight * j\n                if (i === j) {\n                    let x = d3.scaleTime()\n                        .range([startX, startX + oneChartWidth / 2])\n                    // .padding(0.1);\n                    let y = d3.scaleLinear()\n                        .range([startY + oneChartWidth / 2, startY]);\n                    x.domain(d3.extent(data, function (d) { return parseTime(d[breakdown[0].field]); }));\n                    y.domain(d3.extent([].concat(\n                        // lower boundary minus margin\n                        data.map(function (d) { return d[focusMeasure[i].field] * 0.95 }),\n                        // upper boundary add margin\n                        data.map(function (d) { return d[focusMeasure[i].field] * 1.05 })\n                    )));\n\n                    // add the x Axis\n                    let format_TicksCount = formatTicksCount(data[0][breakdown[0].field]);\n                    let tick_format = formatTick(data[0][breakdown[0].field]);\n                    let axisX = d3.axisBottom(x).tickFormat(tick_format)\n                    if (format_TicksCount === d3.timeYear) {\n                        axisX.ticks(format_TicksCount)\n                    }\n\n                    let mean = means[i]\n                    let std = [mean - 2 * stds[i], mean + 2 * stds[i]]\n                    let min = mins[i]\n                    let max = maxs[i]\n                    let xLeft = x(parseTime(data[0][breakdown[0].field]));\n                    let xRight = x(parseTime(data[data.length - 1][breakdown[0].field]));\n\n                    // std\n                    svg.append('rect')\n                        .attr('x', xLeft)\n                        .attr('y', y(std[1]))\n                        .attr('width', xRight - xLeft)\n                        .attr(\"height\", y(std[0]) - y(std[1]))\n                        .attr('fill', COLOR_STD)\n                        .attr('opacity', TRANSPARENCY_STD);\n\n                    let lineLayer = svg.append(\"g\").attr('class', 'lineLayer')\n                    // line\n                    lineLayer.append('g').selectAll('line.line')\n                        .data(y.ticks(5)).enter().append('line')\n                        .attr('x1', startX)\n                        .attr('x2', startX + oneChartWidth / 2)\n                        .attr('y1', function (d) { return y(d) })\n                        .attr('y2', function (d) { return y(d) })\n                        .attr('stroke', COLOR_GRID)\n                        .attr('stroke-width', '2px')\n                    // min\n                    tooltipLayer.append('line')\n                        .attr('x1', xLeft)\n                        .attr('y1', y(min))\n                        .attr('x2', xRight)\n                        .attr('y2', y(min))\n                        .attr('stroke-width', '1px')\n                        .attr('stroke', 'black')\n                        .attr('stroke-dasharray', '6px');\n\n                    // max\n                    tooltipLayer.append('line')\n                        .attr('x1', xLeft)\n                        .attr('y1', y(max))\n                        .attr('x2', xRight)\n                        .attr('y2', y(max))\n                        .attr('stroke-width', '1px')\n                        .attr('stroke', 'black')\n                        .attr('stroke-dasharray', '6px');\n\n                    let lineLayer2 = svg.append(\"g\").attr('class', 'lineLayer')\n                    let lineGen = d3.line().curve(d3.curveMonotoneX)\n                        .x(function (d) {\n                            return x(parseTime(d[breakdown[0].field]));\n                        })\n                        .y(function (d) {\n                            return y(d[focusMeasure[i].field]);\n                        })\n                    lineLayer2.append('path')\n                        .attr('d', lineGen(data))\n                        .attr('stroke', COLOR_REGULAR)\n                        .attr('stroke-width', '1px')\n                        .attr('fill', 'none')\n\n                    let tickValues = [];\n                    tickValues.push(parseTime(data[10][breakdown[0].field]))\n                    tickValues.push(parseTime(data[data.length - 10][breakdown[0].field]))\n                    axisX.tickValues(tickValues)\n\n\n                    let tooltipLayer2 = svg.append('g').attr('class', 'tooltip');\n\n                    let tooltip = tooltipLayer2.append(\"text\")\n                        .attr(\"font-size\", '5.5px')\n                        .attr(\"font-family\", ENGFONT)\n                        .attr(\"fill\", COLOR_TEXT);\n                    tooltip.append(\"tspan\")\n                        .text(\"Min: \" + min)\n                        .attr(\"dy\", tooltip.selectAll(\"tspan\").node().getBBox().height * 0.9);\n                    let textWidth = tooltip.node().getBBox().width;\n                    let textHeight = tooltip.node().getBBox().height * 1.5;\n                    tooltip.attr(\"width\", textWidth)\n                        .attr(\"height\", textHeight)\n                        .attr(\"x\", xRight - textWidth)\n                        .attr(\"y\", y(min) - textHeight);\n\n                    tooltip = tooltipLayer2.append(\"text\")\n                        .attr(\"font-size\", '5.5px')\n                        .attr(\"font-family\", ENGFONT)\n                        .attr(\"font-weight\", \"light\")\n                        .attr(\"fill\", COLOR_TEXT);\n                    tooltip.append(\"tspan\")\n                        .text(\"Max: \" + max)\n                        .attr(\"dy\", tooltip.selectAll(\"tspan\").node().getBBox().height * 0.9);\n                    textWidth = tooltip.node().getBBox().width;\n                    textHeight = tooltip.node().getBBox().height * 1.5;\n                    tooltip.attr(\"width\", textWidth)\n                        .attr(\"height\", textHeight)\n                        .attr(\"x\", xRight - textWidth)\n                        .attr(\"y\", y(max) - textHeight);\n\n\n                    tooltipLayer2.append('line')\n                        .attr('x1', xLeft)\n                        .attr('y1', y(mean))\n                        .attr('x2', xRight)\n                        .attr('y2', y(mean))\n                        .attr('stroke-width', '1px')\n                        .attr('stroke', 'black');\n                    tooltip = tooltipLayer2.append(\"text\")\n                        .attr(\"font-size\", '5.5px')\n                        .attr(\"font-family\", ENGFONT)\n                        .attr(\"font-weight\", \"light\")\n                        .attr(\"fill\", COLOR_TEXT);\n                    tooltip.append(\"tspan\")\n                        .text(\"Avg: \" + mean)\n                        .attr(\"dy\", tooltip.selectAll(\"tspan\").node().getBBox().height * 0.9);\n\n                    textWidth = tooltip.node().getBBox().width;\n                    textHeight = tooltip.node().getBBox().height * 1.5;\n\n                    svg.append('rect')\n                        .attr('x', xRight - textWidth)\n                        .attr('y', y(mean) - textHeight * 1.15)\n                        .attr('width', textWidth)\n                        .attr(\"height\", textHeight)\n                        .attr('fill', 'white')\n                        .attr('opacity', 0.8);\n\n                    tooltip.attr(\"width\", textWidth)\n                        .attr(\"height\", textHeight)\n                        .attr(\"x\", xRight - textWidth)\n                        .attr(\"y\", y(mean) - textHeight);\n\n                    let tooltipLayer3 = svg.append('g').attr('class', 'tooltip').style('background-color', 'white').style('opacity', 0.8);\n                    let tooltip2 = tooltipLayer3.append(\"text\")\n                        .attr(\"font-size\", '5.5px')\n                        .attr(\"font-family\", ENGFONT)\n                        .attr(\"fill\", COLOR_TEXT);\n                    tooltip2.append(\"tspan\")\n                        .text(\"Avg: \" + mean)\n                        .attr(\"dy\", tooltip2.selectAll(\"tspan\").node().getBBox().height * 0.9);\n\n                    tooltip2.attr(\"width\", textWidth)\n                        .attr(\"height\", textHeight)\n                        .attr(\"x\", xRight - textWidth)\n                        .attr(\"y\", y(mean) - textHeight);\n\n                    // renderDetailValue(containerSelector, rawPath, x, y, 90, data, breakdown, breakdown[i].field, tick_format, tooltipLayer)\n\n                    svg.append(\"g\")\n                        .attr(\"class\", \"xAxis\")\n                        .attr(\"transform\", \"translate(0,\" + (startY + oneChartWidth / 2) + \")\")\n                        .call(axisX)\n                        .call(g => {\n                            g.attr(\"font-size\", '8px');\n                            g.attr(\"font-family\", ENGFONT);\n                            g.attr(\"font-weight\", 'light')\n\n                            let domainD = g.selectAll(\".domain\").attr(\"d\");\n                            domainD = domainD.replace(\"M-6\", \"M-\" + (6 * chartSize.width / 640))\n                            domainD = domainD.replace(\"H-6\", \"H-\" + (6 * chartSize.width / 640))\n                            g.selectAll(\".domain\").attr(\"d\", domainD).attr(\"stroke-width\", tickWidth);\n                            g.selectAll(\".tick\")\n                                .selectAll(\"line\")\n                                .attr(\"stroke\", COLOR_AXIS)\n                                .attr(\"stroke-width\", tickWidth)\n                                .attr(\"y2\", 5);\n\n                            g.selectAll(\"text\")\n                                .attr(\"y\", 10)\n                        });\n\n\n                    // add the y Axis\n                    let yAxisLayer = svg.append(\"g\").attr(\"class\", \"yAxis\")\n                    yAxisLayer.attr(\"transform\", \"translate(\" + startX + \",0)\")\n                        .call(d3.axisLeft(y).ticks(5).tickFormat(function (d) {\n                            if ((d / 1000000) >= 1) {\n                                d = d / 1000000 + \"M\";\n                            } else if ((d / 1000) >= 1) {\n                                d = d / 1000 + \"K\";\n                            }\n                            return d;\n                        }))\n                        .call(g => {\n                            g.attr(\"font-size\", '8px')\n                            g.attr(\"font-weight\", 'light')\n                            g.attr(\"font-family\", ENGFONT)\n                            let domainD = g.selectAll(\".domain\").attr(\"d\");\n                            domainD = domainD.replace(\"M-6\", \"M-\" + (6 * chartSize.width / 640))\n                            domainD = domainD.replace(\"H-6\", \"H-\" + (6 * chartSize.width / 640))\n                            g.selectAll(\".domain\").attr(\"d\", domainD).attr(\"stroke-width\", tickWidth);\n                            g.selectAll(\".tick\")\n                                .select(\"line\")\n                                .attr(\"stroke\", COLOR_AXIS)\n                                .attr(\"stroke-width\", tickWidth)\n                                .attr(\"x2\", -5);\n\n                            g.selectAll(\"text\")\n                                .attr(\"x\", -10);\n                        })\n\n                    yAxisLayer.append(\"text\")\n                        .attr(\"transform\", \"rotate(-90)\")\n                        .attr(\"y\", -35)\n                        .attr(\"x\", 0 - startY - 45)\n                        .style(\"text-anchor\", \"middle\")\n                        .style(\"font-size\", \"10px\")\n                        .attr(\"font-weight\", \"heavy\")\n                        .attr(\"fill\", SERIES_COLORS[i])\n                        .text(cutTitle(focusMeasure[i].field))\n                } else {\n                    let x = d3.scaleLinear()\n                        .range([startX, startX + oneChartWidth / 2])\n                    let y = d3.scaleLinear()\n                        .range([startY + oneChartWidth / 2, startY]);\n                    x.domain(d3.extent([].concat(\n                        // lower boundary minus margin\n                        data.map(function (d) { return d[focusMeasure[i].field] * 0.95 }),\n                        // upper boundary add margin\n                        data.map(function (d) { return d[focusMeasure[i].field] * 1.05 })\n                    )));\n                    y.domain(d3.extent([].concat(\n                        // lower boundary minus margin\n                        data.map(function (d) { return d[focusMeasure[j].field] * 0.95 }),\n                        // upper boundary add margin\n                        data.map(function (d) { return d[focusMeasure[j].field] * 1.05 })\n                    )));\n                    // Scale the range of the data in the domains\n\n                    let cx = means[i]\n                    let cy = means[j]\n                    let xmin = mins[i]\n                    let ymin = mins[j]\n                    let xmax = maxs[i]\n                    let ymax = maxs[j]\n                    let index, rx, ry, rad\n                    if ((i === 0 && j === 1) || (i === 1 && j === 0)) {\n                        index = 0\n                    } else if ((i === 0 && j === 2) || (i === 2 && j === 0)) {\n                        index = 1\n                    } else if ((i === 1 && j === 2) || (i === 2 && j === 1)) {\n                        index = 2\n                    }\n                    if (i < j) {\n                        rx = rxs[index]\n                        ry = rys[index]\n                        rad = -rads[index]\n                    } else {\n                        rx = rys[index]\n                        ry = rxs[index]\n                        rad = rads[index] - 180\n                    }\n\n                    let g = svg.append(\"g\")\n                    g.selectAll(\"circle\")\n                        .data(data)\n                        .enter()\n                        .append(\"circle\")\n                        .attr(\"cx\", function (d) {\n                            return x(d[focusMeasure[i].field]);\n                        })\n                        .attr(\"cy\", function (d) {\n                            return y(d[focusMeasure[j].field]);\n                        })\n                        .attr(\"r\", '2.5px')\n                        .attr('fill', COLOR_CIRCLE);\n\n                    let xAxisLayer = svg.append(\"g\").attr(\"class\", \"xAxis\")\n                    xAxisLayer.attr(\"transform\", \"translate(0,\" + (startY + oneChartWidth / 2) + \")\")\n                        .call(d3.axisBottom(x).ticks(3).tickFormat(function (d) {\n                            if ((d / 1000000) >= 1) {\n                                d = d / 1000000 + \"M\";\n                            } else if ((d / 1000) >= 1) {\n                                d = d / 1000 + \"K\";\n                            }\n                            return d;\n                        }))\n                        .call(g => {\n                            g.attr(\"font-size\", '8px');\n                            g.attr(\"font-family\", ENGFONT);\n                            g.attr(\"font-weight\", 'light')\n\n                            let domainD = g.selectAll(\".domain\").attr(\"d\");\n                            domainD = domainD.replace(\"M-6\", \"M-\" + (6 * chartSize.width / 640))\n                            domainD = domainD.replace(\"H-6\", \"H-\" + (6 * chartSize.width / 640))\n                            g.selectAll(\".domain\").attr(\"d\", domainD).attr(\"stroke-width\", tickWidth);\n                            g.selectAll(\".tick\")\n                                .selectAll(\"line\")\n                                .attr(\"stroke\", COLOR_AXIS)\n                                .attr(\"stroke-width\", tickWidth)\n                                .attr(\"y2\", 5);\n\n                            g.selectAll(\"text\")\n                                .attr(\"y\", 10)\n                        });\n\n\n                    // add the y Axis\n                    let yAxisLayer = svg.append(\"g\").attr(\"class\", \"yAxis\")\n                    yAxisLayer.attr(\"transform\", \"translate(\" + startX + \",0)\")\n                        .call(d3.axisLeft(y).ticks(5).tickFormat(function (d) {\n                            if ((d / 1000000) >= 1) {\n                                d = d / 1000000 + \"M\";\n                            } else if ((d / 1000) >= 1) {\n                                d = d / 1000 + \"K\";\n                            }\n                            return d;\n                        }))\n                        .call(g => {\n                            g.attr(\"font-size\", '8px')\n                            g.attr(\"font-weight\", 'light')\n                            g.attr(\"font-family\", ENGFONT)\n                            let domainD = g.selectAll(\".domain\").attr(\"d\");\n                            domainD = domainD.replace(\"M-6\", \"M-\" + (6 * chartSize.width / 640))\n                            domainD = domainD.replace(\"H-6\", \"H-\" + (6 * chartSize.width / 640))\n                            g.selectAll(\".domain\").attr(\"d\", domainD).attr(\"stroke-width\", tickWidth);\n                            g.selectAll(\".tick\")\n                                .select(\"line\")\n                                .attr(\"stroke\", COLOR_AXIS)\n                                .attr(\"stroke-width\", tickWidth)\n                                .attr(\"x2\", -5);\n\n                            g.selectAll(\"text\")\n                                .attr(\"x\", -10);\n                        })\n\n                    let title = xAxisLayer.append(\"text\")\n                        .attr(\"y\", 30)\n                        .attr(\"x\", startX + 45)\n                        .style(\"text-anchor\", \"middle\")\n                        .style(\"font-size\", \"10px\")\n                        .attr(\"fill\", SERIES_COLORS[i])\n                        .text(cutTitle(focusMeasure[i].field))\n\n                    title = yAxisLayer.append(\"text\")\n                        .attr(\"transform\", \"rotate(-90)\")\n                        .attr(\"y\", -35)\n                        .attr(\"x\", 0 - startY - 45)\n                        .style(\"text-anchor\", \"middle\")\n                        .style(\"font-size\", \"10px\")\n                        .attr(\"fill\", SERIES_COLORS[j])\n                        .text(cutTitle(focusMeasure[j].field))\n                }\n            }\n        }\n\n        return svg;\n\n    }\n}\n\nlet getSizeBySize = (size, chartSize, hasSeries = false, moreThan6 = false) => {\n    let tickSize, annotationSize, tickWidth, dotR, strokeWidth;\n\n    switch (size) {\n        case \"small\":\n            tickSize = 10;\n            annotationSize = 16;\n            tickWidth = 2;\n            dotR = 5;\n            strokeWidth = 2;\n            break;\n        case \"middle\":\n            tickSize = 13;\n            annotationSize = 20;\n            tickWidth = 2;\n            dotR = 5;\n            strokeWidth = 3;\n            break;\n        case \"wide\":\n            tickSize = 16;\n            annotationSize = 26;\n            dotR = 7;\n            tickWidth = 2;\n            strokeWidth = 3;\n            break;\n        case \"large\":\n        default:\n            tickSize = 20;\n            annotationSize = 40;\n            tickWidth = 2;\n            dotR = 10;\n            strokeWidth = 3;\n            break;\n    }\n    const chartMargin = {\n        \"small\": {\n            \"top\": 15,\n            \"right\": 20,\n            \"bottom\": 15,\n            \"left\": 20\n        },\n        \"middle\": {\n            \"top\": 15,\n            \"right\": 20,\n            \"bottom\": 15,\n            \"left\": 20\n        },\n        \"wide\": {\n            \"top\": 15,\n            \"right\": 20,\n            \"bottom\": 15,\n            \"left\": 20\n        },\n        \"large\": {\n            \"top\": 15,\n            \"right\": 20,\n            \"bottom\": 15,\n            \"left\": 20\n        }\n    };\n    let margin = chartMargin[size];\n    return { chartSize: chartSize, margin: margin, tickSize: tickSize, annotationSize: annotationSize, tickWidth, dotR, strokeWidth }\n}\n\nconst cutTitle = (title) => {\n    if (title.length > 16) {\n        return title.slice(0, 16) + \"...\"\n    } else {\n        return title\n    }\n}\n\nexport default MultivariateDistribution;","import * as d3 from \"d3\";\nimport Chart from \"../../chart\";\nimport { uuid } from \"../constant/uuid\";\nimport { parseTime, formatTick, formatTicksCount } from '../constant/timeConstant'\nimport { tooltipContainerId } from \"../constant/getContainer\";\nimport { getPosition } from \"../constant/getPosition\";\nconst ENGFONT = \"OPPOSans\";\nconst COLOR_REGULAR = \"#6C8EF2\";\nconst COLOR_FREQUENT = \"#FFC111\";\nconst COLOR_GRID = \"#E6E6E6\";\nconst COLOR_TOOLTIP_DARK = \"#3E3A39\";\nconst COLOR_TOOLTIP_LIGHT = \"#FCFBE7\"\nconst COLOR_AXIS = \"#000000\";\nconst TICK_WIDTH = 2;\n\nclass FrequentPattern extends Chart {\n    constructor() {\n        super();\n        this._x = \"\";\n        this._y = \"\";\n        this.tooltipId = uuid()\n\n    }\n    display() {\n        /**\n        * The main drawing function\n        */\n        //---------------parse fact-------------------------\n        let factResult = this.parseFact()\n        let data = factResult._data\n        let measure = factResult._measure\n        let breakdown = factResult._breakdown\n        let focus = factResult._focus\n        let measureName = factResult._measureName\n        if (focus.length === 0) return\n        if (breakdown[1] && breakdown[1].field) return;\n\n        //---------------init chart size--------------------\n        let chartResult = this.setChartStandard()\n        let chartSize = chartResult._chartSize\n        let width = chartResult._width\n        let height = chartResult._height\n        let margin = chartResult._margin\n\n        //------------------init---------------------------\n        let containerSelector = tooltipContainerId\n        //init svg\n        let svg = this.initSvg(chartSize, margin)\n        //init layer\n        let lineLayer = svg.append(\"g\").attr(\"class\", \"lineLayer\")\n        let tooltipLayer = svg.append(\"g\").attr(\"class\", \"tooltip\");\n\n        //------------------draw x axis-------------------\n\n        /**\n         * Draw the X axis\n         */\n        // set the ranges\n        let x = d3.scaleTime().range([0, width])\n        // Scale the range of the data in the domains\n        x.domain(d3.extent(data, function (d) { return parseTime(d[breakdown[0].field]); }));\n        // add the x Axis\n        let format_TicksCount = formatTicksCount(data[0][breakdown[0].field]);\n        let tick_format = formatTick(data[0][breakdown[0].field]);\n        let axisX = d3.axisBottom(x).tickFormat(tick_format)\n        if (format_TicksCount === d3.timeYear) {\n            axisX.ticks(format_TicksCount)\n        }\n\n        /**\n         * Draw the Y axis\n         */\n        // .padding(0.1);\n        let y = d3.scaleLinear()\n            .range([height - 20, 0]);\n\n        y.domain(d3.extent([].concat(\n            // lower boundary minus margin\n            data.map(function (d) { return d[measure[0].field] * 0.95 }),\n            // upper boundary add margin\n            data.map(function (d) { return d[measure[0].field] * 1.05 })\n        )));\n\n        //------------------draw original line------------\n        let originLineResult = this.drawBackLine(x, y, data, lineLayer, breakdown, measureName, chartSize)\n        let rawPath = originLineResult._rawPath\n        let lineGen = originLineResult._lineGen\n\n        //-----------------draw frequent pattern insight---\n        let tooltipPathList = this.drawFrequentPattern(x, y, data, breakdown, focus, measureName, tooltipLayer, height, axisX, lineGen)\n        if (this._showTooltip) {\n            renderDetailValue(containerSelector, rawPath, x, y, height, data, breakdown, measureName, tick_format, tooltipLayer)\n            renderTooltip(this.tooltipId, containerSelector, tick_format, data, breakdown, tooltipPathList, focus)\n        }\n\n        // draw the x axis\n        svg.append(\"g\")\n            .attr(\"class\", \"xAxis\")\n            .attr(\"transform\", \"translate(0,\" + (height - 20) + \")\")\n            .call(axisX)\n            .call(g => {\n                g.attr(\"font-size\", \"10px\");\n                g.attr(\"font-family\", ENGFONT);\n                g.attr(\"font-weight\", \"lighter\")\n\n                let domainD = g.selectAll(\".domain\").attr(\"d\");\n                domainD = domainD.replace(\"6V\", (6 * chartSize.height / 320) + \"V\")\n                domainD = domainD.replace(\"V6\", \"V\" + (6 * chartSize.height / 320))\n                g.selectAll(\".domain\").attr(\"d\", domainD).attr(\"stroke-width\", TICK_WIDTH);\n                g.selectAll(\".tick\")\n                    .selectAll(\"line\")\n                    .attr(\"stroke\", COLOR_AXIS)\n                    .attr(\"stroke-width\", TICK_WIDTH)\n                    .attr(\"y2\", 5);\n\n                g.selectAll(\"text\")\n                    .attr(\"y\", 10)\n                // .attr(\"transform\", \"rotate(-20)\")\n                // .attr(\"style\", \"text-anchor: end\")\n            });\n\n        // add the y Axis\n        svg.append(\"g\")\n            .attr(\"class\", \"yAxis\")\n            // .attr(\"transform\", `translate(,0)`)\n            .call(d3.axisLeft(y).ticks(5).tickFormat(function (d) {\n                if ((d / 1000000) >= 1) {\n                    d = d / 1000000 + \"M\";\n                } else if ((d / 1000) >= 1) {\n                    d = d / 1000 + \"K\";\n                }\n                return d;\n            }))\n            .call(g => {\n                g.attr(\"font-size\", \"10px\")\n                g.attr(\"font-weight\", \"lighter\")\n                g.attr(\"font-family\", ENGFONT)\n                let domainD = g.selectAll(\".domain\").attr(\"d\");\n                domainD = domainD.replace(\"M-6\", \"M-\" + (6 * chartSize.width / 640))\n                domainD = domainD.replace(\"H-6\", \"H-\" + (6 * chartSize.width / 640))\n                g.selectAll(\".domain\").attr(\"d\", domainD).attr(\"stroke-width\", TICK_WIDTH);\n                g.selectAll(\".tick\")\n                    .select(\"line\")\n                    .attr(\"stroke\", COLOR_AXIS)\n                    .attr(\"stroke-width\", TICK_WIDTH)\n                    .attr(\"x2\", -5);\n\n                g.selectAll(\"text\")\n                    .attr(\"x\", -10);\n            })\n\n        return svg;\n    }\n    parseFact() {\n        /**\n         * Parse fact json\n         * return:The contents of each field in fact\n         */\n        let factData = this.factdata()\n        let measure = this.measure();\n        let breakdown = this.breakdown();\n        let focus = this.focus();\n        // set data\n        factData = factData.sort((a, b) => parseTime(a[breakdown[0].field]) - parseTime(b[breakdown[0].field]))\n        let data = factData;\n        let measureName = measure[0].aggregate === \"count\" ? \"COUNT\" : measure[0].field\n        return { _data: data, _measure: measure, _breakdown: breakdown, _focus: focus, _measureName: measureName }\n    }\n    setChartStandard() {\n        /** \n         * calculate size of the chart\n         * return chart size parameters\n         */\n        // set the dimensions and margins of the graph\n        let chartSize = { width: 600, height: 280 }\n        let margin = {\n            \"top\": 15,\n            \"right\": 20,\n            \"bottom\": 15,\n            \"left\": 20\n        }\n        let width = chartSize.width - margin.left - margin.right,\n            height = chartSize.height - margin.top - margin.bottom;\n        return { _width: width, _height: height, _chartSize: chartSize, _margin: margin }\n    }\n    initSvg(chartSize, margin) {\n        /**\n         * Initialize SVG based on the drawing area size\n         * return :svg \n         */\n        let svg = d3.select(this.container())\n            .append(\"svg\")\n            .attr(\"width\", chartSize.width)\n            .attr(\"height\", chartSize.height)\n            .append(\"g\")\n            .attr(\"transform\", \"translate(\" + (margin.left + 10) + \",\" + margin.top + \")\")\n            .attr(\"font-family\", ENGFONT);\n        return svg\n    }\n\n    drawBackLine(x, y, data, lineLayer, breakdown, measureName, chartSize) {\n        /**\n         * draw series line and back grid\n         */\n        lineLayer.append(\"g\").selectAll(\"line.line\")\n            .data(y.ticks(5)).enter().append(\"line\")\n            .attr(\"x1\", 0)\n            .attr(\"x2\", chartSize.width)\n            .attr(\"y1\", function (d) { return y(d) })\n            .attr(\"y2\", function (d) { return y(d) })\n            .attr(\"stroke\", COLOR_GRID)\n            .attr(\"stroke-width\", \"2px\")\n\n        let lineGen = d3.line().curve(d3.curveMonotoneX)\n            .x(function (d) {\n                return x(parseTime(d[breakdown[0].field]));\n            })\n            .y(function (d) {\n                return y(d[measureName]);\n            })\n        let rawPath = lineLayer.append(\"path\")\n            .attr(\"d\", lineGen(data))\n            .attr(\"stroke\", COLOR_REGULAR)\n            .attr(\"stroke-width\", \"2px\")\n            .attr(\"fill\", \"none\")\n        return { _rawPath: rawPath, _lineGen: lineGen }\n    }\n    drawFrequentPattern(x, y, data, breakdown, focus, measureName, tooltipLayer, height, axisX, lineGen) {\n        /**\n         * draw frequent-pattern insight\n         */\n        let tickValues = [];\n        let tooltipPathList = [];\n\n        for (let pattern of focus[0].patterns) {\n            let xLeft = x(parseTime(data[pattern.start][breakdown[0].field]));\n            let xRight = x(parseTime(data[pattern.end - 1][breakdown[0].field]));\n            // let yBottom = d3.max(data.slice(pattern.start, pattern.end + 1),\n            //     function (d) { return y(d[measureName]) })\n            let yTop = d3.min(data.slice(pattern.start, pattern.end + 1),\n                function (d) { return y(d[measureName]) })\n\n            tooltipLayer.append(\"line\")\n                .attr(\"x1\", xLeft)\n                .attr(\"y1\", y(data[pattern.start][measureName]))\n                .attr(\"x2\", xLeft)\n                .attr(\"y2\", height - 20)\n                .attr(\"stroke-width\", \"2px\")\n                .attr(\"stroke\", \"black\")\n                .attr(\"stroke-dasharray\", \"6, 3\");\n            tooltipLayer.append(\"line\")\n                .attr(\"x1\", xRight)\n                .attr(\"y1\", y(data[pattern.end][measureName]))\n                .attr(\"x2\", xRight)\n                .attr(\"y2\", height - 20)\n                .attr(\"stroke-width\", \"2px\")\n                .attr(\"stroke\", \"black\")\n                .attr(\"stroke-dasharray\", \"6, 3\");\n\n            tooltipPathList.push(\n                tooltipLayer.append(\"path\")\n                    .attr(\"d\", lineGen(data.slice(pattern.start, pattern.end + 1)))\n                    .attr(\"stroke\", COLOR_FREQUENT)\n                    .attr(\"stroke-width\", \"3px\")\n                    .attr(\"fill\", \"none\"))\n\n            let tooltip = tooltipLayer.append(\"text\")\n                .attr(\"font-size\", \"14px\")\n                .attr(\"font-family\", ENGFONT)\n                .attr(\"font-weight\", \"bold\")\n                .attr(\"fill\", COLOR_FREQUENT);\n            tooltip.append(\"tspan\")\n                .text(pattern.name)\n                .attr(\"dy\", tooltip.selectAll(\"tspan\").node().getBBox().height * 0.9);\n            let textWidth = tooltip.node().getBBox().width;\n            let textHeight = tooltip.node().getBBox().height;\n            tooltip.attr(\"width\", textWidth)\n                .attr(\"height\", textHeight)\n                .attr(\"x\", (xLeft + xRight - textWidth + 10) / 2)\n                .attr(\"y\", yTop - textHeight - 10);\n\n            tickValues.push(parseTime(data[pattern.start][breakdown[0].field]))\n            tickValues.push(parseTime(data[pattern.end][breakdown[0].field]))\n        }\n        axisX.tickValues(tickValues)\n        return tooltipPathList\n\n    }\n}\n\nlet renderTooltip = (tooltipId, containerSelector, tick_format, data, breakdown,\n    tooltipPathList, focus) => {\n    let hoverTooltip = d3.select(containerSelector)\n        .append(\"div\")\n        .attr(\"id\", \"hover-tooltip\")\n        .style(\"z-index\", 2000)\n        .style(\"width\", \"200px\")\n        .style(\"height\", \"115px\")\n        .style(\"opacity\", 0)\n        .style(\"position\", \"absolute\")\n        .style(\"pointer-events\", \"none\")\n        .style(\"padding-left\", \"10px\")\n    let hoverTooltipTitle = hoverTooltip.append(\"div\")\n        .style(\"align-items\", \"center\")\n        .style(\"height\", \"15px\")\n        .style(\"width\", \"100px\")\n        .style(\"border\", `2px solid ${COLOR_TOOLTIP_DARK}`)\n        .style(\"border-radius\", \"4px 4px 0px 0px\")\n        .style(\"padding-left\", \"5px\")\n        .style(\"padding-right\", \"5px\")\n        .style(\"background\", COLOR_TOOLTIP_DARK)\n        .style(\"font\", `8px ${ENGFONT}`)\n        .style(\"font-weight\", \"bold\")\n        .style(\"color\", COLOR_TOOLTIP_LIGHT)\n        .style(\"text-overflow\", \"ellipsis\")\n        .style(\"overflow\", \"hidden\")\n        .style(\"white-space\", \"nowrap\")\n\n    let hoverTooltipContent = hoverTooltip.append(\"div\")\n        .style(\"width\", \"200px\")\n        .style(\"height\", \"100px\")\n        .style(\"border\", `2px solid ${COLOR_TOOLTIP_DARK}`)\n        .style(\"border-radius\", \"0px 4px 4px 4px\")\n        .style(\"background\", COLOR_TOOLTIP_LIGHT)\n    hoverTooltipContent.append(\"span\")\n        .style(\"position\", \"absolute\")\n        .style(\"left\", \"-10px\")\n        .style(\"top\", \"60px\")\n        .style(\"border-width\", \"10px\")\n        .style(\"border-style\", \"dashed solid dashed dashed\")\n        .style(\"border-color\", `transparent ${COLOR_TOOLTIP_DARK} transparent transparent`)\n        .style(\"font-size\", 0)\n        .style(\"line-height\", 0)\n    hoverTooltipContent.append(\"em\")\n        .style(\"position\", \"absolute\")\n        .style(\"left\", \"-4px\")\n        .style(\"top\", \"62px\")\n        .style(\"border-width\", \"8px\")\n        .style(\"border-style\", \"dashed solid dashed dashed\")\n        .style(\"border-color\", `transparent ${COLOR_TOOLTIP_LIGHT} transparent transparent`)\n        .style(\"font-size\", 0)\n        .style(\"line-height\", 0)\n    hoverTooltipContent.append(\"div\")\n        .attr(\"id\", \"tooltip-chart\" + tooltipId)\n    // console.log(\"tooltip-chart\"+tooltipId)\n\n    let tooltipX = d3.scaleLinear()\n        .range([0, 195])\n    let tooltipY = d3.scaleLinear()\n        .range([90, 0]);\n    let tooltipLenGen = d3.line().curve(d3.curveMonotoneX)\n        .x(function (d) {\n            return tooltipX(d.x);\n        })\n        .y(function (d) {\n            return tooltipY(d.y);\n        })\n\n    for (let i = 0; i < tooltipPathList.length; i++) {\n        let pattern = focus[0]['patterns'][i]\n        let tooltipPath = tooltipPathList[i]\n        let tooltipData = []\n        let tooltipAvgData = []\n        for (let i = 0; i < pattern.normalized.length; i++) {\n            tooltipData.push({ x: i, y: pattern.normalized[i] })\n            tooltipAvgData.push({ x: i, y: focus[0].average[i] })\n        }\n        tooltipX.domain([0, pattern.normalized.length - 1]);\n        tooltipY.domain(d3.extent([].concat(\n            // lower boundary minus margin\n            tooltipData.map(function (d) { return d.y * 0.9 }),\n            // upper boundary add margin\n            tooltipData.map(function (d) { return d.y * 1.1 })\n        )));\n        tooltipPath\n            .on(\"mouseover\", function (d) {\n                hoverTooltip.transition()\n                    .duration(200)\n                    .style(\"opacity\", .9)\n            })\n            .on(\"mouseout\", function (d) {\n                hoverTooltip.transition()\n                    .duration(500)\n                    .style(\"opacity\", 0)\n            })\n            .on(\"mousemove\", function (d) {\n                let result = getPosition()\n                let title = tick_format(parseTime(data[pattern.start][breakdown[0].field])) + \"-\" +\n                    tick_format(parseTime(data[pattern.end][breakdown[0].field]))\n                hoverTooltip.style(\"left\", (result.posX + 30) + \"px\")\n                    .style(\"top\", (result.posY - 50) + \"px\")\n                // no need to render chart\n                if (d3.select(\"#tooltip-chart\" + tooltipId).node() === null) return\n                let previousSvg = d3.select(\"#tooltip-chart\" + tooltipId).node().getElementsByTagName(\"svg\")[0]\n                if (previousSvg && previousSvg.getAttribute(\"class\") === title) {\n                    return\n                }\n\n                // render chart\n                hoverTooltipTitle.html(title)\n                d3.select(\"#tooltip-chart\" + tooltipId).selectAll(\"*\").remove()\n                let tooltipLayer = d3.select(\"#tooltip-chart\" + tooltipId)\n                    .append(\"svg\")\n                    .attr(\"class\", title)\n                    .attr(\"width\", \"200\")\n                    .attr(\"height\", \"100\")\n                    .append(\"g\")\n                tooltipLayer.append(\"path\")\n                    .attr(\"d\", tooltipLenGen(tooltipData))\n                    .attr(\"stroke\", \"#FFC111\")\n                    .attr(\"stroke-width\", \"3px\")\n                    .attr(\"fill\", \"none\")\n                tooltipLayer.append(\"path\")\n                    .attr(\"d\", tooltipLenGen(tooltipAvgData))\n                    .attr(\"stroke\", \"#D2CFFD\")\n                    .attr(\"stroke-width\", \"3px\")\n                    .attr(\"fill\", \"none\")\n\n                let legendLayer = tooltipLayer.append(\"g\")\n                    .style(\"font-size\", \"6px\")\n                    .style(\"font-weight\", \"bold\")\n                    .style(\"font-family\", ENGFONT)\n                    .style(\"color\", COLOR_TOOLTIP_DARK)\n                legendLayer.append(\"rect\")\n                    .style(\"width\", \"15px\")\n                    .style(\"height\", \"5px\")\n                    .style(\"fill\", \"#FFC111\")\n                    .style(\"x\", \"6px\")\n                    .style(\"y\", \"6px\")\n                legendLayer.append(\"rect\")\n                    .style(\"width\", \"15px\")\n                    .style(\"height\", \"5px\")\n                    .style(\"fill\", \"#D2CFFD\")\n                    .style(\"x\", \"6px\")\n                    .style(\"y\", \"89px\")\n                legendLayer.append(\"text\")\n                    .attr(\"x\", \"25px\") // 6 + 15 + 4\n                    .attr(\"y\", \"10px\")\n                    .text(\"Selected\")\n                legendLayer.append(\"text\")\n                    .attr(\"x\", \"25px\") // 6 + 15 + 4\n                    .attr(\"y\", \"93px\")\n                    .text(\"Avg.\")\n            })\n    }\n}\n\nlet renderDetailValue = (containerSelector, rawPath, x, y, height,\n    data, breakdown, measureName, tick_format, tooltipLayer) => {\n    let detailValueTooltip = d3.select(containerSelector)\n        .append(\"div\")\n        .attr(\"id\", \"value-tooltip\")\n        .style(\"z-index\", 2000)\n        .style(\"width\", \"fit-content\")\n        .style(\"height\", \"40px\")\n        .style(\"opacity\", 0)\n        .style(\"position\", \"absolute\")\n        .style(\"pointer-events\", \"none\")\n        .style(\"border-radius\", \"4px\")\n        .style(\"background\", \"#FFFFFF\")\n        .style(\"box-shadow\", \"0 0 5px #888888\")\n        .style(\"padding\", \"5px\")\n    let detailValueTitle = detailValueTooltip.append(\"span\")\n        .style(\"font\", `9px ${ENGFONT}`)\n        .style(\"font-weight\", \"bold\")\n        .style(\"display\", \"block\")\n        .style(\"color\", \"#000000\")\n    let detailValueContent = detailValueTooltip.append(\"svg\")\n        .attr(\"width\", \"95px\")\n        .attr(\"height\", \"30px\")\n    let detailValueColor = detailValueContent.append(\"circle\")\n        .attr(\"r\", 4)\n        .attr(\"cx\", \"5px\")\n        .attr(\"cy\", \"12px\")\n    let detailValueText = detailValueContent.append(\"text\")\n        .style(\"font\", `8px ${ENGFONT}`)\n        .style(\"color\", \"#000000\")\n        .attr(\"x\", \"14px\")\n        .attr(\"y\", \"14px\")\n\n    rawPath.on(\"mouseover\", function (d) {\n        detailValueTooltip.transition()\n            .duration(200)\n            .style(\"opacity\", .9)\n        detailValue.transition()\n            .duration(200)\n            .style(\"opacity\", 1)\n    })\n        .on(\"mouseout\", function (d) {\n            // If the mouse is exactly on the data point, \n            // then the mouse will on the circle instead of the path\n            // So here we should keep the tooltip shown when the mouse is still on the circle\n            let currentElement = document.elementFromPoint(d3.event.pageX, d3.event.pageY)\n            if (currentElement !== detailValueCircle.node()) {\n                detailValueTooltip.transition()\n                    .duration(500)\n                    .style(\"opacity\", 0)\n                detailValue.transition()\n                    .duration(500)\n                    .style(\"opacity\", 0)\n            }\n        })\n        .on(\"mousemove\", function (d) {\n            let result = getPosition()\n            let x0 = x.invert(d3.mouse(this)[0])\n            let currentIndex = bisectDate(data, x0, 1)\n            let time0 = parseTime(data[currentIndex - 1][breakdown[0].field])\n            let time1 = parseTime(data[currentIndex][breakdown[0].field])\n            let currentTime = x0 - time0 > time1 - x0 ? time1 : time0\n            let currentValue = currentTime === time0 ? data[currentIndex - 1][measureName] : data[currentIndex][measureName]\n            let title = tick_format(currentTime)\n            detailValueTooltip.style(\"left\", (result.posX + 30) + \"px\")\n                .style(\"top\", (result.posY + 20) + \"px\")\n            detailValueTitle.html(title)\n            detailValueColor.style(\"fill\", COLOR_REGULAR)\n            detailValueText.html(measureName + \": \" + currentValue.toFixed(2))\n\n            detailValueLine.attr(\"x1\", x(currentTime))\n            detailValueLine.attr(\"x2\", x(currentTime))\n            detailValueCircle.attr(\"cx\", x(currentTime))\n            detailValueCircle.attr(\"cy\", y(currentValue))\n            detailValueCircle.attr(\"stroke\", COLOR_REGULAR)\n        })\n\n    let bisectDate = d3.bisector(function (d) { return parseTime(d[breakdown[0].field]) }).left\n    let detailValue = tooltipLayer.append(\"g\")\n        .style(\"opacity\", 0)\n    let detailValueLine = detailValue.append(\"line\")\n        .attr(\"y1\", height - 20)\n        .attr(\"y2\", 0)\n        .attr(\"stroke-width\", \"2px\")\n        .attr(\"stroke\", COLOR_GRID)\n        .attr(\"stroke-dasharray\", \"6, 3\")\n    let detailValueCircle = detailValue.append(\"circle\")\n        .attr(\"r\", 3)\n        .attr(\"fill\", \"#FFFFFF\")\n        .attr(\"stroke-width\", \"2\")\n        .style(\"box-shadow\", \"0 0 5px #888888\")\n        .on(\"mouseover\", function (d) {\n            // FIXME: This is a nit\n            // Even mouse is not on the path, the tooltip will still be shown \n            // but the error area is small\n            detailValueTooltip.transition()\n                .duration(200)\n                .style(\"opacity\", .9)\n            detailValue.transition()\n                .duration(200)\n                .style(\"opacity\", 1)\n        }).on(\"mouseout\", function (d) {\n            // If the mouse is exactly on the data point, \n            // then the mouse will on the circle instead of the path\n            // So here we should hide all the tooltip when moving mouse out of the circle\n            detailValueTooltip.transition()\n                .duration(500)\n                .style(\"opacity\", 0)\n            detailValue.transition()\n                .duration(500)\n                .style(\"opacity\", 0)\n        })\n}\n\nexport default FrequentPattern;","import * as d3 from 'd3';\nimport Chart from '../../chart';\n\nconst ENGFONT = \"OPPOSans\";\nconst COLOR_CLUSTER = \"#74C8F8\";\nconst COLOR_OUTLIER = \"#F72D35\"\nconst COLOR_BG_LINE = \"#AFAFAF\"\nconst SERIES_COLORS = [\"#6C8EF2\", \"#E1944E\", \"#8B65BA\"]\n\n\nclass Clustering extends Chart {\n    constructor() {\n        super();\n        this._x = '';\n        this._y = '';\n    }\n\n    display() {\n        let factData = this.factdata()\n        let breakdown = this.breakdown();\n        let focus = this.focus();\n        // set data\n        factData = factData.sort((a, b) => parseTime(a[breakdown[0].field]) - parseTime(b[breakdown[0].field]))\n\n        let data = factData\n        if (focus.length === 0) return\n\n        // set the dimensions and margins of the graph\n        let chartSize = { width: 314, height: 216 }\n        let margin = {\n            \"top\": 15,\n            \"right\": 20,\n            \"bottom\": 15,\n            \"left\": 20\n        }\n\n        let width = chartSize.width - margin.left - margin.right,\n            height = chartSize.height - margin.top - margin.bottom;\n\n        let containerSelector = this.container()\n        let svg = d3.select(this.container())\n            .append(\"svg\")\n            .attr(\"width\", chartSize.width)\n            .attr(\"height\", chartSize.height)\n            .append(\"g\")\n            .attr(\"transform\", \"translate(\" + (margin.left + 10) + \",\" + margin.top + \")\")\n            .attr(\"font-family\", ENGFONT);\n\n        // set the ranges\n        let x = d3.scaleLinear()\n            .range([0, width])\n        // .padding(0.1);\n        let y = d3.scaleLinear()\n            .range([height, 10]);\n\n        let scatterData = []\n        let clusterCounter = 1\n        let outlierCounter = -1\n        for (let i = 0; i < focus[0][\"cluster\"].length; i++) {\n            for (let point of focus[0][\"cluster\"][i][\"position\"]) {\n                scatterData.push({\n                    \"x\": point[0],\n                    \"y\": point[1],\n                    \"symbol\": clusterCounter\n                })\n            }\n            clusterCounter++\n        }\n        for (let i = 0; i < focus[0][\"outlier\"].length; i++) {\n            for (let point of focus[0][\"outlier\"][i][\"position\"]) {\n                scatterData.push({\n                    \"x\": point[0],\n                    \"y\": point[1],\n                    \"symbol\": outlierCounter\n                })\n            }\n            outlierCounter--\n        }\n\n        // Scale the range of the data in the domains\n        x.domain(d3.extent(scatterData, function (d) { return d.x; }));\n        y.domain(d3.extent(scatterData, function (d) { return d.y; }))\n\n\n        let symbolList = d3.symbols.map(s => d3.symbol().size(18).type(s)())\n        svg.append(\"g\")\n            .selectAll(\"path\")\n            .data(scatterData)\n            .join(\"path\")\n            .attr(\"transform\", d => `translate(${x(d.x)}, ${y(d.y)})`)\n            .attr(\"fill\", d => d.symbol > 0 ? COLOR_CLUSTER : COLOR_OUTLIER)\n            .attr(\"d\", d => d.symbol > 0 ? symbolList[d.symbol % symbolList.length] : symbolList[0])\n\n        let tooltipLayer = svg.append(\"g\")\n        // draw outline of each cluster\n        let valueline = d3.line()\n            .x(function (d) { return d[0]; })\n            .y(function (d) { return d[1]; })\n            .curve(d3.curveCatmullRomClosed)\n        for (let i = 1; i < clusterCounter; i++) {\n            let positions = scatterData.filter(function (d) { return d.symbol === i })\n                .map(function (d) { return [x(d.x), y(d.y)] })\n            if (positions.length > 2) {\n                let polygon = d3.polygonHull(positions)\n                let centroid = d3.polygonCentroid(polygon)\n                tooltipLayer.append(\"g\")\n                    .attr(\"transform\", \"translate(\" + centroid[0] + \",\" + centroid[1] + \") scale(2)\")\n                    .append(\"path\")\n                    .attr(\"d\", () => {\n                        return valueline(polygon.map(function (point) {\n                            return [point[0] - centroid[0], point[1] - centroid[1]]\n                        }))\n                    })\n                    .attr(\"stroke\", \"#000000\")\n                    .attr(\"stroke-width\", \"0.5px\")\n                    .attr(\"fill\", \"none\")\n            }\n        }\n\n        // draw tooltip of each outlier\n        for (let i = -1; i > outlierCounter; i--) {\n            let position = scatterData.filter(function (d) { return d.symbol === i })[0]\n            let p_x = x(position[\"x\"])\n            let p_y = y(position[\"y\"])\n            let outlierText = tooltipLayer.append(\"text\")\n                .attr(\"font-size\", \"10px\")\n                .attr(\"font-family\", ENGFONT)\n                .attr(\"font-weight\", \"bold\")\n                .attr(\"fill\", \"#000000\")\n                .attr(\"y\", p_y + 5)\n                .text(`Outlier ${-i}`)\n            let textWidth = outlierText.node().getBBox().width\n            let textSpan, lineSpan1, lineSpan2\n            if (p_x > width / 2) {\n                if (p_x + 20 > width) {\n                    textSpan = -20 - textWidth\n                    lineSpan1 = -17\n                    lineSpan2 = -8\n                } else {\n                    textSpan = 20\n                    lineSpan1 = 17\n                    lineSpan2 = 8\n                }\n            } else {\n                if (p_x - textWidth - 20 < 0) {\n                    textSpan = 20\n                    lineSpan1 = 17\n                    lineSpan2 = 8\n                } else {\n                    textSpan = -20 - textWidth\n                    lineSpan1 = -17\n                    lineSpan2 = -8\n                }\n            }\n            outlierText.attr(\"x\", p_x + textSpan)\n            tooltipLayer.append(\"line\")\n                .attr(\"x1\", p_x + lineSpan1)\n                .attr(\"x2\", p_x + lineSpan2)\n                .attr(\"y1\", p_y)\n                .attr(\"y2\", p_y)\n                .attr(\"stroke\", \"#000000\")\n                .attr(\"stroke-width\", \"1px\")\n        }\n\n        let tableContainer = d3.select(containerSelector).append(\"div\")\n            .style(\"position\", \"absolute\")\n            .style(\"left\", \"318px\")\n            .style(\"top\", \"10px\")\n            .style(\"font-size\", \"8px\")\n            .style(\"font-family\", ENGFONT)\n            .attr(\"id\", \"overviewTable\")\n\n        let overviewTableContainer = d3.select(containerSelector).append(\"div\")\n            .style(\"position\", \"absolute\")\n            .style(\"left\", \"10px\")\n            .style(\"top\", \"220\")\n            .style(\"font-size\", \"8px\")\n            .style(\"font-family\", ENGFONT)\n        if (focus[0][\"cluster\"].length > 0) {\n            updateOverviewTable(1, overviewTableContainer, symbolList, focus, data, breakdown)\n        }\n\n        // draw cluster table\n        let clusterTable = tableContainer.append(\"table\")\n            .style(\"border\", \"1px solid #000000\")\n            .style(\"border-collapse\", \"collapse\")\n            .style(\"border-spacing\", 0)\n            .attr(\"width\", \"300px\")\n        let headerTd = clusterTable.append(\"thead\")\n            .style(\"background\", \"#eeee\")\n            .append(\"tr\")\n            .selectAll(\"th\")\n            .data([\"Cluster\", \"Number of series\", \"Similarity in cluster\"])\n            .enter()\n            .append(\"th\")\n            .style(\"padding\", \"5px 15px\")\n            .text(function (d) {\n                return d\n            })\n        let tdWidth = headerTd.node().getBoundingClientRect().width + 30 // 30: padding\n        let clusterRows = clusterTable.append(\"tbody\")\n        for (let i = 1; i < clusterCounter; i++) {\n            let row = clusterRows.append(\"tr\")\n            let clusterTd = row.append(\"td\")\n            let clusterUnit = clusterTd\n                .append(\"svg\")\n                .attr(\"width\", tdWidth)\n                .attr(\"height\", 12)\n                .append(\"g\")\n                .attr(\"id\", i)\n            let clusterName = clusterUnit.append(\"text\")\n                .attr(\"font-size\", \"8\")\n                .attr(\"font-family\", ENGFONT)\n                .attr(\"fill\", \"#000000\")\n                .text(`Cluster ${i}`)\n            let textWidth = clusterName.node().getBBox().width\n            clusterUnit.append(\"path\")\n                .attr(\"transform\", `translate(${textWidth + 8}, -3)`)\n                .attr(\"d\", symbolList[i % symbolList.length])\n                .attr(\"fill\", COLOR_CLUSTER)\n            textWidth = clusterUnit.node().getBBox().width\n            let textHeight = clusterUnit.node().getBBox().height\n            clusterUnit.attr(\"transform\", `translate(${tdWidth / 2 - textWidth / 2}, ${textHeight})`)\n                .on(\"click\", function (d, i) {\n                    updateOverviewTable(d3.select(this).attr(\"id\"), overviewTableContainer, symbolList, focus, data, breakdown)\n                })\n            row.append(\"td\")\n                .text(`${focus[0][\"cluster\"][i - 1][\"position\"].length}`)\n                .style(\"text-align\", \"center\")\n            clusterUnit = row.append(\"td\")\n                .append(\"svg\")\n                .attr(\"width\", tdWidth)\n                .attr(\"height\", 12)\n                .append(\"g\")\n            clusterUnit.append(\"rect\")\n                .attr(\"x\", 0)\n                .attr(\"y\", 2)\n                .attr(\"width\", 70)\n                .attr(\"height\", 10)\n                .attr(\"fill\", \"#f3f3f3\")\n            clusterUnit.append(\"rect\")\n                .attr(\"x\", 0)\n                .attr(\"y\", 2)\n                .attr(\"width\", 70 * focus[0][\"cluster\"][i - 1][\"score\"])\n                .attr(\"height\", 10)\n                .attr(\"fill\", COLOR_CLUSTER)\n            clusterUnit.append(\"text\")\n                .attr(\"x\", 75)\n                .attr(\"y\", 10)\n                .text(focus[0][\"cluster\"][i - 1][\"score\"].toFixed(2))\n        }\n\n        // draw outlier table\n        tableContainer = d3.select(containerSelector).append(\"div\")\n            .style(\"position\", \"absolute\")\n            .style(\"left\", \"318px\")\n            .style(\"top\", \"108px\")\n            .style(\"font-size\", \"8px\")\n            .style(\"font-family\", ENGFONT)\n        let outlierTable = tableContainer.append(\"table\")\n            .style(\"border\", \"1px solid #000000\")\n            .style(\"border-collapse\", \"collapse\")\n            .style(\"border-spacing\", 0)\n            .attr(\"width\", \"300px\")\n        headerTd = outlierTable.append(\"thead\")\n            .style(\"background\", \"#eeee\")\n            .append(\"tr\")\n            .selectAll(\"th\")\n            .data([\"Outlier\", \"Anomaly score\"])\n            .enter()\n            .append(\"th\")\n            .style(\"padding\", \"3px 15px\")\n            .text(function (d) {\n                return d\n            })\n        tdWidth = headerTd.node().getBoundingClientRect().width + 30 // 30: padding\n        let outlierRows = outlierTable.append(\"tbody\")\n        for (let i = -1; i > outlierCounter; i--) {\n            let row = outlierRows.append(\"tr\")\n            let outlierTd = row.append(\"td\")\n            let outlierUnit = outlierTd\n                .append(\"svg\")\n                .attr(\"width\", tdWidth)\n                .attr(\"height\", \"12\")\n                .append(\"g\")\n            let outlierName = outlierUnit.append(\"text\")\n                .attr(\"font-size\", \"8\")\n                .attr(\"font-family\", ENGFONT)\n                .attr(\"fill\", \"#000000\")\n                .text(`Outlier ${-i}`)\n            let textWidth = outlierName.node().getBBox().width\n            outlierUnit.append(\"path\")\n                .attr(\"transform\", `translate(${textWidth + 8}, -3)`)\n                .attr(\"d\", symbolList[0])\n                .attr(\"fill\", COLOR_OUTLIER)\n            textWidth = outlierUnit.node().getBBox().width\n            let textHeight = outlierName.node().getBBox().height\n            outlierUnit.attr(\"transform\", `translate(${tdWidth / 2 - textWidth / 2}, ${textHeight})`)\n            outlierUnit = row.append(\"td\")\n                .append(\"svg\")\n                .attr(\"width\", tdWidth)\n                .attr(\"height\", 12)\n                .append(\"g\")\n                .attr(\"transform\", `translate(25, 0)`)\n            outlierUnit.append(\"rect\")\n                .attr(\"x\", 0)\n                .attr(\"y\", 2)\n                .attr(\"width\", 70)\n                .attr(\"height\", 10)\n                .attr(\"fill\", \"#f3f3f3\")\n            outlierUnit.append(\"rect\")\n                .attr(\"x\", 0)\n                .attr(\"y\", 2)\n                .attr(\"width\", 70 * focus[0][\"outlier\"][-i - 1][\"score\"])\n                .attr(\"height\", 10)\n                .attr(\"fill\", COLOR_OUTLIER)\n            outlierUnit.append(\"text\")\n                .attr(\"x\", 75)\n                .attr(\"y\", 10)\n                .text(focus[0][\"outlier\"][-i - 1][\"score\"].toFixed(2))\n        }\n\n        return svg;\n    }\n}\n\nconst updateOverviewTable = (clusterNumber, tableContainer, symbolList, focus, data, breakdown) => {\n    // draw overview table\n    tableContainer.selectAll(\"*\").remove()\n    let overviewTable = tableContainer.append(\"table\")\n        .style(\"border\", \"1px solid #000000\")\n        .style(\"border-collapse\", \"collapse\")\n        .style(\"border-spacing\", 0)\n        .attr(\"width\", \"600px\")\n    let overviewTitleUnit = overviewTable.append(\"thead\")\n        .style(\"background\", \"#eeee\")\n        .style(\"text-align\", \"left\")\n        .append(\"tr\")\n        .append(\"th\")\n        .style(\"padding\", \"3px 15px\")\n        .attr(\"colspan\", 2)\n        .append(\"svg\")\n        .attr(\"width\", 100)\n        .attr(\"height\", 12)\n        .append(\"g\")\n    let overviewTitle = overviewTitleUnit.append(\"text\")\n        .attr(\"font-size\", \"8\")\n        .attr(\"font-family\", ENGFONT)\n        .attr(\"fill\", \"#000000\")\n        .text(`Overview: Cluster ${clusterNumber}`)\n    let textWidth = overviewTitle.node().getBBox().width\n    overviewTitleUnit.append(\"path\")\n        .attr(\"transform\", `translate(${textWidth + 8}, -3)`)\n        .attr(\"d\", symbolList[clusterNumber])\n        .attr(\"fill\", COLOR_CLUSTER)\n    textWidth = overviewTitleUnit.node().getBBox().width\n    let textHeight = overviewTitle.node().getBBox().height\n    overviewTitleUnit.attr(\"transform\", `translate(5, ${textHeight})`)\n    let overviewRows = overviewTable.append(\"tbody\")\n    for (let i = 0; i < focus[0][\"variable\"].length; i++) {\n        let variableName = focus[0][\"variable\"][i][\"name\"]\n        let row = overviewRows.append(\"tr\")\n        // draw variable name\n        let overviewTd = row.append(\"td\")\n            .style(\"border\", \"1px solid #000000\")\n            .style(\"width\", \"50px\")\n        let overviewUnit = overviewTd\n            .append(\"svg\")\n            .attr(\"width\", 50)\n            .attr(\"height\", 30)\n            .append(\"g\")\n        let title = overviewUnit.append(\"text\")\n            .style(\"font-size\", \"8px\")\n            .text(variableName)\n        overviewUnit.append(\"rect\")\n            .attr(\"x\", title.node().getBBox().x)\n            .attr(\"y\", title.node().getBBox().y)\n            .attr(\"width\", title.node().getBBox().width)\n            .attr(\"height\", title.node().getBBox().height)\n            .attr(\"fill\", SERIES_COLORS[i % SERIES_COLORS.length])\n        let textWidth = title.node().getBBox().width\n        title.node().remove()\n        overviewUnit.append(\"text\")\n            .style(\"font-size\", \"8px\")\n            .text(variableName)\n        overviewUnit.attr(\"transform\", `translate(${25 - textWidth / 2}, 18)`)\n\n        // draw variable line\n        overviewTd = row.append(\"td\")\n            .style(\"border\", \"1px solid #000000\")\n            .style(\"width\", \"550px\")\n        overviewUnit = overviewTd\n            .append(\"svg\")\n            .attr(\"width\", 550)\n            .attr(\"height\", 30)\n            .append(\"g\")\n        // 1. series not in this cluster\n        let seriesInClusterIndex = new Map()\n        for (let series of focus[0][\"cluster\"][clusterNumber - 1][\"member\"]) {\n            seriesInClusterIndex.set(series[variableName], 1)\n        }\n        let lineX = d3.scaleTime()\n            .range([0, 550])\n        lineX.domain(d3.extent(data, function (d) { return parseTime(d[breakdown[0].field]); }))\n        let lineY = d3.scaleLinear()\n            .range([30, 0]);\n        for (let series of focus[0][\"variable\"][i][\"member\"]) {\n            if (!seriesInClusterIndex.has(series)) {\n                lineY.domain(d3.extent([].concat(data.map(function (d) { return d[series] }))))\n                let lineGen = d3.line().curve(d3.curveMonotoneX)\n                    .x(function (d) {\n                        return lineX(parseTime(d[breakdown[0].field]));\n                    })\n                    .y(function (d) {\n                        return lineY(d[series]);\n                    })\n                overviewUnit.append(\"path\")\n                    .attr(\"d\", lineGen(data))\n                    .attr(\"stroke\", COLOR_BG_LINE)\n                    .attr(\"stroke-width\", \"1px\")\n                    .attr(\"opacity\", \"20%\")\n                    .attr(\"fill\", \"none\")\n            }\n        }\n        for (let series of seriesInClusterIndex.keys()) {\n            lineY.domain(d3.extent([].concat(data.map(function (d) { return d[series] }))))\n            let lineGen = d3.line().curve(d3.curveMonotoneX)\n                .x(function (d) {\n                    return lineX(parseTime(d[breakdown[0].field]));\n                })\n                .y(function (d) {\n                    return lineY(d[series]);\n                })\n            overviewUnit.append(\"path\")\n                .attr(\"d\", lineGen(data))\n                .attr(\"stroke\", COLOR_BG_LINE)\n                .attr(\"stroke-width\", \"1px\")\n                .attr(\"opacity\", \"80%\")\n                .attr(\"fill\", \"none\")\n        }\n        lineY.domain(d3.extent([].concat(data.map(function (d) { return d[focus[0][\"cluster\"][clusterNumber - 1][\"representation\"][variableName]] }))))\n        let lineGen = d3.line().curve(d3.curveMonotoneX)\n            .x(function (d) {\n                return lineX(parseTime(d[breakdown[0].field]));\n            })\n            .y(function (d) {\n                return lineY(d[focus[0][\"cluster\"][clusterNumber - 1][\"representation\"][variableName]]);\n            })\n        overviewUnit.append(\"path\")\n            .attr(\"d\", lineGen(data))\n            .attr(\"stroke\", SERIES_COLORS[i])\n            .attr(\"stroke-width\", \"1px\")\n            .attr(\"fill\", \"none\")\n    }\n}\n\nconst parseTime = (date) => {\n    if (d3.timeParse(\"%Y-%m-%d\")(date))\n        return d3.timeParse(\"%Y-%m-%d\")(date);\n    else if (d3.timeParse(\"%Y/%m/%d\")(date))\n        return d3.timeParse(\"%Y/%m/%d\")(date);\n    else if (d3.timeParse(\"%Y-%m\")(date))\n        return d3.timeParse(\"%Y-%m\")(date);\n    else if (d3.timeParse(\"%Y/%m\")(date))\n        return d3.timeParse(\"%Y/%m\")(date);\n    else if (d3.timeParse(\"%Y\")(date))\n        return d3.timeParse(\"%Y\")(date);\n    else if (d3.timeParse(\"%Y-%m-%dT%H:%M:%S.%fZ\")(date))\n        return d3.timeParse(\"%Y-%m-%dT%H:%M:%S.%fZ\")(date)\n    else return date\n}\n\nexport default Clustering;","import * as d3 from 'd3';\r\nimport Chart from '../../chart';\r\n\r\nconst ENGFONT = \"OPPOSans\";\r\nconst COLOR_REGULAR = \"#6C8EF2\";\r\nconst COLOR_CONFIDENCE = \"#E4E4E4\";\r\nconst TRANSPARENCY_CONFIDENCE = 0.7;\r\nconst COLOR_GRID = \"#E6E6E6\";\r\nconst COLOR_AXIS = \"#000000\";\r\n\r\nclass Forecasting extends Chart {\r\n    constructor() {\r\n        super();\r\n        this._x = '';\r\n        this._y = '';\r\n    }\r\n\r\n    display() {\r\n        let factData = this.factdata();\r\n        let measure = this.measure();\r\n        let breakdown = this.breakdown();\r\n        let focus = this.focus();\r\n\r\n        // set data\r\n        factData = factData.sort((a, b) => parseTime(a[breakdown[0].field]) - parseTime(b[breakdown[0].field]))\r\n        let measureName = measure[0].aggregate === 'count' ? \"COUNT\" : measure[0].field\r\n\r\n        // set the dimensions and margins of the graph\r\n        let chartSize = { width: 600, height: 280 }\r\n        let margin = {\r\n            \"top\": 15,\r\n            \"right\": 20,\r\n            \"bottom\": 15,\r\n            \"left\": 20\r\n        }\r\n        let tickWidth = 2\r\n\r\n        let width = chartSize.width - margin.left - margin.right,\r\n            height = chartSize.height - margin.top - margin.bottom;\r\n\r\n        let containerSelector = this.container();\r\n        let svg = d3.select(containerSelector)\r\n            .append(\"svg\")\r\n            .attr(\"width\", chartSize.width)\r\n            .attr(\"height\", chartSize.height)\r\n            .append(\"g\")\r\n            .attr(\"transform\", \"translate(\" + (margin.left + 10) + \",\" + margin.top + \")\")\r\n            .attr(\"font-family\", ENGFONT);\r\n\r\n        // set the ranges\r\n        let x = d3.scaleTime()\r\n            .range([0, width - 20])\r\n        // .padding(0.1);\r\n        let y = d3.scaleLinear()\r\n            .range([height - 20, 0]);\r\n\r\n        let pred = []\r\n        let timeDelta = parseTime(factData[1][breakdown[0].field]) - parseTime(factData[0][breakdown[0].field])\r\n        for (let i = 1; i <= focus[0].value.length; i++) {\r\n            let current = {}\r\n            current[breakdown[0].field] = new Date(parseTime(factData[factData.length - 1][breakdown[0].field]).getTime() + timeDelta * i)\r\n            current['value'] = focus[0].value[i - 1]\r\n            current['up'] = focus[0].up[i - 1]\r\n            current['low'] = focus[0].low[i - 1]\r\n            pred.push(current)\r\n        }\r\n        // Scale the range of the data in the domains\r\n        x.domain(d3.extent([parseTime(factData[0][breakdown[0].field]), pred[pred.length - 1][breakdown[0].field]]));\r\n        y.domain(d3.extent([].concat(\r\n            // lower boundary minus margin\r\n            factData.map(function (d) { return d[measure[0].field] * 0.85 }),\r\n            // upper boundary add margin\r\n            factData.map(function (d) { return d[measure[0].field] * 1.15 })\r\n        )));\r\n\r\n        // add the x Axis\r\n        let format_TicksCount = formatTicksCount(factData[0][breakdown[0].field]);\r\n        let tick_format = formatTick(factData[0][breakdown[0].field]);\r\n        let axisX = d3.axisBottom(x).tickFormat(tick_format)\r\n        if (format_TicksCount === d3.timeYear) {\r\n            axisX.ticks(format_TicksCount)\r\n        }\r\n\r\n        let areaGen = d3.area()\r\n            .x(function (d) {\r\n                return x(d[breakdown[0].field]);\r\n            })\r\n            .y0(function (d) {\r\n                return y(d['low']);\r\n            })\r\n            .y1(function (d) {\r\n                return y(d['up']);\r\n            })\r\n        svg.append('g').selectAll('path.area')\r\n            .data(pred)\r\n            .enter()\r\n            .append('path')\r\n            .attr('class', 'area')\r\n            .attr('d', areaGen(pred))\r\n            .attr('fill', COLOR_CONFIDENCE)\r\n            .attr('opacity', TRANSPARENCY_CONFIDENCE)\r\n\r\n\r\n        let lineLayer = svg.append(\"g\").attr('class', 'lineLayer')\r\n\r\n        lineLayer.append('g').selectAll('line.line')\r\n            .data(y.ticks(5)).enter().append('line')\r\n            .attr('x1', 0)\r\n            .attr('x2', width - 20)\r\n            .attr('y1', function (d) { return y(d) })\r\n            .attr('y2', function (d) { return y(d) })\r\n            .attr('stroke', COLOR_GRID)\r\n            .attr('stroke-width', '2px')\r\n\r\n        let lineGen = d3.line().curve(d3.curveMonotoneX)\r\n            .x(function (d) {\r\n                return x(parseTime(d[breakdown[0].field]));\r\n            })\r\n            .y(function (d) {\r\n                return y(d[measureName]);\r\n            })\r\n        let lineGenPred = d3.line().curve(d3.curveMonotoneX)\r\n            .x(function (d) {\r\n                return x(d[breakdown[0].field]);\r\n            })\r\n            .y(function (d) {\r\n                return y(d['value']);\r\n            })\r\n\r\n        lineLayer.append('path')\r\n            .attr('d', lineGenPred(pred))\r\n            .attr('stroke', COLOR_REGULAR)\r\n            .attr('stroke-width', '3px')\r\n            .attr('fill', 'none')\r\n            .attr('stroke-dasharray', '8px')\r\n\r\n        console.log(pred)\r\n        let rawPath = lineLayer.append('path')\r\n            .attr('d', lineGen(factData))\r\n            .attr('stroke', COLOR_REGULAR)\r\n            .attr('stroke-width', '3px')\r\n            .attr('fill', 'none')\r\n\r\n        svg.append(\"line\")\r\n            .attr(\"x1\", x(pred[0][breakdown[0].field]))\r\n            .attr(\"y1\", height - 20)\r\n            .attr(\"x2\", x(pred[0][breakdown[0].field]))\r\n            .attr(\"y2\", y(pred[0]['value']))\r\n            .attr(\"stroke\", \"black\")\r\n            .attr(\"stroke-width\", \"1px\")\r\n            .attr(\"stroke-dasharray\", \"2px\")\r\n\r\n        let tickValues = [];\r\n        tickValues.push(parseTime(factData[0][breakdown[0].field]))\r\n        tickValues.push(pred[0][breakdown[0].field])\r\n        tickValues.push(pred[pred.length - 1][breakdown[0].field])\r\n        axisX.tickValues(tickValues)\r\n\r\n        let tooltipLayer = svg.append(\"g\").attr(\"class\", \"tooltip\");\r\n\r\n        renderDetailValue(containerSelector, rawPath, x, y, height, factData, breakdown, measureName, tick_format, tooltipLayer)\r\n\r\n        svg.append(\"g\")\r\n            .attr(\"class\", \"xAxis\")\r\n            .attr(\"transform\", \"translate(0,\" + (height - 20) + \")\")\r\n            .call(axisX)\r\n            .call(g => {\r\n                g.attr(\"font-size\", '10px');\r\n                g.attr(\"font-family\", ENGFONT);\r\n                g.attr(\"font-weight\", 'light')\r\n\r\n                let domainD = g.selectAll(\".domain\").attr(\"d\");\r\n                domainD = domainD.replace(\"6V\", (6 * chartSize.height / 320) + \"V\")\r\n                domainD = domainD.replace(\"V6\", \"V\" + (6 * chartSize.height / 320))\r\n                g.selectAll(\".domain\").attr(\"d\", domainD).attr(\"stroke-width\", tickWidth);\r\n                g.selectAll(\".tick\")\r\n                    .selectAll(\"line\")\r\n                    .attr(\"stroke\", COLOR_AXIS)\r\n                    .attr(\"stroke-width\", tickWidth)\r\n                    .attr(\"y2\", 5);\r\n\r\n                g.selectAll(\"text\")\r\n                    .attr(\"y\", 10)\r\n                // .attr(\"transform\", 'rotate(-20)')\r\n                // .attr(\"style\", 'text-anchor: end')\r\n            });\r\n\r\n        // add the y Axis\r\n        svg.append(\"g\")\r\n            .attr(\"class\", \"yAxis\")\r\n            // .attr(\"transform\", `translate(,0)`)\r\n            .call(d3.axisLeft(y).ticks(5).tickFormat(function (d) {\r\n                if ((d / 1000000) >= 1) {\r\n                    d = d / 1000000 + \"M\";\r\n                } else if ((d / 1000) >= 1) {\r\n                    d = d / 1000 + \"K\";\r\n                }\r\n                return d;\r\n            }))\r\n            .call(g => {\r\n                g.attr(\"font-size\", '10px')\r\n                g.attr(\"font-weight\", 'light')\r\n                g.attr(\"font-family\", ENGFONT)\r\n                let domainD = g.selectAll(\".domain\").attr(\"d\");\r\n                domainD = domainD.replace(\"M-6\", \"M-\" + (6 * chartSize.width / 640))\r\n                domainD = domainD.replace(\"H-6\", \"H-\" + (6 * chartSize.width / 640))\r\n                g.selectAll(\".domain\").attr(\"d\", domainD).attr(\"stroke-width\", tickWidth);\r\n                g.selectAll(\".tick\")\r\n                    .select(\"line\")\r\n                    .attr(\"stroke\", COLOR_AXIS)\r\n                    .attr(\"stroke-width\", tickWidth)\r\n                    .attr(\"x2\", -5);\r\n\r\n                g.selectAll(\"text\")\r\n                    .attr(\"x\", -10);\r\n            })\r\n        return svg;\r\n    }\r\n}\r\n\r\nlet renderDetailValue = (containerSelector, rawPath, x, y, height,\r\n    data, breakdown, measureName, tick_format, tooltipLayer) => {\r\n    let detailValueTooltip = d3.select(containerSelector)\r\n        .append(\"div\")\r\n        .style(\"width\", \"95px\")\r\n        .style(\"height\", \"40px\")\r\n        .style(\"opacity\", 0)\r\n        .style(\"position\", \"absolute\")\r\n        .style(\"pointer-events\", \"none\")\r\n        .style(\"border-radius\", \"4px\")\r\n        .style(\"background\", \"#FFFFFF\")\r\n        .style(\"box-shadow\", \"0 0 5px #888888\")\r\n        .style(\"padding\", \"5px\")\r\n    let detailValueTitle = detailValueTooltip.append(\"span\")\r\n        .style(\"font\", `9px ${ENGFONT}`)\r\n        .style(\"font-weight\", \"bold\")\r\n        .style(\"display\", \"block\")\r\n        .style(\"color\", \"#000000\")\r\n    let detailValueContent = detailValueTooltip.append(\"svg\")\r\n        .attr(\"width\", \"95px\")\r\n        .attr(\"height\", \"30px\")\r\n    let detailValueColor = detailValueContent.append(\"circle\")\r\n        .attr(\"r\", 4)\r\n        .attr(\"cx\", \"5px\")\r\n        .attr(\"cy\", \"12px\")\r\n    let detailValueText = detailValueContent.append(\"text\")\r\n        .style(\"font\", `8px ${ENGFONT}`)\r\n        .style(\"color\", \"#000000\")\r\n        .attr(\"x\", \"14px\")\r\n        .attr(\"y\", \"14px\")\r\n\r\n    rawPath.on(\"mouseover\", function (d) {\r\n        detailValueTooltip.transition()\r\n            .duration(200)\r\n            .style(\"opacity\", .9)\r\n        detailValue.transition()\r\n            .duration(200)\r\n            .style(\"opacity\", 1)\r\n    })\r\n        .on(\"mouseout\", function (d) {\r\n            // If the mouse is exactly on the data point, \r\n            // then the mouse will on the circle instead of the path\r\n            // So here we should keep the tooltip shown when the mouse is still on the circle\r\n            let currentElement = document.elementFromPoint(d3.event.pageX, d3.event.pageY)\r\n            if (currentElement !== detailValueCircle.node()) {\r\n                detailValueTooltip.transition()\r\n                    .duration(500)\r\n                    .style(\"opacity\", 0)\r\n                detailValue.transition()\r\n                    .duration(500)\r\n                    .style(\"opacity\", 0)\r\n            }\r\n        })\r\n        .on(\"mousemove\", function (d) {\r\n            let x0 = x.invert(d3.mouse(this)[0])\r\n            let currentIndex = bisectDate(data, x0, 1)\r\n            let time0 = parseTime(data[currentIndex - 1][breakdown[0].field])\r\n            let time1 = parseTime(data[currentIndex][breakdown[0].field])\r\n            let currentTime = x0 - time0 > time1 - x0 ? time1 : time0\r\n            let currentValue = currentTime === time0 ? data[currentIndex - 1][measureName] : data[currentIndex][measureName]\r\n            let title = tick_format(currentTime)\r\n            detailValueTooltip.style(\"left\", (d3.mouse(this)[0] + 30) + \"px\")\r\n                .style(\"top\", (d3.mouse(this)[1] + 20) + \"px\")\r\n            detailValueTitle.html(title)\r\n            detailValueColor.style(\"fill\", COLOR_REGULAR)\r\n            detailValueText.html(measureName + \": \" + currentValue)\r\n\r\n            detailValueLine.attr(\"x1\", x(currentTime))\r\n            detailValueLine.attr(\"x2\", x(currentTime))\r\n            detailValueCircle.attr(\"cx\", x(currentTime))\r\n            detailValueCircle.attr(\"cy\", y(currentValue))\r\n            detailValueCircle.attr(\"stroke\", COLOR_REGULAR)\r\n        })\r\n\r\n    let bisectDate = d3.bisector(function (d) { return parseTime(d[breakdown[0].field]) }).left\r\n    let detailValue = tooltipLayer.append(\"g\")\r\n        .style(\"opacity\", 0)\r\n    let detailValueLine = detailValue.append(\"line\")\r\n        .attr(\"y1\", height - 20)\r\n        .attr(\"y2\", 0)\r\n        .attr(\"stroke-width\", \"2px\")\r\n        .attr(\"stroke\", COLOR_GRID)\r\n        .attr(\"stroke-dasharray\", \"6, 3\")\r\n    let detailValueCircle = detailValue.append(\"circle\")\r\n        .attr(\"r\", 3)\r\n        .attr(\"fill\", \"#FFFFFF\")\r\n        .attr(\"stroke-width\", \"2\")\r\n        .style(\"box-shadow\", \"0 0 5px #888888\")\r\n        .on(\"mouseover\", function (d) {\r\n            // FIXME: This is a nit\r\n            // Even mouse is not on the path, the tooltip will still be shown \r\n            // but the error area is small\r\n            detailValueTooltip.transition()\r\n                .duration(200)\r\n                .style(\"opacity\", .9)\r\n            detailValue.transition()\r\n                .duration(200)\r\n                .style(\"opacity\", 1)\r\n        }).on(\"mouseout\", function (d) {\r\n            // If the mouse is exactly on the data point, \r\n            // then the mouse will on the circle instead of the path\r\n            // So here we should hide all the tooltip when moving mouse out of the circle\r\n            detailValueTooltip.transition()\r\n                .duration(500)\r\n                .style(\"opacity\", 0)\r\n            detailValue.transition()\r\n                .duration(500)\r\n                .style(\"opacity\", 0)\r\n        })\r\n}\r\n\r\nconst parseTime = (date) => {\r\n    if (d3.timeParse(\"%Y-%m-%d\")(date))\r\n        return d3.timeParse(\"%Y-%m-%d\")(date);\r\n    else if (d3.timeParse(\"%Y/%m/%d\")(date))\r\n        return d3.timeParse(\"%Y/%m/%d\")(date);\r\n    else if (d3.timeParse(\"%Y-%m\")(date))\r\n        return d3.timeParse(\"%Y-%m\")(date);\r\n    else if (d3.timeParse(\"%Y/%m\")(date))\r\n        return d3.timeParse(\"%Y/%m\")(date);\r\n    else if (d3.timeParse(\"%Y\")(date))\r\n        return d3.timeParse(\"%Y\")(date);\r\n    else if (d3.timeParse(\"%Y-%m-%dT%H:%M:%S.%fZ\")(date))\r\n        return d3.timeParse(\"%Y-%m-%dT%H:%M:%S.%fZ\")(date)\r\n    else return date\r\n}\r\nconst formatTick = (date) => {\r\n    if (d3.timeParse(\"%Y-%m-%d\")(date))\r\n        return d3.timeFormat(\"%Y-%-m-%-d\");\r\n    else if (d3.timeParse(\"%Y/%m/%d\")(date))\r\n        return d3.timeFormat(\"%Y/%-m/%-d\")\r\n    else if (d3.timeParse(\"%Y-%m\")(date))\r\n        return d3.timeFormat(\"%Y-%m\")\r\n    else if (d3.timeParse(\"%Y/%m\")(date))\r\n        return d3.timeFormat(\"%Y/%m\")\r\n    else if (d3.timeParse(\"%Y\")(date))\r\n        return d3.timeFormat(\"%Y\")\r\n    else if (d3.timeParse(\"%Y-%m-%dT%H:%M:%S.%fZ\")(date))\r\n        return d3.timeFormat(\"%m/%d %H\")\r\n    else\r\n        return \"\"\r\n}\r\n\r\nconst formatTicksCount = (date) => {\r\n    if (d3.timeParse(\"%Y-%m-%d\")(date))\r\n        return d3.timeDay\r\n    else if (d3.timeParse(\"%Y/%m/%d\")(date))\r\n        return d3.timeDay\r\n    else if (d3.timeParse(\"%Y-%m\")(date))\r\n        return d3.timeMonth\r\n    else if (d3.timeParse(\"%Y/%m\")(date))\r\n        return d3.timeMonth\r\n    else if (d3.timeParse(\"%Y\")(date))\r\n        return d3.timeYear\r\n}\r\n\r\n\r\nexport default Forecasting;","import * as d3 from \"d3\";\nimport Chart from \"../../chart\";\nimport { tooltipContainerId } from \"../constant/getContainer\";\nimport { getPosition } from \"../constant/getPosition\";\nimport { parseTime, formatTick, formatTicksCount } from '../constant/timeConstant'\nconst ENGFONT = \"OPPOSans\";\nconst COLOR_REGULAR = \"#808080\";\nconst COLOR_CONF = \"#E4E4E4\";\nconst COLOR_OUTLIER = \"#F72D35\"\nconst COLOR_GRID = \"#E6E6E6\";\nconst COLOR_AXIS = \"#000000\";\n\nclass UnivariateOutlier extends Chart {\n    constructor() {\n        super();\n        this._x = \"\";\n        this._y = \"\";\n    }\n\n    display() {\n\n        let factData = this.factdata()\n        let measure = this.measure();\n        let breakdown = this.breakdown();\n        let focus = this.focus();\n        // set data\n        factData = factData.sort((a, b) => parseTime(a[breakdown[0].field]) - parseTime(b[breakdown[0].field]))\n\n        let data = factData\n        let measureName = measure[0].aggregate === \"count\" ? \"COUNT\" : measure[0].field\n        if (focus.length === 0) return\n\n        // set the dimensions and margins of the graph\n        let chartSize = { width: 600, height: 280 }\n        let margin = {\n            \"top\": 15,\n            \"right\": 20,\n            \"bottom\": 15,\n            \"left\": 20\n        }\n        let tickSize = 10\n        let tickWidth = 2\n        let width = chartSize.width - margin.left - margin.right,\n            height = chartSize.height - margin.top - margin.bottom;\n\n        let containerSelector = tooltipContainerId\n        let svg = d3.select(this.container())\n            .append(\"svg\")\n            .attr(\"width\", chartSize.width)\n            .attr(\"height\", chartSize.height)\n            .append(\"g\")\n            .attr(\"transform\", \"translate(\" + (margin.left + 10) + \",\" + margin.top + \")\")\n            .attr(\"font-family\", ENGFONT);\n\n        // set the ranges\n        let x = d3.scaleTime()\n            .range([0, width - 10])\n        // .padding(0.1);\n        let y = d3.scaleLinear()\n            // 20 = 5(tick) + 5(margin) + 10(text)\n            .range([height - 20, 0]);\n\n        // Scale the range of the data in the domains\n        x.domain(d3.extent(data, function (d) { return parseTime(d[breakdown[0].field]); }));\n        y.domain(d3.extent([].concat(\n            data.map(function (d) { return d[measure[0].field] }),\n            // lower.map(function (d) { return d* 0.95 }),\n            // heigher.map(function (d) { return d* 1.05}),\n            // lower boundary minus margin\n            data.map(function (d) { return focus[0]['lower'] * 0.95 }),\n            // upper boundary add margin\n            data.map(function (d) { return focus[0]['upper'] * 1.05 })\n        )));\n\n        // add the x Axis\n        let format_TicksCount = formatTicksCount(data[0][breakdown[0].field]);\n        let tick_format = formatTick(data[0][breakdown[0].field]);\n        let axisX = d3.axisBottom(x).tickFormat(tick_format)\n        if (format_TicksCount === d3.timeYear) {\n            axisX.ticks(format_TicksCount)\n        }\n\n        let lineLayer = svg.append(\"g\").attr(\"class\", \"lineLayer\")\n\n        lineLayer.append(\"g\").selectAll(\"line.line\")\n            .data(y.ticks(5)).enter().append(\"line\")\n            .attr(\"x1\", 0)\n            .attr(\"x2\", chartSize.width)\n            .attr(\"y1\", function (d) { return y(d) })\n            .attr(\"y2\", function (d) { return y(d) })\n            .attr(\"stroke\", COLOR_GRID)\n            .attr(\"stroke-width\", \"2px\")\n\n        // draw confidence interval first as background\n        let conf_data = []\n        for (let i = 0; i < focus[0]['lower'].length; i++) {\n            conf_data.push({\n                'time': data[i][breakdown[0].field],\n                'lower': focus[0]['lower'][i],\n                'upper': focus[0]['upper'][i]\n            })\n        }\n        let conf_int = d3.area().curve(d3.curveMonotoneX)\n            .x(function (d) { return x(parseTime(d['time'])) })\n            .y0(function (d) { return y(d['lower']) })\n            .y1(function (d) { return y(d['upper']) })\n        lineLayer.append(\"path\")\n            .attr(\"stroke\", COLOR_CONF)\n            .attr(\"fill\", COLOR_CONF)\n            .attr(\"opacity\", 0.7)\n            .attr(\"d\", conf_int(conf_data))\n\n        let lineGen = d3.line().curve(d3.curveMonotoneX)\n            .x(function (d) {\n                return x(parseTime(d[breakdown[0].field]));\n            })\n            .y(function (d) {\n                return y(d[measureName]);\n            })\n        let forecastLineGen = d3.line().curve(d3.curveMonotoneX)\n            .x(function (d) {\n                return x(parseTime(d.x));\n            })\n            .y(function (d) {\n                return y(d.y);\n            })\n        let rawPath = lineLayer.append(\"path\")\n            .attr(\"d\", lineGen(data))\n            .attr(\"stroke\", COLOR_REGULAR)\n            .attr(\"stroke-width\", \"3px\")\n            .attr(\"fill\", \"none\")\n\n        let tooltipLayer = svg.append(\"g\").attr(\"class\", \"tooltip\");\n        let tickValues = [];\n        for (let outlier of focus) {\n            let outlierX, outlierY, up, start, end\n            if (outlier.scope[0] !== outlier.scope[1]) {\n                start = Math.max(0, outlier.scope[0] - 1)\n                end = Math.min(data.length - 1, outlier.scope[1] + 1)\n\n                let startX = x(parseTime(data[start][breakdown[0].field]))\n                let endX = x(parseTime(data[end][breakdown[0].field]))\n\n                outlierX = (startX + endX) / 2\n                let middle = Math.floor((start + end) / 2)\n                if (data[middle][measureName] < focus[0]['lower'][middle]) {\n                    outlierY = d3.max(data.slice(start, end + 1),\n                        function (d) { return y(d[measureName]) })\n                    up = false\n                } else {\n                    // else if (data[middle][measureName] > data[middle][measure[0].upper]) {\n                    outlierY = d3.min(data.slice(start, end + 1),\n                        function (d) { return y(d[measureName]) })\n                    up = true\n                }\n\n                tooltipLayer.append(\"line\")\n                    .attr(\"x1\", startX)\n                    .attr(\"y1\", y(data[start][measureName]))\n                    .attr(\"x2\", startX)\n                    .attr(\"y2\", height - 20)\n                    .attr(\"stroke\", \"black\")\n                    .attr(\"stroke-dasharray\", \"6, 3\");\n                tooltipLayer.append(\"line\")\n                    .attr(\"x1\", endX)\n                    .attr(\"y1\", y(data[end][measureName]))\n                    .attr(\"x2\", endX)\n                    .attr(\"y2\", height - 20)\n                    .attr(\"stroke\", \"black\")\n                    .attr(\"stroke-dasharray\", \"6, 3\");\n                tickValues.push(parseTime(data[start][breakdown[0].field]))\n                tickValues.push(parseTime(data[end][breakdown[0].field]))\n            } else {\n                start = Math.max(0, outlier.start - 1)\n                end = Math.min(data.length, outlier.scope[1] + 1)\n                outlierX = x(parseTime(data[outlier.scope[0]][breakdown[0].field]))\n                outlierY = y(data[outlier.scope[0]][measureName])\n                if (data[outlier.scope[0]][measureName] < focus[0]['lower'][outlier.scope[0]]) {\n                    up = false\n                } else {\n                    // else if (data[outlier.start][measureName] > data[outlier.start][measure[0].upper]) {\n                    up = true\n                }\n\n                tooltipLayer.append(\"line\")\n                    .attr(\"x1\", outlierX)\n                    .attr(\"y1\", outlierY)\n                    .attr(\"x2\", outlierX)\n                    .attr(\"y2\", height - 20)\n                    .attr(\"stroke\", \"black\")\n                    .attr(\"stroke-dasharray\", \"6, 3\");\n                tooltipLayer.append(\"circle\").attr(\"class\", \"focusDot\")\n                    .attr(\"cx\", outlierX)\n                    .attr(\"cy\", outlierY)\n                    .attr(\"r\", \"4px\")\n                    .attr(\"stroke\", COLOR_OUTLIER)\n                    .attr(\"fill\", COLOR_OUTLIER)\n                tickValues.push(parseTime(data[outlier.scope[0]][breakdown[0].field]))\n            }\n            let forecastPts = []\n            let ptIndex = start\n            if (outlier.scope[0] !== 0) {\n                forecastPts.push({\n                    x: data[ptIndex][breakdown[0].field],\n                    y: data[ptIndex][measureName]\n                })\n                ptIndex += 1\n            }\n            for (; ptIndex < end; ptIndex++) {\n                forecastPts.push({\n                    x: data[ptIndex][breakdown[0].field],\n                    y: focus[0]['forecast'][ptIndex]\n                })\n            }\n            if (outlier.scope[1] !== data.length - 1) {\n                forecastPts.push({\n                    x: data[ptIndex][breakdown[0].field],\n                    y: data[ptIndex][measureName]\n                })\n            } else {\n                forecastPts.push({\n                    x: data[ptIndex][breakdown[0].field],\n                    y: focus[0]['forecast'][ptIndex]\n                })\n            }\n\n            tooltipLayer.append(\"path\")\n                .attr(\"d\", forecastLineGen(forecastPts))\n                .attr(\"stroke\", \"#B1B1B1\")\n                .attr(\"stroke-width\", \"3px\")\n                .attr(\"stroke-dasharray\", \"6, 3\")\n                .attr(\"fill\", \"none\")\n            tooltipLayer.append(\"path\")\n                .attr(\"d\", lineGen(data.slice(start, end + 1)))\n                .attr(\"stroke\", COLOR_OUTLIER)\n                .attr(\"stroke-width\", \"5px\")\n                .attr(\"fill\", \"none\")\n\n            let tooltip = tooltipLayer.append(\"g\")\n            let tooltipText = tooltip.append(\"text\")\n                .attr(\"font-size\", \"10px\")\n                .attr(\"font-family\", ENGFONT)\n                .attr(\"stroke\", COLOR_OUTLIER)\n            tooltipText.append(\"tspan\")\n                .text(\"Anomaly score: \" + outlier.score.toFixed(2))\n                .attr(\"dy\", tooltipText.selectAll(\"tspan\").node().getBBox().height * 0.9)\n            let textWidth = tooltip.node().getBBox().width;\n            let textHeight = tooltip.node().getBBox().height;\n            let textY = outlierY\n            if (up) {\n                textY -= (textHeight + 8)\n            } else {\n                textY += 8\n            }\n\n            tooltip.append(\"image\")\n                .attr(\"xlink:href\", \"./alert.svg\")\n                .attr(\"width\", \"15px\")\n                .attr(\"height\", \"13px\")\n                .attr(\"x\", (outlierX - (textWidth + 17) / 2))\n                .attr(\"y\", textY + 2);\n            tooltipText.attr(\"width\", textWidth)\n                .attr(\"height\", textHeight)\n                .attr(\"x\", (outlierX - (textWidth + 17) / 2) + 17)\n                .attr(\"y\", textY);\n\n        }\n        axisX.tickValues(tickValues)\n\n        if (this._showTooltip) {\n            renderDetailValue(containerSelector, rawPath, x, y, height,\n                data, breakdown, measureName, tick_format, tooltipLayer)\n        }\n        svg.append(\"g\")\n            .attr(\"class\", \"xAxis\")\n            .attr(\"transform\", \"translate(0,\" + (height - 20) + \")\")\n            .call(axisX)\n            .attr(\"font-family\", ENGFONT)\n            .call(g => {\n                g.attr(\"font-size\", tickSize);\n                g.attr(\"font-family\", ENGFONT);\n\n                let domainD = g.selectAll(\".domain\").attr(\"d\");\n                domainD = domainD.replace(\"6V\", (6 * chartSize.height / 320) + \"V\")\n                domainD = domainD.replace(\"V6\", \"V\" + (6 * chartSize.height / 320))\n                g.selectAll(\".domain\").attr(\"d\", domainD).attr(\"stroke-width\", tickWidth);\n                g.selectAll(\".tick\")\n                    .selectAll(\"line\")\n                    .attr(\"stroke\", COLOR_AXIS)\n                    .attr(\"stroke-width\", tickWidth)\n                    .attr(\"y2\", 6 * chartSize.height / 320);\n\n                g.selectAll(\"text\")\n                    .attr(\"y\", 9 * chartSize.height / 320);\n            });\n\n        // add the y Axis\n        svg.append(\"g\")\n            .attr(\"class\", \"yAxis\")\n            .call(d3.axisLeft(y).ticks(5).tickFormat(function (d) {\n                if ((d / 1000000) >= 1) {\n                    d = d / 1000000 + \"M\";\n                } else if ((d / 1000) >= 1) {\n                    d = d / 1000 + \"K\";\n                }\n                return d;\n            }))\n            .call(g => {\n                g.attr(\"font-size\", \"10px\")\n                g.attr(\"font-weight\", \"light\")\n                g.attr(\"font-family\", ENGFONT)\n\n                let domainD = g.selectAll(\".domain\").attr(\"d\");\n                domainD = domainD.replace(\"M-6\", \"M-\" + (6 * chartSize.width / 640))\n                domainD = domainD.replace(\"H-6\", \"H-\" + (6 * chartSize.width / 640))\n                g.selectAll(\".domain\").attr(\"d\", domainD).attr(\"stroke-width\", tickWidth);\n                g.selectAll(\".tick\")\n                    .select(\"line\")\n                    .attr(\"stroke\", COLOR_AXIS)\n                    .attr(\"stroke-width\", tickWidth)\n                    .attr(\"x2\", -6 * chartSize.width / 640);\n\n                g.selectAll(\"text\")\n                    .attr(\"x\", -9 * chartSize.width / 640);\n            });\n\n        return svg;\n    }\n\n}\n\n\nlet getSizeBySize = (size, chartSize, fact, hasSeries = false, moreThan6 = false) => {\n    let tickSize, annotationSize, tickWidth, dotR, strokeWidth;\n\n    switch (size) {\n        case \"small\":\n            tickSize = 10;\n            annotationSize = 16;\n            tickWidth = 2;\n            dotR = 5;\n            strokeWidth = 2;\n            break;\n        case \"middle\":\n            tickSize = 10;\n            annotationSize = 20;\n            tickWidth = 2;\n            dotR = 5;\n            strokeWidth = 3;\n            break;\n        case \"wide\":\n            tickSize = 10;\n            annotationSize = 26;\n            dotR = 7;\n            tickWidth = 2;\n            strokeWidth = 3;\n            break;\n        case \"large\":\n        default:\n            tickSize = 10;\n            annotationSize = 40;\n            tickWidth = 2;\n            dotR = 10;\n            strokeWidth = 3;\n            break;\n    }\n    const chartMargin = {\n        \"small\": {\n            \"top\": 15,\n            \"right\": 20,\n            \"bottom\": 15,\n            \"left\": 20\n        },\n        \"middle\": {\n            \"top\": 15,\n            \"right\": 20,\n            \"bottom\": 15,\n            \"left\": 20\n        },\n        \"wide\": {\n            \"top\": 15,\n            \"right\": 20,\n            \"bottom\": 15,\n            \"left\": 20\n        },\n        \"large\": {\n            \"top\": 15,\n            \"right\": 20,\n            \"bottom\": 15,\n            \"left\": 20\n        }\n    };\n    let margin = chartMargin[size];\n    return { chartSize: chartSize, margin: margin, tickSize: tickSize, annotationSize: annotationSize, tickWidth, dotR, strokeWidth }\n}\n\nlet renderDetailValue = (containerSelector, rawPath, x, y, height,\n    data, breakdown, measureName, tick_format, tooltipLayer) => {\n    let detailValueTooltip = d3.select(containerSelector)\n        .append(\"div\")\n        .attr(\"id\", \"value-tooltip\")\n        .style(\"z-index\", 2000)\n        .style(\"width\", \"fit-content\")\n        .style(\"height\", \"40px\")\n        .style(\"opacity\", 0)\n        .style(\"position\", \"absolute\")\n        .style(\"pointer-events\", \"none\")\n        .style(\"border-radius\", \"4px\")\n        .style(\"background\", \"#FFFFFF\")\n        .style(\"box-shadow\", \"0 0 5px #888888\")\n        .style(\"padding\", \"5px\")\n    let detailValueTitle = detailValueTooltip.append(\"span\")\n        .style(\"font\", `9px ${ENGFONT}`)\n        .style(\"font-weight\", \"bold\")\n        .style(\"display\", \"block\")\n        .style(\"color\", \"#000000\")\n\n\n\n    let detailValueContent = detailValueTooltip.append(\"svg\")\n        .attr(\"width\", \"95px\")\n        .attr(\"height\", \"30px\")\n        .style(\"display\", \"block\")\n        .style(\"word-break\", \"normal\")\n        .style(\"word-warp\", \"break-word\")\n        .style(\"overflow\", \"hidden\")\n\n    let detailValueColor = detailValueContent.append(\"circle\")\n        .attr(\"r\", 4)\n        .attr(\"cx\", \"5px\")\n        .attr(\"cy\", \"12px\")\n    let detailValueText = detailValueContent.append(\"text\")\n        .style(\"font\", `8px ${ENGFONT}`)\n        .style(\"color\", \"#000000\")\n        .attr(\"x\", \"14px\")\n        .attr(\"y\", \"14px\")\n\n    rawPath.on(\"mouseover\", function (d) {\n        detailValueTooltip.transition()\n            .duration(200)\n            .style(\"opacity\", .9)\n        detailValue.transition()\n            .duration(200)\n            .style(\"opacity\", 1)\n    })\n        .on(\"mouseout\", function (d) {\n            // If the mouse is exactly on the data point, \n            // then the mouse will on the circle instead of the path\n            // So here we should keep the tooltip shown when the mouse is still on the circle\n            let currentElement = document.elementFromPoint(d3.event.pageX, d3.event.pageY)\n            if (currentElement !== detailValueCircle.node()) {\n                detailValueTooltip.transition()\n                    .duration(500)\n                    .style(\"opacity\", 0)\n                detailValue.transition()\n                    .duration(500)\n                    .style(\"opacity\", 0)\n            }\n        })\n        .on(\"mousemove\", function (d) {\n            let result = getPosition()\n            let x0 = x.invert(d3.mouse(this)[0])\n            let currentIndex = bisectDate(data, x0, 1)\n            let time0 = parseTime(data[currentIndex - 1][breakdown[0].field])\n            let time1 = parseTime(data[currentIndex][breakdown[0].field])\n            let currentTime = x0 - time0 > time1 - x0 ? time1 : time0\n            let currentValue = currentTime === time0 ? data[currentIndex - 1][measureName] : data[currentIndex][measureName]\n            let title = tick_format(currentTime)\n            detailValueTooltip.style(\"left\", (result.posX + 30) + \"px\")\n                .style(\"top\", (result.posY + 20) + \"px\")\n            detailValueTitle.html(title)\n            detailValueColor.style(\"fill\", COLOR_REGULAR)\n            detailValueText.html(measureName + \": \" + currentValue.toFixed(2))\n\n            detailValueLine.attr(\"x1\", x(currentTime))\n            detailValueLine.attr(\"x2\", x(currentTime))\n            detailValueCircle.attr(\"cx\", x(currentTime))\n            detailValueCircle.attr(\"cy\", y(currentValue))\n            detailValueCircle.attr(\"stroke\", COLOR_REGULAR)\n        })\n\n    let bisectDate = d3.bisector(function (d) { return parseTime(d[breakdown[0].field]) }).left\n    let detailValue = tooltipLayer.append(\"g\")\n        .style(\"opacity\", 0)\n    let detailValueLine = detailValue.append(\"line\")\n        .attr(\"y1\", height - 20)\n        .attr(\"y2\", 0)\n        .attr(\"stroke-width\", \"2px\")\n        .attr(\"stroke\", COLOR_GRID)\n        .attr(\"stroke-dasharray\", \"6, 3\")\n    let detailValueCircle = detailValue.append(\"circle\")\n        .attr(\"r\", 3)\n        .attr(\"fill\", \"#FFFFFF\")\n        .attr(\"stroke-width\", \"2\")\n        .style(\"box-shadow\", \"0 0 5px #888888\")\n        .on(\"mouseover\", function (d) {\n            // FIXME: This is a nit\n            // Even mouse is not on the path, the tooltip will still be shown \n            // but the error area is small\n            detailValueTooltip.transition()\n                .duration(200)\n                .style(\"opacity\", .9)\n            detailValue.transition()\n                .duration(200)\n                .style(\"opacity\", 1)\n        }).on(\"mouseout\", function (d) {\n            // If the mouse is exactly on the data point, \n            // then the mouse will on the circle instead of the path\n            // So here we should hide all the tooltip when moving mouse out of the circle\n            detailValueTooltip.transition()\n                .duration(500)\n                .style(\"opacity\", 0)\n            detailValue.transition()\n                .duration(500)\n                .style(\"opacity\", 0)\n        })\n}\n\n// const parseTime = (date) => {\n//     if (d3.timeParse(\"%Y-%m-%d\")(date))\n//         return d3.timeParse(\"%Y-%m-%d\")(date);\n//     else if (d3.timeParse(\"%Y/%m/%d\")(date))\n//         return d3.timeParse(\"%Y/%m/%d\")(date);\n//     else if (d3.timeParse(\"%Y-%m\")(date))\n//         return d3.timeParse(\"%Y-%m\")(date);\n//     else if (d3.timeParse(\"%Y/%m\")(date))\n//         return d3.timeParse(\"%Y/%m\")(date);\n//     else if (d3.timeParse(\"%Y\")(date))\n//         return d3.timeParse(\"%Y\")(date);\n//     else if (d3.timeParse(\"%Y-%m-%dT%H:%M:%S.%fZ\")(date))\n//         return d3.timeParse(\"%Y-%m-%dT%H:%M:%S.%fZ\")(date)\n//     else if (d3.timeParse(\"%Y-%m-%d %H:%M:%S\")(date))\n//         return d3.timeParse(\"%Y-%m-%d %H:%M:%S\")(date)\n//     else return date\n// }\n// const formatTick = (date) => {\n//     if (d3.timeParse(\"%Y-%m-%d\")(date))\n//         return d3.timeFormat(\"%Y-%-m-%-d\");\n//     else if (d3.timeParse(\"%Y/%m/%d\")(date))\n//         return d3.timeFormat(\"%Y/%-m/%-d\")\n//     else if (d3.timeParse(\"%Y-%m\")(date))\n//         return d3.timeFormat(\"%Y-%m\")\n//     else if (d3.timeParse(\"%Y/%m\")(date))\n//         return d3.timeFormat(\"%Y/%m\")\n//     else if (d3.timeParse(\"%Y\")(date))\n//         return d3.timeFormat(\"%Y\")\n//     else if (d3.timeParse(\"%Y-%m-%dT%H:%M:%S.%fZ\")(date))\n//         return d3.timeFormat(\"%Y/%m/%d/%H\")\n//     else if (d3.timeParse(\"%Y-%m-%d %H:%M:%S\")(date))\n//         return d3.timeFormat(\"%Y/%m/%d %H:%M:%S\")\n\n//     else\n//         return \"\"\n// }\n\n// const formatTicksCount = (date) => {\n//     if (d3.timeParse(\"%Y-%m-%d\")(date))\n//         return d3.timeDay\n//     else if (d3.timeParse(\"%Y/%m/%d\")(date))\n//         return d3.timeDay\n//     else if (d3.timeParse(\"%Y-%m\")(date))\n//         return d3.timeMonth\n//     else if (d3.timeParse(\"%Y/%m\")(date))\n//         return d3.timeMonth\n//     else if (d3.timeParse(\"%Y\")(date))\n//         return d3.timeYear\n// }\n\nexport default UnivariateOutlier;","import * as d3 from 'd3';\nimport Chart from '../../chart';\nimport { parseTime, formatTick } from '../constant/timeConstant'\nimport { getPosition } from '../constant/getPosition';\nimport { tooltipContainerId } from '../constant/getContainer';\n\nconst ENGFONT = \"OPPOSans\";\nconst COLOR_AXIS = \"#000000\";\nconst COLOR_GRID = \"#E6E6E6\";\nconst COLOR_TOOLTIP_DARK = \"#3E3A39\";\nconst COLOR_TOOLTIP_LIGHT = \"#FCFBE7\";\n// const SERIES_COLORS = [\"#6C8EF2\",\"#8B65BA\",\"#4B8384\",\"#E1944E\" ,\"#5EA211\"]\nconst SERIES_COLORS = [\"#6C8EF2\", \"#92551D\", \"#8B65BA\", \"#4B8384\", \"#5EA211\"]\nconst BLOCK_COLOR = { 'baseline': '#d2cffd', 'Compare': '#f5bf27' };\nconst BASELINE_SERIES_COLOR = \"#5B8EF9\"\nconst TITLE_BLOCK = '#000000'\nconst COLOR_LEGEND = { 'max': '#ffc136', 'min': '#ffffff' }\nconst TICK_VALUE = { 'tickSize': 10, 'tickWidth': 2 }\n\nclass Similarity extends Chart {\n    constructor(props) {\n        super(props);\n        this._x = '';\n        this._y = '';\n        this.props = props\n    }\n    display() {\n        /**\n         * The main drawing function\n         */\n        //---------------parse fact-------------------------\n        let factResult = this.parsrFact()\n        let data = factResult.data\n        let measure = factResult.measure\n        let breakdown = factResult.breakdown\n        let focus = factResult.focus\n        let subspace = factResult.subspace\n        if (focus.length === 0) return\n\n        //---------------init chart size--------------------\n        let chartResult = this.setChartStandard(measure, focus)\n        let chartSize = chartResult._chartSize\n        let width = chartResult._width\n        let height = chartResult._height\n        let margin = chartResult._margin\n\n        //------------------init---------------------------\n        //get container\n        // let containerSelector = this.container()\n        let containerSelector = tooltipContainerId\n        //init svg\n        let svg = this.initSvg(chartSize, margin)\n        //draw legend\n        this.drawLegend(svg, width)\n\n        //------------------draw x axis-------------------\n        let xAxisResult = this.drawXAxis(svg, data, breakdown, width, height, chartSize)\n        let x = xAxisResult._x\n        let tick_format = xAxisResult._tick_format\n\n        //-----------------Sets the layers for drawing------------------------\n        let lineLayer = svg.append(\"g\").attr('class', 'lineLayer')\n        let yAxisLayer = svg.append(\"g\").attr(\"class\", \"yAxis\")\n        let simiBlockLayer = svg.append('g').attr('class', 'simiblock')\n        let oneYLength = (height - 20 + 15) / measure.length\n        //--------------------set series color--------------------------------\n        let seriesColor = this.setSeriesColor(measure)\n        let tooltipPathList = [];\n        let tooltipPathData = [];\n        //--------------calculater max and min value of Base Line--------------\n        let baseLineMaxMin, baseStart, baseEnd, baseLineField;\n        focus.forEach(function (item, index) {\n            if (item.value[0].text === \"Base Line\") {\n                baseStart = item.value[0].start\n                baseEnd = item.value[0].end\n                baseLineField = item.field\n                baseLineMaxMin = d3.extent(data.slice(baseStart, baseEnd + 1), function (d) { return d[baseLineField] })\n            }\n        })\n\n        //------------Draw all time series data-------------------------------\n        for (let i = 0; i < measure.length; i++) {\n            let currentMeasureName = measure[i].field\n            //draw y axis\n            let y = this.drawYAxis(data, yAxisLayer, chartSize, oneYLength, currentMeasureName, seriesColor, i)\n            //draw back grid\n            let lineGen = this.drawBackLine(lineLayer, data, x, y, chartSize, breakdown, currentMeasureName, seriesColor)\n            //set simi block transparency\n            let backColor = d3.scaleLinear().domain([0, 1]).range([0.001, 0.5])\n            //draw similarity part\n            this.drawSimiPart(subspace, data, x, oneYLength, focus, breakdown, measure, simiBlockLayer, tooltipPathList, tooltipPathData, baseLineMaxMin, lineGen, seriesColor, backColor, currentMeasureName, i)\n\n        }\n        if (this._showTooltip) {\n            renderTooltip(this.tooltipId, containerSelector, tooltipPathList, tooltipPathData, data, breakdown, tick_format, { \"field\": baseLineField, \"start\": baseStart, \"end\": baseEnd }, seriesColor)\n        }\n        return svg;\n    }\n\n    parsrFact() {\n        /**\n         * Parse fact json\n         * return:The contents of each field in fact\n         */\n        let factData = this.factdata()\n        let measure = this.measure();\n        let breakdown = this.breakdown();\n        let focus = this.focus();\n        let subspace = this.subspace();\n        // set data\n        factData = factData.sort((a, b) => parseTime(a[breakdown[0].field]) - parseTime(b[breakdown[0].field]))\n        let data = factData\n        return { data: data, measure: measure, breakdown: breakdown, focus: focus, subspace: subspace }\n    }\n\n    setChartStandard(measure, focus) {\n        /** \n         * calculate size of the chart\n         * return chart size parameters\n         */\n        // set the dimensions and margins of the graph\n        let chartSize = { width: 600, height: 360 }\n        let margin = {\n            \"top\": 15,\n            \"right\": 20,\n            \"bottom\": 15,\n            \"left\": 20\n        }\n        let width = chartSize.width - margin.left - margin.right,\n            height = chartSize.height - margin.top - margin.bottom;\n        return { _width: width, _height: height, _chartSize: chartSize, _margin: margin }\n    }\n\n    initSvg(chartSize, margin) {\n        /**\n         * Initialize SVG based on the drawing area size\n         * return :svg \n         */\n        let svg = d3.select(this.container())\n            .append(\"svg\")\n            .attr(\"width\", chartSize.width)\n            .attr(\"height\", chartSize.height)\n            .append(\"g\")\n            .attr(\"transform\", \"translate(\" + (margin.left + 10) + \",\" + margin.top + \")\")\n            .attr(\"font-family\", ENGFONT);\n        return svg\n    }\n\n    drawLegend(svg, width) {\n        /**\n         * Draw a legend in SVG(Located in the upper right corner of SVG)\n         */\n        //set scale\n        let linear = d3.scaleLinear().domain([400, width - 70]).range([0, 1])\n        //Set the legend gradient color\n        let compute = d3.interpolate(COLOR_LEGEND['max'], COLOR_LEGEND['min'])\n        //draw legend rect\n        svg.selectAll(\"rect\")\n            .data(d3.range(400, width - 70, 1))\n            .enter()\n            .append(\"rect\")\n            .attr(\"x\", function (d, i) {\n                return i + 400;\n            })\n            .attr(\"y\", function (d, i) {\n                return -10;\n            })\n            .attr(\"width\", 1.1)\n            .attr(\"height\", 8)\n            .style(\"stroke\", function (d) {\n                return compute(linear(d))\n            })\n            .style(\"fill\", function (d) {\n                return compute(linear(d));\n            });\n        //text:100,Color maximum value\n        svg.append(\"text\")\n            .attr(\"y\", -2)\n            .attr(\"x\", 400)\n            .style(\"text-anchor\", \"start\")\n            .style(\"font-size\", \"8px\")\n            .text('100')\n        //text:0,Color minmum value\n        svg.append(\"text\")\n            .attr(\"y\", -2)\n            .attr(\"x\", width - 70)\n            .style(\"text-anchor\", \"start\")\n            .style(\"font-size\", \"8px\")\n            .text('0')\n        //text:Similarity Score\n        svg.append(\"text\")\n            .attr(\"y\", -2)\n            .attr(\"x\", width - 60 + 7)\n            .style(\"text-anchor\", \"start\")\n            .style(\"font-size\", \"8px\")\n            .text('Similarity Score')\n    }\n\n    drawXAxis(svg, data, breakdown, width, height, chartSize) {\n        /**\n         * Draw the X axis\n         */\n        let tick_format = formatTick(data[0][breakdown[0].field]);\n        // set the ranges\n        let x = d3.scaleTime()\n            .domain(d3.extent(data, function (d) { return parseTime(d[breakdown[0].field]); }))\n            .range([30, width - 10])\n        // Scale the range of the data in the domains\n        let axisX = d3.axisBottom(x).ticks(5).tickFormat(d3.timeFormat(\"%Y/%m/%d/%H\"))\n        svg.append(\"g\")\n            .attr(\"class\", \"xAxis\")\n            .attr(\"transform\", \"translate(0,\" + (height - 20) + \")\")\n            .call(axisX)\n            .attr(\"font-family\", ENGFONT)\n            .call(g => {\n                g.attr(\"font-size\", TICK_VALUE.tickSize);\n                g.attr(\"font-family\", ENGFONT);\n                let domainD = g.selectAll(\".domain\").attr(\"d\");\n                domainD = domainD.replace(\"6V\", (6 * chartSize.height / 320) + \"V\")\n                domainD = domainD.replace(\"V6\", \"V\" + (6 * chartSize.height / 320))\n                g.selectAll(\".domain\").attr(\"d\", domainD).attr(\"stroke-width\", TICK_VALUE.tickWidth);\n                g.selectAll(\".tick\")\n                    .selectAll(\"line\")\n                    .attr(\"stroke\", COLOR_AXIS)\n                    .attr(\"stroke-width\", TICK_VALUE.tickWidth)\n                    .attr(\"y2\", 6 * chartSize.height / 320);\n\n                g.selectAll(\"text\")\n                    .attr(\"y\", 9 * chartSize.height / 320);\n            })\n            .call(axisX)\n        return { _x: x, _tick_format: tick_format }\n    }\n    drawYAxis(data, yAxisLayer, chartSize, oneYLength, currentMeasureName, seriesColor, i) {\n        /**\n         * Draw the Y axis\n         */\n        let y = d3.scaleLinear().range([oneYLength * (i + 1) - 15, oneYLength * i])\n        y.domain(d3.extent([].concat(\n            // lower boundary minus margin\n            data.map(function (d) { return d[currentMeasureName] * 0.95 }),\n            // upper boundary add margin\n            data.map(function (d) { return d[currentMeasureName] * 1.05 })\n        )));\n        yAxisLayer.append(\"g\")\n            .attr(\"transform\", \"translate(30, 0)\")\n            .call(d3.axisLeft(y).ticks(5).tickFormat(function (d) {\n                if ((d / 1000000) >= 1) {\n                    d = d / 1000000 + \"M\";\n                } else if ((d / 1000) >= 1) {\n                    d = d / 1000 + \"K\";\n                }\n                return d;\n            }))\n            .call(g => {\n                g.attr(\"font-size\", '10px')\n                g.attr(\"font-weight\", 'light')\n                g.attr(\"font-family\", ENGFONT)\n                let domainD = g.selectAll(\".domain\").attr(\"d\");\n                domainD = domainD.replace(\"M-6\", \"M-\" + (6 * chartSize.width / 640))\n                domainD = domainD.replace(\"H-6\", \"H-\" + (6 * chartSize.width / 640))\n                g.selectAll(\".domain\").attr(\"d\", domainD).attr(\"stroke-width\", TICK_VALUE.tickWidth);\n                g.selectAll(\".tick\")\n                    .select(\"line\")\n                    .attr(\"stroke\", COLOR_AXIS)\n                    .attr(\"stroke-width\", TICK_VALUE.tickWidth)\n                    .attr(\"x2\", -6 * chartSize.width / 640);\n\n                g.selectAll(\"text\")\n                    .attr(\"x\", -9 * chartSize.width / 640);\n            });\n        // add y axis label\n        let title = yAxisLayer.append(\"text\")\n            .attr(\"transform\", \"rotate(-90)\")\n            .attr(\"y\", -5)\n            .attr(\"x\", 0 - (oneYLength * (2 * i + 1) - 15) / 2)\n            .style(\"text-anchor\", \"middle\")\n            .style(\"font-size\", \"10px\")\n            .text(currentMeasureName)\n        yAxisLayer.append(\"rect\")\n            .attr(\"transform\", \"rotate(-90)\")\n            .style(\"text-anchor\", \"middle\")\n            .attr(\"x\", title.node().getBBox().x)\n            .attr(\"y\", title.node().getBBox().y)\n            .attr(\"width\", title.node().getBBox().width + 2)\n            .attr(\"height\", title.node().getBBox().height)\n            .attr(\"fill\", seriesColor[currentMeasureName])\n        title.node().remove()\n        yAxisLayer.append(\"text\")\n            .attr(\"transform\", \"rotate(-90)\")\n            .attr(\"y\", -5)\n            .attr(\"x\", 0 - (oneYLength * (2 * i + 1) - 15) / 2)\n            .style(\"text-anchor\", \"middle\")\n            .style(\"font-size\", \"10px\")\n            .text(currentMeasureName)\n        return y\n    }\n\n    setSeriesColor(measure) {\n        /**\n         * set series color\n         */\n        let seriesColor = {}\n        for (let i = 0; i < measure.length; i++) {\n            seriesColor[measure[i].field] = SERIES_COLORS[i % SERIES_COLORS.length]\n        }\n        return seriesColor\n    }\n\n    drawBackLine(lineLayer, data, x, y, chartSize, breakdown, currentMeasureName, seriesColor) {\n        /**\n         * draw series line and back grid\n         */\n        //draw Grid\n        lineLayer.append('g').selectAll('line.line')\n            .data(y.ticks(5)).enter().append('line')\n            .attr('x1', 30)\n            .attr('x2', chartSize.width)\n            .attr('y1', function (d) { return y(d) })\n            .attr('y2', function (d) { return y(d) })\n            .attr('stroke', COLOR_GRID)\n            .attr('stroke-width', '2px')\n        //draw series\n        let lineGen = d3.line().curve(d3.curveMonotoneX)\n            .x(function (d) {\n                return x(parseTime(d[breakdown[0].field]));\n            })\n            .y(function (d) {\n                return y(d[currentMeasureName]);\n            })\n        lineLayer.append('path')\n            .attr('d', lineGen(data))\n            .attr('stroke', seriesColor[currentMeasureName])\n            .attr('stroke-width', '2px')\n            .attr('fill', 'none')\n        return lineGen\n    }\n\n    drawSimiPart(subspace, data, x, oneYLength, focus, breakdown, measure, simiBlockLayer, tooltipPathList, tooltipPathData, baseLineMaxMin, lineGen, seriesColor, backColor, currentMeasureName, i) {\n        /**\n         * draw similarity block\n         */\n        for (let similarity_slice of focus) {\n            if (similarity_slice.field === currentMeasureName) {\n                let value = similarity_slice.value\n                for (let item of value) {\n                    //Locate the similarity part\n                    let start = Math.max(0, item.start)\n                    let end = Math.min(data.length - 1, item.end + 1)\n\n                    //Draw similarity background box boundary rect\n                    let tooltipPath = simiBlockLayer.append(\"rect\")\n                        .attr(\"x\", x(parseTime(data[start][breakdown[0].field])))\n                        .attr(\"y\", oneYLength * i)\n                        .attr(\"width\", x(parseTime(data[end][breakdown[0].field])) - x(parseTime(data[start][breakdown[0].field])))\n                        .attr(\"height\", oneYLength - 15)\n                        .attr(\"fill\", BLOCK_COLOR[similarity_slice.tag])\n                        .attr(\"fill-opacity\", function () {\n                            if (similarity_slice.tag === 'baseline') {\n                                return 0.4\n                            } else {\n                                return backColor(item.similarity_value)\n                            }\n                        })\n                    //If it is not baseline, the Tooltip small box appears\n                    if (similarity_slice.tag !== \"baseline\") {\n                        //Find the maximum and minimum values for this section for the tooltip\n                        let minmax = d3.extent(data.slice(start, end + 1), function (d) { return d[currentMeasureName]; })\n                        tooltipPathList.push(tooltipPath)\n                        //Compare the minimum and maximum values to the baseline and pass them to the tooltip\n                        tooltipPathData.push(\n                            {\n                                \"field\": similarity_slice.field,\n                                \"start\": start,\n                                \"end\": end,\n                                \"ymax\": minmax[1] > baseLineMaxMin[1] ? minmax[1] : baseLineMaxMin[1],\n                                \"ymin\": minmax[0] < baseLineMaxMin[0] ? minmax[0] : baseLineMaxMin[0],\n                                \"similarity_value\": item.similarity_value\n                            })\n                    }\n                    //Draw a similarity line\n                    simiBlockLayer.append(\"path\")\n                        .attr(\"d\", lineGen(data.slice(start, end + 1)))\n                        .attr(\"stroke\", seriesColor[measure[i].field])\n                        .attr(\"stroke-width\", \"2px\")\n                        .attr(\"fill\", \"none\")\n\n                    //Draw the line to the left of the Similarity background box boundary rect\n                    simiBlockLayer.append(\"rect\")\n                        .attr(\"x\", x(parseTime(data[start][breakdown[0].field])))\n                        .attr(\"y\", oneYLength * i)\n                        .attr(\"width\", 1)\n                        .attr(\"height\", oneYLength - 15)\n                        .attr(\"fill\", BLOCK_COLOR[similarity_slice.tag])\n\n                    //Draw the line to the right of the Similarity background box boundary rect\n                    simiBlockLayer.append(\"rect\")\n                        .attr(\"x\", x(parseTime(data[end][breakdown[0].field])) - 1)\n                        .attr(\"y\", oneYLength * i)\n                        .attr(\"width\", 1)\n                        .attr(\"height\", oneYLength - 15)\n                        .attr(\"fill\", BLOCK_COLOR[similarity_slice.tag])\n\n                    //Add a simi block title\n                    simiBlockLayer.append(\"text\")\n                        .attr(\"x\", x(parseTime(data[start][breakdown[0].field])) + 5)\n                        .attr(\"y\", oneYLength * i + 7 + 5)\n                        .attr(\"fill\", TITLE_BLOCK)\n                        .style(\"font-size\", \"7px\")\n                        .style(\"font-family\", ENGFONT)\n                        .style(\"font-weight\", \"bold\")\n                        .text(item.text)\n                }\n            }\n        }\n    }\n\n}\nlet renderTooltip = (tooltipId, containerSelector, tooltipPathList, tooltipPathData, data, breakdown, tick_format, baseline_local, seriesColor) => {\n    //外部的整个div\n    let hoverTooltip = d3.select(containerSelector)\n        .append(\"div\")\n        .attr(\"id\", \"hover-tooltip\")\n        .style(\"z-index\", 2000)\n        .style(\"width\", \"200px\")\n        .style(\"height\", \"115px\")\n        .style(\"opacity\", 0)\n        .style(\"position\", \"absolute\")\n        .style(\"pointer-events\", \"none\")\n        .style(\"padding-left\", \"10px\")\n    //大框界里面的标题栏\n    let hoverTooltipTitle = hoverTooltip.append(\"div\")\n        .style(\"display\", \"flex\")\n        .style(\"align-items\", \"center\")\n        .style(\"height\", \"15px\")\n        .style(\"border\", `2px solid ${COLOR_TOOLTIP_DARK}`)\n        .style(\"border-radius\", \"4px 4px 0px 0px\")\n        .style(\"padding-left\", \"5px\")\n        .style(\"padding-right\", \"5px\")\n        .style(\"background\", COLOR_TOOLTIP_DARK)\n        .style(\"font\", `7px ${ENGFONT}`)\n        .style(\"font-weight\", \"bold\")\n        .style(\"color\", COLOR_TOOLTIP_LIGHT)\n        .style(\"text-overflow\", \"ellipsis\")\n        .style(\"overflow\", \"hidden\")\n        .style(\"white-space\", \"nowrap\")\n    //大框界下面的绘图栏\n    let hoverTooltipContent = hoverTooltip.append(\"div\")\n        .style(\"width\", \"200px\")\n        .style(\"height\", \"100px\")\n        .style(\"border\", `2px solid ${COLOR_TOOLTIP_DARK}`)\n        .style(\"border-radius\", \"0px 4px 4px 4px\")\n        .style(\"background\", COLOR_TOOLTIP_LIGHT)\n\n    //左侧的指向性箭头\n    hoverTooltipContent.append(\"span\")\n        .style(\"position\", \"absolute\")\n        .style(\"left\", \"-10px\")\n        .style(\"top\", \"60px\")\n        .style(\"border-width\", \"10px\")\n        .style(\"border-style\", \"dashed solid dashed dashed\")\n        .style(\"border-color\", `transparent ${COLOR_TOOLTIP_DARK} transparent transparent`)\n        .style(\"font-size\", 0)\n        .style(\"line-height\", 0)\n\n    //左侧指向性箭头内部的白色小三角\n    hoverTooltipContent.append(\"em\")\n        .style(\"position\", \"absolute\")\n        .style(\"left\", \"-4px\")\n        .style(\"top\", \"62px\")\n        .style(\"border-width\", \"8.2px\")\n        .style(\"border-style\", \"dashed solid dashed dashed\")\n        .style(\"border-color\", `transparent ${COLOR_TOOLTIP_LIGHT} transparent transparent`)\n        .style(\"font-size\", 0)\n        .style(\"line-height\", 0)\n    //内部画图区域\n    hoverTooltipContent.append(\"div\")\n        .attr(\"id\", \"tooltip-chart\" + tooltipId)\n\n    for (let i = 0; i < tooltipPathList.length; i++) {\n\n        tooltipPathList[i]\n            .on(\"mouseover\", function (d) {\n                hoverTooltip.transition()\n                    .duration(200)\n                    .style(\"opacity\", .9)\n            })\n            .on(\"mouseout\", function (d) {\n                hoverTooltip.transition()\n                    .duration(500)\n                    .style(\"opacity\", 0)\n            })\n            .on(\"mousemove\", function (d) {\n                let position = getPosition()\n                hoverTooltip.style(\"left\", (position.posX + 30) + \"px\").style(\"top\", (position.posY - 50) + \"px\")\n                let title = tick_format(parseTime(data[tooltipPathData[i].start][breakdown[0].field])) + \"-\" + tick_format(parseTime(data[tooltipPathData[i].end][breakdown[0].field]))\n                hoverTooltipTitle.html(title)\n                //x轴的定义域为：当前选中数据点的顺序\n                let tooltipX = d3.scaleLinear().domain([0, tooltipPathData[i].end - tooltipPathData[i].start]).range([0, 195])\n                let tooltipY = d3.scaleLinear().domain([tooltipPathData[i].ymin * 0.9, tooltipPathData[i].ymax * 1.1]).range([100, 0])\n                let tooltipBaslineGen = d3.line().curve(d3.curveMonotoneX)\n                    .x(function (d, i) {\n                        return tooltipX(i);\n                    })\n                    .y(function (d, i) {\n                        return tooltipY(d[baseline_local.field]);\n                    })\n                let tooltipCompareGen = d3.line().curve(d3.curveMonotoneX)\n                    .x(function (d, i) {\n                        return tooltipX(i);\n                    })\n                    .y(function (d) {\n                        return tooltipY(d[tooltipPathData[i].field]);\n                    })\n                //绘制tooltip上的图形\n                d3.select(\"#tooltip-chart\" + tooltipId).selectAll(\"*\").remove()\n                let tooltipSvg = d3.select(\"#tooltip-chart\" + tooltipId)\n                    .append(\"svg\")\n                    .attr(\"class\", tooltipPathData[i].field)\n                    .attr(\"width\", \"200\")\n                    .attr(\"height\", \"100\")\n                let tooltipLayer = tooltipSvg.append(\"g\")\n                    .attr(\"font-family\", ENGFONT)\n\n                //绘制baseline的折线图\n                tooltipLayer.append(\"path\")\n                    .attr(\"d\", tooltipBaslineGen(data.slice(baseline_local.start, baseline_local.end + 1)))\n                    .attr(\"stroke\", BASELINE_SERIES_COLOR)\n                    .attr(\"stroke-width\", \"2px\")\n                    .attr(\"fill\", \"none\")\n                //绘制与baseline进行比对的序列的折线图\n                tooltipLayer.append(\"path\")\n                    .attr(\"d\", tooltipCompareGen(data.slice(tooltipPathData[i].start, tooltipPathData[i].end + 1)))\n                    .attr(\"stroke\", seriesColor[tooltipPathData[i].field])\n                    .attr(\"stroke-width\", \"2px\")\n                    .attr(\"fill\", \"none\")\n                //绘制baseline图例rect\n                tooltipLayer.append(\"rect\")\n                    .attr(\"x\", 6)\n                    .attr(\"y\", 100 - 5 - 6)\n                    .attr(\"width\", 15)\n                    .attr(\"height\", 5)\n                    .attr(\"fill\", BASELINE_SERIES_COLOR)\n\n                //添加文字\n                //文字\"Base Line\"\n                tooltipLayer.append(\"text\")\n                    .attr(\"x\", 6 + 15 + 6)\n                    .attr(\"y\", 100 - 5 - 2)\n                    .attr(\"fill\", \"#3e3a39\")\n                    .style(\"font-size\", \"6px\")\n                    .style(\"font-family\", ENGFONT)\n                    .style(\"font-weight\", \"bolder\")\n                    .text(\"Base Line\")\n\n                //数字\"similarity\"的值\n                tooltipLayer.append(\"text\")\n                    .attr(\"x\", 6)\n                    .attr(\"y\", 8)\n                    .attr(\"fill\", \"#ffc111\")\n                    .style(\"font-size\", \"7px\")\n                    .style(\"font-family\", ENGFONT)\n                    .style(\"font-weight\", \"bolder\")\n                    .text((tooltipPathData[i].similarity_value * 100).toFixed(2))\n\n                //文字\"Similarity\"\n                tooltipLayer.append(\"text\")\n                    .attr(\"x\", 30)\n                    .attr(\"y\", 8)\n                    .attr(\"fill\", \"#3e3a39\")\n                    .style(\"font-size\", \"7px\")\n                    .style(\"font-family\", ENGFONT)\n                    .style(\"font-weight\", \"bolder\")\n                    .text(\"Similarity\")\n                // add y axis\n                tooltipSvg.append(\"g\")\n                    .attr(\"transform\", \"translate(200, 0)\")\n                    .call(d3.axisLeft(tooltipY).ticks(3).tickFormat(function (d) {\n                        if ((d / 1000000) >= 1) {\n                            d = d / 1000000 + \"M\";\n                        } else if ((d / 1000) >= 1) {\n                            d = d / 1000 + \"K\";\n                        }\n                        return d;\n                    }))\n                    .call(g => {\n                        g.attr(\"font-size\", '6px')\n                        g.attr(\"font-weight\", 'light')\n                        g.attr(\"font-family\", ENGFONT)\n\n                        let domainD = g.selectAll(\".domain\").attr(\"d\");\n                        domainD = domainD.replace(\"M-6\", \"M-\" + (6 * 200 / 640))\n                        domainD = domainD.replace(\"H-6\", \"H-\" + (6 * 200 / 640))\n                        g.selectAll(\".domain\").attr(\"d\", domainD).attr(\"stroke-width\", \"1px\");\n                        g.selectAll(\".tick\")\n                            .select(\"line\")\n                            .attr(\"stroke\", COLOR_AXIS)\n                            .attr(\"stroke-width\", \"1px\")\n                            .attr(\"x2\", -6 * 200 / 640);\n\n                        g.selectAll(\"text\")\n                            .attr(\"x\", -9 * 200 / 640);\n                    });\n            })\n    }\n\n}\n\nexport default Similarity;","import * as d3 from 'd3';\r\nimport { $CombinedState } from 'redux';\r\nimport Chart from '../../chart';\r\nimport { getPosition } from '../constant/getPosition';\r\nimport { parseTime, formatTick, formatTicksCount } from '../constant/timeConstant'\r\nconst ENGFONT = \"OPPOSans\";\r\nconst COLOR_AXIS = \"#000000\";\r\nconst COLOR_GRID = \"#E6E6E6\";\r\nconst SERIES_COLORS = [\"#6C8EF2\", \"#92551D\", \"#8B65BA\", \"#4B8384\", \"#5EA211\"]\r\nconst TICK_VALUE = { 'tickSize': 10, 'tickWidth': 2 }\r\nconst RECOMMEND_COLOR = \"#f5bf27\"\r\nconst SEQENCE_COLOR = \"#f5bf27\"\r\nconst gap = 30\r\nlet drawMultiBlock = false;\r\n\r\nclass Origin extends Chart {\r\n    constructor(props) {\r\n        super(props);\r\n        this._x = '';\r\n        this._y = '';\r\n        this.props = props\r\n    }\r\n    display() {\r\n        /**\r\n         * The main drawing function\r\n         */\r\n        //---------------parse fact-------------------------\r\n        let factResult = this.parsrFact()\r\n        let data = factResult.data\r\n        let measure = factResult.measure\r\n        let breakdown = factResult.breakdown\r\n        let focus = factResult.focus\r\n        //parse focus content\r\n        // this.block=[]\r\n        // this.location=[]\r\n        // if(focus.length>0){\r\n        //     this.location=[focus[0].start,focus[0].end]\r\n        // }\r\n        // for(let i=0;i<focus.length;i++){\r\n        //     this.block.push(focus[i].field)\r\n        // }\r\n\r\n        //---------------init chart size--------------------\r\n        let chartResult = this.setChartStandard(data, measure)\r\n        let chartSize = chartResult._chartSize\r\n        let width = chartResult._width\r\n        let height = chartResult._height\r\n        let margin = chartResult._margin\r\n\r\n        //------------------init---------------------------\r\n        //init svg\r\n        let svg = this.initSvg(chartSize, margin)\r\n\r\n        //------------------draw x axis-------------------\r\n        let xAxisResult = this.drawXAxis(svg, data, breakdown, width, height, chartSize)\r\n        let x = xAxisResult._x\r\n\r\n        //-----------------Sets the layers for drawing------------------------\r\n        let lineLayer = svg.append(\"g\").attr('class', 'lineLayer')\r\n        let yAxisLayer = svg.append(\"g\").attr(\"class\", \"yAxis\")\r\n        let yTextToolitip = svg\r\n            .append(\"div\")\r\n            .attr(\"id\", \"text-tooltip\")\r\n            .style(\"z-index\", 2000)\r\n            .style(\"width\", \"200px\")\r\n            .style(\"height\", \"115px\")\r\n            .style(\"opacity\", 0.9)\r\n            .style(\"position\", \"absolute\")\r\n            .style(\"pointer-events\", \"none\")\r\n            .style(\"padding-left\", \"10px\")\r\n        let oneYLength = (height - 20 + gap) / measure.length\r\n        let simiBlockLayer = svg.append('g').attr('class', 'simiblock')\r\n\r\n        //--------------------set series color--------------------------------\r\n        let seriesColor = this.setSeriesColor(measure)\r\n        //--------------calculater max and min value of Base Line--------------\r\n\r\n        //------------Draw all time series data-------------------------------\r\n        for (let i = 0; i < measure.length; i++) {\r\n            let currentMeasureName = measure[i].field\r\n            //draw y axis\r\n            let y = this.drawYAxis(data, yAxisLayer, yTextToolitip, chartSize, oneYLength, currentMeasureName, seriesColor, i)\r\n            //draw back grid\r\n            let lineGen = this.drawBackLine(lineLayer, data, x, y, width, breakdown, currentMeasureName, seriesColor)\r\n            // //univariate insight\r\n            // if (focus.length === 1) {\r\n            //     this.drawUniFocusPart(data, x, oneYLength, focus, breakdown, measure, simiBlockLayer, lineGen, seriesColor, currentMeasureName, i)\r\n            // }\r\n            // //multivariate insight\r\n            // //绘制一遍block(采用全局变量drawMultiBlock进行控制),循环绘制多遍序列\r\n            // else if (focus.length > 1) {\r\n            //     this.drawMultiFocusPart(data, x, oneYLength * measure.length, focus, breakdown, measure, simiBlockLayer, lineGen, seriesColor, currentMeasureName, i)\r\n            // }\r\n\r\n        }\r\n        if (drawMultiBlock) drawMultiBlock = false;\r\n        return svg;\r\n    }\r\n\r\n    parsrFact() {\r\n        /**\r\n         * Parse fact json\r\n         * return:The contents of each field in fact\r\n         */\r\n        let factData = this.factdata()\r\n        let measure = this.measure();\r\n        let breakdown = this.breakdown();\r\n        let focus = this.focus();\r\n        // set data\r\n        factData = factData.sort((a, b) => parseTime(a[breakdown[0].field]) - parseTime(b[breakdown[0].field]))\r\n        let data = factData\r\n        return { data: data, measure: measure, breakdown: breakdown, focus: focus }\r\n    }\r\n\r\n    setChartStandard(data, measure) {\r\n        /** \r\n         * calculate size of the chart\r\n         * return chart size parameters\r\n         */\r\n        // set the dimensions and margins of the graph\r\n        let chartSize = { width: Math.max(data.length * 2, 1000), height: 120 * measure.length }\r\n        let margin = {\r\n            \"top\": 15,\r\n            \"right\": 50,\r\n            \"bottom\": 15,\r\n            \"left\": 20\r\n        }\r\n        let width = chartSize.width - margin.left - margin.right,\r\n            height = chartSize.height - margin.top - margin.bottom;\r\n        return { _width: width, _height: height, _chartSize: chartSize, _margin: margin }\r\n    }\r\n\r\n    initSvg(chartSize, margin) {\r\n        /**\r\n         * Initialize SVG based on the drawing area size\r\n         * return :svg \r\n         */\r\n        let svg = d3.select(this.container())\r\n            .append(\"svg\")\r\n            .attr(\"width\", chartSize.width)\r\n            .attr(\"height\", chartSize.height)\r\n            .append(\"g\")\r\n            .attr(\"transform\", \"translate(\" + (margin.left + 10) + \",\" + margin.top + \")\")\r\n            .attr(\"font-family\", ENGFONT);\r\n        return svg\r\n    }\r\n\r\n    drawXAxis(svg, data, breakdown, width, height, chartSize) {\r\n        /**\r\n         * Draw the X axis\r\n         */\r\n        // let tick_format = formatTick(data[0][breakdown[0].field]);\r\n        // set the ranges\r\n        let x = d3.scaleTime()\r\n            .domain(d3.extent(data, function (d) { return parseTime(d[breakdown[0].field]); }))\r\n            .range([60, width - 10])\r\n        // Scale the range of the data in the domains\r\n        // let format_TicksCount = formatTicksCount(data[0][breakdown[0].field]);\r\n        let tick_format = formatTick(data[0][breakdown[0].field]);\r\n        let axisX = d3.axisBottom(x).ticks(5).tickFormat(tick_format)\r\n        svg.append(\"g\")\r\n            .attr(\"class\", \"xAxis\")\r\n            .attr(\"transform\", \"translate(0,\" + (height - 20) + \")\")\r\n            .call(axisX)\r\n            .style(\"user-select\", \"none\")\r\n            .attr(\"font-family\", ENGFONT)\r\n            .call(g => {\r\n                g.attr(\"font-size\", TICK_VALUE.tickSize);\r\n                g.attr(\"font-family\", ENGFONT);\r\n                let domainD = g.selectAll(\".domain\").attr(\"d\");\r\n                domainD = domainD.replace(\"6V\", (6 * chartSize.height / 320) + \"V\")\r\n                domainD = domainD.replace(\"V6\", \"V\" + (6 * chartSize.height / 320))\r\n                g.selectAll(\".domain\")\r\n                    .attr(\"d\", domainD)\r\n                    .attr(\"stroke-width\", TICK_VALUE.tickWidth)\r\n                g.selectAll(\".tick\")\r\n                    .selectAll(\"line\")\r\n                    .attr(\"stroke\", COLOR_AXIS)\r\n                    .attr(\"stroke-width\", TICK_VALUE.tickWidth)\r\n                    .attr(\"y2\", 6 * chartSize.height / 320);\r\n\r\n                g.selectAll(\"text\")\r\n                    .attr(\"y\", 9 * chartSize.height / 320);\r\n            })\r\n            .call(axisX)\r\n        return { _x: x, _tick_format: tick_format }\r\n    }\r\n    drawYAxis(data, yAxisLayer, yTextToolitip, chartSize, oneYLength, currentMeasureName, seriesColor, i) {\r\n        /**\r\n         * Draw the Y axis\r\n         */\r\n        let y = d3.scaleLinear().range([oneYLength * (i + 1) - gap, oneYLength * i])\r\n        y.domain(d3.extent([].concat(\r\n            // lower boundary minus margin\r\n            data.map(function (d) { return d[currentMeasureName] * 0.95 }),\r\n            // upper boundary add margin\r\n            data.map(function (d) { return d[currentMeasureName] * 1.05 })\r\n        )));\r\n        yAxisLayer.append(\"g\")\r\n            .attr(\"transform\", \"translate(60, 0)\")\r\n            .call(d3.axisLeft(y).ticks(5).tickFormat(function (d) {\r\n                if ((d / 1000000) >= 1) {\r\n                    d = d / 1000000 + \"M\";\r\n                } else if ((d / 1000) >= 1) {\r\n                    d = d / 1000 + \"K\";\r\n                }\r\n                return d;\r\n            }))\r\n            .style(\"user-select\", \"none\")\r\n            .call(g => {\r\n                g.attr(\"font-size\", '10px')\r\n                g.attr(\"font-weight\", 'light')\r\n                g.attr(\"font-family\", ENGFONT)\r\n                let domainD = g.selectAll(\".domain\").attr(\"d\");\r\n                domainD = domainD.replace(\"M-6\", \"M-\" + (6 * 1))\r\n                domainD = domainD.replace(\"M-6\", \"M-\" + (6 * 1))\r\n                // domainD = domainD.replace(\"M-6\", \"M-\" + (6 * chartSize.width / 640))\r\n                // domainD = domainD.replace(\"H-6\", \"H-\" + (6 * chartSize.width / 640))\r\n                g.selectAll(\".domain\")\r\n                .attr(\"d\", domainD)\r\n                .attr(\"stroke-width\", TICK_VALUE.tickWidth);\r\n                g.selectAll(\".tick\")\r\n                    .select(\"line\")\r\n                    .attr(\"stroke\", COLOR_AXIS)\r\n                    .attr(\"stroke-width\", TICK_VALUE.tickWidth)\r\n                    .attr(\"x2\", -6);\r\n                // .attr(\"x2\", -6 * chartSize.width / 640);\r\n\r\n                g.selectAll(\"text\")\r\n                    // .attr(\"x\", -9 * chartSize.width / 640);\r\n                    .attr(\"x\", -9);\r\n            });\r\n        let yText = currentMeasureName\r\n        if (currentMeasureName.length > 15) {\r\n            yText = yText.substr(0, 15) + '...'\r\n        }\r\n        yAxisLayer.append(\"text\")\r\n            .attr(\"transform\", \"rotate(-90)\")\r\n            .attr(\"y\", 20)\r\n            .attr(\"x\", 0 - (oneYLength * (2 * i + 1) - gap) / 2)\r\n            .style(\"text-anchor\", \"middle\")\r\n            .style(\"font-size\", \"12px\")\r\n            .style(\"font-weight\", \"bold\")\r\n            .style(\"fill\", seriesColor[currentMeasureName])\r\n            .style(\"text-decoration\", \"underline\")\r\n            .style(\"user-select\", \"none\")\r\n            .text(yText)\r\n            .on('mouseover', function (d, i) {\r\n                yTextToolitip.html(currentMeasureName)\r\n                yTextToolitip.transition()\r\n                    .duration(200)\r\n                    .style(\"opacity\", .9)\r\n\r\n            })\r\n            .on(\"mouseout\", function (d) {\r\n                yTextToolitip.transition()\r\n                    .duration(500)\r\n                    .style(\"opacity\", 0)\r\n            })\r\n            .on(\"mousemove\", function (d) {\r\n                let position = getPosition()\r\n                yTextToolitip.style(\"left\", (position.posX + 30) + \"px\").style(\"top\", (position.posY - 50) + \"px\")\r\n            })\r\n\r\n        return y\r\n    }\r\n    drawUniFocusPart(data, x, oneYLength, focus, breakdown, measure, simiBlockLayer, lineGen, seriesColor, currentMeasureName, i) {\r\n        /**\r\n         * draw uni focus block\r\n         */\r\n        let pointer = this.props;\r\n        for (let similarity_slice of focus) {\r\n            if (similarity_slice.field === currentMeasureName) {\r\n                let value = similarity_slice.value\r\n                for (let item of value) {\r\n                    //Locate the similarity part\r\n                    let start = Math.max(0, item.start - 1)\r\n                    let end = Math.min(data.length - 1, item.end + 1)\r\n\r\n                    //Draw similarity background box boundary rect\r\n                    simiBlockLayer.append(\"rect\")\r\n                        .attr(\"x\", x(parseTime(data[start][breakdown[0].field])))\r\n                        .attr(\"y\", oneYLength * i)\r\n                        .attr(\"width\", x(parseTime(data[end][breakdown[0].field])) - x(parseTime(data[start][breakdown[0].field])))\r\n                        .attr(\"height\", oneYLength - 30)\r\n                        .attr(\"fill\", function () {\r\n                            if (pointer.spec.chart.id === \"origin-recommend\") return RECOMMEND_COLOR\r\n                            else return SEQENCE_COLOR\r\n                        }\r\n                        )\r\n                        .attr(\"fill-opacity\", 0.2)\r\n                        .attr(\"cursor\", \"pointer\")\r\n                        .attr(\"id\", currentMeasureName + \"-\" + item.start + \"-\" + item.end)\r\n                        .attr(\"class\", \"insight-block false\")\r\n                        .on(\"mouseover\", function () {\r\n                            d3.select(this)\r\n                                .transition()\r\n                                .duration(500)\r\n                                .attr(\"fill-opacity\", 0.5)\r\n                        })\r\n                        .on(\"mouseout\", function () {\r\n                            d3.select(this)\r\n                                .transition()\r\n                                .duration(500)\r\n                                .attr(\"fill-opacity\", 0.2)\r\n                        })\r\n                        .on(\"click\", function () {\r\n                            // d3.select(this)\r\n                            // .attr(\"class\",\"insight-block true\")\r\n                            if (!pointer.isPopInsightCard) {\r\n                                pointer.setPopInsightCardState(true)\r\n                            }\r\n                        })\r\n                    //Draw a similarity line\r\n                    simiBlockLayer.append(\"path\")\r\n                        .attr(\"d\", lineGen(data.slice(start, end + 1)))\r\n                        .attr(\"stroke\", seriesColor[measure[i].field])\r\n                        .attr(\"stroke-width\", \"2px\")\r\n                        .attr(\"fill\", \"none\")\r\n\r\n                    //Draw the line to the left of the Similarity background box boundary rect\r\n                    simiBlockLayer.append(\"rect\")\r\n                        .attr(\"x\", x(parseTime(data[start][breakdown[0].field])))\r\n                        .attr(\"y\", oneYLength * i)\r\n                        .attr(\"width\", 1)\r\n                        .attr(\"height\", oneYLength - 30)\r\n                        .attr(\"fill\", RECOMMEND_COLOR)\r\n\r\n                    //Draw the line to the right of the Similarity background box boundary rect\r\n                    simiBlockLayer.append(\"rect\")\r\n                        .attr(\"x\", x(parseTime(data[end][breakdown[0].field])) - 1)\r\n                        .attr(\"y\", oneYLength * i)\r\n                        .attr(\"width\", 1)\r\n                        .attr(\"height\", oneYLength - 30)\r\n                        .attr(\"fill\", RECOMMEND_COLOR)\r\n                }\r\n            }\r\n        }\r\n    }\r\n    drawMultiFocusPart(data, x, blockHeight, focus, breakdown, measure, simiBlockLayer, lineGen, seriesColor, currentMeasureName, i) {\r\n        let pointer = this.props;\r\n        for (let content of focus) {\r\n            if (content.field === currentMeasureName) {\r\n                let item = content.value[0]\r\n                //Locate the similarity part\r\n                let start = Math.max(0, item.start - 1)\r\n                let end = Math.min(data.length - 1, item.end + 1)\r\n                //only draw background rect once\r\n                if (!drawMultiBlock) {\r\n                    //Draw similarity background box boundary rect\r\n                    simiBlockLayer.append(\"rect\")\r\n                        .attr(\"x\", x(parseTime(data[start][breakdown[0].field])))\r\n                        .attr(\"y\", 0)\r\n                        .attr(\"width\", x(parseTime(data[end][breakdown[0].field])) - x(parseTime(data[start][breakdown[0].field])))\r\n                        .attr(\"height\", blockHeight - 30)\r\n                        .attr(\"fill\", function () {\r\n                            if (pointer.spec.chart.id === \"origin-recommend\") return RECOMMEND_COLOR\r\n                            else return SEQENCE_COLOR\r\n                        })\r\n                        .attr(\"fill-opacity\", 0.2)\r\n                        .attr(\"cursor\", \"pointer\")\r\n                        .attr(\"id\", currentMeasureName + \"-\" + item.start + \"-\" + item.end)\r\n                        .attr(\"class\", \"insight-block false\")\r\n                        .on(\"mouseover\", function () {\r\n                            d3.select(this)\r\n                                .transition()\r\n                                .duration(500)\r\n                                .attr(\"fill-opacity\", 0.5)\r\n                        })\r\n                        .on(\"mouseout\", function () {\r\n                            d3.select(this)\r\n                                .transition()\r\n                                .duration(500)\r\n                                .attr(\"fill-opacity\", 0.2)\r\n                        })\r\n                        .on(\"click\", function () {\r\n                            if (!pointer.isPopInsightCard) {\r\n                                pointer.setPopInsightCardState(true)\r\n                            }\r\n                        })\r\n                }\r\n                //Draw a similarity line\r\n                simiBlockLayer.append(\"path\")\r\n                    .attr(\"d\", lineGen(data.slice(start, end + 1)))\r\n                    .attr(\"stroke\", seriesColor[measure[i].field])\r\n                    .attr(\"stroke-width\", \"2px\")\r\n                    .attr(\"fill\", \"none\")\r\n                if (!drawMultiBlock) {\r\n                    //Draw the line to the left of the Similarity background box boundary rect\r\n                    simiBlockLayer.append(\"rect\")\r\n                        .attr(\"x\", x(parseTime(data[start][breakdown[0].field])))\r\n                        .attr(\"y\", 0)\r\n                        .attr(\"width\", 1)\r\n                        .attr(\"height\", blockHeight - 30)\r\n                        .attr(\"fill\", RECOMMEND_COLOR)\r\n                        .attr(\"fill-opacity\", 0.4)\r\n\r\n                    //Draw the line to the right of the Similarity background box boundary rect\r\n                    simiBlockLayer.append(\"rect\")\r\n                        .attr(\"x\", x(parseTime(data[end][breakdown[0].field])) - 1)\r\n                        .attr(\"y\", 0)\r\n                        .attr(\"width\", 1)\r\n                        .attr(\"height\", blockHeight - 30)\r\n                        .attr(\"fill\", RECOMMEND_COLOR)\r\n                        .attr(\"fill-opacity\", 0.4)\r\n\r\n                }\r\n            }\r\n        }\r\n        if (!drawMultiBlock) drawMultiBlock = true;\r\n    }\r\n    setSeriesColor(measure) {\r\n        /**\r\n         * set series color\r\n         */\r\n        let seriesColor = {}\r\n        for (let i = 0; i < measure.length; i++) {\r\n            seriesColor[measure[i].field] = SERIES_COLORS[i % SERIES_COLORS.length]\r\n        }\r\n        return seriesColor\r\n    }\r\n\r\n    drawBackLine(lineLayer, data, x, y, width, breakdown, currentMeasureName, seriesColor) {\r\n        /**\r\n         * draw series line and back grid\r\n         */\r\n        //draw Grid\r\n        lineLayer.append('g').selectAll('line.line')\r\n            .data(y.ticks(5)).enter().append('line')\r\n            .attr('x1', 60)\r\n            .attr('x2', width - 10)\r\n            .attr('y1', function (d) { return y(d) })\r\n            .attr('y2', function (d) { return y(d) })\r\n            .attr('stroke', COLOR_GRID)\r\n            .attr('stroke-width', '2px')\r\n        //draw series\r\n        let lineGen = d3.line().curve(d3.curveMonotoneX)\r\n            .x(function (d) {\r\n                return x(parseTime(d[breakdown[0].field]));\r\n            })\r\n            .y(function (d) {\r\n                return y(d[currentMeasureName]);\r\n            })\r\n        lineLayer.append('path')\r\n            .attr('d', lineGen(data))\r\n            .attr('stroke', seriesColor[currentMeasureName])\r\n            .attr('stroke-width', '2px')\r\n            .attr('fill', 'none')\r\n        return lineGen\r\n    }\r\n}\r\n\r\nexport default Origin;","import * as d3 from 'd3';\r\nimport Chart from '../../chart';\r\nimport { tooltipContainerId } from \"../constant/getContainer\";\r\nimport { getPosition } from '../constant/getPosition';\r\nimport { parseTime, formatTick, formatTicksCount } from '../constant/timeConstant'\r\n\r\nconst ENGFONT = \"OPPOSans\";\r\nconst COLOR_REGULAR = \"#6C8EF2\";\r\nconst COLOR_GRID = \"#E6E6E6\";\r\nconst COLOR_TEXT = \"#000000\";\r\nconst COLOR_STAR = \"#F5BF27\";\r\nconst COLOR_AXIS = \"#000000\";\r\n\r\nclass Outstanding extends Chart {\r\n    constructor() {\r\n        super();\r\n        this._x = '';\r\n        this._y = '';\r\n    }\r\n\r\n    display() {\r\n\r\n        let factData = this.factdata()\r\n        let measure = this.measure();\r\n        let breakdown = this.breakdown();\r\n        let focus = this.focus();\r\n\r\n        let stars = [];\r\n        for (let i = 0; i < focus.length; i++) {\r\n            let star = factData.filter(d => d[measure[0].field] === factData[focus[i].index][measure[0].field])\r\n            for (let j = 0; j < star.length; j++) {\r\n                stars.push(star[j]);\r\n            }\r\n            stars = [stars[stars.length - 1]]\r\n        }\r\n        let top = [];\r\n        if (stars.length <= 3) {\r\n            top = stars;\r\n        }\r\n        else {\r\n            top = [stars[0], stars[1], stars[2]];\r\n        }\r\n        top.sort((a, b) => parseTime(a[breakdown[0].field]) - parseTime(b[breakdown[0].field]))\r\n\r\n        let data = factData.sort((a, b) => parseTime(a[breakdown[0].field]) - parseTime(b[breakdown[0].field]))\r\n        let measureName = measure[0].aggregate === 'count' ? \"COUNT\" : measure[0].field\r\n\r\n\r\n\r\n        let chartSize = { width: 600, height: 280 }\r\n        // eslint-disable-next-line\r\n        let margin = {\r\n            \"top\": 15,\r\n            \"right\": 20,\r\n            \"bottom\": 15,\r\n            \"left\": 20\r\n        }\r\n        let tickWidth = 2\r\n\r\n        let width = chartSize.width - margin.left - margin.right,\r\n            height = chartSize.height - margin.top - margin.bottom;\r\n\r\n        let containerSelector = tooltipContainerId\r\n        let svg = d3.select(this.container())\r\n            .append(\"svg\")\r\n            .attr(\"width\", chartSize.width)\r\n            .attr(\"height\", chartSize.height)\r\n            .append(\"g\")\r\n            .attr(\"transform\", \"translate(\" + (margin.left + 10) + \",\" + margin.top + \")\")\r\n            .attr(\"font-family\", ENGFONT);\r\n\r\n        // set the ranges\r\n        let x = d3.scaleTime()\r\n            .range([0, width - 20])\r\n        // .padding(0.1);\r\n        let y = d3.scaleLinear()\r\n            .range([height - 20, 0]);\r\n\r\n        // Scale the range of the data in the domains\r\n        x.domain(d3.extent(data, function (d) { return parseTime(d[breakdown[0].field]); }));\r\n        y.domain(d3.extent([].concat(\r\n            // lower boundary minus margin\r\n            data.map(function (d) { return d[measure[0].field] * 0.95 }),\r\n            // upper boundary add margin\r\n            data.map(function (d) { return d[measure[0].field] * 1.05 })\r\n        )));\r\n\r\n        // add the x Axis\r\n        let format_TicksCount = formatTicksCount(data[0][breakdown[0].field]);\r\n        let tick_format = formatTick(data[0][breakdown[0].field]);\r\n        let axisX = d3.axisBottom(x).tickFormat(tick_format)\r\n        if (format_TicksCount === d3.timeYear) {\r\n            axisX.ticks(format_TicksCount)\r\n        }\r\n\r\n        let lineLayer = svg.append(\"g\").attr('class', 'lineLayer')\r\n\r\n        lineLayer.append('g').selectAll('line.line')\r\n            .data(y.ticks(5)).enter().append('line')\r\n            .attr('x1', 0)\r\n            .attr('x2', width - 20)\r\n            .attr('y1', function (d) { return y(d) })\r\n            .attr('y2', function (d) { return y(d) })\r\n            .attr('stroke', COLOR_GRID)\r\n            .attr('stroke-width', '2px')\r\n\r\n        let lineGen = d3.line().curve(d3.curveMonotoneX)\r\n            .x(function (d) {\r\n                return x(parseTime(d[breakdown[0].field]));\r\n            })\r\n            .y(function (d) {\r\n                return y(d[measureName]);\r\n            })\r\n        let rawPath = lineLayer.append('path')\r\n            .attr('d', lineGen(data))\r\n            .attr('stroke', COLOR_REGULAR)\r\n            .attr('stroke-width', '3px')\r\n            .attr('fill', 'none')\r\n\r\n\r\n        let symbolGen = d3.symbol()\r\n            .type(d3.symbolStar)\r\n            .size(16)\r\n\r\n        let tooltipLayer = svg.append('g').attr('class', 'tooltip');\r\n        for (let point of top) {\r\n            svg.append('g')\r\n                .attr('transform', 'translate(' + x(parseTime(point[breakdown[0].field])) + ',' + y(point[measureName]) + ')')\r\n                .append('path')\r\n                .attr('d', symbolGen())\r\n                .attr('fill', COLOR_STAR)\r\n            svg.append(\"line\")\r\n                .attr(\"x1\", x(parseTime(point[breakdown[0].field])))\r\n                .attr(\"y1\", height - 20)\r\n                .attr(\"x2\", x(parseTime(point[breakdown[0].field])))\r\n                .attr(\"y2\", y(point[measureName]))\r\n                .attr(\"stroke\", \"black\")\r\n                .attr(\"stroke-width\", \"3px\")\r\n                .attr(\"stroke-dasharray\", \"2px\")\r\n        }\r\n\r\n        // top-left\r\n        let tooltip = tooltipLayer.append(\"text\")\r\n            .attr(\"font-size\", '12px')\r\n            .attr(\"font-family\", ENGFONT)\r\n            .attr(\"fill\", COLOR_TEXT);\r\n        tooltip.append(\"tspan\")\r\n            .text(Math.round(top[0][measureName] * 100) / 100)\r\n        let textWidth = tooltip.node().getBBox().width;\r\n        let textHeight = tooltip.node().getBBox().height;\r\n        tooltip.attr(\"width\", textWidth)\r\n            .attr(\"height\", textHeight)\r\n            .attr(\"x\", x(parseTime(top[0][breakdown[0].field])) - textWidth * 1.05)\r\n            .attr(\"y\", y(top[0][measureName]) - textHeight / 2);\r\n\r\n        if (top.length > 1) {\r\n            // top-middle\r\n            tooltip = tooltipLayer.append(\"text\")\r\n                .attr(\"font-size\", '10px')\r\n                .attr(\"font-family\", ENGFONT)\r\n                .attr(\"fill\", COLOR_TEXT);\r\n            tooltip.append(\"tspan\")\r\n                .text(Math.round(top[1][measureName] * 100) / 100)\r\n            textWidth = tooltip.node().getBBox().width;\r\n            textHeight = tooltip.node().getBBox().height;\r\n            tooltip.attr(\"width\", textWidth)\r\n                .attr(\"height\", textHeight)\r\n                .attr(\"x\", x(parseTime(top[1][breakdown[0].field])) - textWidth / 2)\r\n                .attr(\"y\", y(top[1][measureName]) - textHeight / 2);\r\n        }\r\n\r\n        if (top.length > 2) {\r\n            // top-right\r\n            tooltip = tooltipLayer.append(\"text\")\r\n                .attr(\"font-size\", '10px')\r\n                .attr(\"font-family\", ENGFONT)\r\n                .attr(\"fill\", COLOR_TEXT);\r\n            tooltip.append(\"tspan\")\r\n                .text(Math.round(top[2][measureName] * 100) / 100)\r\n            textWidth = tooltip.node().getBBox().width;\r\n            textHeight = tooltip.node().getBBox().height;\r\n            tooltip.attr(\"width\", textWidth)\r\n                .attr(\"height\", textHeight)\r\n                .attr(\"x\", x(parseTime(top[2][breakdown[0].field])) + textWidth * 0.05)\r\n                .attr(\"y\", y(top[2][measureName]) - textHeight / 2);\r\n        }\r\n\r\n\r\n        let tickValues = []\r\n        for (let i = 0; i < top.length; i++) {\r\n            tickValues.push(parseTime(top[i][breakdown[0].field]))\r\n        }\r\n        axisX.tickValues(tickValues)\r\n\r\n        if (this._showTooltip) {\r\n            renderDetailValue(containerSelector, rawPath, x, y, height,\r\n                data, breakdown, measureName, tick_format, tooltipLayer)\r\n        }\r\n        svg.append(\"g\")\r\n            .attr(\"class\", \"xAxis\")\r\n            .attr(\"transform\", \"translate(0,\" + (height - 20) + \")\")\r\n            .call(axisX)\r\n            .call(g => {\r\n                g.attr(\"font-size\", '10px');\r\n                g.attr(\"font-family\", ENGFONT);\r\n                g.attr(\"font-weight\", 'light')\r\n\r\n                let domainD = g.selectAll(\".domain\").attr(\"d\");\r\n                domainD = domainD.replace(\"6V\", (6 * chartSize.height / 320) + \"V\")\r\n                domainD = domainD.replace(\"V6\", \"V\" + (6 * chartSize.height / 320))\r\n                g.selectAll(\".domain\").attr(\"d\", domainD).attr(\"stroke-width\", tickWidth);\r\n                g.selectAll(\".tick\")\r\n                    .selectAll(\"line\")\r\n                    // .attr(\"stroke\", Color.AXIS)\r\n                    .attr(\"stroke\", COLOR_AXIS)\r\n                    .attr(\"stroke-width\", tickWidth)\r\n                    .attr(\"y2\", 5);\r\n\r\n                g.selectAll(\"text\")\r\n                    .attr(\"y\", 10)\r\n                    //.attr(\"transform\", 'rotate(-20)')\r\n                    .attr(\"style\", 'text-anchor: end')\r\n            });\r\n\r\n\r\n        // add the y Axis\r\n        svg.append(\"g\")\r\n            .attr(\"class\", \"yAxis\")\r\n            // .attr(\"transform\", `translate(,0)`)\r\n            .call(d3.axisLeft(y).ticks(5).tickFormat(function (d) {\r\n                if ((d / 1000000) >= 1) {\r\n                    d = d / 1000000 + \"M\";\r\n                } else if ((d / 1000) >= 1) {\r\n                    d = d / 1000 + \"K\";\r\n                }\r\n                return d;\r\n            }))\r\n            .call(g => {\r\n                g.attr(\"font-size\", '10px')\r\n                g.attr(\"font-weight\", 'light')\r\n                g.attr(\"font-family\", ENGFONT)\r\n                let domainD = g.selectAll(\".domain\").attr(\"d\");\r\n                domainD = domainD.replace(\"M-6\", \"M-\" + (6 * chartSize.width / 640))\r\n                domainD = domainD.replace(\"H-6\", \"H-\" + (6 * chartSize.width / 640))\r\n                g.selectAll(\".domain\").attr(\"d\", domainD).attr(\"stroke-width\", tickWidth);\r\n                g.selectAll(\".tick\")\r\n                    .select(\"line\")\r\n                    //.attr(\"stroke\", Color.AXIS)\r\n                    .attr(\"stroke\", COLOR_AXIS)\r\n                    .attr(\"stroke-width\", tickWidth)\r\n                    .attr(\"x2\", -5);\r\n\r\n                g.selectAll(\"text\")\r\n                    .attr(\"x\", -10);\r\n            })\r\n        return svg;\r\n\r\n    }\r\n\r\n}\r\n\r\n\r\nlet renderDetailValue = (containerSelector, rawPath, x, y, height,\r\n    data, breakdown, measureName, tick_format, tooltipLayer) => {\r\n    let detailValueTooltip = d3.select(containerSelector)\r\n        .append(\"div\")\r\n        .attr(\"id\", \"value-tooltip\")\r\n        .style(\"z-index\", 2000)\r\n        .style(\"width\", \"fit-content\")\r\n        .style(\"height\", \"40px\")\r\n        .style(\"opacity\", 0)\r\n        .style(\"position\", \"absolute\")\r\n        .style(\"pointer-events\", \"none\")\r\n        .style(\"border-radius\", \"4px\")\r\n        .style(\"background\", \"#FFFFFF\")\r\n        .style(\"box-shadow\", \"0 0 5px #888888\")\r\n        .style(\"padding\", \"5px\")\r\n    let detailValueTitle = detailValueTooltip.append(\"span\")\r\n        .style(\"font\", `9px ${ENGFONT}`)\r\n        .style(\"font-weight\", \"bold\")\r\n        .style(\"display\", \"block\")\r\n        .style(\"color\", \"#000000\")\r\n    let detailValueContent = detailValueTooltip.append(\"svg\")\r\n        .attr(\"width\", \"95px\")\r\n        .attr(\"height\", \"30px\")\r\n    let detailValueColor = detailValueContent.append(\"circle\")\r\n        .attr(\"r\", 4)\r\n        .attr(\"cx\", \"5px\")\r\n        .attr(\"cy\", \"12px\")\r\n    let detailValueText = detailValueContent.append(\"text\")\r\n        .style(\"font\", `8px ${ENGFONT}`)\r\n        .style(\"color\", \"#000000\")\r\n        .attr(\"x\", \"14px\")\r\n        .attr(\"y\", \"14px\")\r\n\r\n    rawPath.on(\"mouseover\", function (d) {\r\n        detailValueTooltip.transition()\r\n            .duration(200)\r\n            .style(\"opacity\", .9)\r\n        detailValue.transition()\r\n            .duration(200)\r\n            .style(\"opacity\", 1)\r\n    })\r\n        .on(\"mouseout\", function (d) {\r\n            // If the mouse is exactly on the data point, \r\n            // then the mouse will on the circle instead of the path\r\n            // So here we should keep the tooltip shown when the mouse is still on the circle\r\n            let currentElement = document.elementFromPoint(d3.event.pageX, d3.event.pageY)\r\n            if (currentElement !== detailValueCircle.node()) {\r\n                detailValueTooltip.transition()\r\n                    .duration(500)\r\n                    .style(\"opacity\", 0)\r\n                detailValue.transition()\r\n                    .duration(500)\r\n                    .style(\"opacity\", 0)\r\n            }\r\n        })\r\n        .on(\"mousemove\", function (d) {\r\n            let result = getPosition()\r\n            let x0 = x.invert(d3.mouse(this)[0])\r\n            let currentIndex = bisectDate(data, x0, 1)\r\n            let time0 = parseTime(data[currentIndex - 1][breakdown[0].field])\r\n            let time1 = parseTime(data[currentIndex][breakdown[0].field])\r\n            let currentTime = x0 - time0 > time1 - x0 ? time1 : time0\r\n            let currentValue = currentTime === time0 ? data[currentIndex - 1][measureName] : data[currentIndex][measureName]\r\n            let title = tick_format(currentTime)\r\n            detailValueTooltip.style(\"left\", (result.posX + 30) + \"px\")\r\n                .style(\"top\", (result.posY + 20) + \"px\")\r\n            detailValueTitle.html(title)\r\n            detailValueColor.style(\"fill\", COLOR_REGULAR)\r\n            detailValueText.html(measureName + \": \" + currentValue.toFixed(2))\r\n\r\n            detailValueLine.attr(\"x1\", x(currentTime))\r\n            detailValueLine.attr(\"x2\", x(currentTime))\r\n            detailValueCircle.attr(\"cx\", x(currentTime))\r\n            detailValueCircle.attr(\"cy\", y(currentValue))\r\n            detailValueCircle.attr(\"stroke\", COLOR_REGULAR)\r\n        })\r\n\r\n    let bisectDate = d3.bisector(function (d) { return parseTime(d[breakdown[0].field]) }).left\r\n    let detailValue = tooltipLayer.append(\"g\")\r\n        .style(\"opacity\", 0)\r\n    let detailValueLine = detailValue.append(\"line\")\r\n        .attr(\"y1\", height - 20)\r\n        .attr(\"y2\", 0)\r\n        .attr(\"stroke-width\", \"2px\")\r\n        .attr(\"stroke\", COLOR_GRID)\r\n        .attr(\"stroke-dasharray\", \"6, 3\")\r\n    let detailValueCircle = detailValue.append(\"circle\")\r\n        .attr(\"r\", 3)\r\n        .attr(\"fill\", \"#FFFFFF\")\r\n        .attr(\"stroke-width\", \"2\")\r\n        .style(\"box-shadow\", \"0 0 5px #888888\")\r\n        .on(\"mouseover\", function (d) {\r\n            // FIXME: This is a nit\r\n            // Even mouse is not on the path, the tooltip will still be shown \r\n            // but the error area is small\r\n            detailValueTooltip.transition()\r\n                .duration(200)\r\n                .style(\"opacity\", .9)\r\n            detailValue.transition()\r\n                .duration(200)\r\n                .style(\"opacity\", 1)\r\n        }).on(\"mouseout\", function (d) {\r\n            // If the mouse is exactly on the data point, \r\n            // then the mouse will on the circle instead of the path\r\n            // So here we should hide all the tooltip when moving mouse out of the circle\r\n            detailValueTooltip.transition()\r\n                .duration(500)\r\n                .style(\"opacity\", 0)\r\n            detailValue.transition()\r\n                .duration(500)\r\n                .style(\"opacity\", 0)\r\n        })\r\n}\r\n\r\nlet getSizeBySize = (size, chartSize, fact, hasSeries = false, moreThan6 = false) => {\r\n    let tickSize, annotationSize, tickWidth, dotR, strokeWidth;\r\n\r\n    switch (size) {\r\n        case \"small\":\r\n            tickSize = 10;\r\n            annotationSize = 16;\r\n            tickWidth = 2;\r\n            dotR = 5;\r\n            strokeWidth = 2;\r\n            break;\r\n        case \"middle\":\r\n            tickSize = 13;\r\n            annotationSize = 20;\r\n            tickWidth = 2;\r\n            dotR = 5;\r\n            strokeWidth = 3;\r\n            break;\r\n        case \"wide\":\r\n            tickSize = 16;\r\n            annotationSize = 26;\r\n            dotR = 7;\r\n            tickWidth = 2;\r\n            strokeWidth = 3;\r\n            break;\r\n        case \"large\":\r\n        default:\r\n            tickSize = 20;\r\n            annotationSize = 40;\r\n            tickWidth = 2;\r\n            dotR = 10;\r\n            strokeWidth = 3;\r\n            break;\r\n    }\r\n    const chartMargin = {\r\n        \"small\": {\r\n            \"top\": 15,\r\n            \"right\": 20,\r\n            \"bottom\": 15,\r\n            \"left\": 20\r\n        },\r\n        \"middle\": {\r\n            \"top\": 15,\r\n            \"right\": 20,\r\n            \"bottom\": 15,\r\n            \"left\": 20\r\n        },\r\n        \"wide\": {\r\n            \"top\": 15,\r\n            \"right\": 20,\r\n            \"bottom\": 15,\r\n            \"left\": 20\r\n        },\r\n        \"large\": {\r\n            \"top\": 15,\r\n            \"right\": 20,\r\n            \"bottom\": 15,\r\n            \"left\": 20\r\n        }\r\n    };\r\n    let margin = chartMargin[size];\r\n\r\n    return { chartSize: chartSize, margin: margin, tickSize: tickSize, annotationSize: annotationSize, tickWidth, dotR, strokeWidth }\r\n}\r\n\r\nexport default Outstanding;","import * as d3 from \"d3\";\nimport Chart from \"../../chart\";\nimport { parseTime } from '../constant/timeConstant'\n\nconst ENGFONT = \"OPPOSans\";\nconst COLOR_REGULAR = \"#6C8EF2\";\nconst COLOR_GRID = \"#E6E6E6\";\nconst COLOR_AXIS = \"#000000\";\nconst TICK_WIDTH = 2;\n\nclass Autocorrelation extends Chart {\n    constructor() {\n        super();\n        this._x = \"\";\n        this._y = \"\";\n    }\n\n    display() {\n        //parse fact\n        let factResult = this.parseFact()\n        let data = factResult._data\n        let measure = factResult._measure\n        let breakdown = factResult._breakdown\n        let focus = factResult._focus\n        let measureName = factResult._measureName\n        if (focus.length === 0) return\n        if (breakdown[1] && breakdown[1].field) return;\n\n        //init chart size\n        let chartResult = this.setChartStandard()\n        let chartSize = chartResult._chartSize\n        let width = chartResult._width\n        let height = chartResult._height\n        let margin = chartResult._margin\n\n        //init svg\n        let svg = this.initSvg(chartSize, margin)\n        //init layer\n        let lineLayer = svg.append(\"g\").attr(\"class\", \"lineLayer\")\n\n        //draw x axis\n        let xAxisResult = this.drawXAxis(svg, data, breakdown, focus, width, height, chartSize)\n        let x = xAxisResult._x\n\n        //draw y axis\n        let y = this.drawYAxis(svg, data, measure, focus, chartSize, height)\n\n        //draw original line\n        this.drawBackLine(x, y, data, lineLayer, breakdown, measureName, focus, chartSize, height)\n\n        return svg;\n    }\n    parseFact() {\n        /**\n         * Parse fact json\n         * return:The contents of each field in fact\n         */\n        let factData = this.factdata()\n        let measure = this.measure();\n        let breakdown = this.breakdown();\n        let focus = this.focus();\n        // set data\n        factData = factData.sort((a, b) => parseTime(a[breakdown[0].field]) - parseTime(b[breakdown[0].field]))\n        let data = factData;\n        let measureName = measure[0].aggregate === \"count\" ? \"COUNT\" : measure[0].field\n        return { _data: data, _measure: measure, _breakdown: breakdown, _focus: focus, _measureName: measureName }\n    }\n    setChartStandard() {\n        /** \n         * calculate size of the chart\n         * return chart size parameters\n         */\n        // set the dimensions and margins of the graph\n        let chartSize = { width: 600, height: 280 }\n        let margin = {\n            \"top\": 15,\n            \"right\": 20,\n            \"bottom\": 15,\n            \"left\": 20\n        }\n        let width = chartSize.width - margin.left - margin.right,\n            height = chartSize.height - margin.top - margin.bottom;\n        return { _width: width, _height: height, _chartSize: chartSize, _margin: margin }\n    }\n    initSvg(chartSize, margin) {\n        /**\n         * Initialize SVG based on the drawing area size\n         * return :svg \n         */\n        let svg = d3.select(this.container())\n            .append(\"svg\")\n            .attr(\"width\", chartSize.width)\n            .attr(\"height\", chartSize.height)\n            .append(\"g\")\n            .attr(\"transform\", \"translate(\" + (margin.left + 10) + \",\" + margin.top + \")\")\n            .attr(\"font-family\", ENGFONT);\n        return svg\n    }\n    drawXAxis(svg, data, breakdown, focus, width, height, chartSize) {\n        /**\n         * Draw the X axis\n         */\n        // set the ranges\n        let x = d3.scaleLinear().range([0, width])\n        // Scale the range of the data in the domains\n        x.domain([-1, focus[0].correlation.length])\n        // add the x Axis\n        let tickValues = [];\n        for (let i = 0; i < focus[0].correlation.length; i++) {\n            tickValues.push(i);\n        }\n        let axisX = d3.axisBottom(x)\n            .tickValues(tickValues)\n            .ticks(tickValues.length)\n            .tickFormat(d3.format('d'))\n\n        svg.append(\"g\")\n            .attr(\"class\", \"xAxis\")\n            .attr(\"transform\", \"translate(0,\" + (height - 20) + \")\")\n            .call(axisX)\n            .call(g => {\n                g.attr(\"font-size\", \"10px\");\n                g.attr(\"font-family\", ENGFONT);\n                g.attr(\"font-weight\", \"lighter\")\n\n                g.selectAll(\".tick\")\n                    .selectAll(\"line\")\n                    .attr(\"stroke\", COLOR_AXIS)\n                    .attr(\"stroke-width\", TICK_WIDTH)\n                    .attr(\"y2\", 5);\n\n                g.selectAll(\"text\")\n                    .attr(\"y\", 10)\n                // .attr(\"transform\", \"rotate(-20)\")\n                // .attr(\"style\", \"text-anchor: end\")\n            });\n        return { _x: x, _axisX: axisX }\n    }\n    drawYAxis(svg, data, measure, focus, chartSize, height) {\n        /**\n         * Draw the Y axis\n         */\n        // .padding(0.1);\n        let y = d3.scaleLinear()\n            .range([height - 20, 0]);\n\n        y.domain(d3.extent([].concat(\n            // lower boundary minus margin\n            focus[0].correlation.map(function (d) { if (d >= 0) { return d * 0.9 } else { return d * 2.0 } }),\n            // upper boundary add margin\n            focus[0].correlation.map(function (d) { return d * 1.1 })\n        )));\n\n        // add the y Axis\n        svg.append(\"g\")\n            .attr(\"class\", \"yAxis\")\n            // .attr(\"transform\", `translate(,0)`)\n            .call(d3.axisLeft(y).ticks(5).tickFormat(d3.format('.1f')))\n            .call(g => {\n                g.attr(\"font-size\", \"10px\")\n                g.attr(\"font-weight\", \"lighter\")\n                g.attr(\"font-family\", ENGFONT)\n\n                g.selectAll(\".tick\")\n                    .select(\"line\")\n                    .attr(\"stroke\", COLOR_AXIS)\n                    .attr(\"stroke-width\", TICK_WIDTH)\n                    .attr(\"x2\", -5);\n\n                g.selectAll(\"text\")\n                    .attr(\"x\", -10);\n            })\n        //Hide y axis\n        // yAxis.select(\"path\")\n        //      .attr(\"display\", \"none\")\n        // yAxis.selectAll(\".tick line\")\n        //     //  .attr(\"stroke-width\", 0)\n        //     .attr(\"opacity\", 0)\n        return y\n    }\n    drawBackLine(x, y, data, lineLayer, breakdown, measureName, focus, chartSize, height) {\n        /**\n         * draw series line and back grid\n         */\n        lineLayer.append(\"g\").selectAll(\"line.line\")\n            .data(y.ticks(5)).enter().append(\"line\")\n            .attr(\"x1\", 0)\n            .attr(\"x2\", chartSize.width)\n            .attr(\"y1\", function (d) { return y(d) })\n            .attr(\"y2\", function (d) { return y(d) })\n            .attr(\"stroke\", COLOR_GRID)\n            .attr(\"stroke-width\", \"2px\")\n\n        for (let i = 0; i < focus[0].correlation.length; i++) {\n            lineLayer.append(\"circle\")\n                .attr(\"cx\", x(i))\n                .attr(\"cy\", y(focus[0].correlation[i]))\n                .attr(\"r\", 4)\n                .attr(\"fill\", COLOR_REGULAR)\n            lineLayer.append(\"line\")\n                .attr(\"x1\", x(i))\n                .attr(\"y1\", d3.min([y(0), (height - 20)]))\n                .attr(\"x2\", x(i))\n                .attr(\"y2\", y(focus[0].correlation[i]))\n                .attr(\"stroke\", COLOR_REGULAR)\n                .attr(\"stroke-width\", \"2.5px\")\n        }\n        if (d3.min(focus[0].correlation) < 0) {\n            let xLeft = x(-1);\n            let xRight = x(focus[0].correlation.length)\n            lineLayer.append(\"line\")\n                .attr(\"x1\", xLeft)\n                .attr(\"y1\", y(0))\n                .attr(\"x2\", xRight)\n                .attr(\"y2\", y(0))\n                .attr(\"stroke\", \"gray\")\n                .attr(\"stroke-width\", \"2px\")\n                .attr(\"opacity\", 0.8)\n        }\n    }\n\n}\n\nexport default Autocorrelation;","import ChartType from './visualization/charttype';\nimport { Origin, Autocorrelation, Outstanding, MultivariateOutlier, Trend, UnivariateDistribution, Seasonality, MultivariateDistribution, FrequentPattern, Clustering, Forecasting, UnivariateOutlier, Similarity } from './charts';\n\nclass Visualization {\n    constructor(origin) {\n        this._table = [];\n        this._fact = {};\n        this._factdata = [];\n        this._width = 0;\n        this._height = 0;\n        this._type = ChartType.VERTICAL_BAR_CHART;\n        this._duration = 0;\n        this._chart = {};\n        this._caption = \"\";\n        this._showSuggestion = false; // When true, it will show the suggestion that whether the chart supports the data.\n        this._showTooltip = false;\n        this.props = origin.props\n    }\n\n    size() {\n        return this._size;\n    }\n\n    width(value) {\n        if (!value) {\n            return this._width;\n        }\n        this._width = value;\n    }\n\n    height(value) {\n        if (!value) {\n            return this._height;\n        }\n        this._height = value;\n    }\n\n    table(value) {\n        if (!value) {\n            return this._table;\n        }\n        this._table = value;\n    }\n\n    data(value) {\n        if (!value) {\n            return this._factdata;\n        }\n        this._factdata = value;\n    }\n\n    fact(value) {\n        if (!value) {\n            return this._fact;\n        }\n        this._fact = value;\n    }\n\n    chart(value) {\n        if (!value) {\n            return this._chart;\n        }\n        this._chart = value;\n    }\n\n    caption(value) {\n        if (!value) {\n            return this._caption;\n        }\n        this._caption = value;\n    }\n\n    style() {\n        return this._style;\n    }\n\n    showSuggestion() {\n        return this._showSuggestion\n    }\n    showTooltip() {\n        return this._showTooltip\n    }\n\n    load(spec) {\n        this._width = spec.width ? spec.width : 0;\n        this._height = spec.height ? spec.height : 0;\n        this._style = spec.style;\n        this._type = spec.type;\n        this._duration = spec.duration ? spec.duration : 0;\n        this._showSuggestion = spec.showSuggestion ? spec.showSuggestion : false;\n        this._showTooltip = spec.showTooltip ? spec.showTooltip : false;\n        return new Promise((resolve, reject) => {\n            try {\n                let data = this.data();\n                let fact = this.fact();\n                let chart = this._type2chart(spec.type);\n                chart.height(this._height);\n                chart.width(this._width);\n                chart.table(this._table);\n                chart.factdata(data);\n                chart.subspace(fact.subspace);\n                chart.measure(fact.measure);\n                chart.breakdown(fact.breakdown);\n                chart.focus(fact.focus);\n                chart.duration(this._duration);\n                chart.showSuggestion(this._showSuggestion);\n                chart.showTooltip(this._showTooltip);\n                this.chart(chart);\n                resolve(this);\n            } catch (error) {\n                reject(error);\n            }\n        });\n    }\n\n    update() {\n        return new Promise((resolve, reject) => {\n            try {\n                let data = this.data();\n                let fact = this.fact();\n                this._chart.factdata(data);\n                this._chart.subspace(fact.subspace);\n                this._chart.measure(fact.measure);\n                this._chart.breakdown(fact.breakdown);\n                this._chart.focus(fact.focus);\n                this._chart.duration(this._duration);\n                this._chart.showSuggestion(this._showSuggestion);\n                this._chart.showTooltip(this._showTooltip);\n                resolve(this);\n            } catch (error) {\n                reject(error);\n            }\n        });\n    }\n\n    _type2chart(type) {\n        switch (type) {\n            case ChartType.MULTIVARIATE_OUTLIER:\n                return new MultivariateOutlier(this.props);\n            case ChartType.UNIVARIATE_DISTRIBUTION:\n                return new UnivariateDistribution(this.props);\n            case ChartType.TREND:\n                return new Trend(this.props);\n            case ChartType.SEASONALITY:\n                return new Seasonality(this.props);\n            case ChartType.MULTIVARIATE_DISTRIBUTION:\n                return new MultivariateDistribution(this.props);\n            case ChartType.FREQUENT_PATTERN:\n                return new FrequentPattern(this.props);\n            case ChartType.CLUSTERING:\n                return new Clustering(this.props);\n            case ChartType.FORECASTING:\n                return new Forecasting(this.props);\n            case ChartType.UNIVARIATE_OUTLIER:\n                return new UnivariateOutlier(this.props);\n            case ChartType.SIMILARITY:\n                return new Similarity(this.props);\n            case ChartType.ORIGIN:\n                return new Origin(this.props);\n            case ChartType.AUTOCORRELATION:\n                return new Autocorrelation(this.props);\n            case ChartType.OUTSTANDING:\n                return new Outstanding(this.props);\n            default: return\n        }\n    }\n}\n\nexport default Visualization;","import * as d3 from 'd3';\n\nclass Display {\n    constructor() {\n        // visualization\n        this._container = \"\";\n        this._paragraph = \"\";\n        this._vis = {};\n    }\n\n    container(value) {\n        this._container = value;\n    }\n\n    paragraph(value) {\n        this._paragraph = value;\n    }\n\n    vis(value) {\n        if (!value) {\n            return this._vis;   \n        }\n        this._vis = value;\n    }\n\n    render() {\n        let vis = this.vis();\n        let chart = vis.chart();\n        chart.container(this._container);\n        let fact = vis.fact();\n        if (chart.duration() === 0) {\n            chart.display(fact.type);\n        } else {\n            chart.animate(fact.type);\n        }\n    }\n\n    update(prefact, nextfact) {\n        let vis = this.vis();\n        let chart = vis.chart();\n        chart.update(prefact, nextfact);\n    }\n\n    showCaption() {\n        let vis = this.vis();\n        d3.select(this._paragraph)\n            .style('font-size','1.5em')\n            .style('text-align','center')\n            .text(vis.caption());\n    }\n}\n\nexport default Display;","import Data from './data';\nimport Fact from './fact';\nimport Visualization from './visualization';\nimport Display from './display';\n\nclass AutoVis {\n    constructor(origin) {\n        this._container = document.createElement(\"div\");\n        this._paragraph = document.createElement(\"p\");\n        this._data = new Data();\n        this._fact = new Fact();\n        this._vis = new Visualization(origin);\n        this._display = new Display();\n        this._spec = {};\n    }\n\n    container(value) {\n        if (!value) {\n            return this._container;\n        }\n        this._container = value;\n    }\n\n    paragraph(value) {\n        if (!value) {\n            return this._paragraph;\n        }\n        this._paragraph = value;\n    }\n\n    load(spec) {\n        this._spec = spec;\n    }\n\n    shouldShowCaption(value) {\n        if (!value) {\n            return this._shouldShowCaption;\n        }\n        this._shouldShowCaption = value;\n    }\n\n    generate() {\n        // STEP 0: parse specification\n        let spec = this._spec;\n        let dataspec = spec.data ? spec.data : {};\n        let factspec = spec.fact ? spec.fact : {};\n        let chartspec = spec.chart ? spec.chart : {};\n\n        // STEP 1: data\n        this._data.load(dataspec)\n            .then((data) => {\n                // STEP 2: fact\n                this._fact.table(data.table());\n                this._fact.schema(data.schema());\n                return this._fact.load(factspec);\n            })\n            .then((fact) => {\n                // STEP 3: generate caption and setup visualization\n                this._vis.table(fact.table());\n                this._vis.data(fact.factdata());\n                this._vis.fact(fact.fact());\n                return this._vis.load(chartspec);\n            })\n            .then((vis) => {\n                // STEP 4: display\n                this._display.container(this.container());\n                this._display.paragraph(this.paragraph());\n                this._display.vis(vis);\n                this._display.render();\n                if (this.shouldShowCaption()) {\n                    this._display.showCaption();\n                }\n            })\n            .catch((reason) => {\n                console.log(reason);\n            })\n    }\n\n}\n\nexport default AutoVis;","import React, { Component } from 'react';\nimport { AutoVis } from './vis';\n\nexport default class Chart extends Component {\n    componentDidMount() {\n        const { id } = this.props.spec.chart;\n        let spec = this.props.spec;\n        let container = id ? `#vischart_${id}` : \"#demo-chart\";\n        this.autovis = new AutoVis(this);\n        this.autovis.container(container);\n        this.autovis.load(spec);\n        this.autovis.generate();\n    }\n\n    componentDidUpdate(preProps) {\n        const { id } = this.props.spec.chart;\n        let spec = this.props.spec;\n        let container = id ? `#vischart_${id}` : \"#demo-chart\";\n        this.autovis = new AutoVis(this);\n        this.autovis.container(container);\n        this.autovis.load(spec);\n        this.autovis.generate();\n    }\n\n    render() {\n        const {width,height}=this.props.spec.chart;\n        // let height = 640, width = 400;\n\n        let a_height=height!==undefined?height:640\n        let a_width=width!==undefined?width:400\n        const { id } = this.props.spec.chart ? this.props.spec.chart : { id: \"demo-chart\" };\n        return (\n            <div id={id ? `vischart_${id}` : 'demo-chart'} style={{ height: a_height, width: a_width, position: \"relative\" }} />\n        )\n    }\n}\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.dontSetMe = dontSetMe;\nexports.findInArray = findInArray;\nexports.int = int;\nexports.isFunction = isFunction;\nexports.isNum = isNum;\n\n// @credits https://gist.github.com/rogozhnikoff/a43cfed27c41e4e68cdc\nfunction findInArray(array\n/*: Array<any> | TouchList*/\n, callback\n/*: Function*/\n)\n/*: any*/\n{\n  for (var i = 0, length = array.length; i < length; i++) {\n    if (callback.apply(callback, [array[i], i, array])) return array[i];\n  }\n}\n\nfunction isFunction(func\n/*: any*/\n)\n/*: boolean %checks*/\n{\n  // $FlowIgnore[method-unbinding]\n  return typeof func === 'function' || Object.prototype.toString.call(func) === '[object Function]';\n}\n\nfunction isNum(num\n/*: any*/\n)\n/*: boolean %checks*/\n{\n  return typeof num === 'number' && !isNaN(num);\n}\n\nfunction int(a\n/*: string*/\n)\n/*: number*/\n{\n  return parseInt(a, 10);\n}\n\nfunction dontSetMe(props\n/*: Object*/\n, propName\n/*: string*/\n, componentName\n/*: string*/\n)\n/*: ?Error*/\n{\n  if (props[propName]) {\n    return new Error(\"Invalid prop \".concat(propName, \" passed to \").concat(componentName, \" - do not set this, set it on the child.\"));\n  }\n}","import arrayWithoutHoles from \"./arrayWithoutHoles\";\nimport iterableToArray from \"./iterableToArray\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nimport nonIterableSpread from \"./nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"./arrayLikeToArray\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","export default {\r\n    trend: 'Trend',\r\n    forecasting: 'Forecasting',\r\n    frequent_pattern: 'Similarity',\r\n    seasonality: 'Seasonality',\r\n    univariate_outlier: 'Outlier',\r\n    univariate_distribution: 'Distribution',\r\n    similarity: 'Similarity',\r\n    multivariate_outlier: 'Outlier',\r\n    multivariate_distribution: 'Correlation',\r\n    clustering: 'Clustering',\r\n    outstanding: 'Extreme',\r\n    autocorrelation: 'Autocorrelation'\r\n}","\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.addClassName = addClassName;\nexports.addEvent = addEvent;\nexports.addUserSelectStyles = addUserSelectStyles;\nexports.createCSSTransform = createCSSTransform;\nexports.createSVGTransform = createSVGTransform;\nexports.getTouch = getTouch;\nexports.getTouchIdentifier = getTouchIdentifier;\nexports.getTranslation = getTranslation;\nexports.innerHeight = innerHeight;\nexports.innerWidth = innerWidth;\nexports.matchesSelector = matchesSelector;\nexports.matchesSelectorAndParentsTo = matchesSelectorAndParentsTo;\nexports.offsetXYFromParent = offsetXYFromParent;\nexports.outerHeight = outerHeight;\nexports.outerWidth = outerWidth;\nexports.removeClassName = removeClassName;\nexports.removeEvent = removeEvent;\nexports.removeUserSelectStyles = removeUserSelectStyles;\n\nvar _shims = require(\"./shims\");\n\nvar _getPrefix = _interopRequireWildcard(require(\"./getPrefix\"));\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar matchesSelectorFunc = '';\n\nfunction matchesSelector(el\n/*: Node*/\n, selector\n/*: string*/\n)\n/*: boolean*/\n{\n  if (!matchesSelectorFunc) {\n    matchesSelectorFunc = (0, _shims.findInArray)(['matches', 'webkitMatchesSelector', 'mozMatchesSelector', 'msMatchesSelector', 'oMatchesSelector'], function (method) {\n      // $FlowIgnore: Doesn't think elements are indexable\n      return (0, _shims.isFunction)(el[method]);\n    });\n  } // Might not be found entirely (not an Element?) - in that case, bail\n  // $FlowIgnore: Doesn't think elements are indexable\n\n\n  if (!(0, _shims.isFunction)(el[matchesSelectorFunc])) return false; // $FlowIgnore: Doesn't think elements are indexable\n\n  return el[matchesSelectorFunc](selector);\n} // Works up the tree to the draggable itself attempting to match selector.\n\n\nfunction matchesSelectorAndParentsTo(el\n/*: Node*/\n, selector\n/*: string*/\n, baseNode\n/*: Node*/\n)\n/*: boolean*/\n{\n  var node = el;\n\n  do {\n    if (matchesSelector(node, selector)) return true;\n    if (node === baseNode) return false;\n    node = node.parentNode;\n  } while (node);\n\n  return false;\n}\n\nfunction addEvent(el\n/*: ?Node*/\n, event\n/*: string*/\n, handler\n/*: Function*/\n, inputOptions\n/*: Object*/\n)\n/*: void*/\n{\n  if (!el) return;\n\n  var options = _objectSpread({\n    capture: true\n  }, inputOptions); // $FlowIgnore[method-unbinding]\n\n\n  if (el.addEventListener) {\n    el.addEventListener(event, handler, options);\n  } else if (el.attachEvent) {\n    el.attachEvent('on' + event, handler);\n  } else {\n    // $FlowIgnore: Doesn't think elements are indexable\n    el['on' + event] = handler;\n  }\n}\n\nfunction removeEvent(el\n/*: ?Node*/\n, event\n/*: string*/\n, handler\n/*: Function*/\n, inputOptions\n/*: Object*/\n)\n/*: void*/\n{\n  if (!el) return;\n\n  var options = _objectSpread({\n    capture: true\n  }, inputOptions); // $FlowIgnore[method-unbinding]\n\n\n  if (el.removeEventListener) {\n    el.removeEventListener(event, handler, options);\n  } else if (el.detachEvent) {\n    el.detachEvent('on' + event, handler);\n  } else {\n    // $FlowIgnore: Doesn't think elements are indexable\n    el['on' + event] = null;\n  }\n}\n\nfunction outerHeight(node\n/*: HTMLElement*/\n)\n/*: number*/\n{\n  // This is deliberately excluding margin for our calculations, since we are using\n  // offsetTop which is including margin. See getBoundPosition\n  var height = node.clientHeight;\n  var computedStyle = node.ownerDocument.defaultView.getComputedStyle(node);\n  height += (0, _shims.int)(computedStyle.borderTopWidth);\n  height += (0, _shims.int)(computedStyle.borderBottomWidth);\n  return height;\n}\n\nfunction outerWidth(node\n/*: HTMLElement*/\n)\n/*: number*/\n{\n  // This is deliberately excluding margin for our calculations, since we are using\n  // offsetLeft which is including margin. See getBoundPosition\n  var width = node.clientWidth;\n  var computedStyle = node.ownerDocument.defaultView.getComputedStyle(node);\n  width += (0, _shims.int)(computedStyle.borderLeftWidth);\n  width += (0, _shims.int)(computedStyle.borderRightWidth);\n  return width;\n}\n\nfunction innerHeight(node\n/*: HTMLElement*/\n)\n/*: number*/\n{\n  var height = node.clientHeight;\n  var computedStyle = node.ownerDocument.defaultView.getComputedStyle(node);\n  height -= (0, _shims.int)(computedStyle.paddingTop);\n  height -= (0, _shims.int)(computedStyle.paddingBottom);\n  return height;\n}\n\nfunction innerWidth(node\n/*: HTMLElement*/\n)\n/*: number*/\n{\n  var width = node.clientWidth;\n  var computedStyle = node.ownerDocument.defaultView.getComputedStyle(node);\n  width -= (0, _shims.int)(computedStyle.paddingLeft);\n  width -= (0, _shims.int)(computedStyle.paddingRight);\n  return width;\n}\n/*:: interface EventWithOffset {\n  clientX: number, clientY: number\n}*/\n\n\n// Get from offsetParent\nfunction offsetXYFromParent(evt\n/*: EventWithOffset*/\n, offsetParent\n/*: HTMLElement*/\n, scale\n/*: number*/\n)\n/*: ControlPosition*/\n{\n  var isBody = offsetParent === offsetParent.ownerDocument.body;\n  var offsetParentRect = isBody ? {\n    left: 0,\n    top: 0\n  } : offsetParent.getBoundingClientRect();\n  var x = (evt.clientX + offsetParent.scrollLeft - offsetParentRect.left) / scale;\n  var y = (evt.clientY + offsetParent.scrollTop - offsetParentRect.top) / scale;\n  return {\n    x: x,\n    y: y\n  };\n}\n\nfunction createCSSTransform(controlPos\n/*: ControlPosition*/\n, positionOffset\n/*: PositionOffsetControlPosition*/\n)\n/*: Object*/\n{\n  var translation = getTranslation(controlPos, positionOffset, 'px');\n  return _defineProperty({}, (0, _getPrefix.browserPrefixToKey)('transform', _getPrefix.default), translation);\n}\n\nfunction createSVGTransform(controlPos\n/*: ControlPosition*/\n, positionOffset\n/*: PositionOffsetControlPosition*/\n)\n/*: string*/\n{\n  var translation = getTranslation(controlPos, positionOffset, '');\n  return translation;\n}\n\nfunction getTranslation(_ref2, positionOffset\n/*: PositionOffsetControlPosition*/\n, unitSuffix\n/*: string*/\n)\n/*: string*/\n{\n  var x = _ref2.x,\n      y = _ref2.y;\n  var translation = \"translate(\".concat(x).concat(unitSuffix, \",\").concat(y).concat(unitSuffix, \")\");\n\n  if (positionOffset) {\n    var defaultX = \"\".concat(typeof positionOffset.x === 'string' ? positionOffset.x : positionOffset.x + unitSuffix);\n    var defaultY = \"\".concat(typeof positionOffset.y === 'string' ? positionOffset.y : positionOffset.y + unitSuffix);\n    translation = \"translate(\".concat(defaultX, \", \").concat(defaultY, \")\") + translation;\n  }\n\n  return translation;\n}\n\nfunction getTouch(e\n/*: MouseTouchEvent*/\n, identifier\n/*: number*/\n)\n/*: ?{clientX: number, clientY: number}*/\n{\n  return e.targetTouches && (0, _shims.findInArray)(e.targetTouches, function (t) {\n    return identifier === t.identifier;\n  }) || e.changedTouches && (0, _shims.findInArray)(e.changedTouches, function (t) {\n    return identifier === t.identifier;\n  });\n}\n\nfunction getTouchIdentifier(e\n/*: MouseTouchEvent*/\n)\n/*: ?number*/\n{\n  if (e.targetTouches && e.targetTouches[0]) return e.targetTouches[0].identifier;\n  if (e.changedTouches && e.changedTouches[0]) return e.changedTouches[0].identifier;\n} // User-select Hacks:\n//\n// Useful for preventing blue highlights all over everything when dragging.\n// Note we're passing `document` b/c we could be iframed\n\n\nfunction addUserSelectStyles(doc\n/*: ?Document*/\n) {\n  if (!doc) return;\n  var styleEl = doc.getElementById('react-draggable-style-el');\n\n  if (!styleEl) {\n    styleEl = doc.createElement('style');\n    styleEl.type = 'text/css';\n    styleEl.id = 'react-draggable-style-el';\n    styleEl.innerHTML = '.react-draggable-transparent-selection *::-moz-selection {all: inherit;}\\n';\n    styleEl.innerHTML += '.react-draggable-transparent-selection *::selection {all: inherit;}\\n';\n    doc.getElementsByTagName('head')[0].appendChild(styleEl);\n  }\n\n  if (doc.body) addClassName(doc.body, 'react-draggable-transparent-selection');\n}\n\nfunction removeUserSelectStyles(doc\n/*: ?Document*/\n) {\n  if (!doc) return;\n\n  try {\n    if (doc.body) removeClassName(doc.body, 'react-draggable-transparent-selection'); // $FlowIgnore: IE\n\n    if (doc.selection) {\n      // $FlowIgnore: IE\n      doc.selection.empty();\n    } else {\n      // Remove selection caused by scroll, unless it's a focused input\n      // (we use doc.defaultView in case we're in an iframe)\n      var selection = (doc.defaultView || window).getSelection();\n\n      if (selection && selection.type !== 'Caret') {\n        selection.removeAllRanges();\n      }\n    }\n  } catch (e) {// probably IE\n  }\n}\n\nfunction addClassName(el\n/*: HTMLElement*/\n, className\n/*: string*/\n) {\n  if (el.classList) {\n    el.classList.add(className);\n  } else {\n    if (!el.className.match(new RegExp(\"(?:^|\\\\s)\".concat(className, \"(?!\\\\S)\")))) {\n      el.className += \" \".concat(className);\n    }\n  }\n}\n\nfunction removeClassName(el\n/*: HTMLElement*/\n, className\n/*: string*/\n) {\n  if (el.classList) {\n    el.classList.remove(className);\n  } else {\n    el.className = el.className.replace(new RegExp(\"(?:^|\\\\s)\".concat(className, \"(?!\\\\S)\"), 'g'), '');\n  }\n}","export const insightColors = {\r\n    \"trend\": \"#8dd3c7\",\r\n    \"forecasting\": \"#f0e68c\",\r\n    // \"frequent_pattern\": \"#bebada\",\r\n    // \"seasonality\": \"#fb8072\",\r\n    \"seasonality\": \"#80b1d3\",\r\n    // \"univariate_outlier\": \"#80b1d3\",\r\n    \"distribution\": \"#F5DEB3\",\r\n    \"similarity\": \"#b3de69\",\r\n    \"outlier\": \"#fccde5\",\r\n    \"correlation\": \"#d9d9d9\",\r\n    \"clustering\": \" #bc80bd\",\r\n    \"autocorrelation\": \"#bebada\",\r\n    \"extreme\": \"#FF7F50\",\r\n    \"null\": \"white\"\r\n}","//import { createSelector } from 'reselect';\nimport Cookies from 'js-cookie';\n\nexport const operateState = state => state.user.operateState;\nexport const isLogin = state => state.user.isLogin;\nexport const convertType = state => state.user.convertType;\nexport const currentLocale = state => state.user.currentLocale;\n\nexport const getUserInfo = state => {\n    return Cookies.get(\"userInfo\") && JSON.parse(Cookies.get(\"userInfo\")) ? JSON.parse(Cookies.get(\"userInfo\")) : {\n        username: \"\",\n        uid: -1\n    }\n}\n\n","export default {\r\n    TREND: 'trend',\r\n    FORECASTING: 'forecasting',\r\n    FREQUENT_PATTERN: 'frequent_pattern',\r\n    SEASONALITY: 'seasonality',\r\n    UNIVARIATE_OUTLIER: 'univariate_outlier',\r\n    UNIVARIATE_DISTRIBUTION: 'univariate_distribution',\r\n    SIMILARITY: 'similarity',\r\n    MULTIVARIATE_OUTLIER: 'multivariate_outlier',\r\n    MULTIVARIATE_DISTRIBUTION: 'multivariate_distribution',\r\n    CLUSTRING: 'clustering',\r\n    OUTSTANDING:'outstanding',\r\n    AUTOCORRELATION:'autocorrelation'\r\n}","const templates = [\n    {\n        'id': 0,\n        'template': '{{action}}A clear {{parameter}} trend is observed in the {{agg}} {{measure}} between {{subspace0}} and {{subspace1}}.',\n    },\n    {\n        'id': 1,\n        'template': '{{action}}The {{parameter}} trend of {{agg}} {{measure}} is evident in the time range between {{subspace0}} and {{subspace1}}.',\n    },\n    {\n        'id': 2,\n        'template': '{{action}}A {{parameter}} trend is revealed in the {{agg}} {{measure}} between {{subspace0}} and {{subspace1}}.',\n    },\n]\n\nexport default templates;","const templates = [\n    {\n        'id': 0,\n        'template': 'When {{subspace}}, in general, there is a {{positive/negative}} correlation between {{measure1}} and {{measure2}}.',\n    },\n    {\n        'id': 1,\n        'template': 'When {{subspace}}, in general, {{measure2}} has a {{positive/negative}} relationship with {{measure1}}.',\n    },\n    {\n        'id': 2,\n        'template': 'When {{subspace}}, in general, {{measure2}} has a {{positive/negative}} relationship with {{measure1}} (Pearson correlation coefficient = {{parameter}}).',\n    },\n]\n\nexport default templates;","const templates = [\n    {\n        'id': 0,\n        'template': '{{action}}The {{measure}} holds {{patterns}} patterns that resemble the time sequence between {{subspace0}} and {{subspace1}}.',\n    },\n    {\n        'id': 1,\n        'template': '{{action}}The {{measure}} reveals {{patterns}} patterns, similar to the time sequence between {{subspace0}} and {{subspace1}}.',\n    },\n    {\n        'id': 2,\n        'template': '{{action}}The {{measure}} displays {{patterns}} patterns, which follow the similar time subsequence as {{subspace0}} to {{subspace1}}.',\n    },\n]\n\nexport default templates;","const templates = [\n    {\n        'id': 0,\n        'template': '{{action}}The {{parameter}} pattern of {{agg}} {{measure}} is evident between {{subspace0}} and {{subspace1}}, with {{seasonality}} seasonal periods observed throughout the whole time range.',\n    },\n    {\n        'id': 1,\n        'template': '{{action}}A {{parameter}} {{agg}} {{measure}} can be observed between {{subspace0}} and {{subspace1}}, with {{seasonality}} periods present in the whole time range.',\n    },\n    {\n        'id': 2,\n        'template': 'A {{parameter}} {{agg}} {{measure}} can be observed between {{subspace0}} and {{subspace1}}, with {{seasonality}} periods present in the whole time range.',\n    },\n]\n\nexport default templates;","// const templates = [\n//     {\n//         'id': 0,\n//         'template': '{{action}}Between {{subspace0}} and {{subspace1}}, the {{agg}} {{measure}} in {{focus}} has an outlier when compared with that of other values.',\n//     },\n//     {\n//         'id': 1,\n//         'template': '{{action}}Between {{subspace0}} and {{subspace1}}, {{focus}}\\'s {{agg}} {{measure}} is anomalously different from that of other values.',\n//     },\n//     {\n//         'id': 2,\n//         'template': '{{action}}Between {{subspace0}} and {{subspace1}}, the {{agg}} {{measure}} of {{focus}} has an outlier score of {{score}} when compared with that of other values.',\n//     },\n// ]\nconst templates = [\n    {\n        'id': 0,\n        'template': '{{action}}The {{agg}} {{measure}} between {{focus}} stands apart as a clear outlier compared to other values in {{subspace0}} and {{subspace1}}.',\n    },\n    {\n        'id': 1,\n        'template': '{{action}}The {{agg}} {{measure}} between {{focus}} is noticeable as an outlier, distinct from other values in {{subspace0}} and {{subspace1}}.',\n    },\n    {\n        'id': 2,\n        'template': '{{action}}The {{agg}} {{measure}} between {{focus}} stands tall as a unique outlier compared to the values in {{subspace0}} and {{subspace1}}.',\n    },\n]\n\nexport default templates;","const templates = [\n    {\n        'id': 0,\n        'template': '{{action}}The distribution of {{agg}} {{measure}} between {{subspace0}} and {{subspace1}} is presented with a mean value of {{mean}}.',\n    },\n    {\n        'id': 1,\n        'template': '{{action}}A distribution of {{agg}} {{measure}} between {{subspace0}} and {{subspace1}} can be seen, with a mean of {{mean}}.',\n    },\n    {\n        'id': 2,\n        'template': '{{action}}The distribution of {{agg}} {{measure}} in the range of {{subspace0}} to {{subspace1}} has a mean of {{mean}}.',\n    },\n]\n\nexport default templates;","const templates = [\n    {\n        'id': 0,\n        'template': '{{action}}The {{agg}} {{measures}} in different subspaces display similar patterns to {{baseline}} within {{subspace0}} and {{subspace1}} .',\n    },\n    {\n        'id': 1,\n        'template': '{{action}}The {{baseline}} in {{subspace0}} and {{subspace1}} exhibit a striking similarity to {{agg}} {{measures}} in various subspaces.',\n    },\n    {\n        'id': 2,\n        'template': '{{action}}The {{baseline}} in {{subspace0}} and {{subspace1}} are highly similar to {{agg}} {{measures}} in various subspaces.',\n    },\n]\n\nexport default templates;","const templates = [\n    {\n        'id': 0,\n        'template': '{{action}}The values of {{focus}} exhibit an outlier within the range of {{subspace0}} to {{subspace1}} in comparison to the rest.',\n    },\n    {\n        'id': 1,\n        'template': '{{action}}The {{focus}} values present a significant deviation from the norm when viewed in relation to the range {{subspace0}} to {{subspace1}}.',\n    },\n    {\n        'id': 2,\n        'template': '{{action}}Anomalies are evident in the {{focus}} values, which stand out when compared with other values within the range {{subspace0}} to {{subspace1}}.',\n    },\n]\n\nexport default templates;","const templates = [\n    {\n        'id': 0,\n        'template': '{{action}}The correlation between {{agg}} {{measures}} in {{subspace0}} and {{subspace1}} is depicted.',\n    },\n    {\n        'id': 1,\n        'template': '{{action}}The correlation between {{subspace0}} and {{subspace1}} with regards to {{agg}} {{measures}} is shown.',\n    },\n    {\n        'id': 2,\n        'template': '{{action}}The chart below reveals the correlation between {{subspace0}} and {{subspace1}} in terms of {{agg}} {{measures}}.',\n    },\n]\n//The one with the largest mean is the {{measure}}, which has an average of {{mean}}.\nexport default templates;","const templates = [\n    {\n        'id': 0,\n        'template': '{{action}}. When {{subspace}}, there are {{parameter}} categories of {{groupby}}s, including {{no.1}}, {{no.2}}, {{no.3}}.',\n    },\n    {\n        'id': 1,\n        'template': '{{action}}. When {{subspace}}, the data are grouped into {{parameter}} {{groupby}}s, including {{no.1}}, {{no.2}}, {{no.3}}.',\n    },\n    {\n        'id': 2,\n        'template': '{{action}}. When {{subspace}}, the data include {{parameter}} groups of {{groupby}}s, including {{no.1}}, {{no.2}}, {{no.3}}.',\n    },\n]\n\nexport default templates;","const templates = [\r\n    {\r\n        'id': 0,\r\n        'template': '{{action}}The {{agg}} {{measure}} in {{focus}} between {{subspace0}} and {{subspace1}} displays a high level of autocorrelation compared to other lags.',\r\n    },\r\n    {\r\n        'id': 1,\r\n        'template': '{{action}}The {{agg}} {{measure}} in {{focus}} in the time range between {{subspace0}} and {{subspace1}} shows a strong autocorrelation compared to other lags.',\r\n    },\r\n    {\r\n        'id': 2,\r\n        'template': '{{action}}The {{agg}} {{measure}} in {{focus}} stands out with a significant level of autocorrelation between {{subspace0}} and {{subspace1}}, compared to other lags.',\r\n    },\r\n]\r\n\r\nexport default templates;","const templates = [\r\n    {\r\n        'id': 0,\r\n        'template': '{{action}}The {{agg}} {{measure}} in the range between {{subspace0}} and {{subspace1}} is highlighted by its maximum value of {{focus}}.',\r\n    },\r\n    {\r\n        'id': 1,\r\n        'template': '{{action}}The {{agg}} {{measure}} in {{subspace0}} to {{subspace1}} range is marked by the impressive value of {{focus}}, the highest of all.',\r\n    },\r\n    {\r\n        'id': 2,\r\n        'template': '{{action}}The {{agg}} {{measure}} within {{subspace0}} and {{subspace1}} range is noteworthy for its remarkable value of {{focus}}, the highest of all.',\r\n    },\r\n]\r\n\r\nexport default templates;","import InsightType from '../../../constant/InsightType';\n//univariate\nimport trend from './trend';\nimport forecasting from './forecasting';\nimport frequent_pattern from './frequent_pattern';\nimport seasonality from './seasonality';\nimport univariate_outlier from './univariate_outlier';\nimport univariate_distribution from './univariate_distribution';\n//multivariate\nimport similarity from './similarity';\nimport multivariate_outlier from './multivariate_outlier';\nimport multivariate_distribution from './multivariate_distribution';\nimport clustering from './clustering';\nimport autocorrelation from './autocorrelation';\nimport outstanding from './outstanding';\n\nconst templateCount = 3;\nconst pickFactTemplate = function (type, id = -1) {\n    // pick randomly when id == -1\n    let templates = []\n    switch (type) {\n        case InsightType.TREND:\n            templates = trend;\n            break;\n\n        case InsightType.FORECASTING:\n            templates = forecasting;\n            break;\n\n        case InsightType.FREQUENT_PATTERN:\n            templates = frequent_pattern;\n            break;\n\n        case InsightType.SEASONALITY:\n            templates = seasonality;\n            break;\n\n        case InsightType.UNIVARIATE_OUTLIER:\n            templates = univariate_outlier;\n            break;\n\n        case InsightType.UNIVARIATE_DISTRIBUTION:\n            templates = univariate_distribution;\n            break;\n\n        case InsightType.SIMILARITY:\n            templates = similarity;\n            break;\n\n        case InsightType.MULTIVARIATE_OUTLIER:\n            templates = multivariate_outlier;\n            break;\n\n        case InsightType.MULTIVARIATE_DISTRIBUTION:\n            templates = multivariate_distribution;\n            break;\n\n        case InsightType.CLUSTRING:\n            templates = clustering;\n            break;\n        case InsightType.AUTOCORRELATION:\n            templates = autocorrelation;\n            break;\n        case InsightType.OUTSTANDING:\n            templates = outstanding;\n            break;\n        default:\n            break;\n    }\n    if (id === -1) {\n        id = Math.floor(Math.random() * 10) % templateCount\n    }\n    let sentence = '';\n    try {\n        sentence = templates[id].template;\n    }\n    catch (error) {\n        console.error(error);\n        console.log('wrong id:' + id)\n    }\n    return sentence;\n}\n\nexport default pickFactTemplate;","const templates = [\n    {\n        'id': 0,\n        'template': '{{action}}在{{subspace0}}到{{subspace1}}之间，{{agg}}{{measure}}总体是{{parameter}}的.',\n    },\n    {\n        'id': 1,\n        'template': '{{action}}在{{subspace0}}到{{subspace1}}之间，{{agg}}{{measure}}总体呈{{parameter}}趋势.',\n    },\n    {\n        'id': 2,\n        'template': '{{action}}在{{subspace0}}到{{subspace1}}区间内，{{agg}}{{measure}}在总体随时间{{parameter}}.',\n    },\n]\n\nexport default templates;","const templates = [\n    {\n        'id': 0,\n        'template': '当{{subspace}}时， {{groupby}} 包含了 {{parameter}} 个类别: {{no.1}}、{{no.2}}、{{no.3}}',\n    },\n    {\n        'id': 1,\n        'template': '当{{subspace}}时，数据中的 {{groupby}}s 可以被归为 {{parameter}} 类，包括 {{no.1}}、{{no.2}}、{{no.3}}',\n    },\n    {\n        'id': 2,\n        'template': '当{{subspace}}时，数据中包含 {{parameter}} 种 {{groupby}}s，分别是 {{no.1}}、{{no.2}}、{{no.3}}.',\n    }\n]\n\nexport default templates;","const templates = [\n    {\n        'id': 0,\n        'template': '{{action}}在{{subspace0}}到{{subspace1}}之间 {{agg}}{{measure}} 的一个片段在整条时间序列上频繁出现了 {{patterns}} 次.',\n    },\n    {\n        'id': 1,\n        'template': '{{action}}在{{subspace0}}到{{subspace1}}之间 {{agg}}{{measure}} 的一个片段在整条时间序列上频繁出现了 {{patterns}} 次.',\n    },\n    {\n        'id': 2,\n        'template': '{{action}}在{{subspace0}}到{{subspace1}}之间 {{agg}}{{measure}} 的一个片段在整条时间序列上频繁出现了 {{patterns}} 次.',\n    },\n]\n\nexport default templates;","const templates = [\n    {\n        'id': 0,\n        'template': '{{action}}在{{subspace0}}到{{subspace1}}之间，{{agg}}{{measure}}{{parameter}}.整个时序上共有{{seasonality}}个类似的周期性片段.',\n    },\n    {\n        'id': 1,\n        'template': '{{action}}在{{subspace0}}到{{subspace1}}之间，{{agg}}{{measure}}{{parameter}}.整个时序上共有{{seasonality}}个类似的周期性片段.',\n    },\n    {\n        'id': 2,\n        'template': '{{action}}在{{subspace0}}到{{subspace1}}之间，{{agg}}{{measure}}{{parameter}}.整个时序上共有{{seasonality}}个类似的周期性片段.',\n\n    },\n]\n\nexport default templates;","const templates = [\n    {\n        'id': 0,\n        'template': '{{action}}在{{subspace0}}到{{subspace1}}之间，与其他值相比，{{agg}}{{measure}}存在{{parameter}}段异常.',\n    },\n    {\n        'id': 1,\n        'template': '{{action}}在{{subspace0}}到{{subspace1}}之间，{{agg}}{{measure}}上的{{parameter}}段异常和其他值相比有显著差异.',\n    },\n    {\n        'id': 2,\n        'template': '{{action}}在{{subspace0}}到{{subspace1}}之间，{{agg}}{{measure}}存在{{parameter}}段异常.',\n    },\n]\n\nexport default templates;","const templates = [\n    {\n        'id': 0,\n        'template': '{{action}}在{{subspace0}}到{{subspace1}} 之间，{{agg}}{{measure}}的数据分布如图所示. 其数据范围位于{{min}}到{{max}}区间内.',\n    },\n    {\n        'id': 1,\n        'template': '{{action}}在{{subspace0}}到{{subspace1}} 之间，{{agg}}{{measure}}的数据分布的结果如图所示. 其平均值为{{mean}}.',\n    },\n    {\n        'id': 2,\n        'template': '{{action}}在{{subspace0}}到{{subspace1}} 之间，{{agg}}{{measure}}随时间的分布如图所示. 其中最大值为{{max}}，最小值为{{min}}.',\n    },\n]\n\nexport default templates;","const templates = [\n    {\n        'id': 0,\n        'template': '{{action}}{{agg}}{{measures}}中有多个分段与{{baseline}}在{{subspace0}}到{{subspace1}}之间的数据相似.',\n    },\n    {\n        'id': 1,\n        'template': '{{action}}{{agg}}{{measures}}中有多个分段与{{baseline}}在{{subspace0}}到{{subspace1}}之间的数据相似.',\n    },\n    {\n        'id': 2,\n        'template': '{{action}}{{agg}}{{measures}}中有多个分段与{{baseline}}在{{subspace0}}到{{subspace1}}之间的数据相似.',\n    }\n]\n\nexport default templates;","const templates = [\n    {\n        'id': 0,\n        'template': '{{action}}在{{subspace0}}到{{subspace1}}之间，与其他值相比，在{{focus}}上存在异常.',\n    },\n    {\n        'id': 1,\n        'template': '{{action}}在{{subspace0}}到{{subspace1}}之间，{{focus}}的值和其他值相比有显著差异.',\n    },\n    {\n        'id': 2,\n        'template': '{{action}}在{{subspace0}}到{{subspace1}}之间，相比其他值，{{focus}}的值存在异常，且其异常分数达到{{score}}.',\n    },\n]\n\nexport default templates;","const templates = [\n    {\n        'id': 0,\n        'template': '{{action}}在{{subspace0}}到{{subspace1}}之间，{{agg}}{{measures}}这几个变量的多维分布结果分布如图所示.',\n    },\n    {\n        'id': 1,\n        'template': '{{action}}在{{subspace0}}到{{subspace1}}之间，{{agg}}{{measures}}多变量分布结果如图所示.',\n    },\n    {\n        'id': 2,\n        'template': '{{action}}在{{subspace0}}到{{subspace1}}之间， 有关{{measures}}{{agg}}分布结果如图所示.',\n    },\n]\n\nexport default templates;","const templates = [\n    {\n        'id': 0,\n        'template': '当{{subspace}}时，总体看， {{measure1}} 和 {{measure2}} 之间存在 {{正/负}} 相关关系.',\n    },\n    {\n        'id': 1,\n        'template': '当{{subspace}}时，总体看， {{measure1}} 和 {{measure2}} 呈 {{正/负}} 相关.',\n    },\n    {\n        'id': 2,\n        'template': '当{{subspace}}时，总体看， {{measure1}} 和 {{measure2}} 呈 {{正/负}} 相关（皮尔森相关系数={{parameter}}）.',\n    }\n]\n\nexport default templates;","const templates = [\r\n    {\r\n        'id': 0,\r\n        'template': '{{action}}在{{subspace0}}到{{subspace1}}之间，{{agg}}{{measure}}在间隔{{focus}}个点时有着最高的相关性.',\r\n    },\r\n    {\r\n        'id': 1,\r\n        'template': '{{action}}在{{subspace0}}到{{subspace1}}之间， {{agg}}{{measure}}上两个间隔{{focus}}的数据点相关性最强.',\r\n    },\r\n    {\r\n        'id': 2,\r\n        'template': '{{action}}在{{subspace0}}到{{subspace1}}之间， {{agg}}{{measure}}在间隔{{focus}}个点时的自相关性最高.',\r\n    },\r\n]\r\n\r\nexport default templates;","const templates = [\r\n    {\r\n        'id': 0,\r\n        'template': '{{action}}在{{subspace0}}到{{subspace1}}之间， {{agg}}{{measure}}的突出值为{{focus}}, 为最大值.',\r\n    },\r\n    {\r\n        'id': 1,\r\n        'template': '{{action}}在{{subspace0}}到{{subspace1}}之间， {{agg}}{{measure}}的最大值是{{focus}}.',\r\n    },\r\n    {\r\n        'id': 2,\r\n        'template': '{{action}}在{{subspace0}}到{{subspace1}}之间， {{agg}}{{measure}}有最大值,其值为{{focus}}.',\r\n    },\r\n]\r\n\r\nexport default templates;","import InsightType from '../../../constant/InsightType';\n//univariate\nimport trend from './trend';\nimport forecasting from './forecasting';\nimport frequent_pattern from './frequent_pattern';\nimport seasonality from './seasonality';\nimport univariate_outlier from './univariate_outlier';\nimport univariate_distribution from './univariate_distribution';\n//multivariate\nimport similarity from './similarity';\nimport multivariate_outlier from './multivariate_outlier';\nimport multivariate_distribution from './multivariate_distribution';\nimport clustering from './clustering';\nimport autocorrelation from './autocorrelation';\nimport outstanding from './outstanding';\n\nconst templateCount = 3;\n\nconst pickFactTemplate = function(type, id=-1) {\n    // pick randomly when id == -1\n    let templates = []\n    switch (type) {\n        case InsightType.TREND:\n            templates = trend;\n            break;\n\n        case InsightType.FORECASTING:\n            templates = forecasting;\n            break;\n\n        case InsightType.FREQUENT_PATTERN:\n            templates = frequent_pattern;\n            break;\n\n        case InsightType.SEASONALITY:\n            templates = seasonality;\n            break;\n\n        case InsightType.UNIVARIATE_OUTLIER:\n            templates = univariate_outlier;\n            break;\n\n        case InsightType.UNIVARIATE_DISTRIBUTION:\n            templates = univariate_distribution;\n            break;\n\n        case InsightType.SIMILARITY:\n            templates = similarity;\n            break;\n\n        case InsightType.MULTIVARIATE_OUTLIER:\n            templates = multivariate_outlier;\n            break;\n\n        case InsightType.MULTIVARIATE_DISTRIBUTION:\n            templates = multivariate_distribution;\n            break;\n\n        case InsightType.CLUSTRING:\n            templates = clustering;\n            break;\n        \n        case InsightType.AUTOCORRELATION:\n            templates=autocorrelation;\n            break;\n        case InsightType.OUTSTANDING:\n            templates=outstanding;\n            break;\n        default:\n            break;\n    }\n    if (id === -1) {\n        id = Math.floor(Math.random() * 10)%templateCount\n    }\n    let sentence = '';\n    try {\n        sentence = templates[id].template;\n    }\n    catch(error) {\n        console.error(error);\n        console.log('wrong id:'+id)\n    }\n    return sentence;\n}\n\nexport default pickFactTemplate;","export default {\n    SUM: 'sum',\n    MAX: 'max',\n    MIN: 'min',\n    AVG: 'avg',\n    MEDIAN:'median',\n    COUNT: 'count',\n    // NONE: 'none'\n}","export default {\n    \"-1\": '',\n    \"0\": 'Another insight also appears in this time subsuquence. ',\n    \"1\": 'Looking back at the previous stretch of time. ',\n    \"2\": 'As time marches on. ',\n    \"3\": 'Examing in the way of period-over-period. ',\n    \"4\": 'At the same time, comparing other variables. ',\n    \"5\": 'Taking in multiple variables as a whole. ',\n    \"6\": 'Among these variables, one in particular deserves attention. ',\n    \"7\": ''\n}","export default {\n    \"-1\": '',\n    \"0\": '这段时序上还存在着另一个洞察. ',\n    \"1\": '回顾之前的一段时间. ',\n    \"2\": '随着时间的推移. ',\n    \"3\": '观察同比的时间段. ',\n    \"4\": '与此同时，对比其他变量. ',\n    \"5\": '综合观察多个变量. ',\n    \"6\": '在这些变量中，其中一个变量值得特别关注. ',\n    \"7\": ''\n}","import pickFactTemplate from './fact-templates-en';\nimport pickFactTemplateZh from './fact-templates-zh'\n// import pickRelationTemplate from './relation-templates';\nimport FactType from '../../constant/FactType'\n// import { isValid } from '@/view/FactView/helper'\nimport AggregationType from '../../constant/AggregationType'\nimport InsightType from '../../constant/InsightType';\nimport ActionType from '../../constant/ActionType';\nimport ActionTypeZh from '../../constant/ActionTypeZh';\nimport ActionCaption from '../../constant/ActionCaption';\nimport ActionCaptionZh from '../../constant/ActionCaptionZh';\nimport _ from 'lodash'\n\n//-----------------------------------aggregate----------------------------\n// const plur = require('plur');\nconst convertAggregation = function (aggType, langEn = true) {\n    switch (aggType) {\n        case AggregationType.SUM:\n            return langEn ? 'total' : '总'\n\n        case AggregationType.MAX:\n            return langEn ? 'maximum' : '最大'\n\n        case AggregationType.MIN:\n            return langEn ? 'minimum' : '最小'\n\n        case AggregationType.AVG:\n            return langEn ? 'average' : '平均'\n\n        case AggregationType.MEDIAN:\n            return langEn ? 'median' : '中'\n\n        case AggregationType.COUNT:\n            return langEn ? 'count' : '数量'\n\n        case AggregationType.NONE:\n            return ''\n\n        default:\n            return ''\n    }\n}\n\nconst converAction = function (action, langEn = true) {\n    switch (action) {\n        case -1:\n            return langEn ? ActionCaption[\"-1\"] : ActionCaptionZh[\"-1\"]\n\n        case 0:\n            return langEn ? ActionCaption[\"0\"] : ActionCaptionZh[\"0\"]\n\n        case 1:\n            return langEn ? ActionCaption[\"1\"] : ActionCaptionZh[\"1\"]\n\n        case 2:\n            return langEn ? ActionCaption[\"2\"] : ActionCaptionZh[\"2\"]\n\n        case 3:\n            return langEn ? ActionCaption[\"3\"] : ActionCaptionZh[\"3\"]\n\n        case 4:\n            return langEn ? ActionCaption[\"4\"] : ActionCaptionZh[\"4\"]\n\n        case 5:\n            return langEn ? ActionCaption[\"5\"] : ActionCaptionZh[\"5\"]\n\n        case 6:\n            return langEn ? ActionCaption[\"6\"] : ActionCaptionZh[\"6\"]\n\n        case 7:\n            return langEn ? ActionCaption[\"7\"] : ActionCaptionZh[\"7\"]\n\n        default:\n            return ''\n    }\n}\n//---------------------------------measure-------------------------------------\nconst convertMeasure = function (measure) {\n    if (measure.aggregate === \"count\") return \"\"\n    else return measure.field.toLowerCase();\n}\n\nconst convertMultiMeasure = function (measures, hasBalineline = true, langEn = true) {\n    let measureStr = ''\n    let baseline = ''\n    let measureList = []\n    if (hasBalineline) {\n        for (let i = 0; i < measures.length; i++) {\n            if (measures[i][\"value\"][0].text === \"Base Line\") {\n                baseline = measures[i][\"field\"]\n            } else {\n                measureList.push(measures[i][\"field\"])\n            }\n        }\n    } else {\n        for (let i = 0; i < measures.length; i++) {\n            if (!measureList.includes(measures[i].field)) {\n                measureList.push(measures[i].field)\n            }\n        }\n    }\n\n    for (let i = 0; i < measureList.length; i++) {\n        if (i === measureList.length - 1 && measureList.length > 1) {\n            if (langEn) measureStr += \"and \" + measureList[i]\n            else measureStr += \"和 \" + measureList[i]\n        } else if (i === measureList.length - 2) {\n            measureStr += measureList[i] + \" \"\n        } else {\n            measureStr += measureList[i] + \", \"\n        }\n\n    }\n    return { measureStr: measureStr, baseline: baseline }\n}\nconst converFocusRange = function (focus, subspace, data, langEn = true) {\n    if (langEn) return `${data[focus[\"scope\"][0] + subspace[0]]} and ${data[focus[\"scope\"][1] + subspace[0]]}`\n    else return `${data[focus[\"scope\"][0] + subspace[0]]} 到 ${data[focus[\"scope\"][1] + subspace[0]]}`\n}\n//----------------------------------subspace---------------------------------\nconst genFactSubspace = function (subspace, template, langEn = true, data) {\n    if (subspace.length) {\n        template = template.replace(\"{{subspace0}}\", data[subspace[0]]);\n        template = template.replace(\"{{subspace1}}\", data[subspace[1]]);\n    } else {\n        // if(data.length>0){\n        template = template.replace(\"{{subspace0}}\", data[0]);\n        template = template.replace(\"{{subspace1}}\", data[data.length - 1]);\n        // }else{\n        //     template = template.replace(\"在{{subspace0}}到{{subspace1}}之间，\", '');\n        //     template = template.replace(\"， 在{{subspace0}}到{{subspace1}}之间\", '');\n        //     template = template.replace(\"Between {{subspace0}} and {{subspace1}}， \", '');\n        //     template = template.replace(\" when the time is between {{subspace0}} and {{subspace1}}\", '');\n        //     template = template.replace(\" 在{{subspace0}}到{{subspace1}}之间， \", '');\n        //     template = template.replace(\"在{{subspace0}}到{{subspace1}}之间\", '');\n        //     template = template.replace(/^\\S/, s => s.toUpperCase())\n        // }\n    }\n    return template\n}\n\n\nexport const genFactSentence = function (_fact, block, type, lang, id = -1, data = [], action = -1) {\n    let langIsEn = lang === \"en-US\"\n    let fact = _.cloneDeep(_fact)\n    let template = langIsEn ? pickFactTemplate(type, id) : pickFactTemplateZh(type, id);\n    let aggregate = AggregationType.NONE;\n    if (fact.measure.length > 0) {\n        aggregate = fact.measure[0].aggregate;\n    }\n    template = template.replace(\"{{action}}\", converAction(action, langIsEn))\n    switch (type) {\n        case InsightType.TREND:\n            template = template.replace(\"{{measure}}\", convertMeasure(fact.measure[0]));\n            template = template.replace(\"{{agg}}\", convertAggregation(aggregate, langIsEn));\n            template = genFactSubspace(fact.subspace, template, langIsEn, data)\n            let lineReg = fact.focus[0][\"regression\"]\n            if (langIsEn) {\n                if (lineReg[0] - lineReg[lineReg.length - 1] > 0) {\n                    template = template.replace(\"{{parameter}}\", 'decreased');\n                    template = template.replace(\"a/an\", 'a');\n                } else {\n                    template = template.replace(\"{{parameter}}\", 'increasing');\n                    template = template.replace(\"a/an\", 'an');\n                }\n            }\n            else {\n                if (lineReg[0] - lineReg[lineReg.length - 1] > 0) {\n                    template = template.replace(\"{{parameter}}\", '下降');\n                } else {\n                    template = template.replace(\"{{parameter}}\", '增长');\n                }\n            }\n            break;\n\n        case InsightType.FORECASTING:\n            break;\n\n        case InsightType.FREQUENT_PATTERN:\n            template = template.replace(\"{{measure}}\", convertMeasure(fact.measure[0]));\n            template = template.replace(\"{{agg}}\", convertAggregation(aggregate, langIsEn));\n            // template = genFactSubspace(fact.subspace, template, langIsEn, data)\n            template = genFactSubspace(fact.focus[0][\"scope\"], template, langIsEn, data)\n\n            if (fact.focus.length > 0) {\n                template = template.replace(\"{{patterns}}\", fact.focus[0][\"patterns\"].length.toString());\n            }\n            break;\n\n        case InsightType.SEASONALITY:\n            template = template.replace(\"{{measure}}\", convertMeasure(fact.measure[0]));\n            template = template.replace(\"{{agg}}\", convertAggregation(aggregate, langIsEn));\n            // template = genFactSubspace(fact.subspace, template, langIsEn, data)\n            template = genFactSubspace(fact.focus[0][\"scope\"], template, langIsEn, data)\n\n            if (fact.focus.length > 0) {\n                let insightFocus = fact.focus[0]\n                template = template.replace(\"{{parameter}}\", insightFocus.ifSeasonal ? (langIsEn ? \"seasonal\" : \"具有周期性\") : (langIsEn ? \"unseasonal\" : \"存在不符合周期性的片段。如图中灰色的区间。\"));\n                template = template.replace(\"{{seasonality}}\", insightFocus.interval.toString());\n                // template = template.replace(\"{{unseasonality}}\", insightFocus.seasonal.length.toString());\n            }\n            break;\n\n        case InsightType.UNIVARIATE_OUTLIER:\n            template = template.replace(\"{{measure}}\", convertMeasure(fact.measure[0]));\n            template = template.replace(\"{{agg}}\", convertAggregation(aggregate, langIsEn));\n            template = genFactSubspace(fact.subspace, template, langIsEn, data)\n            let start1 = fact.focus[0][\"scope\"][0], end1 = fact.focus[0][\"scope\"][1]\n            if (start1 === end1) {\n                template = template.replace(\"{{focus}}\", `${data[start1]}`);\n            } else {\n                template = template.replace(\"{{focus}}\", `${data[start1]} and ${data[end1]}`);\n            }\n            // if (fact.focus.length > 0) {\n            //     template = template.replace(\"{{parameter}}\", fact.focus.length.toString())\n            //     template = template.replace(\"{{focus}}\", converFocusRange(fact.focus[0], fact.subspace, data))\n            //     template = template.replace(\"{{score}}\", fact.focus[0][\"value\"].toFixed(2).toString())\n            // }\n            // }\n\n            break;\n\n        case InsightType.UNIVARIATE_DISTRIBUTION:\n            template = template.replace(\"{{measure}}\", convertMeasure(fact.measure[0]));\n            template = template.replace(\"{{agg}}\", convertAggregation(aggregate, langIsEn));\n            template = genFactSubspace(fact.subspace, template, langIsEn, data)\n            for (let i = 0; i < fact.focus.length; i++) {\n                let focuName = fact.focus[i][\"name\"]\n                let value = fact.focus[i][\"value\"]\n                if (focuName == \"min\") {\n                    template = template.replace(\"{{min}}\", value.toFixed(2).toString());\n                } else if (focuName == \"max\") {\n                    template = template.replace(\"{{max}}\", value.toFixed(2).toString());\n                } else if (focuName == \"mean\") {\n                    template = template.replace(\"{{mean}}\", value.toFixed(2).toString());\n                }\n            }\n            break;\n\n        case InsightType.SIMILARITY:\n            let result = convertMultiMeasure(fact.focus, true, langIsEn)\n            template = template.replace(\"{{measures}}\", result.measureStr);\n            template = template.replace(\"{{baseline}}\", result.baseline);\n            template = template.replace(\"{{agg}}\", convertAggregation(aggregate, langIsEn));\n            // template = genFactSubspace(fact.subspace, template, langIsEn, data)\n            template = genFactSubspace(fact.focus[0][\"scope\"], template, langIsEn, data)\n\n            break;\n\n        case InsightType.MULTIVARIATE_OUTLIER:\n            // template = template.replace(\"{{measure}}\", convertMeasure(fact.measure[0]));\n            template = template.replace(\"{{agg}}\", convertAggregation(aggregate, langIsEn));\n            template = genFactSubspace(fact.subspace, template, langIsEn, data);\n            template = template.replace(\"{{score}}\", fact.focus[0][\"score\"].toFixed(2).toString());\n            let start = fact.focus[0][\"start\"] + fact.subspace[0], end = fact.focus[0][\"end\"] + fact.subspace[0]\n            if (start === end) {\n                template = template.replace(\"{{focus}}\", `${data[start]}`);\n            } else {\n                template = template.replace(\"{{focus}}\", `${data[start]} and ${data[end]}`);\n            }\n            break;\n\n        case InsightType.MULTIVARIATE_DISTRIBUTION:\n            let resultDistribution = convertMultiMeasure(fact.focus, false, langIsEn)\n            template = template.replace(\"{{measures}}\", resultDistribution.measureStr);\n            template = template.replace(\"{{agg}}\", convertAggregation(aggregate, langIsEn));\n            template = genFactSubspace(fact.subspace, template, langIsEn, data)\n            let tempMean = -10e9\n            let maxMeanValue = 0\n            let maxMeanMeasure = ''\n            for (let i = 0; i < fact.focus[0].length; i++) {\n                if (fact.focus[0][i][\"name\"] === \"mean\") {\n                    if (fact.focus[0][i][\"value\"] > tempMean) {\n                        maxMeanValue = fact.focus[0][i][\"value\"]\n                        tempMean = fact.focus[0][i][\"value\"]\n                        maxMeanMeasure = fact.focus[0][i][\"field\"]\n                    }\n                }\n            }\n            template = template.replace(\"{{measure}}\", maxMeanMeasure);\n            template = template.replace(\"{{mean}}\", maxMeanValue.toFixed(2).toString());\n            break;\n\n        case InsightType.CLUSTRING:\n            break;\n\n        case InsightType.OUTSTANDING:\n            template = template.replace(\"{{measure}}\", convertMeasure(fact.measure[0]));\n            template = template.replace(\"{{agg}}\", convertAggregation(aggregate, langIsEn));\n            template = genFactSubspace(fact.subspace, template, langIsEn, data)\n            template = template.replace(\"{{focus}}\", fact.focus[0][\"value\"].toFixed(2).toString());\n            break;\n        case InsightType.AUTOCORRELATION:\n            template = template.replace(\"{{measure}}\", convertMeasure(fact.measure[0]));\n            template = template.replace(\"{{agg}}\", convertAggregation(aggregate, langIsEn));\n            template = genFactSubspace(fact.subspace, template, langIsEn, data)\n            template = template.replace(\"{{focus}}\", fact.focus[0][\"correlation\"].indexOf(Math.max(...fact.focus[0][\"correlation\"])) + 1)\n            break\n        default:\n            break;\n    }\n    template = template.slice(0, 1).toUpperCase() + template.slice(1)\n    return template;\n}\n\n\nexport const genStoryText = function (facts, relations) {\n    let template;\n    let storyText = '';\n    let pairLength = parseInt(facts.length / 2)\n    //console.log(\"relations\", facts, relations)\n    for (let i = 0; i < pairLength; i++) {\n        if (facts[i]) {\n            template = pickRelationTemplate(relations[i * 2 + 1])\n            // template = template.replace(\"{{Sentence A}}\", facts[i * 2].script());\n            // template = template.replace(\"{{Sentence B}}\", facts[i * 2 + 1].script());\n            template = template.replace(\"{{Sentence A}}\", facts[i * 2].generatedScript);\n            template = template.replace(\"{{Sentence B}}\", facts[i * 2 + 1].generatedScript);\n            storyText += template + ' '\n        }\n    }\n    if (facts.length % 2) {\n        //storyText += facts[facts.length - 1].script()\n        storyText += facts[facts.length - 1].generatedScript\n    }\n    //console.log(\"storyText\", storyText)\n    return storyText\n}\n\nexport const genSubtitle = function (fact, lang) {\n    if (lang === \"en-US\") {\n        let title;\n        if (!isValid(fact))\n            return ''\n\n        title = 'The ' + fact.type\n        switch (fact.type) {\n            case FactType.ASSOCIATION:\n                title += ' of ' + fact.measure[0].field + ' and ' + fact.measure[1].field\n                break;\n            case FactType.CATEGORIZATION:\n                // title += ' of ' + fact.groupby[0]\n                title = fact.groupby[0]\n                break;\n\n            case FactType.DIFFERENCE:\n                title += ' between ' + fact.focus[0].value + ' and ' + fact.focus[1].value\n                break;\n            case FactType.DISTRIBUTION:\n                title += ' of ' + fact.measure[0].field\n                break;\n            case FactType.EXTREME:\n                title += ' of ' + fact.measure[0].field\n                break;\n            case FactType.OUTLIER:\n                title += ' of ' + fact.measure[0].field\n                break;\n            case FactType.PROPORTION:\n                title += ' of ' + fact.focus[0].value\n                break;\n            case FactType.RANK:\n                title += ' of ' + fact.measure[0].field\n                break;\n            case FactType.TREND:\n                title += ' of ' + fact.measure[0].field\n                break;\n            case FactType.VALUE:\n                title = 'The ' + convertAggregation(fact.measure[0].aggregate) + ' ' + fact.measure[0].field\n                break;\n            default:\n                break;\n        }\n        if (fact.subspace.length) {\n            let subspace = '';\n            fact.subspace.map((key, i) => { return subspace += ` in ${key.value}` })\n            title += subspace;\n        }\n        return title;\n    } else {\n        let title = '';\n        if (!isValid(fact))\n            return ''\n        if (fact.subspace.length) {\n            let subspace = '';\n            fact.subspace.map((key, i) => { return subspace += ` ${key.value}` })\n            title += '在 ' + subspace + '中，';\n        }\n        // title = 'The ' + fact.type\n        switch (fact.type) {\n            case FactType.ASSOCIATION:\n                title += fact.measure[0].field + ' 和 ' + fact.measure[1].field + '的相关性'\n                break;\n            case FactType.CATEGORIZATION:\n                // title += ' of ' + fact.groupby[0]\n                title += fact.groupby[0] + '的分类情况'\n                break;\n\n            case FactType.DIFFERENCE:\n                title += fact.focus[0].value + ' 和 ' + fact.focus[1].value + '的差异'\n                break;\n            case FactType.DISTRIBUTION:\n                title += fact.measure[0].field + '的分布'\n                break;\n            case FactType.EXTREME:\n                title += fact.measure[0].field + '的极值'\n                break;\n            case FactType.OUTLIER:\n                title += fact.measure[0].field + '的异常值'\n                break;\n            case FactType.PROPORTION:\n                title += fact.focus[0].value + '的占比'\n                break;\n            case FactType.RANK:\n                title += fact.measure[0].field + '的排名'\n                break;\n            case FactType.TREND:\n                title += fact.measure[0].field + '的趋势'\n                break;\n            case FactType.VALUE:\n                switch (convertAggregation(fact.measure[0].aggregate)) {\n                    case AggregationType.SUM:\n                        title += fact.measure[0].field + '的总值'\n                        break;\n\n                    case AggregationType.MAX:\n                        title += fact.measure[0].field + '的最大值'\n                        break;\n\n                    case AggregationType.MIN:\n                        title += fact.measure[0].field + '的最小值'\n                        break;\n\n                    case AggregationType.AVG:\n                        title += fact.measure[0].field + '的平均值'\n                        break;\n\n                    case AggregationType.COUNT:\n                        title += fact.measure[0].field + '的数量'\n                        break;\n\n                    case AggregationType.NONE:\n                        title += fact.measure[0].field + '的值'\n                        break;\n\n                    default:\n                        title += fact.measure[0].field + '的值'\n                        break;\n\n                }\n                break;\n            default:\n                break;\n        }\n\n        return title;\n    }\n\n\n}\n\n\nexport const genTitle = function (fileName) {\n    let title;\n    switch (fileName) {\n        case 'CarSales.csv':\n            title = 'Car Sales'\n            break;\n\n        case 'nCoV2020.csv':\n            title = 'COVID-19'\n            break;\n\n        case 'deadstartup.csv':\n            title = 'Startup Failures'\n            break;\n\n        default:\n            if (fileName.indexOf('.') > 0) {\n                let number = fileName.indexOf('.');\n                // let csv = fileName.substr(number);\n                title = fileName.substring(0, number);\n            } else {\n                title = fileName\n            }\n            break;\n    }\n    return title\n}\n","//\n\nmodule.exports = function shallowEqual(objA, objB, compare, compareContext) {\n  var ret = compare ? compare.call(compareContext, objA, objB) : void 0;\n\n  if (ret !== void 0) {\n    return !!ret;\n  }\n\n  if (objA === objB) {\n    return true;\n  }\n\n  if (typeof objA !== \"object\" || !objA || typeof objB !== \"object\" || !objB) {\n    return false;\n  }\n\n  var keysA = Object.keys(objA);\n  var keysB = Object.keys(objB);\n\n  if (keysA.length !== keysB.length) {\n    return false;\n  }\n\n  var bHasOwnProperty = Object.prototype.hasOwnProperty.bind(objB);\n\n  // Test for A's keys different from B.\n  for (var idx = 0; idx < keysA.length; idx++) {\n    var key = keysA[idx];\n\n    if (!bHasOwnProperty(key)) {\n      return false;\n    }\n\n    var valueA = objA[key];\n    var valueB = objB[key];\n\n    ret = compare ? compare.call(compareContext, valueA, valueB, key) : void 0;\n\n    if (ret === false || (ret === void 0 && valueA !== valueB)) {\n      return false;\n    }\n  }\n\n  return true;\n};\n","import _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport * as React from 'react';\nimport Notice from './Notice';\nexport default function useNotification(notificationInstance) {\n  var createdRef = React.useRef({});\n  var _React$useState = React.useState([]),\n    _React$useState2 = _slicedToArray(_React$useState, 2),\n    elements = _React$useState2[0],\n    setElements = _React$useState2[1];\n  function notify(noticeProps) {\n    var firstMount = true;\n    notificationInstance.add(noticeProps, function (div, props) {\n      var key = props.key;\n      if (div && (!createdRef.current[key] || firstMount)) {\n        var noticeEle = /*#__PURE__*/React.createElement(Notice, _extends({}, props, {\n          holder: div\n        }));\n        createdRef.current[key] = noticeEle;\n        setElements(function (originElements) {\n          var index = originElements.findIndex(function (ele) {\n            return ele.key === props.key;\n          });\n          if (index === -1) {\n            return [].concat(_toConsumableArray(originElements), [noticeEle]);\n          }\n          var cloneList = _toConsumableArray(originElements);\n          cloneList[index] = noticeEle;\n          return cloneList;\n        });\n      }\n      firstMount = false;\n    });\n  }\n  return [notify, /*#__PURE__*/React.createElement(React.Fragment, null, elements)];\n}","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport defaultLocale from '../locale/default';\nvar runtimeLocale = _extends({}, defaultLocale.Modal);\nexport function changeConfirmLocale(newLocale) {\n  if (newLocale) {\n    runtimeLocale = _extends(_extends({}, runtimeLocale), newLocale);\n  } else {\n    runtimeLocale = _extends({}, defaultLocale.Modal);\n  }\n}\nexport function getConfirmLocale() {\n  return runtimeLocale;\n}","export const FILE = '__NATIVE_FILE__'\nexport const URL = '__NATIVE_URL__'\nexport const TEXT = '__NATIVE_TEXT__'\nexport const HTML = '__NATIVE_HTML__'\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.canDragX = canDragX;\nexports.canDragY = canDragY;\nexports.createCoreData = createCoreData;\nexports.createDraggableData = createDraggableData;\nexports.getBoundPosition = getBoundPosition;\nexports.getControlPosition = getControlPosition;\nexports.snapToGrid = snapToGrid;\n\nvar _shims = require(\"./shims\");\n\nvar _domFns = require(\"./domFns\");\n\nfunction getBoundPosition(draggable\n/*: Draggable*/\n, x\n/*: number*/\n, y\n/*: number*/\n)\n/*: [number, number]*/\n{\n  // If no bounds, short-circuit and move on\n  if (!draggable.props.bounds) return [x, y]; // Clone new bounds\n\n  var bounds = draggable.props.bounds;\n  bounds = typeof bounds === 'string' ? bounds : cloneBounds(bounds);\n  var node = findDOMNode(draggable);\n\n  if (typeof bounds === 'string') {\n    var ownerDocument = node.ownerDocument;\n    var ownerWindow = ownerDocument.defaultView;\n    var boundNode;\n\n    if (bounds === 'parent') {\n      boundNode = node.parentNode;\n    } else {\n      boundNode = ownerDocument.querySelector(bounds);\n    }\n\n    if (!(boundNode instanceof ownerWindow.HTMLElement)) {\n      throw new Error('Bounds selector \"' + bounds + '\" could not find an element.');\n    }\n\n    var boundNodeEl\n    /*: HTMLElement*/\n    = boundNode; // for Flow, can't seem to refine correctly\n\n    var nodeStyle = ownerWindow.getComputedStyle(node);\n    var boundNodeStyle = ownerWindow.getComputedStyle(boundNodeEl); // Compute bounds. This is a pain with padding and offsets but this gets it exactly right.\n\n    bounds = {\n      left: -node.offsetLeft + (0, _shims.int)(boundNodeStyle.paddingLeft) + (0, _shims.int)(nodeStyle.marginLeft),\n      top: -node.offsetTop + (0, _shims.int)(boundNodeStyle.paddingTop) + (0, _shims.int)(nodeStyle.marginTop),\n      right: (0, _domFns.innerWidth)(boundNodeEl) - (0, _domFns.outerWidth)(node) - node.offsetLeft + (0, _shims.int)(boundNodeStyle.paddingRight) - (0, _shims.int)(nodeStyle.marginRight),\n      bottom: (0, _domFns.innerHeight)(boundNodeEl) - (0, _domFns.outerHeight)(node) - node.offsetTop + (0, _shims.int)(boundNodeStyle.paddingBottom) - (0, _shims.int)(nodeStyle.marginBottom)\n    };\n  } // Keep x and y below right and bottom limits...\n\n\n  if ((0, _shims.isNum)(bounds.right)) x = Math.min(x, bounds.right);\n  if ((0, _shims.isNum)(bounds.bottom)) y = Math.min(y, bounds.bottom); // But above left and top limits.\n\n  if ((0, _shims.isNum)(bounds.left)) x = Math.max(x, bounds.left);\n  if ((0, _shims.isNum)(bounds.top)) y = Math.max(y, bounds.top);\n  return [x, y];\n}\n\nfunction snapToGrid(grid\n/*: [number, number]*/\n, pendingX\n/*: number*/\n, pendingY\n/*: number*/\n)\n/*: [number, number]*/\n{\n  var x = Math.round(pendingX / grid[0]) * grid[0];\n  var y = Math.round(pendingY / grid[1]) * grid[1];\n  return [x, y];\n}\n\nfunction canDragX(draggable\n/*: Draggable*/\n)\n/*: boolean*/\n{\n  return draggable.props.axis === 'both' || draggable.props.axis === 'x';\n}\n\nfunction canDragY(draggable\n/*: Draggable*/\n)\n/*: boolean*/\n{\n  return draggable.props.axis === 'both' || draggable.props.axis === 'y';\n} // Get {x, y} positions from event.\n\n\nfunction getControlPosition(e\n/*: MouseTouchEvent*/\n, touchIdentifier\n/*: ?number*/\n, draggableCore\n/*: DraggableCore*/\n)\n/*: ?ControlPosition*/\n{\n  var touchObj = typeof touchIdentifier === 'number' ? (0, _domFns.getTouch)(e, touchIdentifier) : null;\n  if (typeof touchIdentifier === 'number' && !touchObj) return null; // not the right touch\n\n  var node = findDOMNode(draggableCore); // User can provide an offsetParent if desired.\n\n  var offsetParent = draggableCore.props.offsetParent || node.offsetParent || node.ownerDocument.body;\n  return (0, _domFns.offsetXYFromParent)(touchObj || e, offsetParent, draggableCore.props.scale);\n} // Create an data object exposed by <DraggableCore>'s events\n\n\nfunction createCoreData(draggable\n/*: DraggableCore*/\n, x\n/*: number*/\n, y\n/*: number*/\n)\n/*: DraggableData*/\n{\n  var state = draggable.state;\n  var isStart = !(0, _shims.isNum)(state.lastX);\n  var node = findDOMNode(draggable);\n\n  if (isStart) {\n    // If this is our first move, use the x and y as last coords.\n    return {\n      node: node,\n      deltaX: 0,\n      deltaY: 0,\n      lastX: x,\n      lastY: y,\n      x: x,\n      y: y\n    };\n  } else {\n    // Otherwise calculate proper values.\n    return {\n      node: node,\n      deltaX: x - state.lastX,\n      deltaY: y - state.lastY,\n      lastX: state.lastX,\n      lastY: state.lastY,\n      x: x,\n      y: y\n    };\n  }\n} // Create an data exposed by <Draggable>'s events\n\n\nfunction createDraggableData(draggable\n/*: Draggable*/\n, coreData\n/*: DraggableData*/\n)\n/*: DraggableData*/\n{\n  var scale = draggable.props.scale;\n  return {\n    node: coreData.node,\n    x: draggable.state.x + coreData.deltaX / scale,\n    y: draggable.state.y + coreData.deltaY / scale,\n    deltaX: coreData.deltaX / scale,\n    deltaY: coreData.deltaY / scale,\n    lastX: draggable.state.x,\n    lastY: draggable.state.y\n  };\n} // A lot faster than stringify/parse\n\n\nfunction cloneBounds(bounds\n/*: Bounds*/\n)\n/*: Bounds*/\n{\n  return {\n    left: bounds.left,\n    top: bounds.top,\n    right: bounds.right,\n    bottom: bounds.bottom\n  };\n}\n\nfunction findDOMNode(draggable\n/*: Draggable | DraggableCore*/\n)\n/*: HTMLElement*/\n{\n  var node = draggable.findDOMNode();\n\n  if (!node) {\n    throw new Error('<DraggableCore>: Unmounted during event!');\n  } // $FlowIgnore we can't assert on HTMLElement due to tests... FIXME\n\n\n  return node;\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = log;\n\n/*eslint no-console:0*/\nfunction log() {\n  var _console;\n\n  if (undefined) (_console = console).log.apply(_console, arguments);\n}","\r\nexport const hightlightItem = function (script, parameter) {\r\n    if (script.indexOf(parameter) === -1) return script\r\n    let srtStartIndex = script.indexOf(parameter);\r\n    let newScript = script.substring(0, srtStartIndex + parameter.length) + \"</b></span>\" + script.substring(srtStartIndex + parameter.length);\r\n    newScript = newScript.substring(0, srtStartIndex) + '<span class=\"timeline-hightlight\"><b>' + newScript.substring(srtStartIndex);\r\n    return newScript\r\n}\r\n//只需要时间列的信息\r\n// export const getOriData = function () {\r\n//     let timeValue = []\r\n    \r\n    \r\n//     return timeValue\r\n// }\r\n","// Cache implementation based on Erik Rasmussen's `lru-memoize`:\n// https://github.com/erikras/lru-memoize\nvar NOT_FOUND = 'NOT_FOUND';\n\nfunction createSingletonCache(equals) {\n  var entry;\n  return {\n    get: function get(key) {\n      if (entry && equals(entry.key, key)) {\n        return entry.value;\n      }\n\n      return NOT_FOUND;\n    },\n    put: function put(key, value) {\n      entry = {\n        key: key,\n        value: value\n      };\n    },\n    getEntries: function getEntries() {\n      return entry ? [entry] : [];\n    },\n    clear: function clear() {\n      entry = undefined;\n    }\n  };\n}\n\nfunction createLruCache(maxSize, equals) {\n  var entries = [];\n\n  function get(key) {\n    var cacheIndex = entries.findIndex(function (entry) {\n      return equals(key, entry.key);\n    }); // We found a cached entry\n\n    if (cacheIndex > -1) {\n      var entry = entries[cacheIndex]; // Cached entry not at top of cache, move it to the top\n\n      if (cacheIndex > 0) {\n        entries.splice(cacheIndex, 1);\n        entries.unshift(entry);\n      }\n\n      return entry.value;\n    } // No entry found in cache, return sentinel\n\n\n    return NOT_FOUND;\n  }\n\n  function put(key, value) {\n    if (get(key) === NOT_FOUND) {\n      // TODO Is unshift slow?\n      entries.unshift({\n        key: key,\n        value: value\n      });\n\n      if (entries.length > maxSize) {\n        entries.pop();\n      }\n    }\n  }\n\n  function getEntries() {\n    return entries;\n  }\n\n  function clear() {\n    entries = [];\n  }\n\n  return {\n    get: get,\n    put: put,\n    getEntries: getEntries,\n    clear: clear\n  };\n}\n\nexport var defaultEqualityCheck = function defaultEqualityCheck(a, b) {\n  return a === b;\n};\nexport function createCacheKeyComparator(equalityCheck) {\n  return function areArgumentsShallowlyEqual(prev, next) {\n    if (prev === null || next === null || prev.length !== next.length) {\n      return false;\n    } // Do this in a for loop (and not a `forEach` or an `every`) so we can determine equality as fast as possible.\n\n\n    var length = prev.length;\n\n    for (var i = 0; i < length; i++) {\n      if (!equalityCheck(prev[i], next[i])) {\n        return false;\n      }\n    }\n\n    return true;\n  };\n}\n// defaultMemoize now supports a configurable cache size with LRU behavior,\n// and optional comparison of the result value with existing values\nexport function defaultMemoize(func, equalityCheckOrOptions) {\n  var providedOptions = typeof equalityCheckOrOptions === 'object' ? equalityCheckOrOptions : {\n    equalityCheck: equalityCheckOrOptions\n  };\n  var _providedOptions$equa = providedOptions.equalityCheck,\n      equalityCheck = _providedOptions$equa === void 0 ? defaultEqualityCheck : _providedOptions$equa,\n      _providedOptions$maxS = providedOptions.maxSize,\n      maxSize = _providedOptions$maxS === void 0 ? 1 : _providedOptions$maxS,\n      resultEqualityCheck = providedOptions.resultEqualityCheck;\n  var comparator = createCacheKeyComparator(equalityCheck);\n  var cache = maxSize === 1 ? createSingletonCache(comparator) : createLruCache(maxSize, comparator); // we reference arguments instead of spreading them for performance reasons\n\n  function memoized() {\n    var value = cache.get(arguments);\n\n    if (value === NOT_FOUND) {\n      // @ts-ignore\n      value = func.apply(null, arguments);\n\n      if (resultEqualityCheck) {\n        var entries = cache.getEntries();\n        var matchingEntry = entries.find(function (entry) {\n          return resultEqualityCheck(entry.value, value);\n        });\n\n        if (matchingEntry) {\n          value = matchingEntry.value;\n        }\n      }\n\n      cache.put(arguments, value);\n    }\n\n    return value;\n  }\n\n  memoized.clearCache = function () {\n    return cache.clear();\n  };\n\n  return memoized;\n}","import { defaultMemoize, defaultEqualityCheck } from './defaultMemoize';\nexport { defaultMemoize, defaultEqualityCheck };\n\nfunction getDependencies(funcs) {\n  var dependencies = Array.isArray(funcs[0]) ? funcs[0] : funcs;\n\n  if (!dependencies.every(function (dep) {\n    return typeof dep === 'function';\n  })) {\n    var dependencyTypes = dependencies.map(function (dep) {\n      return typeof dep === 'function' ? \"function \" + (dep.name || 'unnamed') + \"()\" : typeof dep;\n    }).join(', ');\n    throw new Error(\"createSelector expects all input-selectors to be functions, but received the following types: [\" + dependencyTypes + \"]\");\n  }\n\n  return dependencies;\n}\n\nexport function createSelectorCreator(memoize) {\n  for (var _len = arguments.length, memoizeOptionsFromArgs = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    memoizeOptionsFromArgs[_key - 1] = arguments[_key];\n  }\n\n  var createSelector = function createSelector() {\n    for (var _len2 = arguments.length, funcs = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      funcs[_key2] = arguments[_key2];\n    }\n\n    var _recomputations = 0;\n\n    var _lastResult; // Due to the intricacies of rest params, we can't do an optional arg after `...funcs`.\n    // So, start by declaring the default value here.\n    // (And yes, the words 'memoize' and 'options' appear too many times in this next sequence.)\n\n\n    var directlyPassedOptions = {\n      memoizeOptions: undefined\n    }; // Normally, the result func or \"output selector\" is the last arg\n\n    var resultFunc = funcs.pop(); // If the result func is actually an _object_, assume it's our options object\n\n    if (typeof resultFunc === 'object') {\n      directlyPassedOptions = resultFunc; // and pop the real result func off\n\n      resultFunc = funcs.pop();\n    }\n\n    if (typeof resultFunc !== 'function') {\n      throw new Error(\"createSelector expects an output function after the inputs, but received: [\" + typeof resultFunc + \"]\");\n    } // Determine which set of options we're using. Prefer options passed directly,\n    // but fall back to options given to createSelectorCreator.\n\n\n    var _directlyPassedOption = directlyPassedOptions,\n        _directlyPassedOption2 = _directlyPassedOption.memoizeOptions,\n        memoizeOptions = _directlyPassedOption2 === void 0 ? memoizeOptionsFromArgs : _directlyPassedOption2; // Simplifying assumption: it's unlikely that the first options arg of the provided memoizer\n    // is an array. In most libs I've looked at, it's an equality function or options object.\n    // Based on that, if `memoizeOptions` _is_ an array, we assume it's a full\n    // user-provided array of options. Otherwise, it must be just the _first_ arg, and so\n    // we wrap it in an array so we can apply it.\n\n    var finalMemoizeOptions = Array.isArray(memoizeOptions) ? memoizeOptions : [memoizeOptions];\n    var dependencies = getDependencies(funcs);\n    var memoizedResultFunc = memoize.apply(void 0, [function recomputationWrapper() {\n      _recomputations++; // apply arguments instead of spreading for performance.\n\n      return resultFunc.apply(null, arguments);\n    }].concat(finalMemoizeOptions)); // If a selector is called with the exact same arguments we don't need to traverse our dependencies again.\n\n    var selector = memoize(function dependenciesChecker() {\n      var params = [];\n      var length = dependencies.length;\n\n      for (var i = 0; i < length; i++) {\n        // apply arguments instead of spreading and mutate a local list of params for performance.\n        // @ts-ignore\n        params.push(dependencies[i].apply(null, arguments));\n      } // apply arguments instead of spreading for performance.\n\n\n      _lastResult = memoizedResultFunc.apply(null, params);\n      return _lastResult;\n    });\n    Object.assign(selector, {\n      resultFunc: resultFunc,\n      memoizedResultFunc: memoizedResultFunc,\n      dependencies: dependencies,\n      lastResult: function lastResult() {\n        return _lastResult;\n      },\n      recomputations: function recomputations() {\n        return _recomputations;\n      },\n      resetRecomputations: function resetRecomputations() {\n        return _recomputations = 0;\n      }\n    });\n    return selector;\n  }; // @ts-ignore\n\n\n  return createSelector;\n}\nexport var createSelector = /* #__PURE__ */createSelectorCreator(defaultMemoize);\n// Manual definition of state and output arguments\nexport var createStructuredSelector = function createStructuredSelector(selectors, selectorCreator) {\n  if (selectorCreator === void 0) {\n    selectorCreator = createSelector;\n  }\n\n  if (typeof selectors !== 'object') {\n    throw new Error('createStructuredSelector expects first argument to be an object ' + (\"where each property is a selector, instead received a \" + typeof selectors));\n  }\n\n  var objectKeys = Object.keys(selectors);\n  var resultSelector = selectorCreator( // @ts-ignore\n  objectKeys.map(function (key) {\n    return selectors[key];\n  }), function () {\n    for (var _len3 = arguments.length, values = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n      values[_key3] = arguments[_key3];\n    }\n\n    return values.reduce(function (composition, value, index) {\n      composition[objectKeys[index]] = value;\n      return composition;\n    }, {});\n  });\n  return resultSelector;\n};","import _regeneratorRuntime from \"@babel/runtime/helpers/esm/regeneratorRuntime\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport * as ReactDOM from 'react-dom';\n// Let compiler not to search module usage\nvar fullClone = _objectSpread({}, ReactDOM);\nvar version = fullClone.version,\n  reactRender = fullClone.render,\n  unmountComponentAtNode = fullClone.unmountComponentAtNode;\nvar createRoot;\ntry {\n  var mainVersion = Number((version || '').split('.')[0]);\n  if (mainVersion >= 18) {\n    createRoot = fullClone.createRoot;\n  }\n} catch (e) {\n  // Do nothing;\n}\nfunction toggleWarning(skip) {\n  var __SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED = fullClone.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;\n  if (__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED && _typeof(__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED) === 'object') {\n    __SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.usingClientEntryPoint = skip;\n  }\n}\nvar MARK = '__rc_react_root__';\n\n// ========================== Render ==========================\n\nfunction modernRender(node, container) {\n  toggleWarning(true);\n  var root = container[MARK] || createRoot(container);\n  toggleWarning(false);\n  root.render(node);\n  container[MARK] = root;\n}\nfunction legacyRender(node, container) {\n  reactRender(node, container);\n}\n\n/** @private Test usage. Not work in prod */\nexport function _r(node, container) {\n  if (process.env.NODE_ENV !== 'production') {\n    return legacyRender(node, container);\n  }\n}\nexport function render(node, container) {\n  if (createRoot) {\n    modernRender(node, container);\n    return;\n  }\n  legacyRender(node, container);\n}\n\n// ========================= Unmount ==========================\nfunction modernUnmount(_x) {\n  return _modernUnmount.apply(this, arguments);\n}\nfunction _modernUnmount() {\n  _modernUnmount = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(container) {\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          return _context.abrupt(\"return\", Promise.resolve().then(function () {\n            var _container$MARK;\n            (_container$MARK = container[MARK]) === null || _container$MARK === void 0 ? void 0 : _container$MARK.unmount();\n            delete container[MARK];\n          }));\n        case 1:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee);\n  }));\n  return _modernUnmount.apply(this, arguments);\n}\nfunction legacyUnmount(container) {\n  unmountComponentAtNode(container);\n}\n\n/** @private Test usage. Not work in prod */\nexport function _u(container) {\n  if (process.env.NODE_ENV !== 'production') {\n    return legacyUnmount(container);\n  }\n}\nexport function unmount(_x2) {\n  return _unmount.apply(this, arguments);\n}\nfunction _unmount() {\n  _unmount = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(container) {\n    return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n      while (1) switch (_context2.prev = _context2.next) {\n        case 0:\n          if (!(createRoot !== undefined)) {\n            _context2.next = 2;\n            break;\n          }\n          return _context2.abrupt(\"return\", modernUnmount(container));\n        case 2:\n          legacyUnmount(container);\n        case 3:\n        case \"end\":\n          return _context2.stop();\n      }\n    }, _callee2);\n  }));\n  return _unmount.apply(this, arguments);\n}","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"@babel/runtime/helpers/esm/createSuper\";\nimport * as React from 'react';\nimport { Component } from 'react';\nimport ReactDOM from 'react-dom';\nimport classNames from 'classnames';\nvar Notice = /*#__PURE__*/function (_Component) {\n  _inherits(Notice, _Component);\n  var _super = _createSuper(Notice);\n  function Notice() {\n    var _this;\n    _classCallCheck(this, Notice);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this.closeTimer = null;\n    _this.close = function (e) {\n      if (e) {\n        e.stopPropagation();\n      }\n      _this.clearCloseTimer();\n      var _this$props = _this.props,\n        onClose = _this$props.onClose,\n        noticeKey = _this$props.noticeKey;\n      if (onClose) {\n        onClose(noticeKey);\n      }\n    };\n    _this.startCloseTimer = function () {\n      if (_this.props.duration) {\n        _this.closeTimer = window.setTimeout(function () {\n          _this.close();\n        }, _this.props.duration * 1000);\n      }\n    };\n    _this.clearCloseTimer = function () {\n      if (_this.closeTimer) {\n        clearTimeout(_this.closeTimer);\n        _this.closeTimer = null;\n      }\n    };\n    return _this;\n  }\n  _createClass(Notice, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.startCloseTimer();\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      if (this.props.duration !== prevProps.duration || this.props.updateMark !== prevProps.updateMark ||\n      // Visible again need reset timer\n      this.props.visible !== prevProps.visible && this.props.visible) {\n        this.restartCloseTimer();\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.clearCloseTimer();\n    }\n  }, {\n    key: \"restartCloseTimer\",\n    value: function restartCloseTimer() {\n      this.clearCloseTimer();\n      this.startCloseTimer();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n      var _this$props2 = this.props,\n        prefixCls = _this$props2.prefixCls,\n        className = _this$props2.className,\n        closable = _this$props2.closable,\n        closeIcon = _this$props2.closeIcon,\n        style = _this$props2.style,\n        onClick = _this$props2.onClick,\n        children = _this$props2.children,\n        holder = _this$props2.holder;\n      var componentClass = \"\".concat(prefixCls, \"-notice\");\n      var dataOrAriaAttributeProps = Object.keys(this.props).reduce(function (acc, key) {\n        if (key.substr(0, 5) === 'data-' || key.substr(0, 5) === 'aria-' || key === 'role') {\n          acc[key] = _this2.props[key];\n        }\n        return acc;\n      }, {});\n      var node = /*#__PURE__*/React.createElement(\"div\", _extends({\n        className: classNames(componentClass, className, _defineProperty({}, \"\".concat(componentClass, \"-closable\"), closable)),\n        style: style,\n        onMouseEnter: this.clearCloseTimer,\n        onMouseLeave: this.startCloseTimer,\n        onClick: onClick\n      }, dataOrAriaAttributeProps), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"\".concat(componentClass, \"-content\")\n      }, children), closable ? /*#__PURE__*/React.createElement(\"a\", {\n        tabIndex: 0,\n        onClick: this.close,\n        className: \"\".concat(componentClass, \"-close\")\n      }, closeIcon || /*#__PURE__*/React.createElement(\"span\", {\n        className: \"\".concat(componentClass, \"-close-x\")\n      })) : null);\n      if (holder) {\n        return /*#__PURE__*/ReactDOM.createPortal(node, holder);\n      }\n      return node;\n    }\n  }]);\n  return Notice;\n}(Component);\nNotice.defaultProps = {\n  onClose: function onClose() {},\n  duration: 1.5\n};\nexport { Notice as default };","export default {\r\n    \"-1\": 'unknown',\r\n    \"0\": 'change insight type',\r\n    \"1\": 'previous subspace',\r\n    \"2\": 'succeeding subspace',\r\n    \"3\": 'period',\r\n    \"4\": 'different varaible',\r\n    \"5\": 'drill up',\r\n    \"6\": 'drill down',\r\n    \"7\": 'aggregate',\r\n    \"8\": 'deaggregate'\r\n}","export default {\r\n    \"-1\": '',\r\n    \"0\": '改变洞察类型',\r\n    \"1\": '时间分段前溯',\r\n    \"2\": '时间分段后移',\r\n    \"3\": '环比',\r\n    \"4\": '切换到不同变量',\r\n    \"5\": '单维度向多维度转变',\r\n    \"6\": '多维度向单维度转变',\r\n    \"7\": '分析流终止'\r\n}","export * from './common';\nexport * from './interfaces';\nexport * from './hooks';\nexport * from './decorators';","export * from './monitors';\nexport * from './hooksApi';\nexport * from './options';\nexport * from './connectors';","export * from './DragSource';\nexport * from './DropTarget';\nexport * from './DragLayer';\nexport * from './interfaces';","/* eslint-disable no-restricted-globals, @typescript-eslint/ban-ts-comment, @typescript-eslint/no-unused-vars, @typescript-eslint/no-non-null-assertion */\nimport type { Task } from './types.js'\nimport { makeRequestCall, makeRequestCallFromTimer } from './makeRequestCall.js'\n\nexport class AsapQueue {\n\tprivate queue: Task[] = []\n\t// We queue errors to ensure they are thrown in right order (FIFO).\n\t// Array-as-queue is good enough here, since we are just dealing with exceptions.\n\tprivate pendingErrors: any[] = []\n\t// Once a flush has been requested, no further calls to `requestFlush` are\n\t// necessary until the next `flush` completes.\n\t// @ts-ignore\n\tprivate flushing = false\n\t// `requestFlush` is an implementation-specific method that attempts to kick\n\t// off a `flush` event as quickly as possible. `flush` will attempt to exhaust\n\t// the event queue before yielding to the browser's own event loop.\n\tprivate requestFlush: () => void\n\n\tprivate requestErrorThrow: () => void\n\t// The position of the next task to execute in the task queue. This is\n\t// preserved between calls to `flush` so that it can be resumed if\n\t// a task throws an exception.\n\tprivate index = 0\n\t// If a task schedules additional tasks recursively, the task queue can grow\n\t// unbounded. To prevent memory exhaustion, the task queue will periodically\n\t// truncate already-completed tasks.\n\tprivate capacity = 1024\n\n\tpublic constructor() {\n\t\t// `requestFlush` requests that the high priority event queue be flushed as\n\t\t// soon as possible.\n\t\t// This is useful to prevent an error thrown in a task from stalling the event\n\t\t// queue if the exception handled by Node.js’s\n\t\t// `process.on(\"uncaughtException\")` or by a domain.\n\n\t\t// `requestFlush` is implemented using a strategy based on data collected from\n\t\t// every available SauceLabs Selenium web driver worker at time of writing.\n\t\t// https://docs.google.com/spreadsheets/d/1mG-5UYGup5qxGdEMWkhP6BWCz053NUb2E1QoUTU16uA/edit#gid=783724593\n\t\tthis.requestFlush = makeRequestCall(this.flush)\n\t\tthis.requestErrorThrow = makeRequestCallFromTimer(() => {\n\t\t\t// Throw first error\n\t\t\tif (this.pendingErrors.length) {\n\t\t\t\tthrow this.pendingErrors.shift()\n\t\t\t}\n\t\t})\n\t}\n\n\t// Use the fastest means possible to execute a task in its own turn, with\n\t// priority over other events including IO, animation, reflow, and redraw\n\t// events in browsers.\n\t//\n\t// An exception thrown by a task will permanently interrupt the processing of\n\t// subsequent tasks. The higher level `asap` function ensures that if an\n\t// exception is thrown by a task, that the task queue will continue flushing as\n\t// soon as possible, but if you use `rawAsap` directly, you are responsible to\n\t// either ensure that no exceptions are thrown from your task, or to manually\n\t// call `rawAsap.requestFlush` if an exception is thrown.\n\tpublic enqueueTask(task: Task): void {\n\t\tconst { queue: q, requestFlush } = this\n\t\tif (!q.length) {\n\t\t\trequestFlush()\n\t\t\tthis.flushing = true\n\t\t}\n\t\t// Equivalent to push, but avoids a function call.\n\t\tq[q.length] = task\n\t}\n\n\t// The flush function processes all tasks that have been scheduled with\n\t// `rawAsap` unless and until one of those tasks throws an exception.\n\t// If a task throws an exception, `flush` ensures that its state will remain\n\t// consistent and will resume where it left off when called again.\n\t// However, `flush` does not make any arrangements to be called again if an\n\t// exception is thrown.\n\tprivate flush = () => {\n\t\tconst { queue: q } = this\n\t\twhile (this.index < q.length) {\n\t\t\tconst currentIndex = this.index\n\t\t\t// Advance the index before calling the task. This ensures that we will\n\t\t\t// begin flushing on the next task the task throws an error.\n\t\t\tthis.index++\n\t\t\tq[currentIndex]!.call()\n\t\t\t// Prevent leaking memory for long chains of recursive calls to `asap`.\n\t\t\t// If we call `asap` within tasks scheduled by `asap`, the queue will\n\t\t\t// grow, but to avoid an O(n) walk for every task we execute, we don't\n\t\t\t// shift tasks off the queue after they have been executed.\n\t\t\t// Instead, we periodically shift 1024 tasks off the queue.\n\t\t\tif (this.index > this.capacity) {\n\t\t\t\t// Manually shift all values starting at the index back to the\n\t\t\t\t// beginning of the queue.\n\t\t\t\tfor (\n\t\t\t\t\tlet scan = 0, newLength = q.length - this.index;\n\t\t\t\t\tscan < newLength;\n\t\t\t\t\tscan++\n\t\t\t\t) {\n\t\t\t\t\tq[scan] = q[scan + this.index]!\n\t\t\t\t}\n\t\t\t\tq.length -= this.index\n\t\t\t\tthis.index = 0\n\t\t\t}\n\t\t}\n\t\tq.length = 0\n\t\tthis.index = 0\n\t\tthis.flushing = false\n\t}\n\n\t// In a web browser, exceptions are not fatal. However, to avoid\n\t// slowing down the queue of pending tasks, we rethrow the error in a\n\t// lower priority turn.\n\tpublic registerPendingError = (err: any) => {\n\t\tthis.pendingErrors.push(err)\n\t\tthis.requestErrorThrow()\n\t}\n}\n\n// The message channel technique was discovered by Malte Ubl and was the\n// original foundation for this library.\n// http://www.nonblocking.io/2011/06/windownexttick.html\n\n// Safari 6.0.5 (at least) intermittently fails to create message ports on a\n// page's first load. Thankfully, this version of Safari supports\n// MutationObservers, so we don't need to fall back in that case.\n\n// function makeRequestCallFromMessageChannel(callback) {\n//     var channel = new MessageChannel();\n//     channel.port1.onmessage = callback;\n//     return function requestCall() {\n//         channel.port2.postMessage(0);\n//     };\n// }\n\n// For reasons explained above, we are also unable to use `setImmediate`\n// under any circumstances.\n// Even if we were, there is another bug in Internet Explorer 10.\n// It is not sufficient to assign `setImmediate` to `requestFlush` because\n// `setImmediate` must be called *by name* and therefore must be wrapped in a\n// closure.\n// Never forget.\n\n// function makeRequestCallFromSetImmediate(callback) {\n//     return function requestCall() {\n//         setImmediate(callback);\n//     };\n// }\n\n// Safari 6.0 has a problem where timers will get lost while the user is\n// scrolling. This problem does not impact ASAP because Safari 6.0 supports\n// mutation observers, so that implementation is used instead.\n// However, if we ever elect to use timers in Safari, the prevalent work-around\n// is to add a scroll event listener that calls for a flush.\n\n// `setTimeout` does not call the passed callback if the delay is less than\n// approximately 7 in web workers in Firefox 8 through 18, and sometimes not\n// even then.\n\n// This is for `asap.js` only.\n// Its name will be periodically randomized to break any code that depends on\n// // its existence.\n// rawAsap.makeRequestCallFromTimer = makeRequestCallFromTimer\n\n// ASAP was originally a nextTick shim included in Q. This was factored out\n// into this ASAP package. It was later adapted to RSVP which made further\n// amendments. These decisions, particularly to marginalize MessageChannel and\n// to capture the MutationObserver implementation in a closure, were integrated\n// back into ASAP proper.\n// https://github.com/tildeio/rsvp.js/blob/cddf7232546a9cf858524b75cde6f9edf72620a7/lib/rsvp/asap.js\n","import type { Task } from './types.js'\nimport { RawTask } from './RawTask.js'\n\nexport class TaskFactory {\n\tprivate freeTasks: RawTask[] = []\n\n\tpublic constructor(private onError: (err: any) => void) {}\n\n\tpublic create(task: () => void): Task {\n\t\tconst tasks = this.freeTasks\n\t\tconst t = tasks.length\n\t\t\t? (tasks.pop() as RawTask)\n\t\t\t: new RawTask(this.onError, (t) => (tasks[tasks.length] = t))\n\t\tt.task = task\n\t\treturn t\n\t}\n}\n","// cheap lodash replacements\n\nexport function memoize<T>(fn: () => T): () => T {\n\tlet result: T | null = null\n\tconst memoized = () => {\n\t\tif (result == null) {\n\t\t\tresult = fn()\n\t\t}\n\t\treturn result\n\t}\n\treturn memoized\n}\n\n/**\n * drop-in replacement for _.without\n */\nexport function without<T>(items: T[], item: T) {\n\treturn items.filter((i) => i !== item)\n}\n\nexport function union<T extends string | number>(itemsA: T[], itemsB: T[]) {\n\tconst set = new Set<T>()\n\tconst insertItem = (item: T) => set.add(item)\n\titemsA.forEach(insertItem)\n\titemsB.forEach(insertItem)\n\n\tconst result: T[] = []\n\tset.forEach((key) => result.push(key))\n\treturn result\n}\n","export var INIT_COORDS = 'dnd-core/INIT_COORDS';\nexport var BEGIN_DRAG = 'dnd-core/BEGIN_DRAG';\nexport var PUBLISH_DRAG_SOURCE = 'dnd-core/PUBLISH_DRAG_SOURCE';\nexport var HOVER = 'dnd-core/HOVER';\nexport var DROP = 'dnd-core/DROP';\nexport var END_DRAG = 'dnd-core/END_DRAG';","export var strictEquality = function strictEquality(a, b) {\n  return a === b;\n};\n/**\n * Determine if two cartesian coordinate offsets are equal\n * @param offsetA\n * @param offsetB\n */\n\nexport function areCoordsEqual(offsetA, offsetB) {\n  if (!offsetA && !offsetB) {\n    return true;\n  } else if (!offsetA || !offsetB) {\n    return false;\n  } else {\n    return offsetA.x === offsetB.x && offsetA.y === offsetB.y;\n  }\n}\n/**\n * Determines if two arrays of items are equal\n * @param a The first array of items\n * @param b The second array of items\n */\n\nexport function areArraysEqual(a, b) {\n  var isEqual = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : strictEquality;\n\n  if (a.length !== b.length) {\n    return false;\n  }\n\n  for (var i = 0; i < a.length; ++i) {\n    if (!isEqual(a[i], b[i])) {\n      return false;\n    }\n  }\n\n  return true;\n}","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { INIT_COORDS, BEGIN_DRAG, HOVER, END_DRAG, DROP } from '../actions/dragDrop';\nimport { areCoordsEqual } from '../utils/equality';\nvar initialState = {\n  initialSourceClientOffset: null,\n  initialClientOffset: null,\n  clientOffset: null\n};\nexport function reduce() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n  var payload = action.payload;\n\n  switch (action.type) {\n    case INIT_COORDS:\n    case BEGIN_DRAG:\n      return {\n        initialSourceClientOffset: payload.sourceClientOffset,\n        initialClientOffset: payload.clientOffset,\n        clientOffset: payload.clientOffset\n      };\n\n    case HOVER:\n      if (areCoordsEqual(state.clientOffset, payload.clientOffset)) {\n        return state;\n      }\n\n      return _objectSpread(_objectSpread({}, state), {}, {\n        clientOffset: payload.clientOffset\n      });\n\n    case END_DRAG:\n    case DROP:\n      return initialState;\n\n    default:\n      return state;\n  }\n}","export var ADD_SOURCE = 'dnd-core/ADD_SOURCE';\nexport var ADD_TARGET = 'dnd-core/ADD_TARGET';\nexport var REMOVE_SOURCE = 'dnd-core/REMOVE_SOURCE';\nexport var REMOVE_TARGET = 'dnd-core/REMOVE_TARGET';\nexport function addSource(sourceId) {\n  return {\n    type: ADD_SOURCE,\n    payload: {\n      sourceId: sourceId\n    }\n  };\n}\nexport function addTarget(targetId) {\n  return {\n    type: ADD_TARGET,\n    payload: {\n      targetId: targetId\n    }\n  };\n}\nexport function removeSource(sourceId) {\n  return {\n    type: REMOVE_SOURCE,\n    payload: {\n      sourceId: sourceId\n    }\n  };\n}\nexport function removeTarget(targetId) {\n  return {\n    type: REMOVE_TARGET,\n    payload: {\n      targetId: targetId\n    }\n  };\n}","function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n// cheap lodash replacements\n\n/**\n * drop-in replacement for _.get\n * @param obj\n * @param path\n * @param defaultValue\n */\nexport function get(obj, path, defaultValue) {\n  return path.split('.').reduce(function (a, c) {\n    return a && a[c] ? a[c] : defaultValue || null;\n  }, obj);\n}\n/**\n * drop-in replacement for _.without\n */\n\nexport function without(items, item) {\n  return items.filter(function (i) {\n    return i !== item;\n  });\n}\n/**\n * drop-in replacement for _.isString\n * @param input\n */\n\nexport function isString(input) {\n  return typeof input === 'string';\n}\n/**\n * drop-in replacement for _.isString\n * @param input\n */\n\nexport function isObject(input) {\n  return _typeof(input) === 'object';\n}\n/**\n * repalcement for _.xor\n * @param itemsA\n * @param itemsB\n */\n\nexport function xor(itemsA, itemsB) {\n  var map = new Map();\n\n  var insertItem = function insertItem(item) {\n    map.set(item, map.has(item) ? map.get(item) + 1 : 1);\n  };\n\n  itemsA.forEach(insertItem);\n  itemsB.forEach(insertItem);\n  var result = [];\n  map.forEach(function (count, key) {\n    if (count === 1) {\n      result.push(key);\n    }\n  });\n  return result;\n}\n/**\n * replacement for _.intersection\n * @param itemsA\n * @param itemsB\n */\n\nexport function intersection(itemsA, itemsB) {\n  return itemsA.filter(function (t) {\n    return itemsB.indexOf(t) > -1;\n  });\n}","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { BEGIN_DRAG, PUBLISH_DRAG_SOURCE, HOVER, END_DRAG, DROP } from '../actions/dragDrop';\nimport { REMOVE_TARGET } from '../actions/registry';\nimport { without } from '../utils/js_utils';\nvar initialState = {\n  itemType: null,\n  item: null,\n  sourceId: null,\n  targetIds: [],\n  dropResult: null,\n  didDrop: false,\n  isSourcePublic: null\n};\nexport function reduce() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n  var payload = action.payload;\n\n  switch (action.type) {\n    case BEGIN_DRAG:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        itemType: payload.itemType,\n        item: payload.item,\n        sourceId: payload.sourceId,\n        isSourcePublic: payload.isSourcePublic,\n        dropResult: null,\n        didDrop: false\n      });\n\n    case PUBLISH_DRAG_SOURCE:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        isSourcePublic: true\n      });\n\n    case HOVER:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        targetIds: payload.targetIds\n      });\n\n    case REMOVE_TARGET:\n      if (state.targetIds.indexOf(payload.targetId) === -1) {\n        return state;\n      }\n\n      return _objectSpread(_objectSpread({}, state), {}, {\n        targetIds: without(state.targetIds, payload.targetId)\n      });\n\n    case DROP:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        dropResult: payload.dropResult,\n        didDrop: true,\n        targetIds: []\n      });\n\n    case END_DRAG:\n      return _objectSpread(_objectSpread({}, state), {}, {\n        itemType: null,\n        item: null,\n        sourceId: null,\n        dropResult: null,\n        didDrop: false,\n        isSourcePublic: null,\n        targetIds: []\n      });\n\n    default:\n      return state;\n  }\n}","import { ADD_SOURCE, ADD_TARGET, REMOVE_SOURCE, REMOVE_TARGET } from '../actions/registry';\nexport function reduce() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case ADD_SOURCE:\n    case ADD_TARGET:\n      return state + 1;\n\n    case REMOVE_SOURCE:\n    case REMOVE_TARGET:\n      return state - 1;\n\n    default:\n      return state;\n  }\n}","import { intersection } from './js_utils';\nexport var NONE = [];\nexport var ALL = [];\nNONE.__IS_NONE__ = true;\nALL.__IS_ALL__ = true;\n/**\n * Determines if the given handler IDs are dirty or not.\n *\n * @param dirtyIds The set of dirty handler ids\n * @param handlerIds The set of handler ids to check\n */\n\nexport function areDirty(dirtyIds, handlerIds) {\n  if (dirtyIds === NONE) {\n    return false;\n  }\n\n  if (dirtyIds === ALL || typeof handlerIds === 'undefined') {\n    return true;\n  }\n\n  var commonIds = intersection(handlerIds, dirtyIds);\n  return commonIds.length > 0;\n}","import { BEGIN_DRAG, PUBLISH_DRAG_SOURCE, HOVER, END_DRAG, DROP } from '../actions/dragDrop';\nimport { ADD_SOURCE, ADD_TARGET, REMOVE_SOURCE, REMOVE_TARGET } from '../actions/registry';\nimport { areArraysEqual } from '../utils/equality';\nimport { NONE, ALL } from '../utils/dirtiness';\nimport { xor } from '../utils/js_utils';\nexport function reduce() {\n  var _state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : NONE;\n\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case HOVER:\n      break;\n\n    case ADD_SOURCE:\n    case ADD_TARGET:\n    case REMOVE_TARGET:\n    case REMOVE_SOURCE:\n      return NONE;\n\n    case BEGIN_DRAG:\n    case PUBLISH_DRAG_SOURCE:\n    case END_DRAG:\n    case DROP:\n    default:\n      return ALL;\n  }\n\n  var _action$payload = action.payload,\n      _action$payload$targe = _action$payload.targetIds,\n      targetIds = _action$payload$targe === void 0 ? [] : _action$payload$targe,\n      _action$payload$prevT = _action$payload.prevTargetIds,\n      prevTargetIds = _action$payload$prevT === void 0 ? [] : _action$payload$prevT;\n  var result = xor(targetIds, prevTargetIds);\n  var didChange = result.length > 0 || !areArraysEqual(targetIds, prevTargetIds);\n\n  if (!didChange) {\n    return NONE;\n  } // Check the target ids at the innermost position. If they are valid, add them\n  // to the result\n\n\n  var prevInnermostTargetId = prevTargetIds[prevTargetIds.length - 1];\n  var innermostTargetId = targetIds[targetIds.length - 1];\n\n  if (prevInnermostTargetId !== innermostTargetId) {\n    if (prevInnermostTargetId) {\n      result.push(prevInnermostTargetId);\n    }\n\n    if (innermostTargetId) {\n      result.push(innermostTargetId);\n    }\n  }\n\n  return result;\n}","export function reduce() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n  return state + 1;\n}","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { reduce as dragOffset } from './dragOffset';\nimport { reduce as dragOperation } from './dragOperation';\nimport { reduce as refCount } from './refCount';\nimport { reduce as dirtyHandlerIds } from './dirtyHandlerIds';\nimport { reduce as stateId } from './stateId';\nimport { get } from '../utils/js_utils';\nexport function reduce() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n  return {\n    dirtyHandlerIds: dirtyHandlerIds(state.dirtyHandlerIds, {\n      type: action.type,\n      payload: _objectSpread(_objectSpread({}, action.payload), {}, {\n        prevTargetIds: get(state, 'dragOperation.targetIds', [])\n      })\n    }),\n    dragOffset: dragOffset(state.dragOffset, action),\n    refCount: refCount(state.refCount, action),\n    dragOperation: dragOperation(state.dragOperation, action),\n    stateId: stateId(state.stateId)\n  };\n}","import { INIT_COORDS } from '../types';\nexport function setClientOffset(clientOffset, sourceClientOffset) {\n  return {\n    type: INIT_COORDS,\n    payload: {\n      sourceClientOffset: sourceClientOffset || null,\n      clientOffset: clientOffset || null\n    }\n  };\n}","import { invariant } from '@react-dnd/invariant';\nimport { setClientOffset } from './local/setClientOffset';\nimport { isObject } from '../../utils/js_utils';\nimport { BEGIN_DRAG, INIT_COORDS } from './types';\nvar ResetCoordinatesAction = {\n  type: INIT_COORDS,\n  payload: {\n    clientOffset: null,\n    sourceClientOffset: null\n  }\n};\nexport function createBeginDrag(manager) {\n  return function beginDrag() {\n    var sourceIds = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n      publishSource: true\n    };\n    var _options$publishSourc = options.publishSource,\n        publishSource = _options$publishSourc === void 0 ? true : _options$publishSourc,\n        clientOffset = options.clientOffset,\n        getSourceClientOffset = options.getSourceClientOffset;\n    var monitor = manager.getMonitor();\n    var registry = manager.getRegistry(); // Initialize the coordinates using the client offset\n\n    manager.dispatch(setClientOffset(clientOffset));\n    verifyInvariants(sourceIds, monitor, registry); // Get the draggable source\n\n    var sourceId = getDraggableSource(sourceIds, monitor);\n\n    if (sourceId === null) {\n      manager.dispatch(ResetCoordinatesAction);\n      return;\n    } // Get the source client offset\n\n\n    var sourceClientOffset = null;\n\n    if (clientOffset) {\n      if (!getSourceClientOffset) {\n        throw new Error('getSourceClientOffset must be defined');\n      }\n\n      verifyGetSourceClientOffsetIsFunction(getSourceClientOffset);\n      sourceClientOffset = getSourceClientOffset(sourceId);\n    } // Initialize the full coordinates\n\n\n    manager.dispatch(setClientOffset(clientOffset, sourceClientOffset));\n    var source = registry.getSource(sourceId);\n    var item = source.beginDrag(monitor, sourceId);\n    verifyItemIsObject(item);\n    registry.pinSource(sourceId);\n    var itemType = registry.getSourceType(sourceId);\n    return {\n      type: BEGIN_DRAG,\n      payload: {\n        itemType: itemType,\n        item: item,\n        sourceId: sourceId,\n        clientOffset: clientOffset || null,\n        sourceClientOffset: sourceClientOffset || null,\n        isSourcePublic: !!publishSource\n      }\n    };\n  };\n}\n\nfunction verifyInvariants(sourceIds, monitor, registry) {\n  invariant(!monitor.isDragging(), 'Cannot call beginDrag while dragging.');\n  sourceIds.forEach(function (sourceId) {\n    invariant(registry.getSource(sourceId), 'Expected sourceIds to be registered.');\n  });\n}\n\nfunction verifyGetSourceClientOffsetIsFunction(getSourceClientOffset) {\n  invariant(typeof getSourceClientOffset === 'function', 'When clientOffset is provided, getSourceClientOffset must be a function.');\n}\n\nfunction verifyItemIsObject(item) {\n  invariant(isObject(item), 'Item must be an object.');\n}\n\nfunction getDraggableSource(sourceIds, monitor) {\n  var sourceId = null;\n\n  for (var i = sourceIds.length - 1; i >= 0; i--) {\n    if (monitor.canDragSource(sourceIds[i])) {\n      sourceId = sourceIds[i];\n      break;\n    }\n  }\n\n  return sourceId;\n}","import { PUBLISH_DRAG_SOURCE } from './types';\nexport function createPublishDragSource(manager) {\n  return function publishDragSource() {\n    var monitor = manager.getMonitor();\n\n    if (monitor.isDragging()) {\n      return {\n        type: PUBLISH_DRAG_SOURCE\n      };\n    }\n  };\n}","export function matchesType(targetType, draggedItemType) {\n  if (draggedItemType === null) {\n    return targetType === null;\n  }\n\n  return Array.isArray(targetType) ? targetType.some(function (t) {\n    return t === draggedItemType;\n  }) : targetType === draggedItemType;\n}","import { invariant } from '@react-dnd/invariant';\nimport { matchesType } from '../../utils/matchesType';\nimport { HOVER } from './types';\nexport function createHover(manager) {\n  return function hover(targetIdsArg) {\n    var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n        clientOffset = _ref.clientOffset;\n\n    verifyTargetIdsIsArray(targetIdsArg);\n    var targetIds = targetIdsArg.slice(0);\n    var monitor = manager.getMonitor();\n    var registry = manager.getRegistry();\n    checkInvariants(targetIds, monitor, registry);\n    var draggedItemType = monitor.getItemType();\n    removeNonMatchingTargetIds(targetIds, registry, draggedItemType);\n    hoverAllTargets(targetIds, monitor, registry);\n    return {\n      type: HOVER,\n      payload: {\n        targetIds: targetIds,\n        clientOffset: clientOffset || null\n      }\n    };\n  };\n}\n\nfunction verifyTargetIdsIsArray(targetIdsArg) {\n  invariant(Array.isArray(targetIdsArg), 'Expected targetIds to be an array.');\n}\n\nfunction checkInvariants(targetIds, monitor, registry) {\n  invariant(monitor.isDragging(), 'Cannot call hover while not dragging.');\n  invariant(!monitor.didDrop(), 'Cannot call hover after drop.');\n\n  for (var i = 0; i < targetIds.length; i++) {\n    var targetId = targetIds[i];\n    invariant(targetIds.lastIndexOf(targetId) === i, 'Expected targetIds to be unique in the passed array.');\n    var target = registry.getTarget(targetId);\n    invariant(target, 'Expected targetIds to be registered.');\n  }\n}\n\nfunction removeNonMatchingTargetIds(targetIds, registry, draggedItemType) {\n  // Remove those targetIds that don't match the targetType.  This\n  // fixes shallow isOver which would only be non-shallow because of\n  // non-matching targets.\n  for (var i = targetIds.length - 1; i >= 0; i--) {\n    var targetId = targetIds[i];\n    var targetType = registry.getTargetType(targetId);\n\n    if (!matchesType(targetType, draggedItemType)) {\n      targetIds.splice(i, 1);\n    }\n  }\n}\n\nfunction hoverAllTargets(targetIds, monitor, registry) {\n  // Finally call hover on all matching targets.\n  targetIds.forEach(function (targetId) {\n    var target = registry.getTarget(targetId);\n    target.hover(monitor, targetId);\n  });\n}","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { invariant } from '@react-dnd/invariant';\nimport { DROP } from './types';\nimport { isObject } from '../../utils/js_utils';\nexport function createDrop(manager) {\n  return function drop() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var monitor = manager.getMonitor();\n    var registry = manager.getRegistry();\n    verifyInvariants(monitor);\n    var targetIds = getDroppableTargets(monitor); // Multiple actions are dispatched here, which is why this doesn't return an action\n\n    targetIds.forEach(function (targetId, index) {\n      var dropResult = determineDropResult(targetId, index, registry, monitor);\n      var action = {\n        type: DROP,\n        payload: {\n          dropResult: _objectSpread(_objectSpread({}, options), dropResult)\n        }\n      };\n      manager.dispatch(action);\n    });\n  };\n}\n\nfunction verifyInvariants(monitor) {\n  invariant(monitor.isDragging(), 'Cannot call drop while not dragging.');\n  invariant(!monitor.didDrop(), 'Cannot call drop twice during one drag operation.');\n}\n\nfunction determineDropResult(targetId, index, registry, monitor) {\n  var target = registry.getTarget(targetId);\n  var dropResult = target ? target.drop(monitor, targetId) : undefined;\n  verifyDropResultType(dropResult);\n\n  if (typeof dropResult === 'undefined') {\n    dropResult = index === 0 ? {} : monitor.getDropResult();\n  }\n\n  return dropResult;\n}\n\nfunction verifyDropResultType(dropResult) {\n  invariant(typeof dropResult === 'undefined' || isObject(dropResult), 'Drop result must either be an object or undefined.');\n}\n\nfunction getDroppableTargets(monitor) {\n  var targetIds = monitor.getTargetIds().filter(monitor.canDropOnTarget, monitor);\n  targetIds.reverse();\n  return targetIds;\n}","import { invariant } from '@react-dnd/invariant';\nimport { END_DRAG } from './types';\nexport function createEndDrag(manager) {\n  return function endDrag() {\n    var monitor = manager.getMonitor();\n    var registry = manager.getRegistry();\n    verifyIsDragging(monitor);\n    var sourceId = monitor.getSourceId();\n\n    if (sourceId != null) {\n      var source = registry.getSource(sourceId, true);\n      source.endDrag(monitor, sourceId);\n      registry.unpinSource();\n    }\n\n    return {\n      type: END_DRAG\n    };\n  };\n}\n\nfunction verifyIsDragging(monitor) {\n  invariant(monitor.isDragging(), 'Cannot call endDrag while not dragging.');\n}","/**\n * Coordinate addition\n * @param a The first coordinate\n * @param b The second coordinate\n */\nexport function add(a, b) {\n  return {\n    x: a.x + b.x,\n    y: a.y + b.y\n  };\n}\n/**\n * Coordinate subtraction\n * @param a The first coordinate\n * @param b The second coordinate\n */\n\nexport function subtract(a, b) {\n  return {\n    x: a.x - b.x,\n    y: a.y - b.y\n  };\n}\n/**\n * Returns the cartesian distance of the drag source component's position, based on its position\n * at the time when the current drag operation has started, and the movement difference.\n *\n * Returns null if no item is being dragged.\n *\n * @param state The offset state to compute from\n */\n\nexport function getSourceClientOffset(state) {\n  var clientOffset = state.clientOffset,\n      initialClientOffset = state.initialClientOffset,\n      initialSourceClientOffset = state.initialSourceClientOffset;\n\n  if (!clientOffset || !initialClientOffset || !initialSourceClientOffset) {\n    return null;\n  }\n\n  return subtract(add(clientOffset, initialSourceClientOffset), initialClientOffset);\n}\n/**\n * Determines the x,y offset between the client offset and the initial client offset\n *\n * @param state The offset state to compute from\n */\n\nexport function getDifferenceFromInitialOffset(state) {\n  var clientOffset = state.clientOffset,\n      initialClientOffset = state.initialClientOffset;\n\n  if (!clientOffset || !initialClientOffset) {\n    return null;\n  }\n\n  return subtract(clientOffset, initialClientOffset);\n}","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nimport { invariant } from '@react-dnd/invariant';\nimport { matchesType } from './utils/matchesType';\nimport { getSourceClientOffset as _getSourceClientOffset, getDifferenceFromInitialOffset as _getDifferenceFromInitialOffset } from './utils/coords';\nimport { areDirty } from './utils/dirtiness';\nexport var DragDropMonitorImpl = /*#__PURE__*/function () {\n  function DragDropMonitorImpl(store, registry) {\n    _classCallCheck(this, DragDropMonitorImpl);\n\n    this.store = store;\n    this.registry = registry;\n  }\n\n  _createClass(DragDropMonitorImpl, [{\n    key: \"subscribeToStateChange\",\n    value: function subscribeToStateChange(listener) {\n      var _this = this;\n\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n        handlerIds: undefined\n      };\n      var handlerIds = options.handlerIds;\n      invariant(typeof listener === 'function', 'listener must be a function.');\n      invariant(typeof handlerIds === 'undefined' || Array.isArray(handlerIds), 'handlerIds, when specified, must be an array of strings.');\n      var prevStateId = this.store.getState().stateId;\n\n      var handleChange = function handleChange() {\n        var state = _this.store.getState();\n\n        var currentStateId = state.stateId;\n\n        try {\n          var canSkipListener = currentStateId === prevStateId || currentStateId === prevStateId + 1 && !areDirty(state.dirtyHandlerIds, handlerIds);\n\n          if (!canSkipListener) {\n            listener();\n          }\n        } finally {\n          prevStateId = currentStateId;\n        }\n      };\n\n      return this.store.subscribe(handleChange);\n    }\n  }, {\n    key: \"subscribeToOffsetChange\",\n    value: function subscribeToOffsetChange(listener) {\n      var _this2 = this;\n\n      invariant(typeof listener === 'function', 'listener must be a function.');\n      var previousState = this.store.getState().dragOffset;\n\n      var handleChange = function handleChange() {\n        var nextState = _this2.store.getState().dragOffset;\n\n        if (nextState === previousState) {\n          return;\n        }\n\n        previousState = nextState;\n        listener();\n      };\n\n      return this.store.subscribe(handleChange);\n    }\n  }, {\n    key: \"canDragSource\",\n    value: function canDragSource(sourceId) {\n      if (!sourceId) {\n        return false;\n      }\n\n      var source = this.registry.getSource(sourceId);\n      invariant(source, 'Expected to find a valid source.');\n\n      if (this.isDragging()) {\n        return false;\n      }\n\n      return source.canDrag(this, sourceId);\n    }\n  }, {\n    key: \"canDropOnTarget\",\n    value: function canDropOnTarget(targetId) {\n      // undefined on initial render\n      if (!targetId) {\n        return false;\n      }\n\n      var target = this.registry.getTarget(targetId);\n      invariant(target, 'Expected to find a valid target.');\n\n      if (!this.isDragging() || this.didDrop()) {\n        return false;\n      }\n\n      var targetType = this.registry.getTargetType(targetId);\n      var draggedItemType = this.getItemType();\n      return matchesType(targetType, draggedItemType) && target.canDrop(this, targetId);\n    }\n  }, {\n    key: \"isDragging\",\n    value: function isDragging() {\n      return Boolean(this.getItemType());\n    }\n  }, {\n    key: \"isDraggingSource\",\n    value: function isDraggingSource(sourceId) {\n      // undefined on initial render\n      if (!sourceId) {\n        return false;\n      }\n\n      var source = this.registry.getSource(sourceId, true);\n      invariant(source, 'Expected to find a valid source.');\n\n      if (!this.isDragging() || !this.isSourcePublic()) {\n        return false;\n      }\n\n      var sourceType = this.registry.getSourceType(sourceId);\n      var draggedItemType = this.getItemType();\n\n      if (sourceType !== draggedItemType) {\n        return false;\n      }\n\n      return source.isDragging(this, sourceId);\n    }\n  }, {\n    key: \"isOverTarget\",\n    value: function isOverTarget(targetId) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n        shallow: false\n      };\n\n      // undefined on initial render\n      if (!targetId) {\n        return false;\n      }\n\n      var shallow = options.shallow;\n\n      if (!this.isDragging()) {\n        return false;\n      }\n\n      var targetType = this.registry.getTargetType(targetId);\n      var draggedItemType = this.getItemType();\n\n      if (draggedItemType && !matchesType(targetType, draggedItemType)) {\n        return false;\n      }\n\n      var targetIds = this.getTargetIds();\n\n      if (!targetIds.length) {\n        return false;\n      }\n\n      var index = targetIds.indexOf(targetId);\n\n      if (shallow) {\n        return index === targetIds.length - 1;\n      } else {\n        return index > -1;\n      }\n    }\n  }, {\n    key: \"getItemType\",\n    value: function getItemType() {\n      return this.store.getState().dragOperation.itemType;\n    }\n  }, {\n    key: \"getItem\",\n    value: function getItem() {\n      return this.store.getState().dragOperation.item;\n    }\n  }, {\n    key: \"getSourceId\",\n    value: function getSourceId() {\n      return this.store.getState().dragOperation.sourceId;\n    }\n  }, {\n    key: \"getTargetIds\",\n    value: function getTargetIds() {\n      return this.store.getState().dragOperation.targetIds;\n    }\n  }, {\n    key: \"getDropResult\",\n    value: function getDropResult() {\n      return this.store.getState().dragOperation.dropResult;\n    }\n  }, {\n    key: \"didDrop\",\n    value: function didDrop() {\n      return this.store.getState().dragOperation.didDrop;\n    }\n  }, {\n    key: \"isSourcePublic\",\n    value: function isSourcePublic() {\n      return Boolean(this.store.getState().dragOperation.isSourcePublic);\n    }\n  }, {\n    key: \"getInitialClientOffset\",\n    value: function getInitialClientOffset() {\n      return this.store.getState().dragOffset.initialClientOffset;\n    }\n  }, {\n    key: \"getInitialSourceClientOffset\",\n    value: function getInitialSourceClientOffset() {\n      return this.store.getState().dragOffset.initialSourceClientOffset;\n    }\n  }, {\n    key: \"getClientOffset\",\n    value: function getClientOffset() {\n      return this.store.getState().dragOffset.clientOffset;\n    }\n  }, {\n    key: \"getSourceClientOffset\",\n    value: function getSourceClientOffset() {\n      return _getSourceClientOffset(this.store.getState().dragOffset);\n    }\n  }, {\n    key: \"getDifferenceFromInitialOffset\",\n    value: function getDifferenceFromInitialOffset() {\n      return _getDifferenceFromInitialOffset(this.store.getState().dragOffset);\n    }\n  }]);\n\n  return DragDropMonitorImpl;\n}();","export var HandlerRole;\n\n(function (HandlerRole) {\n  HandlerRole[\"SOURCE\"] = \"SOURCE\";\n  HandlerRole[\"TARGET\"] = \"TARGET\";\n})(HandlerRole || (HandlerRole = {}));","var nextUniqueId = 0;\nexport function getNextUniqueId() {\n  return nextUniqueId++;\n}","function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nimport { invariant } from '@react-dnd/invariant';\nexport function validateSourceContract(source) {\n  invariant(typeof source.canDrag === 'function', 'Expected canDrag to be a function.');\n  invariant(typeof source.beginDrag === 'function', 'Expected beginDrag to be a function.');\n  invariant(typeof source.endDrag === 'function', 'Expected endDrag to be a function.');\n}\nexport function validateTargetContract(target) {\n  invariant(typeof target.canDrop === 'function', 'Expected canDrop to be a function.');\n  invariant(typeof target.hover === 'function', 'Expected hover to be a function.');\n  invariant(typeof target.drop === 'function', 'Expected beginDrag to be a function.');\n}\nexport function validateType(type, allowArray) {\n  if (allowArray && Array.isArray(type)) {\n    type.forEach(function (t) {\n      return validateType(t, false);\n    });\n    return;\n  }\n\n  invariant(typeof type === 'string' || _typeof(type) === 'symbol', allowArray ? 'Type can only be a string, a symbol, or an array of either.' : 'Type can only be a string or a symbol.');\n}","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nimport { invariant } from '@react-dnd/invariant';\nimport { addSource as _addSource, addTarget as _addTarget, removeSource as _removeSource, removeTarget as _removeTarget } from './actions/registry';\nimport { getNextUniqueId } from './utils/getNextUniqueId';\nimport { HandlerRole } from './interfaces';\nimport { validateSourceContract, validateTargetContract, validateType } from './contracts';\nimport { asap } from '@react-dnd/asap';\n\nfunction getNextHandlerId(role) {\n  var id = getNextUniqueId().toString();\n\n  switch (role) {\n    case HandlerRole.SOURCE:\n      return \"S\".concat(id);\n\n    case HandlerRole.TARGET:\n      return \"T\".concat(id);\n\n    default:\n      throw new Error(\"Unknown Handler Role: \".concat(role));\n  }\n}\n\nfunction parseRoleFromHandlerId(handlerId) {\n  switch (handlerId[0]) {\n    case 'S':\n      return HandlerRole.SOURCE;\n\n    case 'T':\n      return HandlerRole.TARGET;\n\n    default:\n      invariant(false, \"Cannot parse handler ID: \".concat(handlerId));\n  }\n}\n\nfunction mapContainsValue(map, searchValue) {\n  var entries = map.entries();\n  var isDone = false;\n\n  do {\n    var _entries$next = entries.next(),\n        done = _entries$next.done,\n        _entries$next$value = _slicedToArray(_entries$next.value, 2),\n        value = _entries$next$value[1];\n\n    if (value === searchValue) {\n      return true;\n    }\n\n    isDone = !!done;\n  } while (!isDone);\n\n  return false;\n}\n\nexport var HandlerRegistryImpl = /*#__PURE__*/function () {\n  function HandlerRegistryImpl(store) {\n    _classCallCheck(this, HandlerRegistryImpl);\n\n    this.types = new Map();\n    this.dragSources = new Map();\n    this.dropTargets = new Map();\n    this.pinnedSourceId = null;\n    this.pinnedSource = null;\n    this.store = store;\n  }\n\n  _createClass(HandlerRegistryImpl, [{\n    key: \"addSource\",\n    value: function addSource(type, source) {\n      validateType(type);\n      validateSourceContract(source);\n      var sourceId = this.addHandler(HandlerRole.SOURCE, type, source);\n      this.store.dispatch(_addSource(sourceId));\n      return sourceId;\n    }\n  }, {\n    key: \"addTarget\",\n    value: function addTarget(type, target) {\n      validateType(type, true);\n      validateTargetContract(target);\n      var targetId = this.addHandler(HandlerRole.TARGET, type, target);\n      this.store.dispatch(_addTarget(targetId));\n      return targetId;\n    }\n  }, {\n    key: \"containsHandler\",\n    value: function containsHandler(handler) {\n      return mapContainsValue(this.dragSources, handler) || mapContainsValue(this.dropTargets, handler);\n    }\n  }, {\n    key: \"getSource\",\n    value: function getSource(sourceId) {\n      var includePinned = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      invariant(this.isSourceId(sourceId), 'Expected a valid source ID.');\n      var isPinned = includePinned && sourceId === this.pinnedSourceId;\n      var source = isPinned ? this.pinnedSource : this.dragSources.get(sourceId);\n      return source;\n    }\n  }, {\n    key: \"getTarget\",\n    value: function getTarget(targetId) {\n      invariant(this.isTargetId(targetId), 'Expected a valid target ID.');\n      return this.dropTargets.get(targetId);\n    }\n  }, {\n    key: \"getSourceType\",\n    value: function getSourceType(sourceId) {\n      invariant(this.isSourceId(sourceId), 'Expected a valid source ID.');\n      return this.types.get(sourceId);\n    }\n  }, {\n    key: \"getTargetType\",\n    value: function getTargetType(targetId) {\n      invariant(this.isTargetId(targetId), 'Expected a valid target ID.');\n      return this.types.get(targetId);\n    }\n  }, {\n    key: \"isSourceId\",\n    value: function isSourceId(handlerId) {\n      var role = parseRoleFromHandlerId(handlerId);\n      return role === HandlerRole.SOURCE;\n    }\n  }, {\n    key: \"isTargetId\",\n    value: function isTargetId(handlerId) {\n      var role = parseRoleFromHandlerId(handlerId);\n      return role === HandlerRole.TARGET;\n    }\n  }, {\n    key: \"removeSource\",\n    value: function removeSource(sourceId) {\n      var _this = this;\n\n      invariant(this.getSource(sourceId), 'Expected an existing source.');\n      this.store.dispatch(_removeSource(sourceId));\n      asap(function () {\n        _this.dragSources.delete(sourceId);\n\n        _this.types.delete(sourceId);\n      });\n    }\n  }, {\n    key: \"removeTarget\",\n    value: function removeTarget(targetId) {\n      invariant(this.getTarget(targetId), 'Expected an existing target.');\n      this.store.dispatch(_removeTarget(targetId));\n      this.dropTargets.delete(targetId);\n      this.types.delete(targetId);\n    }\n  }, {\n    key: \"pinSource\",\n    value: function pinSource(sourceId) {\n      var source = this.getSource(sourceId);\n      invariant(source, 'Expected an existing source.');\n      this.pinnedSourceId = sourceId;\n      this.pinnedSource = source;\n    }\n  }, {\n    key: \"unpinSource\",\n    value: function unpinSource() {\n      invariant(this.pinnedSource, 'No source is pinned at the time.');\n      this.pinnedSourceId = null;\n      this.pinnedSource = null;\n    }\n  }, {\n    key: \"addHandler\",\n    value: function addHandler(role, type, handler) {\n      var id = getNextHandlerId(role);\n      this.types.set(id, type);\n\n      if (role === HandlerRole.SOURCE) {\n        this.dragSources.set(id, handler);\n      } else if (role === HandlerRole.TARGET) {\n        this.dropTargets.set(id, handler);\n      }\n\n      return id;\n    }\n  }]);\n\n  return HandlerRegistryImpl;\n}();","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nimport { createStore } from 'redux';\nimport { reduce } from './reducers';\nimport { createDragDropActions } from './actions/dragDrop';\nimport { DragDropMonitorImpl } from './DragDropMonitorImpl';\nimport { HandlerRegistryImpl } from './HandlerRegistryImpl';\n\nfunction makeStoreInstance(debugMode) {\n  // TODO: if we ever make a react-native version of this,\n  // we'll need to consider how to pull off dev-tooling\n  var reduxDevTools = typeof window !== 'undefined' && window.__REDUX_DEVTOOLS_EXTENSION__;\n  return createStore(reduce, debugMode && reduxDevTools && reduxDevTools({\n    name: 'dnd-core',\n    instanceId: 'dnd-core'\n  }));\n}\n\nexport var DragDropManagerImpl = /*#__PURE__*/function () {\n  function DragDropManagerImpl() {\n    var _this = this;\n\n    var debugMode = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n    _classCallCheck(this, DragDropManagerImpl);\n\n    this.isSetUp = false;\n\n    this.handleRefCountChange = function () {\n      var shouldSetUp = _this.store.getState().refCount > 0;\n\n      if (_this.backend) {\n        if (shouldSetUp && !_this.isSetUp) {\n          _this.backend.setup();\n\n          _this.isSetUp = true;\n        } else if (!shouldSetUp && _this.isSetUp) {\n          _this.backend.teardown();\n\n          _this.isSetUp = false;\n        }\n      }\n    };\n\n    var store = makeStoreInstance(debugMode);\n    this.store = store;\n    this.monitor = new DragDropMonitorImpl(store, new HandlerRegistryImpl(store));\n    store.subscribe(this.handleRefCountChange);\n  }\n\n  _createClass(DragDropManagerImpl, [{\n    key: \"receiveBackend\",\n    value: function receiveBackend(backend) {\n      this.backend = backend;\n    }\n  }, {\n    key: \"getMonitor\",\n    value: function getMonitor() {\n      return this.monitor;\n    }\n  }, {\n    key: \"getBackend\",\n    value: function getBackend() {\n      return this.backend;\n    }\n  }, {\n    key: \"getRegistry\",\n    value: function getRegistry() {\n      return this.monitor.registry;\n    }\n  }, {\n    key: \"getActions\",\n    value: function getActions() {\n      /* eslint-disable-next-line @typescript-eslint/no-this-alias */\n      var manager = this;\n      var dispatch = this.store.dispatch;\n\n      function bindActionCreator(actionCreator) {\n        return function () {\n          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n            args[_key] = arguments[_key];\n          }\n\n          var action = actionCreator.apply(manager, args);\n\n          if (typeof action !== 'undefined') {\n            dispatch(action);\n          }\n        };\n      }\n\n      var actions = createDragDropActions(this);\n      return Object.keys(actions).reduce(function (boundActions, key) {\n        var action = actions[key];\n        boundActions[key] = bindActionCreator(action);\n        return boundActions;\n      }, {});\n    }\n  }, {\n    key: \"dispatch\",\n    value: function dispatch(action) {\n      this.store.dispatch(action);\n    }\n  }]);\n\n  return DragDropManagerImpl;\n}();","import { createBeginDrag } from './beginDrag';\nimport { createPublishDragSource } from './publishDragSource';\nimport { createHover } from './hover';\nimport { createDrop } from './drop';\nimport { createEndDrag } from './endDrag';\nexport * from './types';\nexport function createDragDropActions(manager) {\n  return {\n    beginDrag: createBeginDrag(manager),\n    publishDragSource: createPublishDragSource(manager),\n    hover: createHover(manager),\n    drop: createDrop(manager),\n    endDrag: createEndDrag(manager)\n  };\n}","import { DragDropManagerImpl } from './DragDropManagerImpl';\nexport function createDragDropManager(backendFactory, globalContext, backendOptions, debugMode) {\n  var manager = new DragDropManagerImpl(debugMode);\n  var backend = backendFactory(manager, globalContext, backendOptions);\n  manager.receiveBackend(backend);\n  return manager;\n}","import * as React from 'react';\nimport { createDragDropManager } from 'dnd-core';\n/**\n * Create the React Context\n */\n\nexport var DndContext = React.createContext({\n  dragDropManager: undefined\n});\n/**\n * Creates the context object we're providing\n * @param backend\n * @param context\n */\n\nexport function createDndContext(backend, context, options, debugMode) {\n  return {\n    dragDropManager: createDragDropManager(backend, context, options, debugMode)\n  };\n}","function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n// cheap lodash replacements\nexport function isFunction(input) {\n  return typeof input === 'function';\n}\nexport function noop() {// noop\n}\n\nfunction isObjectLike(input) {\n  return _typeof(input) === 'object' && input !== null;\n}\n\nexport function isPlainObject(input) {\n  if (!isObjectLike(input)) {\n    return false;\n  }\n\n  if (Object.getPrototypeOf(input) === null) {\n    return true;\n  }\n\n  var proto = input;\n\n  while (Object.getPrototypeOf(proto) !== null) {\n    proto = Object.getPrototypeOf(proto);\n  }\n\n  return Object.getPrototypeOf(input) === proto;\n}","export function registerTarget(type, target, manager) {\n  var registry = manager.getRegistry();\n  var targetId = registry.addTarget(type, target);\n  return [targetId, function () {\n    return registry.removeTarget(targetId);\n  }];\n}\nexport function registerSource(type, source, manager) {\n  var registry = manager.getRegistry();\n  var sourceId = registry.addSource(type, source);\n  return [sourceId, function () {\n    return registry.removeSource(sourceId);\n  }];\n}","function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nexport function isValidType(type, allowArray) {\n  return typeof type === 'string' || _typeof(type) === 'symbol' || !!allowArray && Array.isArray(type) && type.every(function (t) {\n    return isValidType(t, false);\n  });\n}","import { cloneElement } from 'react';\nimport { invariant } from '@react-dnd/invariant';\n\nfunction setRef(ref, node) {\n  if (typeof ref === 'function') {\n    ref(node);\n  } else {\n    ref.current = node;\n  }\n}\n\nexport function cloneWithRef(element, newRef) {\n  var previousRef = element.ref;\n  invariant(typeof previousRef !== 'string', 'Cannot connect React DnD to an element with an existing string ref. ' + 'Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. ' + 'Read more: https://facebook.github.io/react/docs/more-about-refs.html#the-ref-callback-attribute');\n\n  if (!previousRef) {\n    // When there is no ref on the element, use the new ref directly\n    return cloneElement(element, {\n      ref: newRef\n    });\n  } else {\n    return cloneElement(element, {\n      ref: function ref(node) {\n        setRef(previousRef, node);\n        setRef(newRef, node);\n      }\n    });\n  }\n}","import { isValidElement } from 'react';\nimport { cloneWithRef } from '../utils/cloneWithRef';\n\nfunction throwIfCompositeComponentElement(element) {\n  // Custom components can no longer be wrapped directly in React DnD 2.0\n  // so that we don't need to depend on findDOMNode() from react-dom.\n  if (typeof element.type === 'string') {\n    return;\n  }\n\n  var displayName = element.type.displayName || element.type.name || 'the component';\n  throw new Error('Only native element nodes can now be passed to React DnD connectors.' + \"You can either wrap \".concat(displayName, \" into a <div>, or turn it into a \") + 'drag source or a drop target itself.');\n}\n\nfunction wrapHookToRecognizeElement(hook) {\n  return function () {\n    var elementOrNode = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\n    // When passed a node, call the hook straight away.\n    if (!isValidElement(elementOrNode)) {\n      var node = elementOrNode;\n      hook(node, options); // return the node so it can be chained (e.g. when within callback refs\n      // <div ref={node => connectDragSource(connectDropTarget(node))}/>\n\n      return node;\n    } // If passed a ReactElement, clone it and attach this function as a ref.\n    // This helps us achieve a neat API where user doesn't even know that refs\n    // are being used under the hood.\n\n\n    var element = elementOrNode;\n    throwIfCompositeComponentElement(element); // When no options are passed, use the hook directly\n\n    var ref = options ? function (node) {\n      return hook(node, options);\n    } : hook;\n    return cloneWithRef(element, ref);\n  };\n}\n\nexport function wrapConnectorHooks(hooks) {\n  var wrappedHooks = {};\n  Object.keys(hooks).forEach(function (key) {\n    var hook = hooks[key]; // ref objects should be passed straight through without wrapping\n\n    if (key.endsWith('Ref')) {\n      wrappedHooks[key] = hooks[key];\n    } else {\n      var wrappedHook = wrapHookToRecognizeElement(hook);\n\n      wrappedHooks[key] = function () {\n        return wrappedHook;\n      };\n    }\n  });\n  return wrappedHooks;\n}","function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nexport function isRef(obj) {\n  return (// eslint-disable-next-line no-prototype-builtins\n    obj !== null && _typeof(obj) === 'object' && Object.prototype.hasOwnProperty.call(obj, 'current')\n  );\n}","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nimport { shallowEqual } from '@react-dnd/shallowequal';\nimport { wrapConnectorHooks } from './wrapConnectorHooks';\nimport { isRef } from '../utils/isRef';\nexport var TargetConnector = /*#__PURE__*/function () {\n  function TargetConnector(backend) {\n    var _this = this;\n\n    _classCallCheck(this, TargetConnector);\n\n    this.hooks = wrapConnectorHooks({\n      dropTarget: function dropTarget(node, options) {\n        _this.clearDropTarget();\n\n        _this.dropTargetOptions = options;\n\n        if (isRef(node)) {\n          _this.dropTargetRef = node;\n        } else {\n          _this.dropTargetNode = node;\n        }\n\n        _this.reconnect();\n      }\n    });\n    this.handlerId = null; // The drop target may either be attached via ref or connect function\n\n    this.dropTargetRef = null;\n    this.dropTargetOptionsInternal = null;\n    this.lastConnectedHandlerId = null;\n    this.lastConnectedDropTarget = null;\n    this.lastConnectedDropTargetOptions = null;\n    this.backend = backend;\n  }\n\n  _createClass(TargetConnector, [{\n    key: \"reconnect\",\n    value: function reconnect() {\n      // if nothing has changed then don't resubscribe\n      var didChange = this.didHandlerIdChange() || this.didDropTargetChange() || this.didOptionsChange();\n\n      if (didChange) {\n        this.disconnectDropTarget();\n      }\n\n      var dropTarget = this.dropTarget;\n\n      if (!this.handlerId) {\n        return;\n      }\n\n      if (!dropTarget) {\n        this.lastConnectedDropTarget = dropTarget;\n        return;\n      }\n\n      if (didChange) {\n        this.lastConnectedHandlerId = this.handlerId;\n        this.lastConnectedDropTarget = dropTarget;\n        this.lastConnectedDropTargetOptions = this.dropTargetOptions;\n        this.unsubscribeDropTarget = this.backend.connectDropTarget(this.handlerId, dropTarget, this.dropTargetOptions);\n      }\n    }\n  }, {\n    key: \"receiveHandlerId\",\n    value: function receiveHandlerId(newHandlerId) {\n      if (newHandlerId === this.handlerId) {\n        return;\n      }\n\n      this.handlerId = newHandlerId;\n      this.reconnect();\n    }\n  }, {\n    key: \"didHandlerIdChange\",\n    value: function didHandlerIdChange() {\n      return this.lastConnectedHandlerId !== this.handlerId;\n    }\n  }, {\n    key: \"didDropTargetChange\",\n    value: function didDropTargetChange() {\n      return this.lastConnectedDropTarget !== this.dropTarget;\n    }\n  }, {\n    key: \"didOptionsChange\",\n    value: function didOptionsChange() {\n      return !shallowEqual(this.lastConnectedDropTargetOptions, this.dropTargetOptions);\n    }\n  }, {\n    key: \"disconnectDropTarget\",\n    value: function disconnectDropTarget() {\n      if (this.unsubscribeDropTarget) {\n        this.unsubscribeDropTarget();\n        this.unsubscribeDropTarget = undefined;\n      }\n    }\n  }, {\n    key: \"clearDropTarget\",\n    value: function clearDropTarget() {\n      this.dropTargetRef = null;\n      this.dropTargetNode = null;\n    }\n  }, {\n    key: \"connectTarget\",\n    get: function get() {\n      return this.dropTarget;\n    }\n  }, {\n    key: \"dropTargetOptions\",\n    get: function get() {\n      return this.dropTargetOptionsInternal;\n    },\n    set: function set(options) {\n      this.dropTargetOptionsInternal = options;\n    }\n  }, {\n    key: \"dropTarget\",\n    get: function get() {\n      return this.dropTargetNode || this.dropTargetRef && this.dropTargetRef.current;\n    }\n  }]);\n\n  return TargetConnector;\n}();","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nimport { invariant } from '@react-dnd/invariant';\nvar isCallingCanDrop = false;\nexport var DropTargetMonitorImpl = /*#__PURE__*/function () {\n  function DropTargetMonitorImpl(manager) {\n    _classCallCheck(this, DropTargetMonitorImpl);\n\n    this.targetId = null;\n    this.internalMonitor = manager.getMonitor();\n  }\n\n  _createClass(DropTargetMonitorImpl, [{\n    key: \"receiveHandlerId\",\n    value: function receiveHandlerId(targetId) {\n      this.targetId = targetId;\n    }\n  }, {\n    key: \"getHandlerId\",\n    value: function getHandlerId() {\n      return this.targetId;\n    }\n  }, {\n    key: \"subscribeToStateChange\",\n    value: function subscribeToStateChange(listener, options) {\n      return this.internalMonitor.subscribeToStateChange(listener, options);\n    }\n  }, {\n    key: \"canDrop\",\n    value: function canDrop() {\n      // Cut out early if the target id has not been set. This should prevent errors\n      // where the user has an older version of dnd-core like in\n      // https://github.com/react-dnd/react-dnd/issues/1310\n      if (!this.targetId) {\n        return false;\n      }\n\n      invariant(!isCallingCanDrop, 'You may not call monitor.canDrop() inside your canDrop() implementation. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor');\n\n      try {\n        isCallingCanDrop = true;\n        return this.internalMonitor.canDropOnTarget(this.targetId);\n      } finally {\n        isCallingCanDrop = false;\n      }\n    }\n  }, {\n    key: \"isOver\",\n    value: function isOver(options) {\n      if (!this.targetId) {\n        return false;\n      }\n\n      return this.internalMonitor.isOverTarget(this.targetId, options);\n    }\n  }, {\n    key: \"getItemType\",\n    value: function getItemType() {\n      return this.internalMonitor.getItemType();\n    }\n  }, {\n    key: \"getItem\",\n    value: function getItem() {\n      return this.internalMonitor.getItem();\n    }\n  }, {\n    key: \"getDropResult\",\n    value: function getDropResult() {\n      return this.internalMonitor.getDropResult();\n    }\n  }, {\n    key: \"didDrop\",\n    value: function didDrop() {\n      return this.internalMonitor.didDrop();\n    }\n  }, {\n    key: \"getInitialClientOffset\",\n    value: function getInitialClientOffset() {\n      return this.internalMonitor.getInitialClientOffset();\n    }\n  }, {\n    key: \"getInitialSourceClientOffset\",\n    value: function getInitialSourceClientOffset() {\n      return this.internalMonitor.getInitialSourceClientOffset();\n    }\n  }, {\n    key: \"getSourceClientOffset\",\n    value: function getSourceClientOffset() {\n      return this.internalMonitor.getSourceClientOffset();\n    }\n  }, {\n    key: \"getClientOffset\",\n    value: function getClientOffset() {\n      return this.internalMonitor.getClientOffset();\n    }\n  }, {\n    key: \"getDifferenceFromInitialOffset\",\n    value: function getDifferenceFromInitialOffset() {\n      return this.internalMonitor.getDifferenceFromInitialOffset();\n    }\n  }]);\n\n  return DropTargetMonitorImpl;\n}();","export function getDecoratedComponent(instanceRef) {\n  var currentRef = instanceRef.current;\n\n  if (currentRef == null) {\n    return null;\n  } else if (currentRef.decoratedRef) {\n    // go through the private field in decorateHandler to avoid the invariant hit\n    return currentRef.decoratedRef.current;\n  } else {\n    return currentRef;\n  }\n}\nexport function isClassComponent(Component) {\n  return Component && Component.prototype && typeof Component.prototype.render === 'function';\n}\nexport function isRefForwardingComponent(C) {\n  var _item$$$typeof;\n\n  var item = C;\n  return (item === null || item === void 0 ? void 0 : (_item$$$typeof = item.$$typeof) === null || _item$$$typeof === void 0 ? void 0 : _item$$$typeof.toString()) === 'Symbol(react.forward_ref)';\n}\nexport function isRefable(C) {\n  return isClassComponent(C) || isRefForwardingComponent(C);\n}\nexport function checkDecoratorArguments(functionName, signature) {\n  if (process.env.NODE_ENV !== 'production') {\n    for (var i = 0; i < (arguments.length <= 2 ? 0 : arguments.length - 2); i++) {\n      var arg = i + 2 < 2 || arguments.length <= i + 2 ? undefined : arguments[i + 2];\n\n      if (arg && arg.prototype && arg.prototype.render) {\n        // eslint-disable-next-line no-console\n        console.error('You seem to be applying the arguments in the wrong order. ' + \"It should be \".concat(functionName, \"(\").concat(signature, \")(Component), not the other way around. \") + 'Read more: http://react-dnd.github.io/react-dnd/docs/troubleshooting#you-seem-to-be-applying-the-arguments-in-the-wrong-order');\n        return;\n      }\n    }\n  }\n}","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nimport { isFunction, noop } from '../utils/js_utils';\n/**\n * Provides a set of static methods for creating Disposables.\n * @param {Function} action Action to run during the first call to dispose.\n * The action is guaranteed to be run at most once.\n */\n\nvar Disposable =\n/** @class */\nfunction () {\n  var Disposable = /*#__PURE__*/function () {\n    function Disposable(action) {\n      _classCallCheck(this, Disposable);\n\n      this.isDisposed = false;\n      this.action = isFunction(action) ? action : noop;\n    }\n    /**\n     * Validates whether the given object is a disposable\n     * @param {Object} Object to test whether it has a dispose method\n     * @returns {Boolean} true if a disposable object, else false.\n     */\n\n\n    _createClass(Disposable, [{\n      key: \"dispose\",\n\n      /** Performs the task of cleaning up resources. */\n      value: function dispose() {\n        if (!this.isDisposed) {\n          this.action();\n          this.isDisposed = true;\n        }\n      }\n    }], [{\n      key: \"isDisposable\",\n      value: function isDisposable(d) {\n        return Boolean(d && isFunction(d.dispose));\n      }\n    }, {\n      key: \"_fixup\",\n      value: function _fixup(result) {\n        return Disposable.isDisposable(result) ? result : Disposable.empty;\n      }\n      /**\n       * Creates a disposable object that invokes the specified action when disposed.\n       * @param {Function} dispose Action to run during the first call to dispose.\n       * The action is guaranteed to be run at most once.\n       * @return {Disposable} The disposable object that runs the given action upon disposal.\n       */\n\n    }, {\n      key: \"create\",\n      value: function create(action) {\n        return new Disposable(action);\n      }\n    }]);\n\n    return Disposable;\n  }();\n  /**\n   * Gets the disposable that does nothing when disposed.\n   */\n\n\n  Disposable.empty = {\n    dispose: noop\n  };\n  return Disposable;\n}();\n\nexport { Disposable };\n/**\n * Represents a group of disposable resources that are disposed together.\n * @constructor\n */\n\nexport var CompositeDisposable = /*#__PURE__*/function () {\n  function CompositeDisposable() {\n    _classCallCheck(this, CompositeDisposable);\n\n    this.isDisposed = false;\n\n    for (var _len = arguments.length, disposables = new Array(_len), _key = 0; _key < _len; _key++) {\n      disposables[_key] = arguments[_key];\n    }\n\n    this.disposables = disposables;\n  }\n  /**\n   * Adds a disposable to the CompositeDisposable or disposes the disposable if the CompositeDisposable is disposed.\n   * @param {Any} item Disposable to add.\n   */\n\n\n  _createClass(CompositeDisposable, [{\n    key: \"add\",\n    value: function add(item) {\n      if (this.isDisposed) {\n        item.dispose();\n      } else {\n        this.disposables.push(item);\n      }\n    }\n    /**\n     * Removes and disposes the first occurrence of a disposable from the CompositeDisposable.\n     * @param {Any} item Disposable to remove.\n     * @returns {Boolean} true if found; false otherwise.\n     */\n\n  }, {\n    key: \"remove\",\n    value: function remove(item) {\n      var shouldDispose = false;\n\n      if (!this.isDisposed) {\n        var idx = this.disposables.indexOf(item);\n\n        if (idx !== -1) {\n          shouldDispose = true;\n          this.disposables.splice(idx, 1);\n          item.dispose();\n        }\n      }\n\n      return shouldDispose;\n    }\n    /**\n     *  Disposes all disposables in the group and removes them from the group but\n     *  does not dispose the CompositeDisposable.\n     */\n\n  }, {\n    key: \"clear\",\n    value: function clear() {\n      if (!this.isDisposed) {\n        var len = this.disposables.length;\n        var currentDisposables = new Array(len);\n\n        for (var i = 0; i < len; i++) {\n          currentDisposables[i] = this.disposables[i];\n        }\n\n        this.disposables = [];\n\n        for (var _i = 0; _i < len; _i++) {\n          currentDisposables[_i].dispose();\n        }\n      }\n    }\n    /**\n     *  Disposes all disposables in the group and removes them from the group.\n     */\n\n  }, {\n    key: \"dispose\",\n    value: function dispose() {\n      if (!this.isDisposed) {\n        this.isDisposed = true;\n        var len = this.disposables.length;\n        var currentDisposables = new Array(len);\n\n        for (var i = 0; i < len; i++) {\n          currentDisposables[i] = this.disposables[i];\n        }\n\n        this.disposables = [];\n\n        for (var _i2 = 0; _i2 < len; _i2++) {\n          currentDisposables[_i2].dispose();\n        }\n      }\n    }\n  }]);\n\n  return CompositeDisposable;\n}();\n/**\n * Represents a disposable resource whose underlying disposable resource can\n * be replaced by another disposable resource, causing automatic disposal of\n * the previous underlying disposable resource.\n */\n\nexport var SerialDisposable = /*#__PURE__*/function () {\n  function SerialDisposable() {\n    _classCallCheck(this, SerialDisposable);\n\n    this.isDisposed = false;\n  }\n  /**\n   * Gets the underlying disposable.\n   * @returns {Any} the underlying disposable.\n   */\n\n\n  _createClass(SerialDisposable, [{\n    key: \"getDisposable\",\n    value: function getDisposable() {\n      return this.current;\n    }\n  }, {\n    key: \"setDisposable\",\n    value: function setDisposable(value) {\n      var shouldDispose = this.isDisposed;\n\n      if (!shouldDispose) {\n        var old = this.current;\n        this.current = value;\n\n        if (old) {\n          old.dispose();\n        }\n      }\n\n      if (shouldDispose && value) {\n        value.dispose();\n      }\n    }\n    /** Performs the task of cleaning up resources. */\n\n  }, {\n    key: \"dispose\",\n    value: function dispose() {\n      if (!this.isDisposed) {\n        this.isDisposed = true;\n        var old = this.current;\n        this.current = undefined;\n\n        if (old) {\n          old.dispose();\n        }\n      }\n    }\n  }]);\n\n  return SerialDisposable;\n}();","function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nimport * as React from 'react';\nimport { shallowEqual } from '@react-dnd/shallowequal';\nimport { invariant } from '@react-dnd/invariant';\nimport hoistStatics from 'hoist-non-react-statics';\nimport { DndContext } from '../common/DndContext';\nimport { isPlainObject } from '../utils/js_utils';\nimport { Disposable, CompositeDisposable, SerialDisposable } from './disposables';\nimport { isRefable } from './utils';\nexport function decorateHandler(_ref) {\n  var DecoratedComponent = _ref.DecoratedComponent,\n      createHandler = _ref.createHandler,\n      createMonitor = _ref.createMonitor,\n      createConnector = _ref.createConnector,\n      registerHandler = _ref.registerHandler,\n      containerDisplayName = _ref.containerDisplayName,\n      getType = _ref.getType,\n      collect = _ref.collect,\n      options = _ref.options;\n  var _options$arePropsEqua = options.arePropsEqual,\n      arePropsEqual = _options$arePropsEqua === void 0 ? shallowEqual : _options$arePropsEqua;\n  var Decorated = DecoratedComponent;\n  var displayName = DecoratedComponent.displayName || DecoratedComponent.name || 'Component';\n\n  var DragDropContainer =\n  /** @class */\n  function () {\n    var DragDropContainer = /*#__PURE__*/function (_React$Component) {\n      _inherits(DragDropContainer, _React$Component);\n\n      var _super = _createSuper(DragDropContainer);\n\n      function DragDropContainer(props) {\n        var _this;\n\n        _classCallCheck(this, DragDropContainer);\n\n        _this = _super.call(this, props);\n        _this.decoratedRef = React.createRef();\n\n        _this.handleChange = function () {\n          var nextState = _this.getCurrentState();\n\n          if (!shallowEqual(nextState, _this.state)) {\n            _this.setState(nextState);\n          }\n        };\n\n        _this.disposable = new SerialDisposable();\n\n        _this.receiveProps(props);\n\n        _this.dispose();\n\n        return _this;\n      }\n\n      _createClass(DragDropContainer, [{\n        key: \"getHandlerId\",\n        value: function getHandlerId() {\n          return this.handlerId;\n        }\n      }, {\n        key: \"getDecoratedComponentInstance\",\n        value: function getDecoratedComponentInstance() {\n          invariant(this.decoratedRef.current, 'In order to access an instance of the decorated component, it must either be a class component or use React.forwardRef()');\n          return this.decoratedRef.current;\n        }\n      }, {\n        key: \"shouldComponentUpdate\",\n        value: function shouldComponentUpdate(nextProps, nextState) {\n          return !arePropsEqual(nextProps, this.props) || !shallowEqual(nextState, this.state);\n        }\n      }, {\n        key: \"componentDidMount\",\n        value: function componentDidMount() {\n          this.disposable = new SerialDisposable();\n          this.currentType = undefined;\n          this.receiveProps(this.props);\n          this.handleChange();\n        }\n      }, {\n        key: \"componentDidUpdate\",\n        value: function componentDidUpdate(prevProps) {\n          if (!arePropsEqual(this.props, prevProps)) {\n            this.receiveProps(this.props);\n            this.handleChange();\n          }\n        }\n      }, {\n        key: \"componentWillUnmount\",\n        value: function componentWillUnmount() {\n          this.dispose();\n        }\n      }, {\n        key: \"receiveProps\",\n        value: function receiveProps(props) {\n          if (!this.handler) {\n            return;\n          }\n\n          this.handler.receiveProps(props);\n          this.receiveType(getType(props));\n        }\n      }, {\n        key: \"receiveType\",\n        value: function receiveType(type) {\n          if (!this.handlerMonitor || !this.manager || !this.handlerConnector) {\n            return;\n          }\n\n          if (type === this.currentType) {\n            return;\n          }\n\n          this.currentType = type;\n\n          var _registerHandler = registerHandler(type, this.handler, this.manager),\n              _registerHandler2 = _slicedToArray(_registerHandler, 2),\n              handlerId = _registerHandler2[0],\n              unregister = _registerHandler2[1];\n\n          this.handlerId = handlerId;\n          this.handlerMonitor.receiveHandlerId(handlerId);\n          this.handlerConnector.receiveHandlerId(handlerId);\n          var globalMonitor = this.manager.getMonitor();\n          var unsubscribe = globalMonitor.subscribeToStateChange(this.handleChange, {\n            handlerIds: [handlerId]\n          });\n          this.disposable.setDisposable(new CompositeDisposable(new Disposable(unsubscribe), new Disposable(unregister)));\n        }\n      }, {\n        key: \"dispose\",\n        value: function dispose() {\n          this.disposable.dispose();\n\n          if (this.handlerConnector) {\n            this.handlerConnector.receiveHandlerId(null);\n          }\n        }\n      }, {\n        key: \"getCurrentState\",\n        value: function getCurrentState() {\n          if (!this.handlerConnector) {\n            return {};\n          }\n\n          var nextState = collect(this.handlerConnector.hooks, this.handlerMonitor, this.props);\n\n          if (process.env.NODE_ENV !== 'production') {\n            invariant(isPlainObject(nextState), 'Expected `collect` specified as the second argument to ' + '%s for %s to return a plain object of props to inject. ' + 'Instead, received %s.', containerDisplayName, displayName, nextState);\n          }\n\n          return nextState;\n        }\n      }, {\n        key: \"render\",\n        value: function render() {\n          var _this2 = this;\n\n          return React.createElement(DndContext.Consumer, null, function (_ref2) {\n            var dragDropManager = _ref2.dragDropManager;\n\n            _this2.receiveDragDropManager(dragDropManager);\n\n            if (typeof requestAnimationFrame !== 'undefined') {\n              requestAnimationFrame(function () {\n                var _this2$handlerConnect;\n\n                return (_this2$handlerConnect = _this2.handlerConnector) === null || _this2$handlerConnect === void 0 ? void 0 : _this2$handlerConnect.reconnect();\n              });\n            }\n\n            return React.createElement(Decorated, Object.assign({}, _this2.props, _this2.getCurrentState(), {\n              // NOTE: if Decorated is a Function Component, decoratedRef will not be populated unless it's a refforwarding component.\n              ref: isRefable(Decorated) ? _this2.decoratedRef : null\n            }));\n          });\n        }\n      }, {\n        key: \"receiveDragDropManager\",\n        value: function receiveDragDropManager(dragDropManager) {\n          if (this.manager !== undefined) {\n            return;\n          }\n\n          invariant(dragDropManager !== undefined, 'Could not find the drag and drop manager in the context of %s. ' + 'Make sure to render a DndProvider component in your top-level component. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/troubleshooting#could-not-find-the-drag-and-drop-manager-in-the-context', displayName, displayName);\n\n          if (dragDropManager === undefined) {\n            return;\n          }\n\n          this.manager = dragDropManager;\n          this.handlerMonitor = createMonitor(dragDropManager);\n          this.handlerConnector = createConnector(dragDropManager.getBackend());\n          this.handler = createHandler(this.handlerMonitor, this.decoratedRef);\n        }\n      }]);\n\n      return DragDropContainer;\n    }(React.Component);\n\n    DragDropContainer.DecoratedComponent = DecoratedComponent;\n    DragDropContainer.displayName = \"\".concat(containerDisplayName, \"(\").concat(displayName, \")\");\n    return DragDropContainer;\n  }();\n\n  return hoistStatics(DragDropContainer, DecoratedComponent);\n}","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nimport { invariant } from '@react-dnd/invariant';\nimport { isPlainObject } from '../utils/js_utils';\nimport { getDecoratedComponent } from './utils';\nvar ALLOWED_SPEC_METHODS = ['canDrop', 'hover', 'drop'];\n\nvar TargetImpl = /*#__PURE__*/function () {\n  function TargetImpl(spec, monitor, ref) {\n    _classCallCheck(this, TargetImpl);\n\n    this.props = null;\n    this.spec = spec;\n    this.monitor = monitor;\n    this.ref = ref;\n  }\n\n  _createClass(TargetImpl, [{\n    key: \"receiveProps\",\n    value: function receiveProps(props) {\n      this.props = props;\n    }\n  }, {\n    key: \"receiveMonitor\",\n    value: function receiveMonitor(monitor) {\n      this.monitor = monitor;\n    }\n  }, {\n    key: \"canDrop\",\n    value: function canDrop() {\n      if (!this.spec.canDrop) {\n        return true;\n      }\n\n      return this.spec.canDrop(this.props, this.monitor);\n    }\n  }, {\n    key: \"hover\",\n    value: function hover() {\n      if (!this.spec.hover || !this.props) {\n        return;\n      }\n\n      this.spec.hover(this.props, this.monitor, getDecoratedComponent(this.ref));\n    }\n  }, {\n    key: \"drop\",\n    value: function drop() {\n      if (!this.spec.drop) {\n        return undefined;\n      }\n\n      var dropResult = this.spec.drop(this.props, this.monitor, this.ref.current);\n\n      if (process.env.NODE_ENV !== 'production') {\n        invariant(typeof dropResult === 'undefined' || isPlainObject(dropResult), 'drop() must either return undefined, or an object that represents the drop result. ' + 'Instead received %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target', dropResult);\n      }\n\n      return dropResult;\n    }\n  }]);\n\n  return TargetImpl;\n}();\n\nexport function createTargetFactory(spec) {\n  Object.keys(spec).forEach(function (key) {\n    invariant(ALLOWED_SPEC_METHODS.indexOf(key) > -1, 'Expected the drop target specification to only have ' + 'some of the following keys: %s. ' + 'Instead received a specification with an unexpected \"%s\" key. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target', ALLOWED_SPEC_METHODS.join(', '), key);\n    invariant(typeof spec[key] === 'function', 'Expected %s in the drop target specification to be a function. ' + 'Instead received a specification with %s: %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target', key, key, spec[key]);\n  });\n  return function createTarget(monitor, ref) {\n    return new TargetImpl(spec, monitor, ref);\n  };\n}","import { invariant } from '@react-dnd/invariant';\nimport { isPlainObject } from '../utils/js_utils';\nimport { registerTarget } from '../common/registration';\nimport { isValidType } from '../utils/isValidType';\nimport { TargetConnector } from '../common/TargetConnector';\nimport { DropTargetMonitorImpl } from '../common/DropTargetMonitorImpl';\nimport { checkDecoratorArguments } from './utils';\nimport { decorateHandler } from './decorateHandler';\nimport { createTargetFactory } from './createTargetFactory';\nexport function DropTarget(type, spec, collect) {\n  var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n  checkDecoratorArguments('DropTarget', 'type, spec, collect[, options]', type, spec, collect, options);\n  var getType = type;\n\n  if (typeof type !== 'function') {\n    invariant(isValidType(type, true), 'Expected \"type\" provided as the first argument to DropTarget to be ' + 'a string, an array of strings, or a function that returns either given ' + 'the current props. Instead, received %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target', type);\n\n    getType = function getType() {\n      return type;\n    };\n  }\n\n  invariant(isPlainObject(spec), 'Expected \"spec\" provided as the second argument to DropTarget to be ' + 'a plain object. Instead, received %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target', spec);\n  var createTarget = createTargetFactory(spec);\n  invariant(typeof collect === 'function', 'Expected \"collect\" provided as the third argument to DropTarget to be ' + 'a function that returns a plain object of props to inject. ' + 'Instead, received %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target', collect);\n  invariant(isPlainObject(options), 'Expected \"options\" provided as the fourth argument to DropTarget to be ' + 'a plain object when specified. ' + 'Instead, received %s. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target', collect);\n  return function decorateTarget(DecoratedComponent) {\n    return decorateHandler({\n      containerDisplayName: 'DropTarget',\n      createHandler: createTarget,\n      registerHandler: registerTarget,\n      createMonitor: function createMonitor(manager) {\n        return new DropTargetMonitorImpl(manager);\n      },\n      createConnector: function createConnector(backend) {\n        return new TargetConnector(backend);\n      },\n      DecoratedComponent: DecoratedComponent,\n      getType: getType,\n      collect: collect,\n      options: options\n    });\n  };\n}","import _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"@babel/runtime/helpers/esm/createSuper\";\nvar _excluded = [\"getContainer\"];\nimport * as React from 'react';\nimport { Component } from 'react';\nimport { render, unmount } from \"rc-util/es/React/render\";\nimport classNames from 'classnames';\nimport { CSSMotionList } from 'rc-motion';\nimport Notice from './Notice';\nimport _useNotification from './useNotification';\nvar seed = 0;\nvar now = Date.now();\nfunction getUuid() {\n  var id = seed;\n  seed += 1;\n  return \"rcNotification_\".concat(now, \"_\").concat(id);\n}\nvar Notification = /*#__PURE__*/function (_Component) {\n  _inherits(Notification, _Component);\n  var _super = _createSuper(Notification);\n  function Notification() {\n    var _this;\n    _classCallCheck(this, Notification);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this.state = {\n      notices: []\n    };\n    _this.hookRefs = new Map();\n    _this.add = function (originNotice, holderCallback) {\n      var _originNotice$key;\n      var key = (_originNotice$key = originNotice.key) !== null && _originNotice$key !== void 0 ? _originNotice$key : getUuid();\n      var notice = _objectSpread(_objectSpread({}, originNotice), {}, {\n        key: key\n      });\n      var maxCount = _this.props.maxCount;\n      _this.setState(function (previousState) {\n        var notices = previousState.notices;\n        var noticeIndex = notices.map(function (v) {\n          return v.notice.key;\n        }).indexOf(key);\n        var updatedNotices = notices.concat();\n        if (noticeIndex !== -1) {\n          updatedNotices.splice(noticeIndex, 1, {\n            notice: notice,\n            holderCallback: holderCallback\n          });\n        } else {\n          if (maxCount && notices.length >= maxCount) {\n            // XXX, use key of first item to update new added (let React to move exsiting\n            // instead of remove and mount). Same key was used before for both a) external\n            // manual control and b) internal react 'key' prop , which is not that good.\n            // eslint-disable-next-line no-param-reassign\n            // zombieJ: Not know why use `updateKey`. This makes Notice infinite loop in jest.\n            // Change to `updateMark` for compare instead.\n            // https://github.com/react-component/notification/commit/32299e6be396f94040bfa82517eea940db947ece\n            notice.key = updatedNotices[0].notice.key;\n            notice.updateMark = getUuid();\n            // zombieJ: That's why. User may close by key directly.\n            // We need record this but not re-render to avoid upper issue\n            // https://github.com/react-component/notification/issues/129\n            notice.userPassKey = key;\n            updatedNotices.shift();\n          }\n          updatedNotices.push({\n            notice: notice,\n            holderCallback: holderCallback\n          });\n        }\n        return {\n          notices: updatedNotices\n        };\n      });\n    };\n    _this.remove = function (removeKey) {\n      _this.setState(function (_ref) {\n        var notices = _ref.notices;\n        return {\n          notices: notices.filter(function (_ref2) {\n            var _ref2$notice = _ref2.notice,\n              key = _ref2$notice.key,\n              userPassKey = _ref2$notice.userPassKey;\n            var mergedKey = userPassKey !== null && userPassKey !== void 0 ? userPassKey : key;\n            return mergedKey !== removeKey;\n          })\n        };\n      });\n    };\n    _this.noticePropsMap = {};\n    return _this;\n  }\n  _createClass(Notification, [{\n    key: \"getTransitionName\",\n    value: function getTransitionName() {\n      var _this$props = this.props,\n        prefixCls = _this$props.prefixCls,\n        animation = _this$props.animation;\n      var transitionName = this.props.transitionName;\n      if (!transitionName && animation) {\n        transitionName = \"\".concat(prefixCls, \"-\").concat(animation);\n      }\n      return transitionName;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n      var notices = this.state.notices;\n      var _this$props2 = this.props,\n        prefixCls = _this$props2.prefixCls,\n        className = _this$props2.className,\n        closeIcon = _this$props2.closeIcon,\n        style = _this$props2.style;\n      var noticeKeys = [];\n      notices.forEach(function (_ref3, index) {\n        var notice = _ref3.notice,\n          holderCallback = _ref3.holderCallback;\n        var updateMark = index === notices.length - 1 ? notice.updateMark : undefined;\n        var key = notice.key,\n          userPassKey = notice.userPassKey;\n        var noticeProps = _objectSpread(_objectSpread(_objectSpread({\n          prefixCls: prefixCls,\n          closeIcon: closeIcon\n        }, notice), notice.props), {}, {\n          key: key,\n          noticeKey: userPassKey || key,\n          updateMark: updateMark,\n          onClose: function onClose(noticeKey) {\n            var _notice$onClose;\n            _this2.remove(noticeKey);\n            (_notice$onClose = notice.onClose) === null || _notice$onClose === void 0 ? void 0 : _notice$onClose.call(notice);\n          },\n          onClick: notice.onClick,\n          children: notice.content\n        });\n        // Give to motion\n        noticeKeys.push(key);\n        _this2.noticePropsMap[key] = {\n          props: noticeProps,\n          holderCallback: holderCallback\n        };\n      });\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: classNames(prefixCls, className),\n        style: style\n      }, /*#__PURE__*/React.createElement(CSSMotionList, {\n        keys: noticeKeys,\n        motionName: this.getTransitionName(),\n        onVisibleChanged: function onVisibleChanged(changedVisible, _ref4) {\n          var key = _ref4.key;\n          if (!changedVisible) {\n            delete _this2.noticePropsMap[key];\n          }\n        }\n      }, function (_ref5) {\n        var key = _ref5.key,\n          motionClassName = _ref5.className,\n          motionStyle = _ref5.style,\n          visible = _ref5.visible;\n        var _this2$noticePropsMap = _this2.noticePropsMap[key],\n          noticeProps = _this2$noticePropsMap.props,\n          holderCallback = _this2$noticePropsMap.holderCallback;\n        if (holderCallback) {\n          return /*#__PURE__*/React.createElement(\"div\", {\n            key: key,\n            className: classNames(motionClassName, \"\".concat(prefixCls, \"-hook-holder\")),\n            style: _objectSpread({}, motionStyle),\n            ref: function ref(div) {\n              if (typeof key === 'undefined') {\n                return;\n              }\n              if (div) {\n                _this2.hookRefs.set(key, div);\n                holderCallback(div, noticeProps);\n              } else {\n                _this2.hookRefs.delete(key);\n              }\n            }\n          });\n        }\n        return /*#__PURE__*/React.createElement(Notice, _extends({}, noticeProps, {\n          className: classNames(motionClassName, noticeProps === null || noticeProps === void 0 ? void 0 : noticeProps.className),\n          style: _objectSpread(_objectSpread({}, motionStyle), noticeProps === null || noticeProps === void 0 ? void 0 : noticeProps.style),\n          visible: visible\n        }));\n      }));\n    }\n  }]);\n  return Notification;\n}(Component);\nNotification.newInstance = void 0;\nNotification.defaultProps = {\n  prefixCls: 'rc-notification',\n  animation: 'fade',\n  style: {\n    top: 65,\n    left: '50%'\n  }\n};\nNotification.newInstance = function newNotificationInstance(properties, callback) {\n  var _ref6 = properties || {},\n    getContainer = _ref6.getContainer,\n    props = _objectWithoutProperties(_ref6, _excluded);\n  var div = document.createElement('div');\n  if (getContainer) {\n    var root = getContainer();\n    root.appendChild(div);\n  } else {\n    document.body.appendChild(div);\n  }\n  var called = false;\n  function ref(notification) {\n    if (called) {\n      return;\n    }\n    called = true;\n    callback({\n      notice: function notice(noticeProps) {\n        notification.add(noticeProps);\n      },\n      removeNotice: function removeNotice(key) {\n        notification.remove(key);\n      },\n      component: notification,\n      destroy: function destroy() {\n        unmount(div);\n        if (div.parentNode) {\n          div.parentNode.removeChild(div);\n        }\n      },\n      // Hooks\n      useNotification: function useNotification() {\n        return _useNotification(notification);\n      }\n    });\n  }\n  // Only used for test case usage\n  if (process.env.NODE_ENV === 'test' && properties.TEST_RENDER) {\n    properties.TEST_RENDER( /*#__PURE__*/React.createElement(Notification, _extends({}, props, {\n      ref: ref\n    })));\n    return;\n  }\n  render( /*#__PURE__*/React.createElement(Notification, _extends({}, props, {\n    ref: ref\n  })), div);\n};\nexport default Notification;","import Notification from './Notification';\nexport default Notification;","// This icon file is generated automatically.\nvar CheckCircleOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M699 353h-46.9c-10.2 0-19.9 4.9-25.9 13.3L469 584.3l-71.2-98.8c-6-8.3-15.6-13.3-25.9-13.3H325c-6.5 0-10.3 7.4-6.5 12.7l124.6 172.8a31.8 31.8 0 0051.7 0l210.6-292c3.9-5.3.1-12.7-6.4-12.7z\" } }, { \"tag\": \"path\", \"attrs\": { \"d\": \"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z\" } }] }, \"name\": \"check-circle\", \"theme\": \"outlined\" };\nexport default CheckCircleOutlined;\n","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport CheckCircleOutlinedSvg from \"@ant-design/icons-svg/es/asn/CheckCircleOutlined\";\nimport AntdIcon from '../components/AntdIcon';\nvar CheckCircleOutlined = function CheckCircleOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _objectSpread(_objectSpread({}, props), {}, {\n    ref: ref,\n    icon: CheckCircleOutlinedSvg\n  }));\n};\nCheckCircleOutlined.displayName = 'CheckCircleOutlined';\nexport default /*#__PURE__*/React.forwardRef(CheckCircleOutlined);","// This icon file is generated automatically.\nvar InfoCircleOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z\" } }, { \"tag\": \"path\", \"attrs\": { \"d\": \"M464 336a48 48 0 1096 0 48 48 0 10-96 0zm72 112h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V456c0-4.4-3.6-8-8-8z\" } }] }, \"name\": \"info-circle\", \"theme\": \"outlined\" };\nexport default InfoCircleOutlined;\n","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport InfoCircleOutlinedSvg from \"@ant-design/icons-svg/es/asn/InfoCircleOutlined\";\nimport AntdIcon from '../components/AntdIcon';\nvar InfoCircleOutlined = function InfoCircleOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _objectSpread(_objectSpread({}, props), {}, {\n    ref: ref,\n    icon: InfoCircleOutlinedSvg\n  }));\n};\nInfoCircleOutlined.displayName = 'InfoCircleOutlined';\nexport default /*#__PURE__*/React.forwardRef(InfoCircleOutlined);","// This icon file is generated automatically.\nvar CloseCircleOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M685.4 354.8c0-4.4-3.6-8-8-8l-66 .3L512 465.6l-99.3-118.4-66.1-.3c-4.4 0-8 3.5-8 8 0 1.9.7 3.7 1.9 5.2l130.1 155L340.5 670a8.32 8.32 0 00-1.9 5.2c0 4.4 3.6 8 8 8l66.1-.3L512 564.4l99.3 118.4 66 .3c4.4 0 8-3.5 8-8 0-1.9-.7-3.7-1.9-5.2L553.5 515l130.1-155c1.2-1.4 1.8-3.3 1.8-5.2z\" } }, { \"tag\": \"path\", \"attrs\": { \"d\": \"M512 65C264.6 65 64 265.6 64 513s200.6 448 448 448 448-200.6 448-448S759.4 65 512 65zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z\" } }] }, \"name\": \"close-circle\", \"theme\": \"outlined\" };\nexport default CloseCircleOutlined;\n","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport CloseCircleOutlinedSvg from \"@ant-design/icons-svg/es/asn/CloseCircleOutlined\";\nimport AntdIcon from '../components/AntdIcon';\nvar CloseCircleOutlined = function CloseCircleOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _objectSpread(_objectSpread({}, props), {}, {\n    ref: ref,\n    icon: CloseCircleOutlinedSvg\n  }));\n};\nCloseCircleOutlined.displayName = 'CloseCircleOutlined';\nexport default /*#__PURE__*/React.forwardRef(CloseCircleOutlined);","// This icon file is generated automatically.\nvar ExclamationCircleOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z\" } }, { \"tag\": \"path\", \"attrs\": { \"d\": \"M464 688a48 48 0 1096 0 48 48 0 10-96 0zm24-112h48c4.4 0 8-3.6 8-8V296c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8z\" } }] }, \"name\": \"exclamation-circle\", \"theme\": \"outlined\" };\nexport default ExclamationCircleOutlined;\n","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport ExclamationCircleOutlinedSvg from \"@ant-design/icons-svg/es/asn/ExclamationCircleOutlined\";\nimport AntdIcon from '../components/AntdIcon';\nvar ExclamationCircleOutlined = function ExclamationCircleOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _objectSpread(_objectSpread({}, props), {}, {\n    ref: ref,\n    icon: ExclamationCircleOutlinedSvg\n  }));\n};\nExclamationCircleOutlined.displayName = 'ExclamationCircleOutlined';\nexport default /*#__PURE__*/React.forwardRef(ExclamationCircleOutlined);","\"use strict\";\n\nvar _require = require('./Draggable'),\n    Draggable = _require.default,\n    DraggableCore = _require.DraggableCore; // Previous versions of this lib exported <Draggable> as the root export. As to no-// them, or TypeScript, we export *both* as the root and as 'default'.\n// See https://github.com/mzabriskie/react-draggable/pull/254\n// and https://github.com/mzabriskie/react-draggable/issues/266\n\n\nmodule.exports = Draggable;\nmodule.exports.default = Draggable;\nmodule.exports.DraggableCore = DraggableCore;","import ActionType from './type';\n\nexport const selectFact = (index) => ({\n    type: ActionType.SELECT_FACT,\n    index\n})\n\nexport const changeMethod = (method) => ({\n    type: ActionType.CHANGE_METHOD,\n    method,\n})\n\nexport const setStoryParameter = (maxStoryLength, information, chartDiversity, timeLimit) => ({\n    type: ActionType.SET_STORY_PARAMETER,\n    maxStoryLength,\n    information,\n    chartDiversity,\n    timeLimit,\n})\n\nexport const setRewardWeight = (logicality, diversity, integrity) => ({\n    type: ActionType.SET_REWARD_WEIGHT,\n    logicality,\n    diversity,\n    integrity,\n})\n\nexport const setAggregationLevel = (level) => ({\n    type: ActionType.SET_AGGREGATION_LEVEL,\n    level,\n})\n\nexport const generateStory = (facts, relations, coverage) => ({\n    type: ActionType.GENERATE_STORY,\n    facts,\n    relations,\n    coverage,\n})\nexport const updateProgress = (totalLength, currentLength) => (\n    {\n        type: ActionType.UPDATE_PROGRESS,\n        totalLength,\n        currentLength\n    }\n)\nexport const exportPdf = (isExportPdf) => (\n    {\n        type: ActionType.EXPORT_PDF,\n        isExportPdf\n    }\n)\nexport const changeTitle = (title) => ({\n    type: ActionType.CHANGE_TITLE,\n    title,\n})\nexport const updateCommentStoryInfo = (facts, relations, data, schema, title, fileName, storyParameter, aggregationLevel, resultCoverage) => ({\n    type: ActionType.UPDATE_COMMENT_STORY_INFO,\n    facts,\n    relations,\n    data,\n    schema,\n    title,\n    storyParameter,\n    aggregationLevel,\n    resultCoverage,\n    fileName\n})\nexport const updateUUID = (uuid) => ({\n    type: ActionType.UPDATE_UUID,\n    uuid,\n})\n\n\nexport const updateFileAndData = (schema,data,file_url) => ({\n    type: ActionType.UPDATE_FILEURL_AND_DATA,\n    schema,\n    data,\n    file_url\n})\n\n","\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"DraggableCore\", {\n  enumerable: true,\n  get: function get() {\n    return _DraggableCore.default;\n  }\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _reactDom = _interopRequireDefault(require(\"react-dom\"));\n\nvar _clsx2 = _interopRequireDefault(require(\"clsx\"));\n\nvar _domFns = require(\"./utils/domFns\");\n\nvar _positionFns = require(\"./utils/positionFns\");\n\nvar _shims = require(\"./utils/shims\");\n\nvar _DraggableCore = _interopRequireDefault(require(\"./DraggableCore\"));\n\nvar _log = _interopRequireDefault(require(\"./utils/log\"));\n\nvar _excluded = [\"axis\", \"bounds\", \"children\", \"defaultPosition\", \"defaultClassName\", \"defaultClassNameDragging\", \"defaultClassNameDragged\", \"position\", \"positionOffset\", \"scale\"];\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n//\n// Define <Draggable>\n//\nvar Draggable = /*#__PURE__*/function (_React$Component) {\n  _inherits(Draggable, _React$Component);\n\n  var _super = _createSuper(Draggable);\n\n  function Draggable(props\n  /*: DraggableProps*/\n  ) {\n    var _this;\n\n    _classCallCheck(this, Draggable);\n\n    _this = _super.call(this, props);\n\n    _defineProperty(_assertThisInitialized(_this), \"onDragStart\", function (e, coreData) {\n      (0, _log.default)('Draggable: onDragStart: %j', coreData); // Short-circuit if user's callback killed it.\n\n      var shouldStart = _this.props.onStart(e, (0, _positionFns.createDraggableData)(_assertThisInitialized(_this), coreData)); // Kills start event on core as well, so move handlers are never bound.\n\n\n      if (shouldStart === false) return false;\n\n      _this.setState({\n        dragging: true,\n        dragged: true\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onDrag\", function (e, coreData) {\n      if (!_this.state.dragging) return false;\n      (0, _log.default)('Draggable: onDrag: %j', coreData);\n      var uiData = (0, _positionFns.createDraggableData)(_assertThisInitialized(_this), coreData);\n      var newState\n      /*: $Shape<DraggableState>*/\n      = {\n        x: uiData.x,\n        y: uiData.y\n      }; // Keep within bounds.\n\n      if (_this.props.bounds) {\n        // Save original x and y.\n        var x = newState.x,\n            y = newState.y; // Add slack to the values used to calculate bound position. This will ensure that if\n        // we start removing slack, the element won't react to it right away until it's been\n        // completely removed.\n\n        newState.x += _this.state.slackX;\n        newState.y += _this.state.slackY; // Get bound position. This will ceil/floor the x and y within the boundaries.\n\n        var _getBoundPosition = (0, _positionFns.getBoundPosition)(_assertThisInitialized(_this), newState.x, newState.y),\n            _getBoundPosition2 = _slicedToArray(_getBoundPosition, 2),\n            newStateX = _getBoundPosition2[0],\n            newStateY = _getBoundPosition2[1];\n\n        newState.x = newStateX;\n        newState.y = newStateY; // Recalculate slack by noting how much was shaved by the boundPosition handler.\n\n        newState.slackX = _this.state.slackX + (x - newState.x);\n        newState.slackY = _this.state.slackY + (y - newState.y); // Update the event we fire to reflect what really happened after bounds took effect.\n\n        uiData.x = newState.x;\n        uiData.y = newState.y;\n        uiData.deltaX = newState.x - _this.state.x;\n        uiData.deltaY = newState.y - _this.state.y;\n      } // Short-circuit if user's callback killed it.\n\n\n      var shouldUpdate = _this.props.onDrag(e, uiData);\n\n      if (shouldUpdate === false) return false;\n\n      _this.setState(newState);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onDragStop\", function (e, coreData) {\n      if (!_this.state.dragging) return false; // Short-circuit if user's callback killed it.\n\n      var shouldContinue = _this.props.onStop(e, (0, _positionFns.createDraggableData)(_assertThisInitialized(_this), coreData));\n\n      if (shouldContinue === false) return false;\n      (0, _log.default)('Draggable: onDragStop: %j', coreData);\n      var newState\n      /*: $Shape<DraggableState>*/\n      = {\n        dragging: false,\n        slackX: 0,\n        slackY: 0\n      }; // If this is a controlled component, the result of this operation will be to\n      // revert back to the old position. We expect a handler on `onDragStop`, at the least.\n\n      var controlled = Boolean(_this.props.position);\n\n      if (controlled) {\n        var _this$props$position = _this.props.position,\n            x = _this$props$position.x,\n            y = _this$props$position.y;\n        newState.x = x;\n        newState.y = y;\n      }\n\n      _this.setState(newState);\n    });\n\n    _this.state = {\n      // Whether or not we are currently dragging.\n      dragging: false,\n      // Whether or not we have been dragged before.\n      dragged: false,\n      // Current transform x and y.\n      x: props.position ? props.position.x : props.defaultPosition.x,\n      y: props.position ? props.position.y : props.defaultPosition.y,\n      prevPropsPosition: _objectSpread({}, props.position),\n      // Used for compensating for out-of-bounds drags\n      slackX: 0,\n      slackY: 0,\n      // Can only determine if SVG after mounting\n      isElementSVG: false\n    };\n\n    if (props.position && !(props.onDrag || props.onStop)) {\n      // eslint-disable-next-line no-console\n      console.warn('A `position` was applied to this <Draggable>, without drag handlers. This will make this ' + 'component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the ' + '`position` of this element.');\n    }\n\n    return _this;\n  }\n\n  _createClass(Draggable, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      // Check to see if the element passed is an instanceof SVGElement\n      if (typeof window.SVGElement !== 'undefined' && this.findDOMNode() instanceof window.SVGElement) {\n        this.setState({\n          isElementSVG: true\n        });\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.setState({\n        dragging: false\n      }); // prevents invariant if unmounted while dragging\n    } // React Strict Mode compatibility: if `nodeRef` is passed, we will use it instead of trying to find\n    // the underlying DOM node ourselves. See the README for more information.\n\n  }, {\n    key: \"findDOMNode\",\n    value: function findDOMNode()\n    /*: ?HTMLElement*/\n    {\n      var _this$props$nodeRef$c, _this$props, _this$props$nodeRef;\n\n      return (_this$props$nodeRef$c = (_this$props = this.props) === null || _this$props === void 0 ? void 0 : (_this$props$nodeRef = _this$props.nodeRef) === null || _this$props$nodeRef === void 0 ? void 0 : _this$props$nodeRef.current) !== null && _this$props$nodeRef$c !== void 0 ? _this$props$nodeRef$c : _reactDom.default.findDOMNode(this);\n    }\n  }, {\n    key: \"render\",\n    value: function render()\n    /*: ReactElement<any>*/\n    {\n      var _clsx;\n\n      var _this$props2 = this.props,\n          axis = _this$props2.axis,\n          bounds = _this$props2.bounds,\n          children = _this$props2.children,\n          defaultPosition = _this$props2.defaultPosition,\n          defaultClassName = _this$props2.defaultClassName,\n          defaultClassNameDragging = _this$props2.defaultClassNameDragging,\n          defaultClassNameDragged = _this$props2.defaultClassNameDragged,\n          position = _this$props2.position,\n          positionOffset = _this$props2.positionOffset,\n          scale = _this$props2.scale,\n          draggableCoreProps = _objectWithoutProperties(_this$props2, _excluded);\n\n      var style = {};\n      var svgTransform = null; // If this is controlled, we don't want to move it - unless it's dragging.\n\n      var controlled = Boolean(position);\n      var draggable = !controlled || this.state.dragging;\n      var validPosition = position || defaultPosition;\n      var transformOpts = {\n        // Set left if horizontal drag is enabled\n        x: (0, _positionFns.canDragX)(this) && draggable ? this.state.x : validPosition.x,\n        // Set top if vertical drag is enabled\n        y: (0, _positionFns.canDragY)(this) && draggable ? this.state.y : validPosition.y\n      }; // If this element was SVG, we use the `transform` attribute.\n\n      if (this.state.isElementSVG) {\n        svgTransform = (0, _domFns.createSVGTransform)(transformOpts, positionOffset);\n      } else {\n        // Add a CSS transform to move the element around. This allows us to move the element around\n        // without worrying about whether or not it is relatively or absolutely positioned.\n        // If the item you are dragging already has a transform set, wrap it in a <span> so <Draggable>\n        // has a clean slate.\n        style = (0, _domFns.createCSSTransform)(transformOpts, positionOffset);\n      } // Mark with class while dragging\n\n\n      var className = (0, _clsx2.default)(children.props.className || '', defaultClassName, (_clsx = {}, _defineProperty(_clsx, defaultClassNameDragging, this.state.dragging), _defineProperty(_clsx, defaultClassNameDragged, this.state.dragged), _clsx)); // Reuse the child provided\n      // This makes it flexible to use whatever element is wanted (div, ul, etc)\n\n      return /*#__PURE__*/React.createElement(_DraggableCore.default, _extends({}, draggableCoreProps, {\n        onStart: this.onDragStart,\n        onDrag: this.onDrag,\n        onStop: this.onDragStop\n      }), /*#__PURE__*/React.cloneElement(React.Children.only(children), {\n        className: className,\n        style: _objectSpread(_objectSpread({}, children.props.style), style),\n        transform: svgTransform\n      }));\n    }\n  }], [{\n    key: \"getDerivedStateFromProps\",\n    value: // React 16.3+\n    // Arity (props, state)\n    function getDerivedStateFromProps(_ref, _ref2)\n    /*: ?$Shape<DraggableState>*/\n    {\n      var position = _ref.position;\n      var prevPropsPosition = _ref2.prevPropsPosition;\n\n      // Set x/y if a new position is provided in props that is different than the previous.\n      if (position && (!prevPropsPosition || position.x !== prevPropsPosition.x || position.y !== prevPropsPosition.y)) {\n        (0, _log.default)('Draggable: getDerivedStateFromProps %j', {\n          position: position,\n          prevPropsPosition: prevPropsPosition\n        });\n        return {\n          x: position.x,\n          y: position.y,\n          prevPropsPosition: _objectSpread({}, position)\n        };\n      }\n\n      return null;\n    }\n  }]);\n\n  return Draggable;\n}(React.Component);\n\nexports.default = Draggable;\n\n_defineProperty(Draggable, \"displayName\", 'Draggable');\n\n_defineProperty(Draggable, \"propTypes\", _objectSpread(_objectSpread({}, _DraggableCore.default.propTypes), {}, {\n  /**\n   * `axis` determines which axis the draggable can move.\n   *\n   *  Note that all callbacks will still return data as normal. This only\n   *  controls flushing to the DOM.\n   *\n   * 'both' allows movement horizontally and vertically.\n   * 'x' limits movement to horizontal axis.\n   * 'y' limits movement to vertical axis.\n   * 'none' limits all movement.\n   *\n   * Defaults to 'both'.\n   */\n  axis: _propTypes.default.oneOf(['both', 'x', 'y', 'none']),\n\n  /**\n   * `bounds` determines the range of movement available to the element.\n   * Available values are:\n   *\n   * 'parent' restricts movement within the Draggable's parent node.\n   *\n   * Alternatively, pass an object with the following properties, all of which are optional:\n   *\n   * {left: LEFT_BOUND, right: RIGHT_BOUND, bottom: BOTTOM_BOUND, top: TOP_BOUND}\n   *\n   * All values are in px.\n   *\n   * Example:\n   *\n   * ```jsx\n   *   let App = React.createClass({\n   *       render: function () {\n   *         return (\n   *            <Draggable bounds={{right: 300, bottom: 300}}>\n   *              <div>Content</div>\n   *           </Draggable>\n   *         );\n   *       }\n   *   });\n   * ```\n   */\n  bounds: _propTypes.default.oneOfType([_propTypes.default.shape({\n    left: _propTypes.default.number,\n    right: _propTypes.default.number,\n    top: _propTypes.default.number,\n    bottom: _propTypes.default.number\n  }), _propTypes.default.string, _propTypes.default.oneOf([false])]),\n  defaultClassName: _propTypes.default.string,\n  defaultClassNameDragging: _propTypes.default.string,\n  defaultClassNameDragged: _propTypes.default.string,\n\n  /**\n   * `defaultPosition` specifies the x and y that the dragged item should start at\n   *\n   * Example:\n   *\n   * ```jsx\n   *      let App = React.createClass({\n   *          render: function () {\n   *              return (\n   *                  <Draggable defaultPosition={{x: 25, y: 25}}>\n   *                      <div>I start with transformX: 25px and transformY: 25px;</div>\n   *                  </Draggable>\n   *              );\n   *          }\n   *      });\n   * ```\n   */\n  defaultPosition: _propTypes.default.shape({\n    x: _propTypes.default.number,\n    y: _propTypes.default.number\n  }),\n  positionOffset: _propTypes.default.shape({\n    x: _propTypes.default.oneOfType([_propTypes.default.number, _propTypes.default.string]),\n    y: _propTypes.default.oneOfType([_propTypes.default.number, _propTypes.default.string])\n  }),\n\n  /**\n   * `position`, if present, defines the current position of the element.\n   *\n   *  This is similar to how form elements in React work - if no `position` is supplied, the component\n   *  is uncontrolled.\n   *\n   * Example:\n   *\n   * ```jsx\n   *      let App = React.createClass({\n   *          render: function () {\n   *              return (\n   *                  <Draggable position={{x: 25, y: 25}}>\n   *                      <div>I start with transformX: 25px and transformY: 25px;</div>\n   *                  </Draggable>\n   *              );\n   *          }\n   *      });\n   * ```\n   */\n  position: _propTypes.default.shape({\n    x: _propTypes.default.number,\n    y: _propTypes.default.number\n  }),\n\n  /**\n   * These properties should be defined on the child, not here.\n   */\n  className: _shims.dontSetMe,\n  style: _shims.dontSetMe,\n  transform: _shims.dontSetMe\n}));\n\n_defineProperty(Draggable, \"defaultProps\", _objectSpread(_objectSpread({}, _DraggableCore.default.defaultProps), {}, {\n  axis: 'both',\n  bounds: false,\n  defaultClassName: 'react-draggable',\n  defaultClassNameDragging: 'react-draggable-dragging',\n  defaultClassNameDragged: 'react-draggable-dragged',\n  defaultPosition: {\n    x: 0,\n    y: 0\n  },\n  scale: 1\n}));","function r(e){var t,f,n=\"\";if(\"string\"==typeof e||\"number\"==typeof e)n+=e;else if(\"object\"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(f=r(e[t]))&&(n&&(n+=\" \"),n+=f);else for(t in e)e[t]&&(n&&(n+=\" \"),n+=t);return n}export function clsx(){for(var e,t,f=0,n=\"\";f<arguments.length;)(e=arguments[f++])&&(t=r(e))&&(n&&(n+=\" \"),n+=t);return n}export default clsx;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.browserPrefixToKey = browserPrefixToKey;\nexports.browserPrefixToStyle = browserPrefixToStyle;\nexports.default = void 0;\nexports.getPrefix = getPrefix;\nvar prefixes = ['Moz', 'Webkit', 'O', 'ms'];\n\nfunction getPrefix()\n/*: string*/\n{\n  var _window$document, _window$document$docu;\n\n  var prop\n  /*: string*/\n  = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'transform';\n  // Ensure we're running in an environment where there is actually a global\n  // `window` obj\n  if (typeof window === 'undefined') return ''; // If we're in a pseudo-browser server-side environment, this access\n  // path may not exist, so bail out if it doesn't.\n\n  var style = (_window$document = window.document) === null || _window$document === void 0 ? void 0 : (_window$document$docu = _window$document.documentElement) === null || _window$document$docu === void 0 ? void 0 : _window$document$docu.style;\n  if (!style) return '';\n  if (prop in style) return '';\n\n  for (var i = 0; i < prefixes.length; i++) {\n    if (browserPrefixToKey(prop, prefixes[i]) in style) return prefixes[i];\n  }\n\n  return '';\n}\n\nfunction browserPrefixToKey(prop\n/*: string*/\n, prefix\n/*: string*/\n)\n/*: string*/\n{\n  return prefix ? \"\".concat(prefix).concat(kebabToTitleCase(prop)) : prop;\n}\n\nfunction browserPrefixToStyle(prop\n/*: string*/\n, prefix\n/*: string*/\n)\n/*: string*/\n{\n  return prefix ? \"-\".concat(prefix.toLowerCase(), \"-\").concat(prop) : prop;\n}\n\nfunction kebabToTitleCase(str\n/*: string*/\n)\n/*: string*/\n{\n  var out = '';\n  var shouldCapitalize = true;\n\n  for (var i = 0; i < str.length; i++) {\n    if (shouldCapitalize) {\n      out += str[i].toUpperCase();\n      shouldCapitalize = false;\n    } else if (str[i] === '-') {\n      shouldCapitalize = true;\n    } else {\n      out += str[i];\n    }\n  }\n\n  return out;\n} // Default export is the prefix itself, like 'Moz', 'Webkit', etc\n// Note that you may have to re-test for certain things; for instance, Chrome 50\n// can handle unprefixed `transform`, but not unprefixed `user-select`\n\n\nvar _default = (getPrefix()\n/*: string*/\n);\n\nexports.default = _default;","\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _reactDom = _interopRequireDefault(require(\"react-dom\"));\n\nvar _domFns = require(\"./utils/domFns\");\n\nvar _positionFns = require(\"./utils/positionFns\");\n\nvar _shims = require(\"./utils/shims\");\n\nvar _log = _interopRequireDefault(require(\"./utils/log\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n// Simple abstraction for dragging events names.\nvar eventsFor = {\n  touch: {\n    start: 'touchstart',\n    move: 'touchmove',\n    stop: 'touchend'\n  },\n  mouse: {\n    start: 'mousedown',\n    move: 'mousemove',\n    stop: 'mouseup'\n  }\n}; // Default to mouse events.\n\nvar dragEventFor = eventsFor.mouse;\n/*:: type DraggableCoreState = {\n  dragging: boolean,\n  lastX: number,\n  lastY: number,\n  touchIdentifier: ?number\n};*/\n\n/*:: export type DraggableData = {\n  node: HTMLElement,\n  x: number, y: number,\n  deltaX: number, deltaY: number,\n  lastX: number, lastY: number,\n};*/\n\n/*:: export type DraggableEventHandler = (e: MouseEvent, data: DraggableData) => void | false;*/\n\n/*:: export type ControlPosition = {x: number, y: number};*/\n\n/*:: export type PositionOffsetControlPosition = {x: number|string, y: number|string};*/\n\n/*:: export type DraggableCoreDefaultProps = {\n  allowAnyClick: boolean,\n  disabled: boolean,\n  enableUserSelectHack: boolean,\n  onStart: DraggableEventHandler,\n  onDrag: DraggableEventHandler,\n  onStop: DraggableEventHandler,\n  onMouseDown: (e: MouseEvent) => void,\n  scale: number,\n};*/\n\n/*:: export type DraggableCoreProps = {\n  ...DraggableCoreDefaultProps,\n  cancel: string,\n  children: ReactElement<any>,\n  offsetParent: HTMLElement,\n  grid: [number, number],\n  handle: string,\n  nodeRef?: ?React.ElementRef<any>,\n};*/\n\n//\n// Define <DraggableCore>.\n//\n// <DraggableCore> is for advanced usage of <Draggable>. It maintains minimal internal state so it can\n// work well with libraries that require more control over the element.\n//\nvar DraggableCore = /*#__PURE__*/function (_React$Component) {\n  _inherits(DraggableCore, _React$Component);\n\n  var _super = _createSuper(DraggableCore);\n\n  function DraggableCore() {\n    var _this;\n\n    _classCallCheck(this, DraggableCore);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      dragging: false,\n      // Used while dragging to determine deltas.\n      lastX: NaN,\n      lastY: NaN,\n      touchIdentifier: null\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"mounted\", false);\n\n    _defineProperty(_assertThisInitialized(_this), \"handleDragStart\", function (e) {\n      // Make it possible to attach event handlers on top of this one.\n      _this.props.onMouseDown(e); // Only accept left-clicks.\n\n\n      if (!_this.props.allowAnyClick && typeof e.button === 'number' && e.button !== 0) return false; // Get nodes. Be sure to grab relative document (could be iframed)\n\n      var thisNode = _this.findDOMNode();\n\n      if (!thisNode || !thisNode.ownerDocument || !thisNode.ownerDocument.body) {\n        throw new Error('<DraggableCore> not mounted on DragStart!');\n      }\n\n      var ownerDocument = thisNode.ownerDocument; // Short circuit if handle or cancel prop was provided and selector doesn't match.\n\n      if (_this.props.disabled || !(e.target instanceof ownerDocument.defaultView.Node) || _this.props.handle && !(0, _domFns.matchesSelectorAndParentsTo)(e.target, _this.props.handle, thisNode) || _this.props.cancel && (0, _domFns.matchesSelectorAndParentsTo)(e.target, _this.props.cancel, thisNode)) {\n        return;\n      } // Prevent scrolling on mobile devices, like ipad/iphone.\n      // Important that this is after handle/cancel.\n\n\n      if (e.type === 'touchstart') e.preventDefault(); // Set touch identifier in component state if this is a touch event. This allows us to\n      // distinguish between individual touches on multitouch screens by identifying which\n      // touchpoint was set to this element.\n\n      var touchIdentifier = (0, _domFns.getTouchIdentifier)(e);\n\n      _this.setState({\n        touchIdentifier: touchIdentifier\n      }); // Get the current drag point from the event. This is used as the offset.\n\n\n      var position = (0, _positionFns.getControlPosition)(e, touchIdentifier, _assertThisInitialized(_this));\n      if (position == null) return; // not possible but satisfies flow\n\n      var x = position.x,\n          y = position.y; // Create an event object with all the data parents need to make a decision here.\n\n      var coreEvent = (0, _positionFns.createCoreData)(_assertThisInitialized(_this), x, y);\n      (0, _log.default)('DraggableCore: handleDragStart: %j', coreEvent); // Call event handler. If it returns explicit false, cancel.\n\n      (0, _log.default)('calling', _this.props.onStart);\n\n      var shouldUpdate = _this.props.onStart(e, coreEvent);\n\n      if (shouldUpdate === false || _this.mounted === false) return; // Add a style to the body to disable user-select. This prevents text from\n      // being selected all over the page.\n\n      if (_this.props.enableUserSelectHack) (0, _domFns.addUserSelectStyles)(ownerDocument); // Initiate dragging. Set the current x and y as offsets\n      // so we know how much we've moved during the drag. This allows us\n      // to drag elements around even if they have been moved, without issue.\n\n      _this.setState({\n        dragging: true,\n        lastX: x,\n        lastY: y\n      }); // Add events to the document directly so we catch when the user's mouse/touch moves outside of\n      // this element. We use different events depending on whether or not we have detected that this\n      // is a touch-capable device.\n\n\n      (0, _domFns.addEvent)(ownerDocument, dragEventFor.move, _this.handleDrag);\n      (0, _domFns.addEvent)(ownerDocument, dragEventFor.stop, _this.handleDragStop);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleDrag\", function (e) {\n      // Get the current drag point from the event. This is used as the offset.\n      var position = (0, _positionFns.getControlPosition)(e, _this.state.touchIdentifier, _assertThisInitialized(_this));\n      if (position == null) return;\n      var x = position.x,\n          y = position.y; // Snap to grid if prop has been provided\n\n      if (Array.isArray(_this.props.grid)) {\n        var deltaX = x - _this.state.lastX,\n            deltaY = y - _this.state.lastY;\n\n        var _snapToGrid = (0, _positionFns.snapToGrid)(_this.props.grid, deltaX, deltaY);\n\n        var _snapToGrid2 = _slicedToArray(_snapToGrid, 2);\n\n        deltaX = _snapToGrid2[0];\n        deltaY = _snapToGrid2[1];\n        if (!deltaX && !deltaY) return; // skip useless drag\n\n        x = _this.state.lastX + deltaX, y = _this.state.lastY + deltaY;\n      }\n\n      var coreEvent = (0, _positionFns.createCoreData)(_assertThisInitialized(_this), x, y);\n      (0, _log.default)('DraggableCore: handleDrag: %j', coreEvent); // Call event handler. If it returns explicit false, trigger end.\n\n      var shouldUpdate = _this.props.onDrag(e, coreEvent);\n\n      if (shouldUpdate === false || _this.mounted === false) {\n        try {\n          // $FlowIgnore\n          _this.handleDragStop(new MouseEvent('mouseup'));\n        } catch (err) {\n          // Old browsers\n          var event = ((document.createEvent('MouseEvents')\n          /*: any*/\n          )\n          /*: MouseTouchEvent*/\n          ); // I see why this insanity was deprecated\n          // $FlowIgnore\n\n          event.initMouseEvent('mouseup', true, true, window, 0, 0, 0, 0, 0, false, false, false, false, 0, null);\n\n          _this.handleDragStop(event);\n        }\n\n        return;\n      }\n\n      _this.setState({\n        lastX: x,\n        lastY: y\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleDragStop\", function (e) {\n      if (!_this.state.dragging) return;\n      var position = (0, _positionFns.getControlPosition)(e, _this.state.touchIdentifier, _assertThisInitialized(_this));\n      if (position == null) return;\n      var x = position.x,\n          y = position.y; // Snap to grid if prop has been provided\n\n      if (Array.isArray(_this.props.grid)) {\n        var deltaX = x - _this.state.lastX || 0;\n        var deltaY = y - _this.state.lastY || 0;\n\n        var _snapToGrid3 = (0, _positionFns.snapToGrid)(_this.props.grid, deltaX, deltaY);\n\n        var _snapToGrid4 = _slicedToArray(_snapToGrid3, 2);\n\n        deltaX = _snapToGrid4[0];\n        deltaY = _snapToGrid4[1];\n        x = _this.state.lastX + deltaX, y = _this.state.lastY + deltaY;\n      }\n\n      var coreEvent = (0, _positionFns.createCoreData)(_assertThisInitialized(_this), x, y); // Call event handler\n\n      var shouldContinue = _this.props.onStop(e, coreEvent);\n\n      if (shouldContinue === false || _this.mounted === false) return false;\n\n      var thisNode = _this.findDOMNode();\n\n      if (thisNode) {\n        // Remove user-select hack\n        if (_this.props.enableUserSelectHack) (0, _domFns.removeUserSelectStyles)(thisNode.ownerDocument);\n      }\n\n      (0, _log.default)('DraggableCore: handleDragStop: %j', coreEvent); // Reset the el.\n\n      _this.setState({\n        dragging: false,\n        lastX: NaN,\n        lastY: NaN\n      });\n\n      if (thisNode) {\n        // Remove event handlers\n        (0, _log.default)('DraggableCore: Removing handlers');\n        (0, _domFns.removeEvent)(thisNode.ownerDocument, dragEventFor.move, _this.handleDrag);\n        (0, _domFns.removeEvent)(thisNode.ownerDocument, dragEventFor.stop, _this.handleDragStop);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onMouseDown\", function (e) {\n      dragEventFor = eventsFor.mouse; // on touchscreen laptops we could switch back to mouse\n\n      return _this.handleDragStart(e);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onMouseUp\", function (e) {\n      dragEventFor = eventsFor.mouse;\n      return _this.handleDragStop(e);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onTouchStart\", function (e) {\n      // We're on a touch device now, so change the event handlers\n      dragEventFor = eventsFor.touch;\n      return _this.handleDragStart(e);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onTouchEnd\", function (e) {\n      // We're on a touch device now, so change the event handlers\n      dragEventFor = eventsFor.touch;\n      return _this.handleDragStop(e);\n    });\n\n    return _this;\n  }\n\n  _createClass(DraggableCore, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.mounted = true; // Touch handlers must be added with {passive: false} to be cancelable.\n      // https://developers.google.com/web/updates/2017/01/scrolling-intervention\n\n      var thisNode = this.findDOMNode();\n\n      if (thisNode) {\n        (0, _domFns.addEvent)(thisNode, eventsFor.touch.start, this.onTouchStart, {\n          passive: false\n        });\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.mounted = false; // Remove any leftover event handlers. Remove both touch and mouse handlers in case\n      // some browser quirk caused a touch event to fire during a mouse move, or vice versa.\n\n      var thisNode = this.findDOMNode();\n\n      if (thisNode) {\n        var ownerDocument = thisNode.ownerDocument;\n        (0, _domFns.removeEvent)(ownerDocument, eventsFor.mouse.move, this.handleDrag);\n        (0, _domFns.removeEvent)(ownerDocument, eventsFor.touch.move, this.handleDrag);\n        (0, _domFns.removeEvent)(ownerDocument, eventsFor.mouse.stop, this.handleDragStop);\n        (0, _domFns.removeEvent)(ownerDocument, eventsFor.touch.stop, this.handleDragStop);\n        (0, _domFns.removeEvent)(thisNode, eventsFor.touch.start, this.onTouchStart, {\n          passive: false\n        });\n        if (this.props.enableUserSelectHack) (0, _domFns.removeUserSelectStyles)(ownerDocument);\n      }\n    } // React Strict Mode compatibility: if `nodeRef` is passed, we will use it instead of trying to find\n    // the underlying DOM node ourselves. See the README for more information.\n\n  }, {\n    key: \"findDOMNode\",\n    value: function findDOMNode()\n    /*: ?HTMLElement*/\n    {\n      var _this$props, _this$props2, _this$props2$nodeRef;\n\n      return (_this$props = this.props) !== null && _this$props !== void 0 && _this$props.nodeRef ? (_this$props2 = this.props) === null || _this$props2 === void 0 ? void 0 : (_this$props2$nodeRef = _this$props2.nodeRef) === null || _this$props2$nodeRef === void 0 ? void 0 : _this$props2$nodeRef.current : _reactDom.default.findDOMNode(this);\n    }\n  }, {\n    key: \"render\",\n    value: function render()\n    /*: React.Element<any>*/\n    {\n      // Reuse the child provided\n      // This makes it flexible to use whatever element is wanted (div, ul, etc)\n      return /*#__PURE__*/React.cloneElement(React.Children.only(this.props.children), {\n        // Note: mouseMove handler is attached to document so it will still function\n        // when the user drags quickly and leaves the bounds of the element.\n        onMouseDown: this.onMouseDown,\n        onMouseUp: this.onMouseUp,\n        // onTouchStart is added on `componentDidMount` so they can be added with\n        // {passive: false}, which allows it to cancel. See\n        // https://developers.google.com/web/updates/2017/01/scrolling-intervention\n        onTouchEnd: this.onTouchEnd\n      });\n    }\n  }]);\n\n  return DraggableCore;\n}(React.Component);\n\nexports.default = DraggableCore;\n\n_defineProperty(DraggableCore, \"displayName\", 'DraggableCore');\n\n_defineProperty(DraggableCore, \"propTypes\", {\n  /**\n   * `allowAnyClick` allows dragging using any mouse button.\n   * By default, we only accept the left button.\n   *\n   * Defaults to `false`.\n   */\n  allowAnyClick: _propTypes.default.bool,\n\n  /**\n   * `disabled`, if true, stops the <Draggable> from dragging. All handlers,\n   * with the exception of `onMouseDown`, will not fire.\n   */\n  disabled: _propTypes.default.bool,\n\n  /**\n   * By default, we add 'user-select:none' attributes to the document body\n   * to prevent ugly text selection during drag. If this is causing problems\n   * for your app, set this to `false`.\n   */\n  enableUserSelectHack: _propTypes.default.bool,\n\n  /**\n   * `offsetParent`, if set, uses the passed DOM node to compute drag offsets\n   * instead of using the parent node.\n   */\n  offsetParent: function offsetParent(props\n  /*: DraggableCoreProps*/\n  , propName\n  /*: $Keys<DraggableCoreProps>*/\n  ) {\n    if (props[propName] && props[propName].nodeType !== 1) {\n      throw new Error('Draggable\\'s offsetParent must be a DOM Node.');\n    }\n  },\n\n  /**\n   * `grid` specifies the x and y that dragging should snap to.\n   */\n  grid: _propTypes.default.arrayOf(_propTypes.default.number),\n\n  /**\n   * `handle` specifies a selector to be used as the handle that initiates drag.\n   *\n   * Example:\n   *\n   * ```jsx\n   *   let App = React.createClass({\n   *       render: function () {\n   *         return (\n   *            <Draggable handle=\".handle\">\n   *              <div>\n   *                  <div className=\"handle\">Click me to drag</div>\n   *                  <div>This is some other content</div>\n   *              </div>\n   *           </Draggable>\n   *         );\n   *       }\n   *   });\n   * ```\n   */\n  handle: _propTypes.default.string,\n\n  /**\n   * `cancel` specifies a selector to be used to prevent drag initialization.\n   *\n   * Example:\n   *\n   * ```jsx\n   *   let App = React.createClass({\n   *       render: function () {\n   *           return(\n   *               <Draggable cancel=\".cancel\">\n   *                   <div>\n   *                     <div className=\"cancel\">You can't drag from here</div>\n   *                     <div>Dragging here works fine</div>\n   *                   </div>\n   *               </Draggable>\n   *           );\n   *       }\n   *   });\n   * ```\n   */\n  cancel: _propTypes.default.string,\n\n  /* If running in React Strict mode, ReactDOM.findDOMNode() is deprecated.\n   * Unfortunately, in order for <Draggable> to work properly, we need raw access\n   * to the underlying DOM node. If you want to avoid the warning, pass a `nodeRef`\n   * as in this example:\n   *\n   * function MyComponent() {\n   *   const nodeRef = React.useRef(null);\n   *   return (\n   *     <Draggable nodeRef={nodeRef}>\n   *       <div ref={nodeRef}>Example Target</div>\n   *     </Draggable>\n   *   );\n   * }\n   *\n   * This can be used for arbitrarily nested components, so long as the ref ends up\n   * pointing to the actual child DOM node and not a custom component.\n   */\n  nodeRef: _propTypes.default.object,\n\n  /**\n   * Called when dragging starts.\n   * If this function returns the boolean false, dragging will be canceled.\n   */\n  onStart: _propTypes.default.func,\n\n  /**\n   * Called while dragging.\n   * If this function returns the boolean false, dragging will be canceled.\n   */\n  onDrag: _propTypes.default.func,\n\n  /**\n   * Called when dragging stops.\n   * If this function returns the boolean false, the drag will remain active.\n   */\n  onStop: _propTypes.default.func,\n\n  /**\n   * A workaround option which can be passed if onMouseDown needs to be accessed,\n   * since it'll always be blocked (as there is internal use of onMouseDown)\n   */\n  onMouseDown: _propTypes.default.func,\n\n  /**\n   * `scale`, if set, applies scaling while dragging an element\n   */\n  scale: _propTypes.default.number,\n\n  /**\n   * These properties should be defined on the child, not here.\n   */\n  className: _shims.dontSetMe,\n  style: _shims.dontSetMe,\n  transform: _shims.dontSetMe\n});\n\n_defineProperty(DraggableCore, \"defaultProps\", {\n  allowAnyClick: false,\n  // by default only accept left click\n  disabled: false,\n  enableUserSelectHack: true,\n  onStart: function onStart() {},\n  onDrag: function onDrag() {},\n  onStop: function onStop() {},\n  onMouseDown: function onMouseDown() {},\n  scale: 1\n});","import { HTML5BackendImpl } from './HTML5BackendImpl.js'\nexport * as NativeTypes from './NativeTypes.js'\nimport type { DragDropManager, BackendFactory } from 'dnd-core'\nimport type { HTML5BackendContext, HTML5BackendOptions } from './types.js'\nexport type { HTML5BackendContext, HTML5BackendOptions } from './types.js'\nexport { getEmptyImage } from './getEmptyImage.js'\n\nexport const HTML5Backend: BackendFactory = function createBackend(\n\tmanager: DragDropManager,\n\tcontext?: HTML5BackendContext,\n\toptions?: HTML5BackendOptions,\n): HTML5BackendImpl {\n\treturn new HTML5BackendImpl(manager, context, options)\n}\n","import { AsapQueue } from './AsapQueue.js'\nimport { TaskFactory } from './TaskFactory.js'\nimport type { TaskFn } from './types.js'\n\nconst asapQueue = new AsapQueue()\nconst taskFactory = new TaskFactory(asapQueue.registerPendingError)\n\n/**\n * Calls a task as soon as possible after returning, in its own event, with priority\n * over other events like animation, reflow, and repaint. An error thrown from an\n * event will not interrupt, nor even substantially slow down the processing of\n * other events, but will be rather postponed to a lower priority event.\n * @param {{call}} task A callable object, typically a function that takes no\n * arguments.\n */\nexport function asap(task: TaskFn) {\n\tasapQueue.enqueueTask(taskFactory.create(task))\n}\n","// Safari 6 and 6.1 for desktop, iPad, and iPhone are the only browsers that\n// have WebKitMutationObserver but not un-prefixed MutationObserver.\n// Must use `global` or `self` instead of `window` to work in both frames and web\n// workers. `global` is a provision of Browserify, Mr, Mrs, or Mop.\n\n/* globals self */\nconst scope = typeof global !== 'undefined' ? global : self\nconst BrowserMutationObserver =\n\t(scope as any).MutationObserver || (scope as any).WebKitMutationObserver\n\nexport function makeRequestCallFromTimer(callback: () => void) {\n\treturn function requestCall() {\n\t\t// We dispatch a timeout with a specified delay of 0 for engines that\n\t\t// can reliably accommodate that request. This will usually be snapped\n\t\t// to a 4 milisecond delay, but once we're flushing, there's no delay\n\t\t// between events.\n\t\tconst timeoutHandle = setTimeout(handleTimer, 0)\n\t\t// However, since this timer gets frequently dropped in Firefox\n\t\t// workers, we enlist an interval handle that will try to fire\n\t\t// an event 20 times per second until it succeeds.\n\t\tconst intervalHandle = setInterval(handleTimer, 50)\n\n\t\tfunction handleTimer() {\n\t\t\t// Whichever timer succeeds will cancel both timers and\n\t\t\t// execute the callback.\n\t\t\tclearTimeout(timeoutHandle)\n\t\t\tclearInterval(intervalHandle)\n\t\t\tcallback()\n\t\t}\n\t}\n}\n\n// To request a high priority event, we induce a mutation observer by toggling\n// the text of a text node between \"1\" and \"-1\".\nexport function makeRequestCallFromMutationObserver(callback: () => void) {\n\tlet toggle = 1\n\tconst observer = new BrowserMutationObserver(callback)\n\tconst node = document.createTextNode('')\n\tobserver.observe(node, { characterData: true })\n\treturn function requestCall() {\n\t\ttoggle = -toggle\n\t\t;(node as any).data = toggle\n\t}\n}\n\nexport const makeRequestCall =\n\ttypeof BrowserMutationObserver === 'function'\n\t\t? // MutationObservers are desirable because they have high priority and work\n\t\t  // reliably everywhere they are implemented.\n\t\t  // They are implemented in all modern browsers.\n\t\t  //\n\t\t  // - Android 4-4.3\n\t\t  // - Chrome 26-34\n\t\t  // - Firefox 14-29\n\t\t  // - Internet Explorer 11\n\t\t  // - iPad Safari 6-7.1\n\t\t  // - iPhone Safari 7-7.1\n\t\t  // - Safari 6-7\n\t\t  makeRequestCallFromMutationObserver\n\t\t: // MessageChannels are desirable because they give direct access to the HTML\n\t\t  // task queue, are implemented in Internet Explorer 10, Safari 5.0-1, and Opera\n\t\t  // 11-12, and in web workers in many engines.\n\t\t  // Although message channels yield to any queued rendering and IO tasks, they\n\t\t  // would be better than imposing the 4ms delay of timers.\n\t\t  // However, they do not work reliably in Internet Explorer or Safari.\n\n\t\t  // Internet Explorer 10 is the only browser that has setImmediate but does\n\t\t  // not have MutationObservers.\n\t\t  // Although setImmediate yields to the browser's renderer, it would be\n\t\t  // preferrable to falling back to setTimeout since it does not have\n\t\t  // the minimum 4ms penalty.\n\t\t  // Unfortunately there appears to be a bug in Internet Explorer 10 Mobile (and\n\t\t  // Desktop to a lesser extent) that renders both setImmediate and\n\t\t  // MessageChannel useless for the purposes of ASAP.\n\t\t  // https://github.com/kriskowal/q/issues/396\n\n\t\t  // Timers are implemented universally.\n\t\t  // We fall back to timers in workers in most engines, and in foreground\n\t\t  // contexts in the following browsers.\n\t\t  // However, note that even this simple case requires nuances to operate in a\n\t\t  // broad spectrum of browsers.\n\t\t  //\n\t\t  // - Firefox 3-13\n\t\t  // - Internet Explorer 6-9\n\t\t  // - iPad Safari 4.3\n\t\t  // - Lynx 2.8.7\n\t\t  makeRequestCallFromTimer\n","// We wrap tasks with recyclable task objects.  A task object implements\n\nimport type { TaskFn, Task } from 'types'\n\n// `call`, just like a function.\nexport class RawTask implements Task {\n\tpublic task: TaskFn | null = null\n\n\tpublic constructor(\n\t\tprivate onError: (err: any) => void,\n\t\tprivate release: (t: RawTask) => void,\n\t) {}\n\n\tpublic call() {\n\t\ttry {\n\t\t\tthis.task && this.task()\n\t\t} catch (error) {\n\t\t\tthis.onError(error)\n\t\t} finally {\n\t\t\tthis.task = null\n\t\t\tthis.release(this)\n\t\t}\n\t}\n}\n","import type {\n\tBackend,\n\tDragDropManager,\n\tDragDropActions,\n\tDragDropMonitor,\n\tHandlerRegistry,\n\tIdentifier,\n\tXYCoord,\n\tUnsubscribe,\n} from 'dnd-core'\nimport { EnterLeaveCounter } from './EnterLeaveCounter.js'\nimport {\n\tgetNodeClientOffset,\n\tgetEventClientOffset,\n\tgetDragPreviewOffset,\n} from './OffsetUtils.js'\nimport {\n\tcreateNativeDragSource,\n\tmatchNativeItemType,\n} from './NativeDragSources/index.js'\nimport * as NativeTypes from './NativeTypes.js'\nimport type { NativeDragSource } from './NativeDragSources/NativeDragSource.js'\nimport { OptionsReader } from './OptionsReader.js'\nimport type { HTML5BackendContext, HTML5BackendOptions } from './types.js'\n\ntype RootNode = Node & { __isReactDndBackendSetUp: boolean | undefined }\n\nexport class HTML5BackendImpl implements Backend {\n\tprivate options: OptionsReader\n\n\t// React-Dnd Components\n\tprivate actions: DragDropActions\n\tprivate monitor: DragDropMonitor\n\tprivate registry: HandlerRegistry\n\n\t// Internal State\n\tprivate enterLeaveCounter: EnterLeaveCounter\n\n\tprivate sourcePreviewNodes: Map<string, Element> = new Map()\n\tprivate sourcePreviewNodeOptions: Map<string, any> = new Map()\n\tprivate sourceNodes: Map<string, Element> = new Map()\n\tprivate sourceNodeOptions: Map<string, any> = new Map()\n\n\tprivate dragStartSourceIds: string[] | null = null\n\tprivate dropTargetIds: string[] = []\n\tprivate dragEnterTargetIds: string[] = []\n\tprivate currentNativeSource: NativeDragSource | null = null\n\tprivate currentNativeHandle: Identifier | null = null\n\tprivate currentDragSourceNode: Element | null = null\n\tprivate altKeyPressed = false\n\tprivate mouseMoveTimeoutTimer: number | null = null\n\tprivate asyncEndDragFrameId: number | null = null\n\tprivate dragOverTargetIds: string[] | null = null\n\n\tprivate lastClientOffset: XYCoord | null = null\n\tprivate hoverRafId: number | null = null\n\n\tpublic constructor(\n\t\tmanager: DragDropManager,\n\t\tglobalContext?: HTML5BackendContext,\n\t\toptions?: HTML5BackendOptions,\n\t) {\n\t\tthis.options = new OptionsReader(globalContext, options)\n\t\tthis.actions = manager.getActions()\n\t\tthis.monitor = manager.getMonitor()\n\t\tthis.registry = manager.getRegistry()\n\t\tthis.enterLeaveCounter = new EnterLeaveCounter(this.isNodeInDocument)\n\t}\n\n\t/**\n\t * Generate profiling statistics for the HTML5Backend.\n\t */\n\tpublic profile(): Record<string, number> {\n\t\treturn {\n\t\t\tsourcePreviewNodes: this.sourcePreviewNodes.size,\n\t\t\tsourcePreviewNodeOptions: this.sourcePreviewNodeOptions.size,\n\t\t\tsourceNodeOptions: this.sourceNodeOptions.size,\n\t\t\tsourceNodes: this.sourceNodes.size,\n\t\t\tdragStartSourceIds: this.dragStartSourceIds?.length || 0,\n\t\t\tdropTargetIds: this.dropTargetIds.length,\n\t\t\tdragEnterTargetIds: this.dragEnterTargetIds.length,\n\t\t\tdragOverTargetIds: this.dragOverTargetIds?.length || 0,\n\t\t}\n\t}\n\n\t// public for test\n\tpublic get window(): Window | undefined {\n\t\treturn this.options.window\n\t}\n\tpublic get document(): Document | undefined {\n\t\treturn this.options.document\n\t}\n\t/**\n\t * Get the root element to use for event subscriptions\n\t */\n\tprivate get rootElement(): Node | undefined {\n\t\treturn this.options.rootElement as Node\n\t}\n\n\tpublic setup(): void {\n\t\tconst root = this.rootElement as RootNode | undefined\n\t\tif (root === undefined) {\n\t\t\treturn\n\t\t}\n\n\t\tif (root.__isReactDndBackendSetUp) {\n\t\t\tthrow new Error('Cannot have two HTML5 backends at the same time.')\n\t\t}\n\t\troot.__isReactDndBackendSetUp = true\n\t\tthis.addEventListeners(root)\n\t}\n\n\tpublic teardown(): void {\n\t\tconst root = this.rootElement as RootNode\n\t\tif (root === undefined) {\n\t\t\treturn\n\t\t}\n\n\t\troot.__isReactDndBackendSetUp = false\n\t\tthis.removeEventListeners(this.rootElement as Element)\n\t\tthis.clearCurrentDragSourceNode()\n\t\tif (this.asyncEndDragFrameId) {\n\t\t\tthis.window?.cancelAnimationFrame(this.asyncEndDragFrameId)\n\t\t}\n\t}\n\n\tpublic connectDragPreview(\n\t\tsourceId: string,\n\t\tnode: Element,\n\t\toptions: any,\n\t): Unsubscribe {\n\t\tthis.sourcePreviewNodeOptions.set(sourceId, options)\n\t\tthis.sourcePreviewNodes.set(sourceId, node)\n\n\t\treturn (): void => {\n\t\t\tthis.sourcePreviewNodes.delete(sourceId)\n\t\t\tthis.sourcePreviewNodeOptions.delete(sourceId)\n\t\t}\n\t}\n\n\tpublic connectDragSource(\n\t\tsourceId: string,\n\t\tnode: Element,\n\t\toptions: any,\n\t): Unsubscribe {\n\t\tthis.sourceNodes.set(sourceId, node)\n\t\tthis.sourceNodeOptions.set(sourceId, options)\n\n\t\tconst handleDragStart = (e: any) => this.handleDragStart(e, sourceId)\n\t\tconst handleSelectStart = (e: any) => this.handleSelectStart(e)\n\n\t\tnode.setAttribute('draggable', 'true')\n\t\tnode.addEventListener('dragstart', handleDragStart)\n\t\tnode.addEventListener('selectstart', handleSelectStart)\n\n\t\treturn (): void => {\n\t\t\tthis.sourceNodes.delete(sourceId)\n\t\t\tthis.sourceNodeOptions.delete(sourceId)\n\n\t\t\tnode.removeEventListener('dragstart', handleDragStart)\n\t\t\tnode.removeEventListener('selectstart', handleSelectStart)\n\t\t\tnode.setAttribute('draggable', 'false')\n\t\t}\n\t}\n\n\tpublic connectDropTarget(targetId: string, node: HTMLElement): Unsubscribe {\n\t\tconst handleDragEnter = (e: DragEvent) => this.handleDragEnter(e, targetId)\n\t\tconst handleDragOver = (e: DragEvent) => this.handleDragOver(e, targetId)\n\t\tconst handleDrop = (e: DragEvent) => this.handleDrop(e, targetId)\n\n\t\tnode.addEventListener('dragenter', handleDragEnter)\n\t\tnode.addEventListener('dragover', handleDragOver)\n\t\tnode.addEventListener('drop', handleDrop)\n\n\t\treturn (): void => {\n\t\t\tnode.removeEventListener('dragenter', handleDragEnter)\n\t\t\tnode.removeEventListener('dragover', handleDragOver)\n\t\t\tnode.removeEventListener('drop', handleDrop)\n\t\t}\n\t}\n\n\tprivate addEventListeners(target: Node) {\n\t\t// SSR Fix (https://github.com/react-dnd/react-dnd/pull/813\n\t\tif (!target.addEventListener) {\n\t\t\treturn\n\t\t}\n\t\ttarget.addEventListener(\n\t\t\t'dragstart',\n\t\t\tthis.handleTopDragStart as EventListener,\n\t\t)\n\t\ttarget.addEventListener('dragstart', this.handleTopDragStartCapture, true)\n\t\ttarget.addEventListener('dragend', this.handleTopDragEndCapture, true)\n\t\ttarget.addEventListener(\n\t\t\t'dragenter',\n\t\t\tthis.handleTopDragEnter as EventListener,\n\t\t)\n\t\ttarget.addEventListener(\n\t\t\t'dragenter',\n\t\t\tthis.handleTopDragEnterCapture as EventListener,\n\t\t\ttrue,\n\t\t)\n\t\ttarget.addEventListener(\n\t\t\t'dragleave',\n\t\t\tthis.handleTopDragLeaveCapture as EventListener,\n\t\t\ttrue,\n\t\t)\n\t\ttarget.addEventListener('dragover', this.handleTopDragOver as EventListener)\n\t\ttarget.addEventListener(\n\t\t\t'dragover',\n\t\t\tthis.handleTopDragOverCapture as EventListener,\n\t\t\ttrue,\n\t\t)\n\t\ttarget.addEventListener('drop', this.handleTopDrop as EventListener)\n\t\ttarget.addEventListener(\n\t\t\t'drop',\n\t\t\tthis.handleTopDropCapture as EventListener,\n\t\t\ttrue,\n\t\t)\n\t}\n\n\tprivate removeEventListeners(target: Node) {\n\t\t// SSR Fix (https://github.com/react-dnd/react-dnd/pull/813\n\t\tif (!target.removeEventListener) {\n\t\t\treturn\n\t\t}\n\t\ttarget.removeEventListener('dragstart', this.handleTopDragStart as any)\n\t\ttarget.removeEventListener(\n\t\t\t'dragstart',\n\t\t\tthis.handleTopDragStartCapture,\n\t\t\ttrue,\n\t\t)\n\t\ttarget.removeEventListener('dragend', this.handleTopDragEndCapture, true)\n\t\ttarget.removeEventListener(\n\t\t\t'dragenter',\n\t\t\tthis.handleTopDragEnter as EventListener,\n\t\t)\n\t\ttarget.removeEventListener(\n\t\t\t'dragenter',\n\t\t\tthis.handleTopDragEnterCapture as EventListener,\n\t\t\ttrue,\n\t\t)\n\t\ttarget.removeEventListener(\n\t\t\t'dragleave',\n\t\t\tthis.handleTopDragLeaveCapture as EventListener,\n\t\t\ttrue,\n\t\t)\n\t\ttarget.removeEventListener(\n\t\t\t'dragover',\n\t\t\tthis.handleTopDragOver as EventListener,\n\t\t)\n\t\ttarget.removeEventListener(\n\t\t\t'dragover',\n\t\t\tthis.handleTopDragOverCapture as EventListener,\n\t\t\ttrue,\n\t\t)\n\t\ttarget.removeEventListener('drop', this.handleTopDrop as EventListener)\n\t\ttarget.removeEventListener(\n\t\t\t'drop',\n\t\t\tthis.handleTopDropCapture as EventListener,\n\t\t\ttrue,\n\t\t)\n\t}\n\n\tprivate getCurrentSourceNodeOptions() {\n\t\tconst sourceId = this.monitor.getSourceId() as string\n\t\tconst sourceNodeOptions = this.sourceNodeOptions.get(sourceId)\n\n\t\treturn {\n\t\t\tdropEffect: this.altKeyPressed ? 'copy' : 'move',\n\t\t\t...(sourceNodeOptions || {}),\n\t\t}\n\t}\n\n\tprivate getCurrentDropEffect() {\n\t\tif (this.isDraggingNativeItem()) {\n\t\t\t// It makes more sense to default to 'copy' for native resources\n\t\t\treturn 'copy'\n\t\t}\n\n\t\treturn this.getCurrentSourceNodeOptions().dropEffect\n\t}\n\n\tprivate getCurrentSourcePreviewNodeOptions() {\n\t\tconst sourceId = this.monitor.getSourceId() as string\n\t\tconst sourcePreviewNodeOptions = this.sourcePreviewNodeOptions.get(sourceId)\n\n\t\treturn {\n\t\t\tanchorX: 0.5,\n\t\t\tanchorY: 0.5,\n\t\t\tcaptureDraggingState: false,\n\t\t\t...(sourcePreviewNodeOptions || {}),\n\t\t}\n\t}\n\n\tprivate getSourceClientOffset = (sourceId: string): XYCoord | null => {\n\t\tconst source = this.sourceNodes.get(sourceId)\n\t\treturn (source && getNodeClientOffset(source as HTMLElement)) || null\n\t}\n\n\tprivate isDraggingNativeItem() {\n\t\tconst itemType = this.monitor.getItemType()\n\t\treturn Object.keys(NativeTypes).some(\n\t\t\t(key: string) => (NativeTypes as any)[key] === itemType,\n\t\t)\n\t}\n\n\tprivate beginDragNativeItem(type: string, dataTransfer?: DataTransfer) {\n\t\tthis.clearCurrentDragSourceNode()\n\n\t\tthis.currentNativeSource = createNativeDragSource(type, dataTransfer)\n\t\tthis.currentNativeHandle = this.registry.addSource(\n\t\t\ttype,\n\t\t\tthis.currentNativeSource,\n\t\t)\n\t\tthis.actions.beginDrag([this.currentNativeHandle])\n\t}\n\n\tprivate endDragNativeItem = (): void => {\n\t\tif (!this.isDraggingNativeItem()) {\n\t\t\treturn\n\t\t}\n\n\t\tthis.actions.endDrag()\n\t\tif (this.currentNativeHandle) {\n\t\t\tthis.registry.removeSource(this.currentNativeHandle)\n\t\t}\n\t\tthis.currentNativeHandle = null\n\t\tthis.currentNativeSource = null\n\t}\n\n\tprivate isNodeInDocument = (node: Node | null | undefined): boolean => {\n\t\t// Check the node either in the main document or in the current context\n\t\treturn Boolean(\n\t\t\tnode &&\n\t\t\t\tthis.document &&\n\t\t\t\tthis.document.body &&\n\t\t\t\tthis.document.body.contains(node),\n\t\t)\n\t}\n\n\tprivate endDragIfSourceWasRemovedFromDOM = (): void => {\n\t\tconst node = this.currentDragSourceNode\n\t\tif (node == null || this.isNodeInDocument(node)) {\n\t\t\treturn\n\t\t}\n\n\t\tif (this.clearCurrentDragSourceNode() && this.monitor.isDragging()) {\n\t\t\tthis.actions.endDrag()\n\t\t}\n\t\tthis.cancelHover()\n\t}\n\n\tprivate setCurrentDragSourceNode(node: Element | null) {\n\t\tthis.clearCurrentDragSourceNode()\n\t\tthis.currentDragSourceNode = node\n\n\t\t// A timeout of > 0 is necessary to resolve Firefox issue referenced\n\t\t// See:\n\t\t//   * https://github.com/react-dnd/react-dnd/pull/928\n\t\t//   * https://github.com/react-dnd/react-dnd/issues/869\n\t\tconst MOUSE_MOVE_TIMEOUT = 1000\n\n\t\t// Receiving a mouse event in the middle of a dragging operation\n\t\t// means it has ended and the drag source node disappeared from DOM,\n\t\t// so the browser didn't dispatch the dragend event.\n\t\t//\n\t\t// We need to wait before we start listening for mousemove events.\n\t\t// This is needed because the drag preview needs to be drawn or else it fires an 'mousemove' event\n\t\t// immediately in some browsers.\n\t\t//\n\t\t// See:\n\t\t//   * https://github.com/react-dnd/react-dnd/pull/928\n\t\t//   * https://github.com/react-dnd/react-dnd/issues/869\n\t\t//\n\t\tthis.mouseMoveTimeoutTimer = setTimeout(() => {\n\t\t\treturn this.rootElement?.addEventListener(\n\t\t\t\t'mousemove',\n\t\t\t\tthis.endDragIfSourceWasRemovedFromDOM,\n\t\t\t\ttrue,\n\t\t\t)\n\t\t}, MOUSE_MOVE_TIMEOUT) as any as number\n\t}\n\n\tprivate clearCurrentDragSourceNode() {\n\t\tif (this.currentDragSourceNode) {\n\t\t\tthis.currentDragSourceNode = null\n\n\t\t\tif (this.rootElement) {\n\t\t\t\tthis.window?.clearTimeout(this.mouseMoveTimeoutTimer || undefined)\n\t\t\t\tthis.rootElement.removeEventListener(\n\t\t\t\t\t'mousemove',\n\t\t\t\t\tthis.endDragIfSourceWasRemovedFromDOM,\n\t\t\t\t\ttrue,\n\t\t\t\t)\n\t\t\t}\n\n\t\t\tthis.mouseMoveTimeoutTimer = null\n\t\t\treturn true\n\t\t}\n\n\t\treturn false\n\t}\n\n\tprivate scheduleHover = (dragOverTargetIds: string[] | null) => {\n\t\tif (\n\t\t\tthis.hoverRafId === null &&\n\t\t\ttypeof requestAnimationFrame !== 'undefined'\n\t\t) {\n\t\t\tthis.hoverRafId = requestAnimationFrame(() => {\n\t\t\t\tif (this.monitor.isDragging()) {\n\t\t\t\t\tthis.actions.hover(dragOverTargetIds || [], {\n\t\t\t\t\t\tclientOffset: this.lastClientOffset,\n\t\t\t\t\t})\n\t\t\t\t}\n\n\t\t\t\tthis.hoverRafId = null\n\t\t\t})\n\t\t}\n\t}\n\n\tprivate cancelHover = () => {\n\t\tif (\n\t\t\tthis.hoverRafId !== null &&\n\t\t\ttypeof cancelAnimationFrame !== 'undefined'\n\t\t) {\n\t\t\tcancelAnimationFrame(this.hoverRafId)\n\t\t\tthis.hoverRafId = null\n\t\t}\n\t}\n\n\tpublic handleTopDragStartCapture = (): void => {\n\t\tthis.clearCurrentDragSourceNode()\n\t\tthis.dragStartSourceIds = []\n\t}\n\n\tpublic handleDragStart(e: DragEvent, sourceId: string): void {\n\t\tif (e.defaultPrevented) {\n\t\t\treturn\n\t\t}\n\n\t\tif (!this.dragStartSourceIds) {\n\t\t\tthis.dragStartSourceIds = []\n\t\t}\n\t\tthis.dragStartSourceIds.unshift(sourceId)\n\t}\n\n\tpublic handleTopDragStart = (e: DragEvent): void => {\n\t\tif (e.defaultPrevented) {\n\t\t\treturn\n\t\t}\n\n\t\tconst { dragStartSourceIds } = this\n\t\tthis.dragStartSourceIds = null\n\n\t\tconst clientOffset = getEventClientOffset(e)\n\n\t\t// Avoid crashing if we missed a drop event or our previous drag died\n\t\tif (this.monitor.isDragging()) {\n\t\t\tthis.actions.endDrag()\n\t\t\tthis.cancelHover()\n\t\t}\n\n\t\t// Don't publish the source just yet (see why below)\n\t\tthis.actions.beginDrag(dragStartSourceIds || [], {\n\t\t\tpublishSource: false,\n\t\t\tgetSourceClientOffset: this.getSourceClientOffset,\n\t\t\tclientOffset,\n\t\t})\n\n\t\tconst { dataTransfer } = e\n\t\tconst nativeType = matchNativeItemType(dataTransfer)\n\n\t\tif (this.monitor.isDragging()) {\n\t\t\tif (dataTransfer && typeof dataTransfer.setDragImage === 'function') {\n\t\t\t\t// Use custom drag image if user specifies it.\n\t\t\t\t// If child drag source refuses drag but parent agrees,\n\t\t\t\t// use parent's node as drag image. Neither works in IE though.\n\t\t\t\tconst sourceId: string = this.monitor.getSourceId() as string\n\t\t\t\tconst sourceNode = this.sourceNodes.get(sourceId)\n\t\t\t\tconst dragPreview = this.sourcePreviewNodes.get(sourceId) || sourceNode\n\n\t\t\t\tif (dragPreview) {\n\t\t\t\t\tconst { anchorX, anchorY, offsetX, offsetY } =\n\t\t\t\t\t\tthis.getCurrentSourcePreviewNodeOptions()\n\t\t\t\t\tconst anchorPoint = { anchorX, anchorY }\n\t\t\t\t\tconst offsetPoint = { offsetX, offsetY }\n\t\t\t\t\tconst dragPreviewOffset = getDragPreviewOffset(\n\t\t\t\t\t\tsourceNode as HTMLElement,\n\t\t\t\t\t\tdragPreview as HTMLElement,\n\t\t\t\t\t\tclientOffset,\n\t\t\t\t\t\tanchorPoint,\n\t\t\t\t\t\toffsetPoint,\n\t\t\t\t\t)\n\n\t\t\t\t\tdataTransfer.setDragImage(\n\t\t\t\t\t\tdragPreview,\n\t\t\t\t\t\tdragPreviewOffset.x,\n\t\t\t\t\t\tdragPreviewOffset.y,\n\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t}\n\n\t\t\ttry {\n\t\t\t\t// Firefox won't drag without setting data\n\t\t\t\tdataTransfer?.setData('application/json', {} as any)\n\t\t\t} catch (err) {\n\t\t\t\t// IE doesn't support MIME types in setData\n\t\t\t}\n\n\t\t\t// Store drag source node so we can check whether\n\t\t\t// it is removed from DOM and trigger endDrag manually.\n\t\t\tthis.setCurrentDragSourceNode(e.target as Element)\n\n\t\t\t// Now we are ready to publish the drag source.. or are we not?\n\t\t\tconst { captureDraggingState } = this.getCurrentSourcePreviewNodeOptions()\n\t\t\tif (!captureDraggingState) {\n\t\t\t\t// Usually we want to publish it in the next tick so that browser\n\t\t\t\t// is able to screenshot the current (not yet dragging) state.\n\t\t\t\t//\n\t\t\t\t// It also neatly avoids a situation where render() returns null\n\t\t\t\t// in the same tick for the source element, and browser freaks out.\n\t\t\t\tsetTimeout(() => this.actions.publishDragSource(), 0)\n\t\t\t} else {\n\t\t\t\t// In some cases the user may want to override this behavior, e.g.\n\t\t\t\t// to work around IE not supporting custom drag previews.\n\t\t\t\t//\n\t\t\t\t// When using a custom drag layer, the only way to prevent\n\t\t\t\t// the default drag preview from drawing in IE is to screenshot\n\t\t\t\t// the dragging state in which the node itself has zero opacity\n\t\t\t\t// and height. In this case, though, returning null from render()\n\t\t\t\t// will abruptly end the dragging, which is not obvious.\n\t\t\t\t//\n\t\t\t\t// This is the reason such behavior is strictly opt-in.\n\t\t\t\tthis.actions.publishDragSource()\n\t\t\t}\n\t\t} else if (nativeType) {\n\t\t\t// A native item (such as URL) dragged from inside the document\n\t\t\tthis.beginDragNativeItem(nativeType)\n\t\t} else if (\n\t\t\tdataTransfer &&\n\t\t\t!dataTransfer.types &&\n\t\t\t((e.target && !(e.target as Element).hasAttribute) ||\n\t\t\t\t!(e.target as Element).hasAttribute('draggable'))\n\t\t) {\n\t\t\t// Looks like a Safari bug: dataTransfer.types is null, but there was no draggable.\n\t\t\t// Just let it drag. It's a native type (URL or text) and will be picked up in\n\t\t\t// dragenter handler.\n\t\t\treturn\n\t\t} else {\n\t\t\t// If by this time no drag source reacted, tell browser not to drag.\n\t\t\te.preventDefault()\n\t\t}\n\t}\n\n\tpublic handleTopDragEndCapture = (): void => {\n\t\tif (this.clearCurrentDragSourceNode() && this.monitor.isDragging()) {\n\t\t\t// Firefox can dispatch this event in an infinite loop\n\t\t\t// if dragend handler does something like showing an alert.\n\t\t\t// Only proceed if we have not handled it already.\n\t\t\tthis.actions.endDrag()\n\t\t}\n\t\tthis.cancelHover()\n\t}\n\n\tpublic handleTopDragEnterCapture = (e: DragEvent): void => {\n\t\tthis.dragEnterTargetIds = []\n\n\t\tif (this.isDraggingNativeItem()) {\n\t\t\tthis.currentNativeSource?.loadDataTransfer(e.dataTransfer)\n\t\t}\n\n\t\tconst isFirstEnter = this.enterLeaveCounter.enter(e.target)\n\t\tif (!isFirstEnter || this.monitor.isDragging()) {\n\t\t\treturn\n\t\t}\n\n\t\tconst { dataTransfer } = e\n\t\tconst nativeType = matchNativeItemType(dataTransfer)\n\n\t\tif (nativeType) {\n\t\t\t// A native item (such as file or URL) dragged from outside the document\n\t\t\tthis.beginDragNativeItem(nativeType, dataTransfer as DataTransfer)\n\t\t}\n\t}\n\n\tpublic handleDragEnter(_e: DragEvent, targetId: string): void {\n\t\tthis.dragEnterTargetIds.unshift(targetId)\n\t}\n\n\tpublic handleTopDragEnter = (e: DragEvent): void => {\n\t\tconst { dragEnterTargetIds } = this\n\t\tthis.dragEnterTargetIds = []\n\n\t\tif (!this.monitor.isDragging()) {\n\t\t\t// This is probably a native item type we don't understand.\n\t\t\treturn\n\t\t}\n\n\t\tthis.altKeyPressed = e.altKey\n\n\t\t// If the target changes position as the result of `dragenter`, `dragover` might still\n\t\t// get dispatched despite target being no longer there. The easy solution is to check\n\t\t// whether there actually is a target before firing `hover`.\n\t\tif (dragEnterTargetIds.length > 0) {\n\t\t\tthis.actions.hover(dragEnterTargetIds, {\n\t\t\t\tclientOffset: getEventClientOffset(e),\n\t\t\t})\n\t\t}\n\n\t\tconst canDrop = dragEnterTargetIds.some((targetId) =>\n\t\t\tthis.monitor.canDropOnTarget(targetId),\n\t\t)\n\n\t\tif (canDrop) {\n\t\t\t// IE requires this to fire dragover events\n\t\t\te.preventDefault()\n\t\t\tif (e.dataTransfer) {\n\t\t\t\te.dataTransfer.dropEffect = this.getCurrentDropEffect()\n\t\t\t}\n\t\t}\n\t}\n\n\tpublic handleTopDragOverCapture = (e: DragEvent): void => {\n\t\tthis.dragOverTargetIds = []\n\n\t\tif (this.isDraggingNativeItem()) {\n\t\t\tthis.currentNativeSource?.loadDataTransfer(e.dataTransfer)\n\t\t}\n\t}\n\n\tpublic handleDragOver(_e: DragEvent, targetId: string): void {\n\t\tif (this.dragOverTargetIds === null) {\n\t\t\tthis.dragOverTargetIds = []\n\t\t}\n\t\tthis.dragOverTargetIds.unshift(targetId)\n\t}\n\n\tpublic handleTopDragOver = (e: DragEvent): void => {\n\t\tconst { dragOverTargetIds } = this\n\t\tthis.dragOverTargetIds = []\n\n\t\tif (!this.monitor.isDragging()) {\n\t\t\t// This is probably a native item type we don't understand.\n\t\t\t// Prevent default \"drop and blow away the whole document\" action.\n\t\t\te.preventDefault()\n\t\t\tif (e.dataTransfer) {\n\t\t\t\te.dataTransfer.dropEffect = 'none'\n\t\t\t}\n\t\t\treturn\n\t\t}\n\n\t\tthis.altKeyPressed = e.altKey\n\t\tthis.lastClientOffset = getEventClientOffset(e)\n\n\t\tthis.scheduleHover(dragOverTargetIds)\n\n\t\tconst canDrop = (dragOverTargetIds || []).some((targetId) =>\n\t\t\tthis.monitor.canDropOnTarget(targetId),\n\t\t)\n\n\t\tif (canDrop) {\n\t\t\t// Show user-specified drop effect.\n\t\t\te.preventDefault()\n\t\t\tif (e.dataTransfer) {\n\t\t\t\te.dataTransfer.dropEffect = this.getCurrentDropEffect()\n\t\t\t}\n\t\t} else if (this.isDraggingNativeItem()) {\n\t\t\t// Don't show a nice cursor but still prevent default\n\t\t\t// \"drop and blow away the whole document\" action.\n\t\t\te.preventDefault()\n\t\t} else {\n\t\t\te.preventDefault()\n\t\t\tif (e.dataTransfer) {\n\t\t\t\te.dataTransfer.dropEffect = 'none'\n\t\t\t}\n\t\t}\n\t}\n\n\tpublic handleTopDragLeaveCapture = (e: DragEvent): void => {\n\t\tif (this.isDraggingNativeItem()) {\n\t\t\te.preventDefault()\n\t\t}\n\n\t\tconst isLastLeave = this.enterLeaveCounter.leave(e.target)\n\t\tif (!isLastLeave) {\n\t\t\treturn\n\t\t}\n\n\t\tif (this.isDraggingNativeItem()) {\n\t\t\tsetTimeout(() => this.endDragNativeItem(), 0)\n\t\t}\n\t\tthis.cancelHover()\n\t}\n\n\tpublic handleTopDropCapture = (e: DragEvent): void => {\n\t\tthis.dropTargetIds = []\n\n\t\tif (this.isDraggingNativeItem()) {\n\t\t\te.preventDefault()\n\t\t\tthis.currentNativeSource?.loadDataTransfer(e.dataTransfer)\n\t\t} else if (matchNativeItemType(e.dataTransfer)) {\n\t\t\t// Dragging some elements, like <a> and <img> may still behave like a native drag event,\n\t\t\t// even if the current drag event matches a user-defined type.\n\t\t\t// Stop the default behavior when we're not expecting a native item to be dropped.\n\n\t\t\te.preventDefault()\n\t\t}\n\n\t\tthis.enterLeaveCounter.reset()\n\t}\n\n\tpublic handleDrop(_e: DragEvent, targetId: string): void {\n\t\tthis.dropTargetIds.unshift(targetId)\n\t}\n\n\tpublic handleTopDrop = (e: DragEvent): void => {\n\t\tconst { dropTargetIds } = this\n\t\tthis.dropTargetIds = []\n\n\t\tthis.actions.hover(dropTargetIds, {\n\t\t\tclientOffset: getEventClientOffset(e),\n\t\t})\n\t\tthis.actions.drop({ dropEffect: this.getCurrentDropEffect() })\n\n\t\tif (this.isDraggingNativeItem()) {\n\t\t\tthis.endDragNativeItem()\n\t\t} else if (this.monitor.isDragging()) {\n\t\t\tthis.actions.endDrag()\n\t\t}\n\t\tthis.cancelHover()\n\t}\n\n\tpublic handleSelectStart = (e: DragEvent): void => {\n\t\tconst target = e.target as HTMLElement & { dragDrop: () => void }\n\n\t\t// Only IE requires us to explicitly say\n\t\t// we want drag drop operation to start\n\t\tif (typeof target.dragDrop !== 'function') {\n\t\t\treturn\n\t\t}\n\n\t\t// Inputs and textareas should be selectable\n\t\tif (\n\t\t\ttarget.tagName === 'INPUT' ||\n\t\t\ttarget.tagName === 'SELECT' ||\n\t\t\ttarget.tagName === 'TEXTAREA' ||\n\t\t\ttarget.isContentEditable\n\t\t) {\n\t\t\treturn\n\t\t}\n\n\t\t// For other targets, ask IE\n\t\t// to enable drag and drop\n\t\te.preventDefault()\n\t\ttarget.dragDrop()\n\t}\n}\n","import { union, without } from './utils/js_utils.js'\n\ntype NodePredicate = (node: Node | null | undefined) => boolean\n\nexport class EnterLeaveCounter {\n\tprivate entered: any[] = []\n\tprivate isNodeInDocument: NodePredicate\n\n\tpublic constructor(isNodeInDocument: NodePredicate) {\n\t\tthis.isNodeInDocument = isNodeInDocument\n\t}\n\n\tpublic enter(enteringNode: EventTarget | null): boolean {\n\t\tconst previousLength = this.entered.length\n\n\t\tconst isNodeEntered = (node: Node): boolean =>\n\t\t\tthis.isNodeInDocument(node) &&\n\t\t\t(!node.contains || node.contains(enteringNode as Node))\n\n\t\tthis.entered = union(this.entered.filter(isNodeEntered), [enteringNode])\n\n\t\treturn previousLength === 0 && this.entered.length > 0\n\t}\n\n\tpublic leave(leavingNode: EventTarget | null): boolean {\n\t\tconst previousLength = this.entered.length\n\n\t\tthis.entered = without(\n\t\t\tthis.entered.filter(this.isNodeInDocument),\n\t\t\tleavingNode,\n\t\t)\n\n\t\treturn previousLength > 0 && this.entered.length === 0\n\t}\n\n\tpublic reset(): void {\n\t\tthis.entered = []\n\t}\n}\n","import { isSafari, isFirefox } from './BrowserDetector.js'\nimport { MonotonicInterpolant } from './MonotonicInterpolant.js'\nimport type { XYCoord } from 'dnd-core'\n\nconst ELEMENT_NODE = 1\n\nexport function getNodeClientOffset(node: Node): XYCoord | null {\n\tconst el = node.nodeType === ELEMENT_NODE ? node : node.parentElement\n\n\tif (!el) {\n\t\treturn null\n\t}\n\n\tconst { top, left } = (el as HTMLElement).getBoundingClientRect()\n\treturn { x: left, y: top }\n}\n\nexport function getEventClientOffset(e: MouseEvent): XYCoord {\n\treturn {\n\t\tx: e.clientX,\n\t\ty: e.clientY,\n\t}\n}\n\nfunction isImageNode(node: any) {\n\treturn (\n\t\tnode.nodeName === 'IMG' &&\n\t\t(isFirefox() || !document.documentElement?.contains(node))\n\t)\n}\n\nfunction getDragPreviewSize(\n\tisImage: boolean,\n\tdragPreview: any,\n\tsourceWidth: number,\n\tsourceHeight: number,\n) {\n\tlet dragPreviewWidth = isImage ? dragPreview.width : sourceWidth\n\tlet dragPreviewHeight = isImage ? dragPreview.height : sourceHeight\n\n\t// Work around @2x coordinate discrepancies in browsers\n\tif (isSafari() && isImage) {\n\t\tdragPreviewHeight /= window.devicePixelRatio\n\t\tdragPreviewWidth /= window.devicePixelRatio\n\t}\n\treturn { dragPreviewWidth, dragPreviewHeight }\n}\n\nexport function getDragPreviewOffset(\n\tsourceNode: HTMLElement,\n\tdragPreview: HTMLElement,\n\tclientOffset: XYCoord,\n\tanchorPoint: { anchorX: number; anchorY: number },\n\toffsetPoint: { offsetX: number; offsetY: number },\n): XYCoord {\n\t// The browsers will use the image intrinsic size under different conditions.\n\t// Firefox only cares if it's an image, but WebKit also wants it to be detached.\n\tconst isImage = isImageNode(dragPreview)\n\tconst dragPreviewNode = isImage ? sourceNode : dragPreview\n\tconst dragPreviewNodeOffsetFromClient = getNodeClientOffset(\n\t\tdragPreviewNode,\n\t) as XYCoord\n\tconst offsetFromDragPreview = {\n\t\tx: clientOffset.x - dragPreviewNodeOffsetFromClient.x,\n\t\ty: clientOffset.y - dragPreviewNodeOffsetFromClient.y,\n\t}\n\tconst { offsetWidth: sourceWidth, offsetHeight: sourceHeight } = sourceNode\n\tconst { anchorX, anchorY } = anchorPoint\n\tconst { dragPreviewWidth, dragPreviewHeight } = getDragPreviewSize(\n\t\tisImage,\n\t\tdragPreview,\n\t\tsourceWidth,\n\t\tsourceHeight,\n\t)\n\n\tconst calculateYOffset = () => {\n\t\tconst interpolantY = new MonotonicInterpolant(\n\t\t\t[0, 0.5, 1],\n\t\t\t[\n\t\t\t\t// Dock to the top\n\t\t\t\toffsetFromDragPreview.y,\n\t\t\t\t// Align at the center\n\t\t\t\t(offsetFromDragPreview.y / sourceHeight) * dragPreviewHeight,\n\t\t\t\t// Dock to the bottom\n\t\t\t\toffsetFromDragPreview.y + dragPreviewHeight - sourceHeight,\n\t\t\t],\n\t\t)\n\t\tlet y = interpolantY.interpolate(anchorY)\n\t\t// Work around Safari 8 positioning bug\n\t\tif (isSafari() && isImage) {\n\t\t\t// We'll have to wait for @3x to see if this is entirely correct\n\t\t\ty += (window.devicePixelRatio - 1) * dragPreviewHeight\n\t\t}\n\t\treturn y\n\t}\n\n\tconst calculateXOffset = () => {\n\t\t// Interpolate coordinates depending on anchor point\n\t\t// If you know a simpler way to do this, let me know\n\t\tconst interpolantX = new MonotonicInterpolant(\n\t\t\t[0, 0.5, 1],\n\t\t\t[\n\t\t\t\t// Dock to the left\n\t\t\t\toffsetFromDragPreview.x,\n\t\t\t\t// Align at the center\n\t\t\t\t(offsetFromDragPreview.x / sourceWidth) * dragPreviewWidth,\n\t\t\t\t// Dock to the right\n\t\t\t\toffsetFromDragPreview.x + dragPreviewWidth - sourceWidth,\n\t\t\t],\n\t\t)\n\t\treturn interpolantX.interpolate(anchorX)\n\t}\n\n\t// Force offsets if specified in the options.\n\tconst { offsetX, offsetY } = offsetPoint\n\tconst isManualOffsetX = offsetX === 0 || offsetX\n\tconst isManualOffsetY = offsetY === 0 || offsetY\n\treturn {\n\t\tx: isManualOffsetX ? offsetX : calculateXOffset(),\n\t\ty: isManualOffsetY ? offsetY : calculateYOffset(),\n\t}\n}\n","import { memoize } from './utils/js_utils.js'\n\ndeclare global {\n\tinterface Window extends HTMLElement {\n\t\tsafari: any\n\t}\n}\n\nexport type Predicate = () => boolean\nexport const isFirefox: Predicate = memoize(() =>\n\t/firefox/i.test(navigator.userAgent),\n)\nexport const isSafari: Predicate = memoize(() => Boolean(window.safari))\n","export class MonotonicInterpolant {\n\tprivate xs: any\n\tprivate ys: any\n\tprivate c1s: any\n\tprivate c2s: any\n\tprivate c3s: any\n\n\tpublic constructor(xs: number[], ys: number[]) {\n\t\tconst { length } = xs\n\n\t\t// Rearrange xs and ys so that xs is sorted\n\t\tconst indexes = []\n\t\tfor (let i = 0; i < length; i++) {\n\t\t\tindexes.push(i)\n\t\t}\n\t\tindexes.sort((a, b) => ((xs[a] as number) < (xs[b] as number) ? -1 : 1))\n\n\t\t// Get consecutive differences and slopes\n\t\tconst dys = []\n\t\tconst dxs = []\n\t\tconst ms = []\n\t\tlet dx\n\t\tlet dy\n\t\tfor (let i = 0; i < length - 1; i++) {\n\t\t\tdx = (xs[i + 1] as number) - (xs[i] as number)\n\t\t\tdy = (ys[i + 1] as number) - (ys[i] as number)\n\t\t\tdxs.push(dx)\n\t\t\tdys.push(dy)\n\t\t\tms.push(dy / dx)\n\t\t}\n\n\t\t// Get degree-1 coefficients\n\t\tconst c1s = [ms[0]]\n\t\tfor (let i = 0; i < dxs.length - 1; i++) {\n\t\t\tconst m2 = ms[i] as number\n\t\t\tconst mNext = ms[i + 1] as number\n\t\t\tif (m2 * mNext <= 0) {\n\t\t\t\tc1s.push(0)\n\t\t\t} else {\n\t\t\t\tdx = dxs[i] as number\n\t\t\t\tconst dxNext = dxs[i + 1] as number\n\t\t\t\tconst common = dx + dxNext\n\t\t\t\tc1s.push(\n\t\t\t\t\t(3 * common) / ((common + dxNext) / m2 + (common + dx) / mNext),\n\t\t\t\t)\n\t\t\t}\n\t\t}\n\t\tc1s.push(ms[ms.length - 1])\n\n\t\t// Get degree-2 and degree-3 coefficients\n\t\tconst c2s = []\n\t\tconst c3s = []\n\t\tlet m\n\t\tfor (let i = 0; i < c1s.length - 1; i++) {\n\t\t\tm = ms[i] as number\n\t\t\tconst c1 = c1s[i] as number\n\t\t\tconst invDx = 1 / (dxs[i] as number)\n\t\t\tconst common = c1 + (c1s[i + 1] as number) - m - m\n\t\t\tc2s.push((m - c1 - common) * invDx)\n\t\t\tc3s.push(common * invDx * invDx)\n\t\t}\n\n\t\tthis.xs = xs\n\t\tthis.ys = ys\n\t\tthis.c1s = c1s\n\t\tthis.c2s = c2s\n\t\tthis.c3s = c3s\n\t}\n\n\tpublic interpolate(x: number): number {\n\t\tconst { xs, ys, c1s, c2s, c3s } = this\n\n\t\t// The rightmost point in the dataset should give an exact result\n\t\tlet i = xs.length - 1\n\t\tif (x === xs[i]) {\n\t\t\treturn ys[i]\n\t\t}\n\n\t\t// Search for the interval x is in, returning the corresponding y if x is one of the original xs\n\t\tlet low = 0\n\t\tlet high = c3s.length - 1\n\t\tlet mid\n\t\twhile (low <= high) {\n\t\t\tmid = Math.floor(0.5 * (low + high))\n\t\t\tconst xHere = xs[mid]\n\t\t\tif (xHere < x) {\n\t\t\t\tlow = mid + 1\n\t\t\t} else if (xHere > x) {\n\t\t\t\thigh = mid - 1\n\t\t\t} else {\n\t\t\t\treturn ys[mid]\n\t\t\t}\n\t\t}\n\t\ti = Math.max(0, high)\n\n\t\t// Interpolate\n\t\tconst diff = x - xs[i]\n\t\tconst diffSq = diff * diff\n\t\treturn ys[i] + c1s[i] * diff + c2s[i] * diffSq + c3s[i] * diff * diffSq\n\t}\n}\n","import { nativeTypesConfig } from './nativeTypesConfig.js'\nimport { NativeDragSource } from './NativeDragSource.js'\n\nexport function createNativeDragSource(\n\ttype: string,\n\tdataTransfer?: DataTransfer,\n): NativeDragSource {\n\tconst config = nativeTypesConfig[type]\n\tif (!config) {\n\t\tthrow new Error(`native type ${type} has no configuration`)\n\t}\n\tconst result = new NativeDragSource(config)\n\tresult.loadDataTransfer(dataTransfer)\n\treturn result\n}\n\nexport function matchNativeItemType(\n\tdataTransfer: DataTransfer | null,\n): string | null {\n\tif (!dataTransfer) {\n\t\treturn null\n\t}\n\n\tconst dataTransferTypes = Array.prototype.slice.call(dataTransfer.types || [])\n\treturn (\n\t\tObject.keys(nativeTypesConfig).filter((nativeItemType) => {\n\t\t\tconst typeConfig = nativeTypesConfig[nativeItemType]\n\t\t\tif (!typeConfig?.matchesTypes) {\n\t\t\t\treturn false\n\t\t\t}\n\t\t\treturn typeConfig.matchesTypes.some(\n\t\t\t\t(t) => dataTransferTypes.indexOf(t) > -1,\n\t\t\t)\n\t\t})[0] || null\n\t)\n}\n","import * as NativeTypes from '../NativeTypes.js'\nimport { getDataFromDataTransfer } from './getDataFromDataTransfer.js'\n\nexport interface NativeItemConfigExposePropreties {\n\t[property: string]: (\n\t\tdataTransfer: DataTransfer,\n\t\tmatchesTypes: string[],\n\t) => any\n}\n\nexport interface NativeItemConfig {\n\texposeProperties: NativeItemConfigExposePropreties\n\tmatchesTypes: string[]\n}\n\nexport const nativeTypesConfig: {\n\t[key: string]: NativeItemConfig\n} = {\n\t[NativeTypes.FILE]: {\n\t\texposeProperties: {\n\t\t\tfiles: (dataTransfer: DataTransfer): File[] =>\n\t\t\t\tArray.prototype.slice.call(dataTransfer.files),\n\t\t\titems: (dataTransfer: DataTransfer): DataTransferItemList =>\n\t\t\t\tdataTransfer.items,\n\t\t\tdataTransfer: (dataTransfer: DataTransfer): DataTransfer => dataTransfer,\n\t\t},\n\t\tmatchesTypes: ['Files'],\n\t},\n\t[NativeTypes.HTML]: {\n\t\texposeProperties: {\n\t\t\thtml: (dataTransfer: DataTransfer, matchesTypes: string[]): string =>\n\t\t\t\tgetDataFromDataTransfer(dataTransfer, matchesTypes, ''),\n\t\t\tdataTransfer: (dataTransfer: DataTransfer): DataTransfer => dataTransfer,\n\t\t},\n\t\tmatchesTypes: ['Html', 'text/html'],\n\t},\n\t[NativeTypes.URL]: {\n\t\texposeProperties: {\n\t\t\turls: (dataTransfer: DataTransfer, matchesTypes: string[]): string[] =>\n\t\t\t\tgetDataFromDataTransfer(dataTransfer, matchesTypes, '').split('\\n'),\n\t\t\tdataTransfer: (dataTransfer: DataTransfer): DataTransfer => dataTransfer,\n\t\t},\n\t\tmatchesTypes: ['Url', 'text/uri-list'],\n\t},\n\t[NativeTypes.TEXT]: {\n\t\texposeProperties: {\n\t\t\ttext: (dataTransfer: DataTransfer, matchesTypes: string[]): string =>\n\t\t\t\tgetDataFromDataTransfer(dataTransfer, matchesTypes, ''),\n\t\t\tdataTransfer: (dataTransfer: DataTransfer): DataTransfer => dataTransfer,\n\t\t},\n\t\tmatchesTypes: ['Text', 'text/plain'],\n\t},\n}\n","function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty;","export function getDataFromDataTransfer(\n\tdataTransfer: DataTransfer,\n\ttypesToTry: string[],\n\tdefaultValue: string,\n): string {\n\tconst result = typesToTry.reduce(\n\t\t(resultSoFar, typeToTry) => resultSoFar || dataTransfer.getData(typeToTry),\n\t\t'',\n\t)\n\n\treturn result != null ? result : defaultValue\n}\n","import type { NativeItemConfig } from './nativeTypesConfig.js'\nimport type { DragDropMonitor } from 'dnd-core'\n\nexport class NativeDragSource {\n\tpublic item: any\n\tprivate config: NativeItemConfig\n\n\tpublic constructor(config: NativeItemConfig) {\n\t\tthis.config = config\n\t\tthis.item = {}\n\t\tthis.initializeExposedProperties()\n\t}\n\n\tprivate initializeExposedProperties() {\n\t\tObject.keys(this.config.exposeProperties).forEach((property) => {\n\t\t\tObject.defineProperty(this.item, property, {\n\t\t\t\tconfigurable: true, // This is needed to allow redefining it later\n\t\t\t\tenumerable: true,\n\t\t\t\tget() {\n\t\t\t\t\t// eslint-disable-next-line no-console\n\t\t\t\t\tconsole.warn(\n\t\t\t\t\t\t`Browser doesn't allow reading \"${property}\" until the drop event.`,\n\t\t\t\t\t)\n\t\t\t\t\treturn null\n\t\t\t\t},\n\t\t\t})\n\t\t})\n\t}\n\n\tpublic loadDataTransfer(dataTransfer: DataTransfer | null | undefined): void {\n\t\tif (dataTransfer) {\n\t\t\tconst newProperties: PropertyDescriptorMap = {}\n\t\t\tObject.keys(this.config.exposeProperties).forEach((property) => {\n\t\t\t\tconst propertyFn = this.config.exposeProperties[property]\n\t\t\t\tif (propertyFn != null) {\n\t\t\t\t\tnewProperties[property] = {\n\t\t\t\t\t\tvalue: propertyFn(dataTransfer, this.config.matchesTypes),\n\t\t\t\t\t\tconfigurable: true,\n\t\t\t\t\t\tenumerable: true,\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t\tObject.defineProperties(this.item, newProperties)\n\t\t}\n\t}\n\n\tpublic canDrag(): boolean {\n\t\treturn true\n\t}\n\n\tpublic beginDrag(): any {\n\t\treturn this.item\n\t}\n\n\tpublic isDragging(monitor: DragDropMonitor, handle: string): boolean {\n\t\treturn handle === monitor.getSourceId()\n\t}\n\n\tpublic endDrag(): void {\n\t\t// empty\n\t}\n}\n","import type { HTML5BackendContext, HTML5BackendOptions } from './types.js'\n\nexport class OptionsReader {\n\tpublic ownerDocument: Document | null = null\n\tprivate globalContext: HTML5BackendContext\n\tprivate optionsArgs: HTML5BackendOptions | undefined\n\n\tpublic constructor(\n\t\tglobalContext: HTML5BackendContext,\n\t\toptions?: HTML5BackendOptions,\n\t) {\n\t\tthis.globalContext = globalContext\n\t\tthis.optionsArgs = options\n\t}\n\n\tpublic get window(): Window | undefined {\n\t\tif (this.globalContext) {\n\t\t\treturn this.globalContext\n\t\t} else if (typeof window !== 'undefined') {\n\t\t\treturn window\n\t\t}\n\t\treturn undefined\n\t}\n\n\tpublic get document(): Document | undefined {\n\t\tif (this.globalContext?.document) {\n\t\t\treturn this.globalContext.document\n\t\t} else if (this.window) {\n\t\t\treturn this.window.document\n\t\t} else {\n\t\t\treturn undefined\n\t\t}\n\t}\n\n\tpublic get rootElement(): Node | undefined {\n\t\treturn this.optionsArgs?.rootElement || this.window\n\t}\n}\n","let emptyImage: HTMLImageElement | undefined\n\nexport function getEmptyImage(): HTMLImageElement {\n\tif (!emptyImage) {\n\t\temptyImage = new Image()\n\t\temptyImage.src =\n\t\t\t'data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=='\n\t}\n\n\treturn emptyImage\n}\n","function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from 'react';\nimport { memo } from 'react';\nimport { DndContext, createDndContext } from './DndContext';\nvar refCount = 0;\n/**\n * A React component that provides the React-DnD context\n */\n\nexport var DndProvider = memo(function (_ref) {\n  var children = _ref.children,\n      props = _objectWithoutProperties(_ref, [\"children\"]);\n\n  var _getDndContextValue = getDndContextValue(props),\n      _getDndContextValue2 = _slicedToArray(_getDndContextValue, 2),\n      manager = _getDndContextValue2[0],\n      isGlobalInstance = _getDndContextValue2[1]; // memoized from props\n\n  /**\n   * If the global context was used to store the DND context\n   * then where theres no more references to it we should\n   * clean it up to avoid memory leaks\n   */\n\n\n  React.useEffect(function () {\n    if (isGlobalInstance) {\n      refCount++;\n    }\n\n    return function () {\n      if (isGlobalInstance) {\n        refCount--;\n\n        if (refCount === 0) {\n          var context = getGlobalContext();\n          context[instanceSymbol] = null;\n        }\n      }\n    };\n  }, []);\n  return React.createElement(DndContext.Provider, {\n    value: manager\n  }, children);\n});\nDndProvider.displayName = 'DndProvider';\n\nfunction getDndContextValue(props) {\n  if ('manager' in props) {\n    var _manager = {\n      dragDropManager: props.manager\n    };\n    return [_manager, false];\n  }\n\n  var manager = createSingletonDndContext(props.backend, props.context, props.options, props.debugMode);\n  var isGlobalInstance = !props.context;\n  return [manager, isGlobalInstance];\n}\n\nvar instanceSymbol = Symbol.for('__REACT_DND_CONTEXT_INSTANCE__');\n\nfunction createSingletonDndContext(backend) {\n  var context = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : getGlobalContext();\n  var options = arguments.length > 2 ? arguments[2] : undefined;\n  var debugMode = arguments.length > 3 ? arguments[3] : undefined;\n  var ctx = context;\n\n  if (!ctx[instanceSymbol]) {\n    ctx[instanceSymbol] = createDndContext(backend, context, options, debugMode);\n  }\n\n  return ctx[instanceSymbol];\n}\n\nfunction getGlobalContext() {\n  return typeof global !== 'undefined' ? global : window;\n}"],"sourceRoot":""}