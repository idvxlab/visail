(this["webpackJsonpcalliope-lite-backbone"]=this["webpackJsonpcalliope-lite-backbone"]||[]).push([[7,4,5,8,12,13,27,28],Array(21).concat([function(e,t,n){"use strict";n.r(t);var r=n(17),a=n(129),i=n(141),o=n(128),c=n(46);t.default=Object(r.b)((function(e){return{fileName:Object(i.d)(e),timeValue:Object(a.B)(e),chartScale:Object(a.b)(e),chartMargin:Object(a.a)(e),segmentInsightsStorage:Object(a.v)(e),drawScale:Object(a.j)(e),file_url:Object(i.e)(e),schema:Object(i.n)(e),timeColumnName:Object(a.A)(e),columnsName:Object(a.c)(e),originFileUrl:Object(i.i)(e),originSchema:Object(i.j)(e),originDataRange:Object(a.n)(e),originColumnName:Object(a.m)(e),originTimeValue:Object(a.o)(e),sequence:Object(a.y)(e),selectedCardIndex:Object(a.w)(e),rightBtnState:Object(a.u)(e),selectedRecommendCardIndex:Object(a.x)(e),configureInsightColumns:Object(a.e)(e),configureInsightTime:Object(a.f)(e),dataRange:Object(a.i)(e),isPopInsightCard:Object(a.l)(e),currentPopInsightList:Object(a.h)(e)}}),(function(e){return{setTooltipContainer:function(t){return e(o.y(t))},setScale:function(t){return e(o.t(t))},setPopInsightCardState:function(t){return e(o.o(t))},setCurrentPopInsights:function(t){return e(o.m(t))},setConfigureInsightTime:function(t,n){return e(o.k(t,n))}}}))(c.default)},,function(e,t,n){"use strict";n.r(t);var r=n(17),a=n(141),i=n(129),o=n(343),c=n(225),s=n(31),l=n(52);t.default=Object(r.b)((function(e){return{rightBtnState:Object(i.u)(e),file_url:Object(a.e)(e),schema:Object(a.n)(e),facts:Object(a.c)(e),relations:Object(a.k)(e),data:Object(a.b)(e),title:Object(a.p)(e),resultCoverage:Object(a.l)(e),fileName:Object(a.d)(e),storyParameter:Object(a.o)(e),maxStoryLength:Object(a.g)(e),rewardWeight:Object(a.m)(e),aggregationLevel:Object(a.a)(e),generateProgress:Object(a.f)(e)}}),(function(e){return{uploadData:function(t,n,r,a){return e(o.a(t,n,r,a))},generateStory:function(t,n,r){return e(c.a(t,n,r))},updateProgress:function(t,n){return e(c.c(t,n))},updateCovertType:function(t){return e(s.a(t))},updateOperation:function(t){return e(s.c(t))}}}))(l.default)},,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return $u}));n(125),n(255),n(148);var r=n(10),a=n(27),i=n(2),o=n(117),c=n(116),s=n.n(c),l=n(120),u=n(0),d=n.n(u),p=n(174),f=n.n(p),h=n(157),g=n(121),v=n(20),m=n(142),b=u.createContext({min:0,max:0,direction:"ltr",step:1,includedStart:0,includedEnd:0,tabIndex:0});function y(e,t,n){return(e-t)/(n-t)}function x(e,t,n,r){var a=y(t,n,r),i={};switch(e){case"rtl":i.right="".concat(100*a,"%"),i.transform="translateX(50%)";break;case"btt":i.bottom="".concat(100*a,"%"),i.transform="translateY(50%)";break;case"ttb":i.top="".concat(100*a,"%"),i.transform="translateY(-50%)";break;default:i.left="".concat(100*a,"%"),i.transform="translateX(-50%)"}return i}function O(e,t){return Array.isArray(e)?e[t]:e}var w=["prefixCls","value","valueIndex","onStartMove","style","render","dragging","onOffsetChange"];var C=u.forwardRef((function(e,t){var n,r,o=e.prefixCls,c=e.value,l=e.valueIndex,d=e.onStartMove,p=e.style,f=e.render,h=e.dragging,y=e.onOffsetChange,C=Object(g.a)(e,w),k=u.useContext(b),j=k.min,E=k.max,S=k.direction,T=k.disabled,I=k.range,P=k.tabIndex,D=k.ariaLabelForHandle,N=k.ariaLabelledByForHandle,A=k.ariaValueTextFormatterForHandle,_="".concat(o,"-handle"),M=function(e){T||d(e,l)},R=x(S,c,j,E),F=u.createElement("div",Object(i.a)({ref:t,className:s()(_,(n={},Object(a.a)(n,"".concat(_,"-").concat(l+1),I),Object(a.a)(n,"".concat(_,"-dragging"),h),n)),style:Object(v.a)(Object(v.a)({},R),p),onMouseDown:M,onTouchStart:M,onKeyDown:function(e){if(!T){var t=null;switch(e.which||e.keyCode){case m.a.LEFT:t="ltr"===S||"btt"===S?-1:1;break;case m.a.RIGHT:t="ltr"===S||"btt"===S?1:-1;break;case m.a.UP:t="ttb"!==S?1:-1;break;case m.a.DOWN:t="ttb"!==S?-1:1;break;case m.a.HOME:t="min";break;case m.a.END:t="max";break;case m.a.PAGE_UP:t=2;break;case m.a.PAGE_DOWN:t=-2}null!==t&&(e.preventDefault(),y(t,l))}},tabIndex:T?null:O(P,l),role:"slider","aria-valuemin":j,"aria-valuemax":E,"aria-valuenow":c,"aria-disabled":T,"aria-label":O(D,l),"aria-labelledby":O(N,l),"aria-valuetext":null===(r=O(A,l))||void 0===r?void 0:r(c)},C));return f&&(F=f(F,{index:l,prefixCls:o,value:c,dragging:h})),F})),k=["prefixCls","style","onStartMove","onOffsetChange","values","handleRender","draggingIndex"];var j=u.forwardRef((function(e,t){var n=e.prefixCls,r=e.style,a=e.onStartMove,o=e.onOffsetChange,c=e.values,s=e.handleRender,l=e.draggingIndex,d=Object(g.a)(e,k),p=u.useRef({});return u.useImperativeHandle(t,(function(){return{focus:function(e){var t;null===(t=p.current[e])||void 0===t||t.focus()}}})),u.createElement(u.Fragment,null,c.map((function(e,t){return u.createElement(C,Object(i.a)({ref:function(e){e?p.current[t]=e:delete p.current[t]},dragging:l===t,prefixCls:n,style:O(r,t),key:t,value:e,valueIndex:t,onStartMove:a,onOffsetChange:o,render:s},d))})))}));function E(e){var t="touches"in e?e.touches[0]:e;return{pageX:t.pageX,pageY:t.pageY}}function S(e){var t=e.prefixCls,n=e.style,r=e.start,a=e.end,i=e.index,o=e.onStartMove,c=u.useContext(b),l=c.direction,d=c.min,p=c.max,f=c.disabled,h=c.range,g="".concat(t,"-track"),m=y(r,d,p),x=y(a,d,p),O=function(e){!f&&o&&o(e,-1)},w={};switch(l){case"rtl":w.right="".concat(100*m,"%"),w.width="".concat(100*x-100*m,"%");break;case"btt":w.bottom="".concat(100*m,"%"),w.height="".concat(100*x-100*m,"%");break;case"ttb":w.top="".concat(100*m,"%"),w.height="".concat(100*x-100*m,"%");break;default:w.left="".concat(100*m,"%"),w.width="".concat(100*x-100*m,"%")}return u.createElement("div",{className:s()(g,h&&"".concat(g,"-").concat(i+1)),style:Object(v.a)(Object(v.a)({},w),n),onMouseDown:O,onTouchStart:O})}function T(e){var t=e.prefixCls,n=e.style,r=e.values,a=e.startPoint,i=e.onStartMove,o=u.useContext(b),c=o.included,s=o.range,l=o.min,d=u.useMemo((function(){if(!s){if(0===r.length)return[];var e=null!==a&&void 0!==a?a:l,t=r[0];return[{start:Math.min(e,t),end:Math.max(e,t)}]}for(var n=[],i=0;i<r.length-1;i+=1)n.push({start:r[i],end:r[i+1]});return n}),[r,s,a,l]);return c?d.map((function(e,r){var a=e.start,o=e.end;return u.createElement(S,{index:r,prefixCls:t,style:O(n,r),start:a,end:o,key:r,onStartMove:i})})):null}function I(e){var t=e.prefixCls,n=e.style,r=e.children,i=e.value,o=e.onClick,c=u.useContext(b),l=c.min,d=c.max,p=c.direction,f=c.includedStart,h=c.includedEnd,g=c.included,m="".concat(t,"-text"),y=x(p,i,l,d);return u.createElement("span",{className:s()(m,Object(a.a)({},"".concat(m,"-active"),g&&f<=i&&i<=h)),style:Object(v.a)(Object(v.a)({},y),n),onMouseDown:function(e){e.stopPropagation()},onClick:function(){o(i)}},r)}function P(e){var t=e.prefixCls,n=e.marks,r=e.onClick,a="".concat(t,"-mark");return n.length?u.createElement("div",{className:a},n.map((function(e){var t=e.value,n=e.style,i=e.label;return u.createElement(I,{key:t,prefixCls:a,style:n,value:t,onClick:r},i)}))):null}function D(e){var t=e.prefixCls,n=e.value,r=e.style,i=e.activeStyle,o=u.useContext(b),c=o.min,l=o.max,d=o.direction,p=o.included,f=o.includedStart,h=o.includedEnd,g="".concat(t,"-dot"),m=p&&f<=n&&n<=h,y=Object(v.a)(Object(v.a)({},x(d,n,c,l)),"function"===typeof r?r(n):r);return m&&(y=Object(v.a)(Object(v.a)({},y),"function"===typeof i?i(n):i)),u.createElement("span",{className:s()(g,Object(a.a)({},"".concat(g,"-active"),m)),style:y})}function N(e){var t=e.prefixCls,n=e.marks,r=e.dots,a=e.style,i=e.activeStyle,o=u.useContext(b),c=o.min,s=o.max,l=o.step,d=u.useMemo((function(){var e=new Set;if(n.forEach((function(t){e.add(t.value)})),r&&null!==l)for(var t=c;t<=s;)e.add(t),t+=l;return Array.from(e)}),[c,s,l,r,n]);return u.createElement("div",{className:"".concat(t,"-step")},d.map((function(e){return u.createElement(D,{prefixCls:t,key:e,value:e,style:a,activeStyle:i})})))}var A=n(127);var M=u.forwardRef((function(e,t){var n,i=e.prefixCls,c=void 0===i?"rc-slider":i,d=e.className,p=e.style,g=e.disabled,v=void 0!==g&&g,m=e.autoFocus,y=e.onFocus,x=e.onBlur,O=e.min,w=void 0===O?0:O,C=e.max,k=void 0===C?100:C,S=e.step,I=void 0===S?1:S,D=e.value,A=e.defaultValue,_=e.range,M=e.count,R=e.onChange,F=e.onBeforeChange,B=e.onAfterChange,L=e.allowCross,G=void 0===L||L,q=e.pushable,z=void 0!==q&&q,H=e.draggableTrack,U=e.reverse,V=e.vertical,Y=e.included,W=void 0===Y||Y,K=e.startPoint,X=e.trackStyle,J=e.handleStyle,$=e.railStyle,Z=e.dotStyle,Q=e.activeDotStyle,ee=e.marks,te=e.dots,ne=e.handleRender,re=e.tabIndex,ae=void 0===re?0:re,ie=e.ariaLabelForHandle,oe=e.ariaLabelledByForHandle,ce=e.ariaValueTextFormatterForHandle,se=u.useRef(),le=u.useRef(),ue=u.useMemo((function(){return V?U?"ttb":"btt":U?"rtl":"ltr"}),[U,V]),de=u.useMemo((function(){return isFinite(w)?w:0}),[w]),pe=u.useMemo((function(){return isFinite(k)?k:100}),[k]),fe=u.useMemo((function(){return null!==I&&I<=0?1:I}),[I]),he=u.useMemo((function(){return!0===z?fe:z>=0&&z}),[z,fe]),ge=u.useMemo((function(){return Object.keys(ee||{}).map((function(e){var t=ee[e],n={value:Number(e)};return t&&"object"===Object(r.a)(t)&&!u.isValidElement(t)&&("label"in t||"style"in t)?(n.style=t.style,n.label=t.label):n.label=t,n})).filter((function(e){var t=e.label;return t||"number"===typeof t})).sort((function(e,t){return e.value-t.value}))}),[ee]),ve=function(e,t,n,r,a,i){var o=u.useCallback((function(n){var r=isFinite(n)?n:e;return r=Math.min(t,n),r=Math.max(e,r)}),[e,t]),c=u.useCallback((function(r){if(null!==n){var a=e+Math.round((o(r)-e)/n)*n,i=function(e){return(String(e).split(".")[1]||"").length},c=Math.max(i(n),i(t),i(e)),s=Number(a.toFixed(c));return e<=s&&s<=t?s:null}return null}),[n,e,t,o]),s=u.useCallback((function(a){var i=o(a),s=r.map((function(e){return e.value}));null!==n&&s.push(c(a)),s.push(e,t);var l=s[0],u=t-e;return s.forEach((function(e){var t=Math.abs(i-e);t<=u&&(l=e,u=t)})),l}),[e,t,r,n,o,c]),d=function a(i,o,s){var u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"unit";if("number"===typeof o){var d,p=i[s],f=p+o,h=[];r.forEach((function(e){h.push(e.value)})),h.push(e,t),h.push(c(p));var g=o>0?1:-1;"unit"===u?h.push(c(p+g*n)):h.push(c(f)),h=h.filter((function(e){return null!==e})).filter((function(e){return o<0?e<=p:e>=p})),"unit"===u&&(h=h.filter((function(e){return e!==p})));var v="unit"===u?p:f;d=h[0];var m=Math.abs(d-v);if(h.forEach((function(e){var t=Math.abs(e-v);t<m&&(d=e,m=t)})),void 0===d)return o<0?e:t;if("dist"===u)return d;if(Math.abs(o)>1){var b=Object(l.a)(i);return b[s]=d,a(b,o-g,s,u)}return d}return"min"===o?e:"max"===o?t:void 0},p=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"unit",a=e[n],i=d(e,t,n,r);return{value:i,changed:i!==a}},f=function(e){return null===i&&0===e||"number"===typeof i&&e<i};return[s,function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"unit",o=e.map(s),c=o[n],l=d(o,t,n,r);if(o[n]=l,!1===a){var u=i||0;n>0&&o[n-1]!==c&&(o[n]=Math.max(o[n],o[n-1]+u)),n<o.length-1&&o[n+1]!==c&&(o[n]=Math.min(o[n],o[n+1]-u))}else if("number"===typeof i||null===i){for(var h=n+1;h<o.length;h+=1)for(var g=!0;f(o[h]-o[h-1])&&g;){var v=p(o,1,h);o[h]=v.value,g=v.changed}for(var m=n;m>0;m-=1)for(var b=!0;f(o[m]-o[m-1])&&b;){var y=p(o,-1,m-1);o[m-1]=y.value,b=y.changed}for(var x=o.length-1;x>0;x-=1)for(var O=!0;f(o[x]-o[x-1])&&O;){var w=p(o,-1,x-1);o[x-1]=w.value,O=w.changed}for(var C=0;C<o.length-1;C+=1)for(var k=!0;f(o[C+1]-o[C])&&k;){var j=p(o,1,C+1);o[C+1]=j.value,k=j.changed}}return{value:o[n],values:o}}]}(de,pe,fe,ge,G,he),me=Object(o.a)(ve,2),be=me[0],ye=me[1],xe=Object(h.a)(A,{value:D}),Oe=Object(o.a)(xe,2),we=Oe[0],Ce=Oe[1],ke=u.useMemo((function(){var e=null===we||void 0===we?[]:Array.isArray(we)?we:[we],t=Object(o.a)(e,1)[0],n=null===we?[]:[void 0===t?de:t];if(_){if(n=Object(l.a)(e),M||void 0===we){var r=M>=0?M+1:2;for(n=n.slice(0,r);n.length<r;){var a;n.push(null!==(a=n[n.length-1])&&void 0!==a?a:de)}}n.sort((function(e,t){return e-t}))}return n.forEach((function(e,t){n[t]=be(e)})),n}),[we,_,de,M,be]),je=u.useRef(ke);je.current=ke;var Ee=function(e){return _?e:e[0]},Se=function(e){var t=Object(l.a)(e).sort((function(e,t){return e-t}));R&&!f()(t,je.current)&&R(Ee(t)),Ce(t)},Te=function(e){if(!v){var t=0,n=pe-de;ke.forEach((function(r,a){var i=Math.abs(e-r);i<=n&&(n=i,t=a)}));var r=Object(l.a)(ke);r[t]=e,_&&!ke.length&&void 0===M&&r.push(e),null===F||void 0===F||F(Ee(r)),Se(r),null===B||void 0===B||B(Ee(r))}},Ie=u.useState(null),Pe=Object(o.a)(Ie,2),De=Pe[0],Ne=Pe[1];u.useEffect((function(){if(null!==De){var e=ke.indexOf(De);e>=0&&se.current.focus(e)}Ne(null)}),[De]);var Ae=u.useMemo((function(){return(!H||null!==fe)&&H}),[H,fe]),_e=function(e,t,n,r,a,i,c,s,d){var p=u.useState(null),f=Object(o.a)(p,2),h=f[0],g=f[1],v=u.useState(-1),m=Object(o.a)(v,2),b=m[0],y=m[1],x=u.useState(n),O=Object(o.a)(x,2),w=O[0],C=O[1],k=u.useState(n),j=Object(o.a)(k,2),S=j[0],T=j[1],I=u.useRef(null),P=u.useRef(null);u.useEffect((function(){-1===b&&C(n)}),[n,b]),u.useEffect((function(){return function(){document.removeEventListener("mousemove",I.current),document.removeEventListener("mouseup",P.current),document.removeEventListener("touchmove",I.current),document.removeEventListener("touchend",P.current)}}),[]);var D=function(e,t){w.some((function(t,n){return t!==e[n]}))&&(void 0!==t&&g(t),C(e),c(e))},N=function(e,t){if(-1===e){var n=S[0],o=S[S.length-1],c=r-n,s=a-o,u=t*(a-r);u=Math.max(u,c),u=Math.min(u,s);var p=i(n+u);u=p-n;var f=S.map((function(e){return e+u}));D(f)}else{var h=(a-r)*t,g=Object(l.a)(w);g[e]=S[e];var v=d(g,h,e,"dist");D(v.values,v.value)}},A=u.useRef(N);A.current=N;var _=u.useMemo((function(){var e=Object(l.a)(n).sort((function(e,t){return e-t})),t=Object(l.a)(w).sort((function(e,t){return e-t}));return e.every((function(e,n){return e===t[n]}))?w:n}),[n,w]);return[b,h,_,function(r,a){r.stopPropagation();var i=n[a];y(a),g(i),T(n);var o=E(r),c=o.pageX,l=o.pageY,u=function(n){n.preventDefault();var r,i=E(n),o=i.pageX,s=i.pageY,u=o-c,d=s-l,p=e.current.getBoundingClientRect(),f=p.width,h=p.height;switch(t){case"btt":r=-d/h;break;case"ttb":r=d/h;break;case"rtl":r=-u/f;break;default:r=u/f}A.current(a,r)},d=function e(t){t.preventDefault(),document.removeEventListener("mouseup",e),document.removeEventListener("mousemove",u),document.removeEventListener("touchend",e),document.removeEventListener("touchmove",u),I.current=null,P.current=null,y(-1),s()};document.addEventListener("mouseup",d),document.addEventListener("mousemove",u),document.addEventListener("touchend",d),document.addEventListener("touchmove",u),I.current=u,P.current=d}]}(le,ue,ke,de,pe,be,Se,(function(){null===B||void 0===B||B(Ee(je.current))}),ye),Me=Object(o.a)(_e,4),Re=Me[0],Fe=Me[1],Be=Me[2],Le=Me[3],Ge=function(e,t){Le(e,t),null===F||void 0===F||F(Ee(je.current))},qe=-1!==Re;u.useEffect((function(){if(!qe){var e=ke.lastIndexOf(Fe);se.current.focus(e)}}),[qe]);var ze=u.useMemo((function(){return Object(l.a)(Be).sort((function(e,t){return e-t}))}),[Be]),He=u.useMemo((function(){return _?[ze[0],ze[ze.length-1]]:[de,ze[0]]}),[ze,_,de]),Ue=Object(o.a)(He,2),Ve=Ue[0],Ye=Ue[1];u.useImperativeHandle(t,(function(){return{focus:function(){se.current.focus(0)},blur:function(){var e=document.activeElement;le.current.contains(e)&&(null===e||void 0===e||e.blur())}}})),u.useEffect((function(){m&&se.current.focus(0)}),[]);var We=u.useMemo((function(){return{min:de,max:pe,direction:ue,disabled:v,step:fe,included:W,includedStart:Ve,includedEnd:Ye,range:_,tabIndex:ae,ariaLabelForHandle:ie,ariaLabelledByForHandle:oe,ariaValueTextFormatterForHandle:ce}}),[de,pe,ue,v,fe,W,Ve,Ye,_,ae,ie,oe,ce]);return u.createElement(b.Provider,{value:We},u.createElement("div",{ref:le,className:s()(c,d,(n={},Object(a.a)(n,"".concat(c,"-disabled"),v),Object(a.a)(n,"".concat(c,"-vertical"),V),Object(a.a)(n,"".concat(c,"-horizontal"),!V),Object(a.a)(n,"".concat(c,"-with-marks"),ge.length),n)),style:p,onMouseDown:function(e){e.preventDefault();var t,n=le.current.getBoundingClientRect(),r=n.width,a=n.height,i=n.left,o=n.top,c=n.bottom,s=n.right,l=e.clientX,u=e.clientY;switch(ue){case"btt":t=(c-u)/a;break;case"ttb":t=(u-o)/a;break;case"rtl":t=(s-l)/r;break;default:t=(l-i)/r}Te(be(de+t*(pe-de)))}},u.createElement("div",{className:"".concat(c,"-rail"),style:$}),u.createElement(T,{prefixCls:c,style:X,values:ze,startPoint:K,onStartMove:Ae?Ge:null}),u.createElement(N,{prefixCls:c,marks:ge,dots:te,style:Z,activeStyle:Q}),u.createElement(j,{ref:se,prefixCls:c,style:J,values:Be,draggingIndex:Re,onStartMove:Ge,onOffsetChange:function(e,t){if(!v){var n=ye(ke,e,t);null===F||void 0===F||F(Ee(ke)),Se(n.values),null===B||void 0===B||B(Ee(n.values)),Ne(n.value)}},onFocus:y,onBlur:x,handleRender:ne}),u.createElement(P,{prefixCls:c,marks:ge,onClick:Te})))})),R=n(186),F=n(139),B=n(155),L=n(144),G=u.forwardRef((function(e,t){var n=e.open,r=Object(u.useRef)(null),a=Object(u.useRef)(null);function o(){F.a.cancel(a.current),a.current=null}return u.useEffect((function(){return n?a.current=Object(F.a)((function(){var e;null===(e=r.current)||void 0===e||e.forcePopupAlign(),a.current=null})):o(),o}),[n,e.title]),u.createElement(L.a,Object(i.a)({ref:Object(B.a)(r,t)},e))})),q=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};var z=u.forwardRef((function(e,t){var n=u.useContext(R.b),c=n.getPrefixCls,l=n.direction,d=n.getPopupContainer,p=u.useState({}),f=Object(o.a)(p,2),h=f[0],g=f[1],v=function(e,t){g((function(n){return Object(i.a)(Object(i.a)({},n),Object(a.a)({},e,t))}))},m=function(e,t){return e||(t?"rtl"===l?"left":"right":"top")},b=e.prefixCls,y=e.range,x=e.className,O=q(e,["prefixCls","range","className"]),w=c("slider",b),C=s()(x,Object(a.a)({},"".concat(w,"-rtl"),"rtl"===l));"rtl"!==l||O.vertical||(O.reverse=!O.reverse);var k=u.useMemo((function(){return y?"object"===Object(r.a)(y)?[!0,y.draggableTrack]:[!0,!1]:[!1]}),[y]),j=Object(o.a)(k,2),E=j[0],S=j[1];return u.createElement(M,Object(i.a)({},O,{step:O.step,range:E,draggableTrack:S,className:C,ref:t,prefixCls:w,handleRender:function(t,n){var r,a=n.index,o=n.dragging,s=c(),l=e.tooltip,p=void 0===l?{}:l,f=e.vertical,g=Object(i.a)({formatter:null!==(r=e.tipFormatter)&&void 0!==r?r:function(e){return"number"===typeof e?e.toString():""},open:e.tooltipVisible,placement:e.tooltipPlacement,getPopupContainer:e.getTooltipPopupContainer},p),b=g.open,y=g.placement,x=g.getPopupContainer,O=g.prefixCls,C=g.formatter,k=!!C&&(h[a]||o),j=b||void 0===b&&k,E=Object(i.a)(Object(i.a)({},t.props),{onMouseEnter:function(){return v(a,!0)},onMouseLeave:function(){return v(a,!1)}}),S=c("tooltip",O);return u.createElement(G,{prefixCls:S,title:C?C(n.value):"",open:j,placement:m(y,f),transitionName:"".concat(s,"-zoom-down"),key:a,overlayClassName:"".concat(w,"-tooltip"),getPopupContainer:x||d},u.cloneElement(t,E))}}))})),H=n(13),U=n(14),V=n(29),Y=n(16),W=n(15),K=(n(104),n(342)),X=n(279),J=(n(170),n(167)),$=(n(256),J.a.Option,function(e){Object(Y.a)(n,e);var t=Object(W.a)(n);function n(){var e;Object(H.a)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).changeLayout=function(e){},e}return Object(U.a)(n,[{key:"render",value:function(){var e=this.props.intl;return d.a.createElement("div",null,d.a.createElement("div",{className:"VisOptionViewDiv",style:{display:"flex"}},e.get("timeSeires")))}}]),n}(u.Component)),Z=n(17),Q=n(129),ee=(n(257),n(258),n(228)),te=n(131),ne=n(132),re=n(133),ae=n(134),ie=n(151),oe=n(138),ce=u.forwardRef((function(e,t){var n,r=e.prefixCls,i=e.forceRender,c=e.className,l=e.style,d=e.children,p=e.isActive,f=e.role,h=u.useState(p||i),g=Object(o.a)(h,2),v=g[0],m=g[1];return u.useEffect((function(){(i||p)&&m(!0)}),[i,p]),v?u.createElement("div",{ref:t,className:s()("".concat(r,"-content"),(n={},Object(a.a)(n,"".concat(r,"-content-active"),p),Object(a.a)(n,"".concat(r,"-content-inactive"),!p),n),c),style:l,role:f},u.createElement("div",{className:"".concat(r,"-content-box")},d)):null}));ce.displayName="PanelContent";var se=ce,le=["className","id","style","prefixCls","headerClass","children","isActive","destroyInactivePanel","accordion","forceRender","openMotion","extra","collapsible"],ue=function(e){Object(re.a)(n,e);var t=Object(ae.a)(n);function n(){var e;Object(te.a)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).onItemClick=function(){var t=e.props,n=t.onItemClick,r=t.panelKey;"function"===typeof n&&n(r)},e.handleKeyPress=function(t){"Enter"!==t.key&&13!==t.keyCode&&13!==t.which||e.onItemClick()},e.renderIcon=function(){var t=e.props,n=t.showArrow,r=t.expandIcon,a=t.prefixCls,i=t.collapsible;if(!n)return null;var o="function"===typeof r?r(e.props):u.createElement("i",{className:"arrow"});return o&&u.createElement("div",{className:"".concat(a,"-expand-icon"),onClick:"header"===i||"icon"===i?e.onItemClick:null},o)},e.renderTitle=function(){var t=e.props,n=t.header,r=t.prefixCls,a=t.collapsible;return u.createElement("span",{className:"".concat(r,"-header-text"),onClick:"header"===a?e.onItemClick:null},n)},e}return Object(ne.a)(n,[{key:"shouldComponentUpdate",value:function(e){return!f()(this.props,e)}},{key:"render",value:function(){var e,t,n=this.props,r=n.className,o=n.id,c=n.style,l=n.prefixCls,d=n.headerClass,p=n.children,f=n.isActive,h=n.destroyInactivePanel,v=n.accordion,m=n.forceRender,b=n.openMotion,y=n.extra,x=n.collapsible,O=Object(g.a)(n,le),w="disabled"===x,C="header"===x,k="icon"===x,j=s()((e={},Object(a.a)(e,"".concat(l,"-item"),!0),Object(a.a)(e,"".concat(l,"-item-active"),f),Object(a.a)(e,"".concat(l,"-item-disabled"),w),e),r),E={className:s()("".concat(l,"-header"),(t={},Object(a.a)(t,d,d),Object(a.a)(t,"".concat(l,"-header-collapsible-only"),C),Object(a.a)(t,"".concat(l,"-icon-collapsible-only"),k),t)),"aria-expanded":f,"aria-disabled":w,onKeyPress:this.handleKeyPress};C||k||(E.onClick=this.onItemClick,E.role=v?"tab":"button",E.tabIndex=w?-1:0);var S=null!==y&&void 0!==y&&"boolean"!==typeof y;return delete O.header,delete O.panelKey,delete O.onItemClick,delete O.showArrow,delete O.expandIcon,u.createElement("div",Object(i.a)({},O,{className:j,style:c,id:o}),u.createElement("div",E,this.renderIcon(),this.renderTitle(),S&&u.createElement("div",{className:"".concat(l,"-extra")},y)),u.createElement(oe.b,Object(i.a)({visible:f,leavedClassName:"".concat(l,"-content-hidden")},b,{forceRender:m,removeOnLeave:h}),(function(e,t){var n=e.className,r=e.style;return u.createElement(se,{ref:t,prefixCls:l,className:n,style:r,isActive:f,forceRender:m,role:v?"tabpanel":null},p)})))}}]),n}(u.Component);ue.defaultProps={showArrow:!0,isActive:!1,onItemClick:function(){},headerClass:"",forceRender:!1};var de=ue;function pe(e){var t=e;if(!Array.isArray(t)){var n=Object(r.a)(t);t="number"===n||"string"===n?[t]:[]}return t.map((function(e){return String(e)}))}var fe=function(e){Object(re.a)(n,e);var t=Object(ae.a)(n);function n(e){var r;Object(te.a)(this,n),(r=t.call(this,e)).onClickItem=function(e){var t=r.state.activeKey;if(r.props.accordion)t=t[0]===e?[]:[e];else{var n=(t=Object(l.a)(t)).indexOf(e);n>-1?t.splice(n,1):t.push(e)}r.setActiveKey(t)},r.getNewChild=function(e,t){if(!e)return null;var n=r.state.activeKey,a=r.props,i=a.prefixCls,o=a.openMotion,c=a.accordion,s=a.destroyInactivePanel,l=a.expandIcon,d=a.collapsible,p=e.key||String(t),f=e.props,h=f.header,g=f.headerClass,v=f.destroyInactivePanel,m=f.collapsible,b=null!==m&&void 0!==m?m:d,y={key:p,panelKey:p,header:h,headerClass:g,isActive:c?n[0]===p:n.indexOf(p)>-1,prefixCls:i,destroyInactivePanel:null!==v&&void 0!==v?v:s,openMotion:o,accordion:c,children:e.props.children,onItemClick:"disabled"===b?null:r.onClickItem,expandIcon:l,collapsible:b};return"string"===typeof e.type?e:(Object.keys(y).forEach((function(e){"undefined"===typeof y[e]&&delete y[e]})),u.cloneElement(e,y))},r.getItems=function(){var e=r.props.children;return Object(ie.a)(e).map(r.getNewChild)},r.setActiveKey=function(e){"activeKey"in r.props||r.setState({activeKey:e}),r.props.onChange(r.props.accordion?e[0]:e)};var a=e.activeKey,i=e.defaultActiveKey;return"activeKey"in e&&(i=a),r.state={activeKey:pe(i)},r}return Object(ne.a)(n,[{key:"shouldComponentUpdate",value:function(e,t){return!f()(this.props,e)||!f()(this.state,t)}},{key:"render",value:function(){var e,t=this.props,n=t.prefixCls,r=t.className,i=t.style,o=t.accordion,c=s()((e={},Object(a.a)(e,n,!0),Object(a.a)(e,r,!!r),e));return u.createElement("div",{className:c,style:i,role:o?"tablist":null},this.getItems())}}],[{key:"getDerivedStateFromProps",value:function(e){var t={};return"activeKey"in e&&(t.activeKey=pe(e.activeKey)),t}}]),n}(u.Component);fe.defaultProps={prefixCls:"rc-collapse",onChange:function(){},accordion:!1,destroyInactivePanel:!1},fe.Panel=de;var he=fe,ge=(fe.Panel,n(140)),ve=n(152),me=n(173),be=function(e){var t,n=u.useContext(R.b),r=n.getPrefixCls,o=n.direction,c=e.prefixCls,l=e.className,d=void 0===l?"":l,p=e.bordered,f=void 0===p||p,h=e.ghost,g=e.expandIconPosition,v=void 0===g?"start":g,m=r("collapse",c),b=u.useMemo((function(){return"left"===v?"start":"right"===v?"end":v}),[v]),y=s()("".concat(m,"-icon-position-").concat(b),(t={},Object(a.a)(t,"".concat(m,"-borderless"),!f),Object(a.a)(t,"".concat(m,"-rtl"),"rtl"===o),Object(a.a)(t,"".concat(m,"-ghost"),!!h),t),d),x=Object(i.a)(Object(i.a)({},ve.a),{motionAppear:!1,leavedClassName:"".concat(m,"-content-hidden")});return u.createElement(he,Object(i.a)({openMotion:x},e,{expandIcon:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.expandIcon,r=n?n(t):u.createElement(ee.a,{rotate:t.isActive?90:void 0});return Object(me.a)(r,(function(){return{className:s()(r.props.className,"".concat(m,"-arrow"))}}))},prefixCls:m,className:y}),function(){var t=e.children;return Object(ie.a)(t).map((function(e,t){var n;if(null===(n=e.props)||void 0===n?void 0:n.disabled){var r=e.key||String(t),a=e.props,o=a.disabled,c=a.collapsible,s=Object(i.a)(Object(i.a)({},Object(ge.a)(e.props,["disabled"])),{key:r,collapsible:null!==c&&void 0!==c?c:o?"disabled":void 0});return Object(me.a)(e,s)}return e}))}())};be.Panel=function(e){var t=u.useContext(R.b).getPrefixCls,n=e.prefixCls,r=e.className,o=void 0===r?"":r,c=e.showArrow,l=void 0===c||c,d=t("collapse",n),p=s()(Object(a.a)({},"".concat(d,"-no-arrow"),!l),o);return u.createElement(he.Panel,Object(i.a)({},e,{prefixCls:d,className:p}))};var ye=be,xe=(n(259),ye.Panel),Oe=J.a.Option,we=(u.Component,n(260),function(e){Object(re.a)(n,e);var t=Object(ae.a)(n);function n(e){var r;Object(te.a)(this,n),(r=t.call(this,e)).handleChange=function(e){var t=r.props,n=t.disabled,a=t.onChange;n||("checked"in r.props||r.setState({checked:e.target.checked}),a&&a({target:Object(v.a)(Object(v.a)({},r.props),{},{checked:e.target.checked}),stopPropagation:function(){e.stopPropagation()},preventDefault:function(){e.preventDefault()},nativeEvent:e.nativeEvent}))},r.saveInput=function(e){r.input=e};var a="checked"in e?e.checked:e.defaultChecked;return r.state={checked:a},r}return Object(ne.a)(n,[{key:"focus",value:function(){this.input.focus()}},{key:"blur",value:function(){this.input.blur()}},{key:"render",value:function(){var e,t=this.props,n=t.prefixCls,r=t.className,o=t.style,c=t.name,l=t.id,u=t.type,p=t.disabled,f=t.readOnly,h=t.tabIndex,v=t.onClick,m=t.onFocus,b=t.onBlur,y=t.onKeyDown,x=t.onKeyPress,O=t.onKeyUp,w=t.autoFocus,C=t.value,k=t.required,j=Object(g.a)(t,["prefixCls","className","style","name","id","type","disabled","readOnly","tabIndex","onClick","onFocus","onBlur","onKeyDown","onKeyPress","onKeyUp","autoFocus","value","required"]),E=Object.keys(j).reduce((function(e,t){return"aria-"!==t.substr(0,5)&&"data-"!==t.substr(0,5)&&"role"!==t||(e[t]=j[t]),e}),{}),S=this.state.checked,T=s()(n,r,(e={},Object(a.a)(e,"".concat(n,"-checked"),S),Object(a.a)(e,"".concat(n,"-disabled"),p),e));return d.a.createElement("span",{className:T,style:o},d.a.createElement("input",Object(i.a)({name:c,id:l,type:u,required:k,readOnly:f,disabled:p,tabIndex:h,className:"".concat(n,"-input"),checked:!!S,onClick:v,onFocus:m,onBlur:b,onKeyUp:O,onKeyDown:y,onKeyPress:x,onChange:this.handleChange,autoFocus:w,ref:this.saveInput,value:C},E)),d.a.createElement("span",{className:"".concat(n,"-inner")}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return"checked"in e?Object(v.a)(Object(v.a)({},t),{},{checked:e.checked}):null}}]),n}(u.Component));we.defaultProps={prefixCls:"rc-checkbox",className:"",style:{},type:"checkbox",defaultChecked:!1,onFocus:function(){},onBlur:function(){},onChange:function(){},onKeyDown:function(){},onKeyPress:function(){},onKeyUp:function(){}};var Ce=we,ke=n(233),je=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},Ee=u.createContext(null),Se=function(e,t){var n=e.defaultValue,r=e.children,c=e.options,d=void 0===c?[]:c,p=e.prefixCls,f=e.className,h=e.style,g=e.onChange,v=je(e,["defaultValue","children","options","prefixCls","className","style","onChange"]),m=u.useContext(R.b),b=m.getPrefixCls,y=m.direction,x=u.useState(v.value||n||[]),O=Object(o.a)(x,2),w=O[0],C=O[1],k=u.useState([]),j=Object(o.a)(k,2),E=j[0],S=j[1];u.useEffect((function(){"value"in v&&C(v.value||[])}),[v.value]);var T=function(){return d.map((function(e){return"string"===typeof e||"number"===typeof e?{label:e,value:e}:e}))},I=b("checkbox",p),P="".concat(I,"-group"),D=Object(ge.a)(v,["value","disabled"]);d&&d.length>0&&(r=T().map((function(e){return u.createElement(Ae,{prefixCls:I,key:e.value.toString(),disabled:"disabled"in e?e.disabled:v.disabled,value:e.value,checked:w.includes(e.value),onChange:e.onChange,className:"".concat(P,"-item"),style:e.style},e.label)})));var N={toggleOption:function(e){var t=w.indexOf(e.value),n=Object(l.a)(w);-1===t?n.push(e.value):n.splice(t,1),"value"in v||C(n);var r=T();null===g||void 0===g||g(n.filter((function(e){return E.includes(e)})).sort((function(e,t){return r.findIndex((function(t){return t.value===e}))-r.findIndex((function(e){return e.value===t}))})))},value:w,disabled:v.disabled,name:v.name,registerValue:function(e){S((function(t){return[].concat(Object(l.a)(t),[e])}))},cancelValue:function(e){S((function(t){return t.filter((function(t){return t!==e}))}))}},A=s()(P,Object(a.a)({},"".concat(P,"-rtl"),"rtl"===y),f);return u.createElement("div",Object(i.a)({className:A,style:h},D,{ref:t}),u.createElement(Ee.Provider,{value:N},r))},Te=u.forwardRef(Se),Ie=u.memo(Te),Pe=n(181),De=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},Ne=function(e,t){var n,r,o=e.prefixCls,c=e.className,l=e.children,d=e.indeterminate,p=void 0!==d&&d,f=e.style,h=e.onMouseEnter,g=e.onMouseLeave,v=e.skipGroup,m=void 0!==v&&v,b=e.disabled,y=De(e,["prefixCls","className","children","indeterminate","style","onMouseEnter","onMouseLeave","skipGroup","disabled"]),x=u.useContext(R.b),O=x.getPrefixCls,w=x.direction,C=u.useContext(Ee),k=Object(u.useContext)(ke.a).isFormItemInput,j=Object(u.useContext)(Pe.b),E=null!==(r=(null===C||void 0===C?void 0:C.disabled)||b)&&void 0!==r?r:j,S=u.useRef(y.value);u.useEffect((function(){null===C||void 0===C||C.registerValue(y.value)}),[]),u.useEffect((function(){if(!m)return y.value!==S.current&&(null===C||void 0===C||C.cancelValue(S.current),null===C||void 0===C||C.registerValue(y.value),S.current=y.value),function(){return null===C||void 0===C?void 0:C.cancelValue(y.value)}}),[y.value]);var T=O("checkbox",o),I=Object(i.a)({},y);C&&!m&&(I.onChange=function(){y.onChange&&y.onChange.apply(y,arguments),C.toggleOption&&C.toggleOption({label:l,value:y.value})},I.name=C.name,I.checked=C.value.includes(y.value));var P=s()((n={},Object(a.a)(n,"".concat(T,"-wrapper"),!0),Object(a.a)(n,"".concat(T,"-rtl"),"rtl"===w),Object(a.a)(n,"".concat(T,"-wrapper-checked"),I.checked),Object(a.a)(n,"".concat(T,"-wrapper-disabled"),E),Object(a.a)(n,"".concat(T,"-wrapper-in-form-item"),k),n),c),D=s()(Object(a.a)({},"".concat(T,"-indeterminate"),p)),N=p?"mixed":void 0;return u.createElement("label",{className:P,style:f,onMouseEnter:h,onMouseLeave:g},u.createElement(Ce,Object(i.a)({"aria-checked":N},I,{prefixCls:T,className:D,disabled:E,ref:t})),void 0!==l&&u.createElement("span",null,l))};var Ae=u.forwardRef(Ne),_e=Ae;_e.Group=Ie,_e.__ANT_CHECKBOX=!0;var Me=_e,Re=(n(162),n(164)),Fe=n(154),Be=(n(261),n(158)),Le=n(322),Ge=n(326),qe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},ze=function(e){var t,n=e.prefixCls,r=e.className,o=e.checked,c=e.onChange,l=e.onClick,d=qe(e,["prefixCls","className","checked","onChange","onClick"]),p=(0,u.useContext(R.b).getPrefixCls)("tag",n),f=s()(p,(t={},Object(a.a)(t,"".concat(p,"-checkable"),!0),Object(a.a)(t,"".concat(p,"-checkable-checked"),o),t),r);return u.createElement("span",Object(i.a)({},d,{className:f,onClick:function(e){null===c||void 0===c||c(!o),null===l||void 0===l||l(e)}}))},He=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},Ue=new RegExp("^(".concat(Le.a.join("|"),")(-inverse)?$")),Ve=new RegExp("^(".concat(Le.b.join("|"),")$")),Ye=function(e,t){var n,r=e.prefixCls,c=e.className,l=e.style,d=e.children,p=e.icon,f=e.color,h=e.onClose,g=e.closeIcon,v=e.closable,m=void 0!==v&&v,b=He(e,["prefixCls","className","style","children","icon","color","onClose","closeIcon","closable"]),y=u.useContext(R.b),x=y.getPrefixCls,O=y.direction,w=u.useState(!0),C=Object(o.a)(w,2),k=C[0],j=C[1];u.useEffect((function(){"visible"in b&&j(b.visible)}),[b.visible]);var E=function(){return!!f&&(Ue.test(f)||Ve.test(f))},S=Object(i.a)({backgroundColor:f&&!E()?f:void 0},l),T=E(),I=x("tag",r),P=s()(I,(n={},Object(a.a)(n,"".concat(I,"-").concat(f),T),Object(a.a)(n,"".concat(I,"-has-color"),f&&!T),Object(a.a)(n,"".concat(I,"-hidden"),!k),Object(a.a)(n,"".concat(I,"-rtl"),"rtl"===O),n),c),D=function(e){e.stopPropagation(),null===h||void 0===h||h(e),e.defaultPrevented||"visible"in b||j(!1)},N="onClick"in b||d&&"a"===d.type,A=Object(ge.a)(b,["visible"]),_=p||null,M=_?u.createElement(u.Fragment,null,_,u.createElement("span",null,d)):d,F=u.createElement("span",Object(i.a)({},A,{ref:t,className:P,style:S}),M,m?g?u.createElement("span",{className:"".concat(I,"-close-icon"),onClick:D},g):u.createElement(Be.a,{className:"".concat(I,"-close-icon"),onClick:D}):null);return N?u.createElement(Ge.a,null,F):F},We=u.forwardRef(Ye);We.CheckableTag=ze;var Ke=We,Xe=(n(262),n(118)),Je=function(e){Object(Y.a)(n,e);var t=Object(W.a)(n);function n(){var e;Object(H.a)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).changeSlider=function(){},e.afterChange=function(t){console.log(t),e.props.setProcessTime(t)},e.formatter=function(t){return"".concat(e.props.originTimeValue[t])},e}return Object(U.a)(n,[{key:"componentDidMount",value:function(){this.props.setProcessTime([0,this.props.originTimeValue.length-1])}},{key:"render",value:function(){var e=this.props.originTimeValue;return d.a.createElement("div",{className:"time-temporal"},d.a.createElement("div",{className:"time-temporal-tootip"},d.a.createElement(L.a,{title:"Time"},d.a.createElement("p",{className:"time-temporal-text"},"Time"))),d.a.createElement("div",{className:"time-temporal-content"},d.a.createElement(z,{range:!0,defaultValue:[0,e.length-1],dots:!0,step:1,min:0,max:e.length-1,tipFormatter:this.formatter,onChange:this.changeSlider,onAfterChange:this.afterChange})),d.a.createElement(Re.a,null))}}]),n}(u.Component),$e=ye.Panel,Ze=Ke.CheckableTag,Qe=function(e){Object(Y.a)(n,e);var t=Object(W.a)(n);function n(e){var r;return Object(H.a)(this,n),(r=t.call(this,e)).handleGranularityChange=function(e,t){var n=r.state.selectedGranularity,a=t?e:n;r.setState((function(e){return{selectedGranularity:a}}),(function(){r.props.setProcessGranularity(r.state.selectedGranularity),console.log(r.state.selectedGranularity)})),r.setState({selectedGranularity:a})},r.handleColumnsChange=function(e,t){var n=r.state,a=n.selectedColumns,i=(n.selectTags,t?[].concat(Object(Fe.a)(a),[e]):a.filter((function(t){return t!==e})));r.setState((function(e){return{selectedColumns:i}}),(function(){i.length===r.props.originColumnName.length?r.setState({selectTags:!0}):r.setState({selectTags:!1}),r.props.setProcessColumns(r.state.selectedColumns),console.log(r.state.selectedColumns)}))},r.selectAllTags=function(e){e.target.checked?r.setState({selectedColumns:r.props.originColumnName,selectTags:!0}):r.setState({selectedColumns:[],selectTags:!1})},r.state={selectTags:!0,selectedGranularity:r.props.granularityName[r.props.granularityName.length-1],selectedColumns:r.props.originColumnName},r}return Object(U.a)(n,[{key:"componentDidMount",value:function(){this.props.setProcessGranularity(this.props.granularityName[this.props.granularityName.length-1]),this.props.setProcessColumns(this.props.originColumnName)}},{key:"render",value:function(){var e=this,t=this.state,n=t.selectedGranularity,r=t.selectedColumns,a=t.selectTags,i=this.props.intl;return d.a.createElement(ye,{defaultActiveKey:["data-options"]},d.a.createElement($e,{header:i.get("DataOptions"),key:"data-options"},d.a.createElement("div",{className:"data-option"},d.a.createElement(Je,this.props),d.a.createElement("div",{className:"time-granularity"},d.a.createElement("div",{className:"time-granularity-tootip"},d.a.createElement(L.a,{title:i.get("Granularity")},d.a.createElement("p",{className:"time-granularity-tootip-text"},i.get("Granularity")))),d.a.createElement("div",{className:"time-granularity-content"},this.props.granularityName.map((function(t){return d.a.createElement(Ze,{key:t,checked:n.indexOf(t)>-1,onChange:function(n){return e.handleGranularityChange(t,n)}},t)}))),d.a.createElement(Re.a,null)),d.a.createElement("div",{className:"time-columns"},d.a.createElement("div",{className:"time-columns-tootip"},d.a.createElement(L.a,{title:"Columns"},d.a.createElement("p",{className:"time-columns-tootip-text"},"Variables"))),d.a.createElement("div",{className:"time-columns-content"},d.a.createElement("div",{className:"select-all-tags"},d.a.createElement(Me,{onChange:this.selectAllTags,checked:a},i.get("SelectAll"))),this.props.originColumnName.map((function(t){return d.a.createElement(Ze,{key:t,checked:r.indexOf(t)>-1,onChange:function(n){return e.handleColumnsChange(t,n)}},t)})))))))}}]),n}(u.Component),et=n(128),tt=(n(165),n(166)),nt=(n(263),n(141)),rt=(n(264),n(137)),at=n(160),it=(n(265),n(193),n(214)),ot=n(216),ct=n(217),st=n(215),lt=n(194),ut=n(119),dt=n(230),pt=n(177),ft=n(241);function ht(e){return!(!e||!e.then)}var gt=function(e){var t=u.useRef(!1),n=u.useRef(null),r=Object(dt.a)(!1),a=Object(o.a)(r,2),c=a[0],s=a[1],l=e.close,d=function(){null===l||void 0===l||l.apply(void 0,arguments)};u.useEffect((function(){var t=null;return e.autoFocus&&(t=setTimeout((function(){var e;null===(e=n.current)||void 0===e||e.focus()}))),function(){t&&clearTimeout(t)}}),[]);var p=e.type,f=e.children,h=e.prefixCls,g=e.buttonProps;return u.createElement(pt.a,Object(i.a)({},Object(ft.a)(p),{onClick:function(n){var r=e.actionFn;if(!t.current)if(t.current=!0,r){var a;if(e.emitEvent){if(a=r(n),e.quitOnNullishReturnValue&&!ht(a))return t.current=!1,void d(n)}else if(r.length)a=r(l),t.current=!1;else if(!(a=r()))return void d();!function(e){ht(e)&&(s(!0),e.then((function(){s(!1,!0),d.apply(void 0,arguments),t.current=!1}),(function(e){console.error(e),s(!1,!0),t.current=!1})))}(a)}else d()},loading:c,prefixCls:h},g,{ref:n}),f)},vt=n(18),mt=n.n(vt),bt=n(145),yt=u.createContext(null),xt=n(172),Ot=[];var wt,Ct=n(223);function kt(e){if("undefined"===typeof document)return 0;if(e||void 0===wt){var t=document.createElement("div");t.style.width="100%",t.style.height="200px";var n=document.createElement("div"),r=n.style;r.position="absolute",r.top="0",r.left="0",r.pointerEvents="none",r.visibility="hidden",r.width="200px",r.height="150px",r.overflow="hidden",n.appendChild(t),document.body.appendChild(n);var a=t.offsetWidth;n.style.overflow="scroll";var i=t.offsetWidth;a===i&&(i=n.clientWidth),document.body.removeChild(n),wt=a-i}return wt}var jt="rc-util-locker-".concat(Date.now()),Et=0;function St(e){var t=!!e,n=u.useState((function(){return Et+=1,"".concat(jt,"_").concat(Et)})),r=Object(o.a)(n,1)[0];Object(xt.a)((function(){if(t){var e=kt(),n=document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth;Object(Ct.b)("\nhtml body {\n  overflow-y: hidden;\n  ".concat(n?"width: calc(100% - ".concat(e,"px);"):"","\n}"),r)}else Object(Ct.a)(r);return function(){Object(Ct.a)(r)}}),[t,r])}var Tt=!1;var It=function(e){return!1!==e&&(Object(bt.a)()&&e?"string"===typeof e?document.querySelector(e):"function"===typeof e?e():e:null)};var Pt=u.forwardRef((function(e,t){var n=e.open,r=e.autoLock,a=e.getContainer,i=(e.debug,e.autoDestroy),c=void 0===i||i,s=e.children,d=u.useState(n),p=Object(o.a)(d,2),f=p[0],h=p[1],g=f||n;u.useEffect((function(){(c||n)&&h(n)}),[n,c]);var v=u.useState((function(){return It(a)})),m=Object(o.a)(v,2),b=m[0],y=m[1];u.useEffect((function(){var e=It(a);y(null!==e&&void 0!==e?e:null)}));var x=function(e,t){var n=u.useState((function(){return Object(bt.a)()?document.createElement("div"):null})),r=Object(o.a)(n,1)[0],a=u.useRef(!1),i=u.useContext(yt),c=u.useState(Ot),s=Object(o.a)(c,2),d=s[0],p=s[1],f=i||(a.current?void 0:function(e){p((function(t){return[e].concat(Object(l.a)(t))}))});function h(){r.parentElement||document.body.appendChild(r),a.current=!0}function g(){var e;null===(e=r.parentElement)||void 0===e||e.removeChild(r),a.current=!1}return Object(xt.a)((function(){return e?i?i(h):h():g(),g}),[e]),Object(xt.a)((function(){d.length&&(d.forEach((function(e){return e()})),p(Ot))}),[d]),[r,f]}(g&&!b),O=Object(o.a)(x,2),w=O[0],C=O[1],k=null!==b&&void 0!==b?b:w;St(r&&n&&Object(bt.a)()&&(k===w||k===document.body));var j=null;s&&Object(B.c)(s)&&t&&(j=s.ref);var E=Object(B.d)(j,t);if(!g||!Object(bt.a)()||void 0===b)return null;var S,T=!1===k||("boolean"===typeof S&&(Tt=S),Tt),I=s;return t&&(I=u.cloneElement(s,{ref:E})),u.createElement(yt.Provider,{value:C},T?I:Object(vt.createPortal)(I,k))}));var Dt=0;function Nt(e){var t=u.useState("ssr-id"),n=Object(o.a)(t,2),r=n[0],a=n[1],i=Object(v.a)({},u).useId,c=null===i||void 0===i?void 0:i();return u.useEffect((function(){if(!i){var e=Dt;Dt+=1,a("rc_unique_".concat(e))}}),[]),e||(c||r)}var At=n(253),_t=n(220);function Mt(e){var t=e.prefixCls,n=e.style,r=e.visible,a=e.maskProps,o=e.motionName;return u.createElement(oe.b,{key:"mask",visible:r,motionName:o,leavedClassName:"".concat(t,"-mask-hidden")},(function(e,r){var o=e.className,c=e.style;return u.createElement("div",Object(i.a)({ref:r,style:Object(v.a)(Object(v.a)({},c),n),className:s()("".concat(t,"-mask"),o)},a))}))}function Rt(e,t,n){var r=t;return!r&&n&&(r="".concat(e,"-").concat(n)),r}function Ft(e,t){var n=e["page".concat(t?"Y":"X","Offset")],r="scroll".concat(t?"Top":"Left");if("number"!==typeof n){var a=e.document;"number"!==typeof(n=a.documentElement[r])&&(n=a.body[r])}return n}var Bt=u.memo((function(e){return e.children}),(function(e,t){return!t.shouldUpdate})),Lt={width:0,height:0,overflow:"hidden",outline:"none"};var Gt=d.a.forwardRef((function(e,t){var n=e.prefixCls,r=e.className,a=e.style,o=e.title,c=e.ariaId,l=e.footer,p=e.closable,f=e.closeIcon,h=e.onClose,g=e.children,m=e.bodyStyle,b=e.bodyProps,y=e.modalRender,x=e.onMouseDown,O=e.onMouseUp,w=e.holderRef,C=e.visible,k=e.forceRender,j=e.width,E=e.height,S=Object(u.useRef)(),T=Object(u.useRef)();d.a.useImperativeHandle(t,(function(){return{focus:function(){var e;null===(e=S.current)||void 0===e||e.focus()},changeActive:function(e){var t=document.activeElement;e&&t===T.current?S.current.focus():e||t!==S.current||T.current.focus()}}}));var I,P,D,N={};void 0!==j&&(N.width=j),void 0!==E&&(N.height=E),l&&(I=d.a.createElement("div",{className:"".concat(n,"-footer")},l)),o&&(P=d.a.createElement("div",{className:"".concat(n,"-header")},d.a.createElement("div",{className:"".concat(n,"-title"),id:c},o))),p&&(D=d.a.createElement("button",{type:"button",onClick:h,"aria-label":"Close",className:"".concat(n,"-close")},f||d.a.createElement("span",{className:"".concat(n,"-close-x")})));var A=d.a.createElement("div",{className:"".concat(n,"-content")},D,P,d.a.createElement("div",Object(i.a)({className:"".concat(n,"-body"),style:m},b),g),I);return d.a.createElement("div",{key:"dialog-element",role:"dialog","aria-labelledby":o?c:null,"aria-modal":"true",ref:w,style:Object(v.a)(Object(v.a)({},a),N),className:s()(n,r),onMouseDown:x,onMouseUp:O},d.a.createElement("div",{tabIndex:0,ref:S,style:Lt,"aria-hidden":"true"}),d.a.createElement(Bt,{shouldUpdate:C||k},y?y(A):A),d.a.createElement("div",{tabIndex:0,ref:T,style:Lt,"aria-hidden":"true"}))})),qt=u.forwardRef((function(e,t){var n=e.prefixCls,r=e.title,a=e.style,c=e.className,l=e.visible,d=e.forceRender,p=e.destroyOnClose,f=e.motionName,h=e.ariaId,g=e.onVisibleChanged,m=e.mousePosition,b=Object(u.useRef)(),y=u.useState(),x=Object(o.a)(y,2),O=x[0],w=x[1],C={};function k(){var e=function(e){var t=e.getBoundingClientRect(),n={left:t.left,top:t.top},r=e.ownerDocument,a=r.defaultView||r.parentWindow;return n.left+=Ft(a),n.top+=Ft(a,!0),n}(b.current);w(m?"".concat(m.x-e.left,"px ").concat(m.y-e.top,"px"):"")}return O&&(C.transformOrigin=O),u.createElement(oe.b,{visible:l,onVisibleChanged:g,onAppearPrepare:k,onEnterPrepare:k,forceRender:d,motionName:f,removeOnLeave:p,ref:b},(function(o,l){var d=o.className,p=o.style;return u.createElement(Gt,Object(i.a)({},e,{ref:t,title:r,ariaId:h,prefixCls:n,holderRef:l,style:Object(v.a)(Object(v.a)(Object(v.a)({},p),a),C),className:s()(c,d)}))}))}));qt.displayName="Content";var zt=qt;function Ht(e){var t=e.prefixCls,n=void 0===t?"rc-dialog":t,r=e.zIndex,a=e.visible,c=void 0!==a&&a,l=e.keyboard,d=void 0===l||l,p=e.focusTriggerAfterClose,f=void 0===p||p,h=e.wrapStyle,g=e.wrapClassName,b=e.wrapProps,y=e.onClose,x=e.afterClose,O=e.transitionName,w=e.animation,C=e.closable,k=void 0===C||C,j=e.mask,E=void 0===j||j,S=e.maskTransitionName,T=e.maskAnimation,I=e.maskClosable,P=void 0===I||I,D=e.maskStyle,N=e.maskProps,A=e.rootClassName,_=Object(u.useRef)(),M=Object(u.useRef)(),R=Object(u.useRef)(),F=u.useState(c),B=Object(o.a)(F,2),L=B[0],G=B[1],q=Nt();function z(e){null===y||void 0===y||y(e)}var H=Object(u.useRef)(!1),U=Object(u.useRef)(),V=null;return P&&(V=function(e){H.current?H.current=!1:M.current===e.target&&z(e)}),Object(u.useEffect)((function(){c&&(G(!0),Object(At.a)(M.current,document.activeElement)||(_.current=document.activeElement))}),[c]),Object(u.useEffect)((function(){return function(){clearTimeout(U.current)}}),[]),u.createElement("div",Object(i.a)({className:s()("".concat(n,"-root"),A)},Object(_t.a)(e,{data:!0})),u.createElement(Mt,{prefixCls:n,visible:E&&c,motionName:Rt(n,S,T),style:Object(v.a)({zIndex:r},D),maskProps:N}),u.createElement("div",Object(i.a)({tabIndex:-1,onKeyDown:function(e){if(d&&e.keyCode===m.a.ESC)return e.stopPropagation(),void z(e);c&&e.keyCode===m.a.TAB&&R.current.changeActive(!e.shiftKey)},className:s()("".concat(n,"-wrap"),g),ref:M,onClick:V,style:Object(v.a)(Object(v.a)({zIndex:r},h),{},{display:L?null:"none"})},b),u.createElement(zt,Object(i.a)({},e,{onMouseDown:function(){clearTimeout(U.current),H.current=!0},onMouseUp:function(){U.current=setTimeout((function(){H.current=!1}))},ref:R,closable:k,ariaId:q,prefixCls:n,visible:c&&L,onClose:z,onVisibleChanged:function(e){if(e)!function(){var e;Object(At.a)(M.current,document.activeElement)||null===(e=R.current)||void 0===e||e.focus()}();else{if(G(!1),E&&_.current&&f){try{_.current.focus({preventScroll:!0})}catch(t){}_.current=null}L&&(null===x||void 0===x||x())}},motionName:Rt(n,O,w)}))))}var Ut=function(e){var t=e.visible,n=e.getContainer,r=e.forceRender,a=e.destroyOnClose,c=void 0!==a&&a,s=e.afterClose,l=u.useState(t),d=Object(o.a)(l,2),p=d[0],f=d[1];return u.useEffect((function(){t&&f(!0)}),[t]),r||!c||p?u.createElement(Pt,{open:t||r||p,autoDestroy:!1,getContainer:n,autoLock:t||p},u.createElement(Ht,Object(i.a)({},e,{destroyOnClose:c,afterClose:function(){null===s||void 0===s||s(),f(!1)}}))):null};Ut.displayName="Dialog";var Vt=Ut,Yt=n(171),Wt=n(309);var Kt,Xt,Jt=function(){return Object(bt.a)()&&window.document.documentElement},$t=n(176),Zt=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};Jt()&&document.documentElement.addEventListener("click",(function(e){Xt={x:e.pageX,y:e.pageY},setTimeout((function(){Xt=null}),100)}),!0);var Qt=function(e){var t,n,r=u.useContext(R.b),o=r.getPopupContainer,c=r.getPrefixCls,l=r.direction,d=function(t){var n=e.onCancel;null===n||void 0===n||n(t)},p=function(t){var n=e.onOk;null===n||void 0===n||n(t)},f=e.prefixCls,h=e.footer,g=e.visible,v=e.open,m=void 0!==v&&v,b=e.wrapClassName,y=e.centered,x=e.getContainer,O=e.closeIcon,w=e.focusTriggerAfterClose,C=void 0===w||w,k=e.width,j=void 0===k?520:k,E=Zt(e,["prefixCls","footer","visible","open","wrapClassName","centered","getContainer","closeIcon","focusTriggerAfterClose","width"]),S=c("modal",f),T=c(),I=u.createElement(Yt.a,{componentName:"Modal",defaultLocale:Object($t.b)()},(function(t){var n=e.okText,r=e.okType,a=void 0===r?"primary":r,o=e.cancelText,c=e.confirmLoading,s=void 0!==c&&c;return u.createElement(u.Fragment,null,u.createElement(pt.a,Object(i.a)({onClick:d},e.cancelButtonProps),o||t.cancelText),u.createElement(pt.a,Object(i.a)({},Object(ft.a)(a),{loading:s,onClick:p},e.okButtonProps),null!==n&&void 0!==n?n:t.okText))})),P=u.createElement("span",{className:"".concat(S,"-close-x")},O||u.createElement(Be.a,{className:"".concat(S,"-close-icon")})),D=s()(b,(t={},Object(a.a)(t,"".concat(S,"-centered"),!!y),Object(a.a)(t,"".concat(S,"-wrap-rtl"),"rtl"===l),t));return u.createElement(Wt.a,null,u.createElement(ke.b,{status:!0,override:!0},u.createElement(Vt,Object(i.a)({width:j},E,{getContainer:void 0===x?o:x,prefixCls:S,wrapClassName:D,footer:void 0===h?I:h,visible:m||g,mousePosition:null!==(n=E.mousePosition)&&void 0!==n?n:Xt,onClose:d,closeIcon:P,focusTriggerAfterClose:C,transitionName:Object(ve.c)(T,"zoom",e.transitionName),maskTransitionName:Object(ve.c)(T,"fade",e.maskTransitionName)}))))},en=function(e){var t=e.icon,n=e.onCancel,r=e.onOk,i=e.close,o=e.zIndex,c=e.afterClose,l=e.visible,d=e.open,p=e.keyboard,f=e.centered,h=e.getContainer,g=e.maskStyle,v=e.okText,m=e.okButtonProps,b=e.cancelText,y=e.cancelButtonProps,x=e.direction,O=e.prefixCls,w=e.wrapClassName,C=e.rootPrefixCls,k=e.iconPrefixCls,j=e.bodyStyle,E=e.closable,S=void 0!==E&&E,T=e.closeIcon,I=e.modalRender,P=e.focusTriggerAfterClose;var D=e.okType||"primary",N="".concat(O,"-confirm"),A=!("okCancel"in e)||e.okCancel,_=e.width||416,M=e.style||{},R=void 0===e.mask||e.mask,F=void 0!==e.maskClosable&&e.maskClosable,B=null!==e.autoFocusButton&&(e.autoFocusButton||"ok"),L=s()(N,"".concat(N,"-").concat(e.type),Object(a.a)({},"".concat(N,"-rtl"),"rtl"===x),e.className),G=A&&u.createElement(gt,{actionFn:n,close:i,autoFocus:"cancel"===B,buttonProps:y,prefixCls:"".concat(C,"-btn")},b);return u.createElement(ut.a,{prefixCls:C,iconPrefixCls:k,direction:x},u.createElement(Qt,{prefixCls:O,className:L,wrapClassName:s()(Object(a.a)({},"".concat(N,"-centered"),!!e.centered),w),onCancel:function(){return null===i||void 0===i?void 0:i({triggerCancel:!0})},open:d||l,title:"",footer:"",transitionName:Object(ve.c)(C,"zoom",e.transitionName),maskTransitionName:Object(ve.c)(C,"fade",e.maskTransitionName),mask:R,maskClosable:F,maskStyle:g,style:M,bodyStyle:j,width:_,zIndex:o,afterClose:c,keyboard:p,centered:f,getContainer:h,closable:S,closeIcon:T,modalRender:I,focusTriggerAfterClose:P},u.createElement("div",{className:"".concat(N,"-body-wrapper")},u.createElement("div",{className:"".concat(N,"-body")},t,void 0===e.title?null:u.createElement("span",{className:"".concat(N,"-title")},e.title),u.createElement("div",{className:"".concat(N,"-content")},e.content)),u.createElement("div",{className:"".concat(N,"-btns")},G,u.createElement(gt,{type:D,actionFn:r,close:i,autoFocus:"ok"===B,buttonProps:m,prefixCls:"".concat(C,"-btn")},v)))))},tn=[],nn=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},rn="";function an(e){var t,n=document.createDocumentFragment(),r=Object(i.a)(Object(i.a)({},e),{close:c,open:!0});function a(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];var i=r.some((function(e){return e&&e.triggerCancel}));e.onCancel&&i&&e.onCancel.apply(e,[function(){}].concat(Object(l.a)(r.slice(1))));for(var o=0;o<tn.length;o++){var s=tn[o];if(s===c){tn.splice(o,1);break}}Object(lt.b)(n)}function o(e){var r=e.okText,a=e.cancelText,o=e.prefixCls,c=nn(e,["okText","cancelText","prefixCls"]);clearTimeout(t),t=setTimeout((function(){var e=Object($t.b)(),t=Object(ut.b)(),s=t.getPrefixCls,l=t.getIconPrefixCls,d=s(void 0,rn),p=o||"".concat(d,"-modal"),f=l();Object(lt.a)(u.createElement(en,Object(i.a)({},c,{prefixCls:p,rootPrefixCls:d,iconPrefixCls:f,okText:r||(c.okCancel?e.okText:e.justOkText),cancelText:a||e.cancelText})),n)}))}function c(){for(var t=this,n=arguments.length,c=new Array(n),s=0;s<n;s++)c[s]=arguments[s];(r=Object(i.a)(Object(i.a)({},r),{open:!1,afterClose:function(){"function"===typeof e.afterClose&&e.afterClose(),a.apply(t,c)}})).visible&&delete r.visible,o(r)}return o(r),tn.push(c),{destroy:c,update:function(e){o(r="function"===typeof e?e(r):Object(i.a)(Object(i.a)({},r),e))}}}function on(e){return Object(i.a)(Object(i.a)({icon:u.createElement(ct.a,null),okCancel:!1},e),{type:"warning"})}function cn(e){return Object(i.a)(Object(i.a)({icon:u.createElement(st.a,null),okCancel:!1},e),{type:"info"})}function sn(e){return Object(i.a)(Object(i.a)({icon:u.createElement(it.a,null),okCancel:!1},e),{type:"success"})}function ln(e){return Object(i.a)(Object(i.a)({icon:u.createElement(ot.a,null),okCancel:!1},e),{type:"error"})}function un(e){return Object(i.a)(Object(i.a)({icon:u.createElement(ct.a,null),okCancel:!0},e),{type:"confirm"})}var dn=n(169),pn=function(e,t){var n=e.afterClose,r=e.config,a=u.useState(!0),c=Object(o.a)(a,2),s=c[0],d=c[1],p=u.useState(r),f=Object(o.a)(p,2),h=f[0],g=f[1],v=u.useContext(R.b),m=v.direction,b=v.getPrefixCls,y=b("modal"),x=b(),O=function(){d(!1);for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.some((function(e){return e&&e.triggerCancel}));h.onCancel&&r&&h.onCancel.apply(h,[function(){}].concat(Object(l.a)(t.slice(1))))};return u.useImperativeHandle(t,(function(){return{destroy:O,update:function(e){g((function(t){return Object(i.a)(Object(i.a)({},t),e)}))}}})),u.createElement(Yt.a,{componentName:"Modal",defaultLocale:dn.a.Modal},(function(e){return u.createElement(en,Object(i.a)({prefixCls:y,rootPrefixCls:x},h,{close:O,open:s,afterClose:n,okText:h.okText||(h.okCancel?e.okText:e.justOkText),direction:m,cancelText:h.cancelText||e.cancelText}))}))},fn=u.forwardRef(pn),hn=0,gn=u.memo(u.forwardRef((function(e,t){var n=function(){var e=u.useState([]),t=Object(o.a)(e,2),n=t[0],r=t[1];return[n,u.useCallback((function(e){return r((function(t){return[].concat(Object(l.a)(t),[e])})),function(){r((function(t){return t.filter((function(t){return t!==e}))}))}}),[])]}(),r=Object(o.a)(n,2),a=r[0],i=r[1];return u.useImperativeHandle(t,(function(){return{patchElement:i}}),[]),u.createElement(u.Fragment,null,a)})));function vn(e){return an(on(e))}var mn=Qt;mn.useModal=function(){var e=u.useRef(null),t=u.useState([]),n=Object(o.a)(t,2),r=n[0],a=n[1];u.useEffect((function(){r.length&&(Object(l.a)(r).forEach((function(e){e()})),a([]))}),[r]);var i=u.useCallback((function(t){return function(n){var r;hn+=1;var i,o=u.createRef(),c=u.createElement(fn,{key:"modal-".concat(hn),config:t(n),ref:o,afterClose:function(){null===i||void 0===i||i()}});return i=null===(r=e.current)||void 0===r?void 0:r.patchElement(c),{destroy:function(){function e(){var e;null===(e=o.current)||void 0===e||e.destroy()}o.current?e():a((function(t){return[].concat(Object(l.a)(t),[e])}))},update:function(e){function t(){var t;null===(t=o.current)||void 0===t||t.update(e)}o.current?t():a((function(e){return[].concat(Object(l.a)(e),[t])}))}}}}),[]);return[u.useMemo((function(){return{info:i(cn),success:i(sn),error:i(ln),warning:i(on),confirm:i(un)}}),[]),u.createElement(gn,{ref:e})]},mn.info=function(e){return an(cn(e))},mn.success=function(e){return an(sn(e))},mn.error=function(e){return an(ln(e))},mn.warning=vn,mn.warn=vn,mn.confirm=function(e){return an(un(e))},mn.destroyAll=function(){for(;tn.length;){var e=tn.pop();e&&e()}},mn.config=function(e){var t=e.rootPrefixCls;rn=t};var bn=mn,yn=(n(266),{icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M176 511a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"ellipsis",theme:"outlined"}),xn=n(122),On=function(e,t){return u.createElement(xn.a,Object(v.a)(Object(v.a)({},e),{},{ref:t,icon:yn}))};On.displayName="EllipsisOutlined";var wn=u.forwardRef(On),Cn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z"}},{tag:"path",attrs:{d:"M176 474h672q8 0 8 8v60q0 8-8 8H176q-8 0-8-8v-60q0-8 8-8z"}}]},name:"plus",theme:"outlined"},kn=function(e,t){return u.createElement(xn.a,Object(v.a)(Object(v.a)({},e),{},{ref:t,icon:Cn}))};kn.displayName="PlusOutlined";var jn=u.forwardRef(kn),En=n(308),Sn=Object(u.createContext)(null);var Tn=u.forwardRef((function(e,t){var n=e.prefixCls,r=e.className,a=e.style,i=e.id,o=e.active,c=e.tabKey,l=e.children;return u.createElement("div",{id:i&&"".concat(i,"-panel-").concat(c),role:"tabpanel",tabIndex:o?0:-1,"aria-labelledby":i&&"".concat(i,"-tab-").concat(c),"aria-hidden":!o,style:a,className:s()(n,o&&"".concat(n,"-active"),r),ref:t},l)})),In=["key","forceRender","style","className"];function Pn(e){var t=e.id,n=e.activeKey,r=e.animated,o=e.tabPosition,c=e.destroyInactiveTabPane,l=u.useContext(Sn),d=l.prefixCls,p=l.tabs,f=r.tabPane,h="".concat(d,"-tabpane");return u.createElement("div",{className:s()("".concat(d,"-content-holder"))},u.createElement("div",{className:s()("".concat(d,"-content"),"".concat(d,"-content-").concat(o),Object(a.a)({},"".concat(d,"-content-animated"),f))},p.map((function(e){var a=e.key,o=e.forceRender,l=e.style,d=e.className,p=Object(g.a)(e,In),m=a===n;return u.createElement(oe.b,Object(i.a)({key:a,visible:m,forceRender:o,removeOnLeave:!!c,leavedClassName:"".concat(h,"-hidden")},r.tabPaneMotion),(function(e,n){var r=e.style,o=e.className;return u.createElement(Tn,Object(i.a)({},p,{prefixCls:h,id:t,tabKey:a,animated:f,active:m,style:Object(v.a)(Object(v.a)({},l),r),className:s()(d,o),ref:n}))}))}))))}var Dn=n(212),Nn={width:0,height:0,left:0,top:0};function An(e){var t=Object(u.useRef)(),n=Object(u.useRef)(!1);return Object(u.useEffect)((function(){return n.current=!1,function(){n.current=!0,F.a.cancel(t.current)}}),[]),function(){for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];n.current||(F.a.cancel(t.current),t.current=Object(F.a)((function(){e.apply(void 0,a)})))}}function _n(e,t){var n=u.useRef(e),r=u.useState({}),a=Object(o.a)(r,2)[1];return[n.current,function(e){var r="function"===typeof e?e(n.current):e;r!==n.current&&t(r,n.current),n.current=r,a({})}]}var Mn=Math.pow(.995,20);var Rn={width:0,height:0,left:0,top:0,right:0};function Fn(e){var t;return e instanceof Map?(t={},e.forEach((function(e,n){t[n]=e}))):t=e,JSON.stringify(t)}function Bn(e,t){var n=e.prefixCls,r=e.editable,a=e.locale,i=e.style;return r&&!1!==r.showAdd?u.createElement("button",{ref:t,type:"button",className:"".concat(n,"-nav-add"),style:i,"aria-label":(null===a||void 0===a?void 0:a.addAriaLabel)||"Add tab",onClick:function(e){r.onEdit("add",{event:e})}},r.addIcon||"+"):null}var Ln=u.forwardRef(Bn);var Gn=u.forwardRef((function(e,t){var n,a=e.position,i=e.prefixCls,o=e.extra;if(!o)return null;var c={};return"object"!==Object(r.a)(o)||u.isValidElement(o)?c.right=o:c=o,"right"===a&&(n=c.right),"left"===a&&(n=c.left),n?u.createElement("div",{className:"".concat(i,"-extra-content"),ref:t},n):null})),qn=n(227),zn={adjustX:1,adjustY:1},Hn=[0,0],Un={topLeft:{points:["bl","tl"],overflow:zn,offset:[0,-4],targetOffset:Hn},topCenter:{points:["bc","tc"],overflow:zn,offset:[0,-4],targetOffset:Hn},topRight:{points:["br","tr"],overflow:zn,offset:[0,-4],targetOffset:Hn},bottomLeft:{points:["tl","bl"],overflow:zn,offset:[0,4],targetOffset:Hn},bottomCenter:{points:["tc","bc"],overflow:zn,offset:[0,4],targetOffset:Hn},bottomRight:{points:["tr","br"],overflow:zn,offset:[0,4],targetOffset:Hn}},Vn=n(318);function Yn(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(Object(Vn.a)(e)){var n=e.nodeName.toLowerCase(),r=["input","select","textarea","button"].includes(n)||e.isContentEditable||"a"===n&&!!e.getAttribute("href"),a=e.getAttribute("tabindex"),i=Number(a),o=null;return a&&!Number.isNaN(i)?o=i:r&&null===o&&(o=0),r&&e.disabled&&(o=null),null!==o&&(o>=0||t&&o<0)}return!1}function Wn(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Object(l.a)(e.querySelectorAll("*")).filter((function(e){return Yn(e,t)}));return Yn(e,t)&&n.unshift(e),n}var Kn=m.a.ESC,Xn=m.a.TAB;var Jn=["arrow","prefixCls","transitionName","animation","align","placement","placements","getPopupContainer","showAction","hideAction","overlayClassName","overlayStyle","visible","trigger","autoFocus"];function $n(e,t){var n=e.arrow,r=void 0!==n&&n,i=e.prefixCls,c=void 0===i?"rc-dropdown":i,l=e.transitionName,d=e.animation,p=e.align,f=e.placement,h=void 0===f?"bottomLeft":f,m=e.placements,b=void 0===m?Un:m,y=e.getPopupContainer,x=e.showAction,O=e.hideAction,w=e.overlayClassName,C=e.overlayStyle,k=e.visible,j=e.trigger,E=void 0===j?["hover"]:j,S=e.autoFocus,T=Object(g.a)(e,Jn),I=u.useState(),P=Object(o.a)(I,2),D=P[0],N=P[1],A="visible"in e?k:D,_=u.useRef(null);u.useImperativeHandle(t,(function(){return _.current})),function(e){var t=e.visible,n=e.setTriggerVisible,r=e.triggerRef,a=e.onVisibleChange,i=e.autoFocus,o=u.useRef(!1),c=function(){var e,i,o,c;t&&r.current&&(null===(e=r.current)||void 0===e||null===(i=e.triggerRef)||void 0===i||null===(o=i.current)||void 0===o||null===(c=o.focus)||void 0===c||c.call(o),n(!1),"function"===typeof a&&a(!1))},s=function(){var e,t,n,a,i=Wn(null===(e=r.current)||void 0===e||null===(t=e.popupRef)||void 0===t||null===(n=t.current)||void 0===n||null===(a=n.getElement)||void 0===a?void 0:a.call(n))[0];return!!(null===i||void 0===i?void 0:i.focus)&&(i.focus(),o.current=!0,!0)},l=function(e){switch(e.keyCode){case Kn:c();break;case Xn:var t=!1;o.current||(t=s()),t?e.preventDefault():c()}};u.useEffect((function(){return t?(window.addEventListener("keydown",l),i&&Object(F.a)(s,3),function(){window.removeEventListener("keydown",l),o.current=!1}):function(){o.current=!1}}),[t])}({visible:A,setTriggerVisible:N,triggerRef:_,onVisibleChange:e.onVisibleChange,autoFocus:S});var M=function(){var t=function(){var t=e.overlay;return"function"===typeof t?t():t}();return u.createElement(u.Fragment,null,r&&u.createElement("div",{className:"".concat(c,"-arrow")}),t)},R=O;return R||-1===E.indexOf("contextMenu")||(R=["click"]),u.createElement(qn.a,Object(v.a)(Object(v.a)({builtinPlacements:b},T),{},{prefixCls:c,ref:_,popupClassName:s()(w,Object(a.a)({},"".concat(c,"-show-arrow"),r)),popupStyle:C,action:E,showAction:x,hideAction:R||[],popupPlacement:h,popupAlign:p,popupTransitionName:l,popupAnimation:d,popupVisible:A,stretch:function(){var t=e.minOverlayWidthMatchTrigger,n=e.alignPoint;return"minOverlayWidthMatchTrigger"in e?t:!n}()?"minWidth":"",popup:"function"===typeof e.overlay?M:M(),onPopupVisibleChange:function(t){var n=e.onVisibleChange;N(t),"function"===typeof n&&n(t)},onPopupClick:function(t){var n=e.onOverlayClick;N(!1),n&&n(t)},getPopupContainer:y}),function(){var t=e.children,n=t.props?t.props:{},r=s()(n.className,function(){var t=e.openClassName;return void 0!==t?t:"".concat(c,"-open")}());return A&&t?u.cloneElement(t,{className:r}):t}())}var Zn=u.forwardRef($n),Qn=n(184),er=n(231),tr=u.createContext(null);function nr(e,t){return void 0===e?null:"".concat(e,"-").concat(t)}function rr(e){return nr(u.useContext(tr),e)}var ar=n(219),ir=["children","locked"],or=u.createContext(null);function cr(e){var t=e.children,n=e.locked,r=Object(g.a)(e,ir),a=u.useContext(or),i=Object(ar.a)((function(){return function(e,t){var n=Object(v.a)({},e);return Object.keys(t).forEach((function(e){var r=t[e];void 0!==r&&(n[e]=r)})),n}(a,r)}),[a,r],(function(e,t){return!n&&(e[0]!==t[0]||!Object(er.a)(e[1],t[1],!0))}));return u.createElement(or.Provider,{value:i},t)}var sr=[],lr=u.createContext(null);function ur(){return u.useContext(lr)}var dr=u.createContext(sr);function pr(e){var t=u.useContext(dr);return u.useMemo((function(){return void 0!==e?[].concat(Object(l.a)(t),[e]):t}),[t,e])}var fr=u.createContext(null),hr=u.createContext({}),gr=m.a.LEFT,vr=m.a.RIGHT,mr=m.a.UP,br=m.a.DOWN,yr=m.a.ENTER,xr=m.a.ESC,Or=m.a.HOME,wr=m.a.END,Cr=[mr,br,gr,vr];function kr(e,t){return Wn(e,!0).filter((function(e){return t.has(e)}))}function jr(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;if(!e)return null;var a=kr(e,t),i=a.length,o=a.findIndex((function(e){return n===e}));return r<0?-1===o?o=i-1:o-=1:r>0&&(o+=1),a[o=(o+i)%i]}function Er(e,t,n,r,i,o,c,s,l,d){var p=u.useRef(),f=u.useRef();f.current=t;var h=function(){F.a.cancel(p.current)};return u.useEffect((function(){return function(){h()}}),[]),function(u){var g=u.which;if([].concat(Cr,[yr,xr,Or,wr]).includes(g)){var v,m,b,y=function(){return v=new Set,m=new Map,b=new Map,o().forEach((function(e){var t=document.querySelector("[data-menu-id='".concat(nr(r,e),"']"));t&&(v.add(t),b.set(t,e),m.set(e,t))})),v};y();var x=function(e,t){for(var n=e||document.activeElement;n;){if(t.has(n))return n;n=n.parentElement}return null}(m.get(t),v),O=b.get(x),w=function(e,t,n,r){var i,o,c,s;if("inline"===e&&r===yr)return{inlineTrigger:!0};var l=(i={},Object(a.a)(i,mr,"prev"),Object(a.a)(i,br,"next"),i),u=(o={},Object(a.a)(o,gr,n?"next":"prev"),Object(a.a)(o,vr,n?"prev":"next"),Object(a.a)(o,br,"children"),Object(a.a)(o,yr,"children"),o),d=(c={},Object(a.a)(c,mr,"prev"),Object(a.a)(c,br,"next"),Object(a.a)(c,yr,"children"),Object(a.a)(c,xr,"parent"),Object(a.a)(c,gr,n?"children":"parent"),Object(a.a)(c,vr,n?"parent":"children"),c);switch(null===(s={inline:l,horizontal:u,vertical:d,inlineSub:l,horizontalSub:d,verticalSub:d}["".concat(e).concat(t?"":"Sub")])||void 0===s?void 0:s[r]){case"prev":return{offset:-1,sibling:!0};case"next":return{offset:1,sibling:!0};case"parent":return{offset:-1,sibling:!1};case"children":return{offset:1,sibling:!1};default:return null}}(e,1===c(O,!0).length,n,g);if(!w&&g!==Or&&g!==wr)return;(Cr.includes(g)||[Or,wr].includes(g))&&u.preventDefault();var C=function(e){if(e){var t=e,n=e.querySelector("a");null!==n&&void 0!==n&&n.getAttribute("href")&&(t=n);var r=b.get(e);s(r),h(),p.current=Object(F.a)((function(){f.current===r&&t.focus()}))}};if([Or,wr].includes(g)||w.sibling||!x){var k,j,E=kr(k=x&&"inline"!==e?function(e){for(var t=e;t;){if(t.getAttribute("data-menu-list"))return t;t=t.parentElement}return null}(x):i.current,v);j=g===Or?E[0]:g===wr?E[E.length-1]:jr(k,v,x,w.offset),C(j)}else if(w.inlineTrigger)l(O);else if(w.offset>0)l(O,!0),h(),p.current=Object(F.a)((function(){y();var e=x.getAttribute("aria-controls"),t=jr(document.getElementById(e),v);C(t)}),5);else if(w.offset<0){var S=c(O,!0),T=S[S.length-2],I=m.get(T);l(T,!1),C(I)}}null===d||void 0===d||d(u)}}var Sr="__RC_UTIL_PATH_SPLIT__",Tr=function(e){return e.join(Sr)};function Ir(){var e=u.useState({}),t=Object(o.a)(e,2)[1],n=Object(u.useRef)(new Map),r=Object(u.useRef)(new Map),a=u.useState([]),i=Object(o.a)(a,2),c=i[0],s=i[1],d=Object(u.useRef)(0),p=Object(u.useRef)(!1),f=Object(u.useCallback)((function(e,a){var i=Tr(a);r.current.set(i,e),n.current.set(e,i),d.current+=1;var o,c=d.current;o=function(){c===d.current&&(p.current||t({}))},Promise.resolve().then(o)}),[]),h=Object(u.useCallback)((function(e,t){var a=Tr(t);r.current.delete(a),n.current.delete(e)}),[]),g=Object(u.useCallback)((function(e){s(e)}),[]),v=Object(u.useCallback)((function(e,t){var r=n.current.get(e)||"",a=r.split(Sr);return t&&c.includes(a[0])&&a.unshift("rc-menu-more"),a}),[c]),m=Object(u.useCallback)((function(e,t){return e.some((function(e){return v(e,!0).includes(t)}))}),[v]),b=Object(u.useCallback)((function(e){var t="".concat(n.current.get(e)).concat(Sr),a=new Set;return Object(l.a)(r.current.keys()).forEach((function(e){e.startsWith(t)&&a.add(r.current.get(e))})),a}),[]);return u.useEffect((function(){return function(){p.current=!0}}),[]),{registerPath:f,unregisterPath:h,refreshOverflowKeys:g,isSubPathKey:m,getKeyPath:v,getKeys:function(){var e=Object(l.a)(n.current.keys());return c.length&&e.push("rc-menu-more"),e},getSubPathKeys:b}}function Pr(e){var t=u.useRef(e);t.current=e;var n=u.useCallback((function(){for(var e,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return null===(e=t.current)||void 0===e?void 0:e.call.apply(e,[t].concat(r))}),[]);return e?n:void 0}var Dr=Math.random().toFixed(5).toString().slice(2),Nr=0;function Ar(e,t,n,r){var a=u.useContext(or),i=a.activeKey,o=a.onActive,c=a.onInactive,s={active:i===e};return t||(s.onMouseEnter=function(t){null===n||void 0===n||n({key:e,domEvent:t}),o(e)},s.onMouseLeave=function(t){null===r||void 0===r||r({key:e,domEvent:t}),c(e)}),s}var _r=["item"];function Mr(e){var t=e.item,n=Object(g.a)(e,_r);return Object.defineProperty(n,"item",{get:function(){return Object(A.a)(!1,"`info.item` is deprecated since we will move to function component that not provides React Node instance in future."),t}}),n}function Rr(e){var t=e.icon,n=e.props,r=e.children;return("function"===typeof t?u.createElement(t,Object(v.a)({},n)):t)||r||null}function Fr(e){var t=u.useContext(or),n=t.mode,r=t.rtl,a=t.inlineIndent;if("inline"!==n)return null;return r?{paddingRight:e*a}:{paddingLeft:e*a}}var Br=["title","attribute","elementRef"],Lr=["style","className","eventKey","warnKey","disabled","itemIcon","children","role","onMouseEnter","onMouseLeave","onClick","onKeyDown","onFocus"],Gr=["active"],qr=function(e){Object(re.a)(n,e);var t=Object(ae.a)(n);function n(){return Object(te.a)(this,n),t.apply(this,arguments)}return Object(ne.a)(n,[{key:"render",value:function(){var e=this.props,t=e.title,n=e.attribute,r=e.elementRef,a=Object(g.a)(e,Br),o=Object(ge.a)(a,["eventKey"]);return Object(A.a)(!n,"`attribute` of Menu.Item is deprecated. Please pass attribute directly."),u.createElement(Qn.a.Item,Object(i.a)({},n,{title:"string"===typeof t?t:void 0},o,{ref:r}))}}]),n}(u.Component),zr=function(e){var t,n=e.style,r=e.className,o=e.eventKey,c=(e.warnKey,e.disabled),d=e.itemIcon,p=e.children,f=e.role,h=e.onMouseEnter,b=e.onMouseLeave,y=e.onClick,x=e.onKeyDown,O=e.onFocus,w=Object(g.a)(e,Lr),C=rr(o),k=u.useContext(or),j=k.prefixCls,E=k.onItemClick,S=k.disabled,T=k.overflowDisabled,I=k.itemIcon,P=k.selectedKeys,D=k.onActive,N=u.useContext(hr)._internalRenderMenuItem,A="".concat(j,"-item"),_=u.useRef(),M=u.useRef(),R=S||c,F=pr(o);var B=function(e){return{key:o,keyPath:Object(l.a)(F).reverse(),item:_.current,domEvent:e}},L=d||I,G=Ar(o,R,h,b),q=G.active,z=Object(g.a)(G,Gr),H=P.includes(o),U=Fr(F.length),V={};"option"===e.role&&(V["aria-selected"]=H);var Y=u.createElement(qr,Object(i.a)({ref:_,elementRef:M,role:null===f?"none":f||"menuitem",tabIndex:c?null:-1,"data-menu-id":T&&C?null:C},w,z,V,{component:"li","aria-disabled":c,style:Object(v.a)(Object(v.a)({},U),n),className:s()(A,(t={},Object(a.a)(t,"".concat(A,"-active"),q),Object(a.a)(t,"".concat(A,"-selected"),H),Object(a.a)(t,"".concat(A,"-disabled"),R),t),r),onClick:function(e){if(!R){var t=B(e);null===y||void 0===y||y(Mr(t)),E(t)}},onKeyDown:function(e){if(null===x||void 0===x||x(e),e.which===m.a.ENTER){var t=B(e);null===y||void 0===y||y(Mr(t)),E(t)}},onFocus:function(e){D(o),null===O||void 0===O||O(e)}}),p,u.createElement(Rr,{props:Object(v.a)(Object(v.a)({},e),{},{isSelected:H}),icon:L}));return N&&(Y=N(Y,e,{selected:H})),Y};var Hr=function(e){var t=e.eventKey,n=ur(),r=pr(t);return u.useEffect((function(){if(n)return n.registerPath(t,r),function(){n.unregisterPath(t,r)}}),[r]),n?null:u.createElement(zr,e)},Ur=["className","children"],Vr=function(e,t){var n=e.className,r=e.children,a=Object(g.a)(e,Ur),o=u.useContext(or),c=o.prefixCls,l=o.mode,d=o.rtl;return u.createElement("ul",Object(i.a)({className:s()(c,d&&"".concat(c,"-rtl"),"".concat(c,"-sub"),"".concat(c,"-").concat("inline"===l?"inline":"vertical"),n),role:"menu"},a,{"data-menu-list":!0,ref:t}),r)},Yr=u.forwardRef(Vr);Yr.displayName="SubMenuList";var Wr=Yr,Kr=["label","children","key","type"];function Xr(e,t){return Object(ie.a)(e).map((function(e,n){if(u.isValidElement(e)){var r,a,i=e.key,o=null!==(r=null===(a=e.props)||void 0===a?void 0:a.eventKey)&&void 0!==r?r:i;(null===o||void 0===o)&&(o="tmp_key-".concat([].concat(Object(l.a)(t),[n]).join("-")));var c={key:o,eventKey:o};return u.cloneElement(e,c)}return e}))}function Jr(e,t,n){var a=e;return t&&(a=function e(t){return(t||[]).map((function(t,n){if(t&&"object"===Object(r.a)(t)){var a=t,o=a.label,c=a.children,s=a.key,l=a.type,d=Object(g.a)(a,Kr),p=null!==s&&void 0!==s?s:"tmp-".concat(n);return c||"group"===l?"group"===l?u.createElement(fa,Object(i.a)({key:p},d,{title:o}),e(c)):u.createElement(ca,Object(i.a)({key:p},d,{title:o}),e(c)):"divider"===l?u.createElement(ha,Object(i.a)({key:p},d)):u.createElement(Hr,Object(i.a)({key:p},d),o)}return null})).filter((function(e){return e}))}(t)),Xr(a,n)}var $r={adjustX:1,adjustY:1},Zr={topLeft:{points:["bl","tl"],overflow:$r,offset:[0,-7]},bottomLeft:{points:["tl","bl"],overflow:$r,offset:[0,7]},leftTop:{points:["tr","tl"],overflow:$r,offset:[-4,0]},rightTop:{points:["tl","tr"],overflow:$r,offset:[4,0]}},Qr={topLeft:{points:["bl","tl"],overflow:$r,offset:[0,-7]},bottomLeft:{points:["tl","bl"],overflow:$r,offset:[0,7]},rightTop:{points:["tr","tl"],overflow:$r,offset:[-4,0]},leftTop:{points:["tl","tr"],overflow:$r,offset:[4,0]}};function ea(e,t,n){return t||(n?n[e]||n.other:void 0)}var ta={horizontal:"bottomLeft",vertical:"rightTop","vertical-left":"rightTop","vertical-right":"leftTop"};function na(e){var t=e.prefixCls,n=e.visible,r=e.children,i=e.popup,c=e.popupClassName,l=e.popupOffset,d=e.disabled,p=e.mode,f=e.onVisibleChange,h=u.useContext(or),g=h.getPopupContainer,m=h.rtl,b=h.subMenuOpenDelay,y=h.subMenuCloseDelay,x=h.builtinPlacements,O=h.triggerSubMenuAction,w=h.forceSubMenuRender,C=h.rootClassName,k=h.motion,j=h.defaultMotions,E=u.useState(!1),S=Object(o.a)(E,2),T=S[0],I=S[1],P=m?Object(v.a)(Object(v.a)({},Qr),x):Object(v.a)(Object(v.a)({},Zr),x),D=ta[p],N=ea(p,k,j),A=u.useRef(N);"inline"!==p&&(A.current=N);var _=Object(v.a)(Object(v.a)({},A.current),{},{leavedClassName:"".concat(t,"-hidden"),removeOnLeave:!1,motionAppear:!0}),M=u.useRef();return u.useEffect((function(){return M.current=Object(F.a)((function(){I(n)})),function(){F.a.cancel(M.current)}}),[n]),u.createElement(qn.a,{prefixCls:t,popupClassName:s()("".concat(t,"-popup"),Object(a.a)({},"".concat(t,"-rtl"),m),c,C),stretch:"horizontal"===p?"minWidth":null,getPopupContainer:g,builtinPlacements:P,popupPlacement:D,popupVisible:T,popup:i,popupAlign:l&&{offset:l},action:d?[]:[O],mouseEnterDelay:b,mouseLeaveDelay:y,onPopupVisibleChange:f,forceRender:w,popupMotion:_},r)}function ra(e){var t=e.id,n=e.open,r=e.keyPath,a=e.children,c=u.useContext(or),s=c.prefixCls,l=c.forceSubMenuRender,d=c.motion,p=c.defaultMotions,f=c.mode,h=u.useRef(!1);h.current="inline"===f;var g=u.useState(!h.current),m=Object(o.a)(g,2),b=m[0],y=m[1],x=!!h.current&&n;u.useEffect((function(){h.current&&y(!1)}),[f]);var O=Object(v.a)({},ea("inline",d,p));r.length>1&&(O.motionAppear=!1);var w=O.onVisibleChanged;return O.onVisibleChanged=function(e){return h.current||e||y(!0),null===w||void 0===w?void 0:w(e)},b?null:u.createElement(cr,{mode:"inline",locked:!h.current},u.createElement(oe.b,Object(i.a)({visible:x},O,{forceRender:l,removeOnLeave:!1,leavedClassName:"".concat(s,"-hidden")}),(function(e){var n=e.className,r=e.style;return u.createElement(Wr,{id:t,className:n,style:r},a)})))}var aa=["style","className","title","eventKey","warnKey","disabled","internalPopupClose","children","itemIcon","expandIcon","popupClassName","popupOffset","onClick","onMouseEnter","onMouseLeave","onTitleClick","onTitleMouseEnter","onTitleMouseLeave"],ia=["active"],oa=function(e){var t,n=e.style,r=e.className,c=e.title,l=e.eventKey,d=(e.warnKey,e.disabled),p=e.internalPopupClose,f=e.children,h=e.itemIcon,m=e.expandIcon,b=e.popupClassName,y=e.popupOffset,x=e.onClick,O=e.onMouseEnter,w=e.onMouseLeave,C=e.onTitleClick,k=e.onTitleMouseEnter,j=e.onTitleMouseLeave,E=Object(g.a)(e,aa),S=rr(l),T=u.useContext(or),I=T.prefixCls,P=T.mode,D=T.openKeys,N=T.disabled,A=T.overflowDisabled,_=T.activeKey,M=T.selectedKeys,R=T.itemIcon,F=T.expandIcon,B=T.onItemClick,L=T.onOpenChange,G=T.onActive,q=u.useContext(hr)._internalRenderSubMenuItem,z=u.useContext(fr).isSubPathKey,H=pr(),U="".concat(I,"-submenu"),V=N||d,Y=u.useRef(),W=u.useRef();var K=h||R,X=m||F,J=D.includes(l),$=!A&&J,Z=z(M,l),Q=Ar(l,V,k,j),ee=Q.active,te=Object(g.a)(Q,ia),ne=u.useState(!1),re=Object(o.a)(ne,2),ae=re[0],ie=re[1],oe=function(e){V||ie(e)},ce=u.useMemo((function(){return ee||"inline"!==P&&(ae||z([_],l))}),[P,ee,_,ae,l,z]),se=Fr(H.length),le=Pr((function(e){null===x||void 0===x||x(Mr(e)),B(e)})),ue=S&&"".concat(S,"-popup"),de=u.createElement("div",Object(i.a)({role:"menuitem",style:se,className:"".concat(U,"-title"),tabIndex:V?null:-1,ref:Y,title:"string"===typeof c?c:null,"data-menu-id":A&&S?null:S,"aria-expanded":$,"aria-haspopup":!0,"aria-controls":ue,"aria-disabled":V,onClick:function(e){V||(null===C||void 0===C||C({key:l,domEvent:e}),"inline"===P&&L(l,!J))},onFocus:function(){G(l)}},te),c,u.createElement(Rr,{icon:"horizontal"!==P?X:null,props:Object(v.a)(Object(v.a)({},e),{},{isOpen:$,isSubMenu:!0})},u.createElement("i",{className:"".concat(U,"-arrow")}))),pe=u.useRef(P);if("inline"!==P&&H.length>1?pe.current="vertical":pe.current=P,!A){var fe=pe.current;de=u.createElement(na,{mode:fe,prefixCls:U,visible:!p&&$&&"inline"!==P,popupClassName:b,popupOffset:y,popup:u.createElement(cr,{mode:"horizontal"===fe?"vertical":fe},u.createElement(Wr,{id:ue,ref:W},f)),disabled:V,onVisibleChange:function(e){"inline"!==P&&L(l,e)}},de)}var he=u.createElement(Qn.a.Item,Object(i.a)({role:"none"},E,{component:"li",style:n,className:s()(U,"".concat(U,"-").concat(P),r,(t={},Object(a.a)(t,"".concat(U,"-open"),$),Object(a.a)(t,"".concat(U,"-active"),ce),Object(a.a)(t,"".concat(U,"-selected"),Z),Object(a.a)(t,"".concat(U,"-disabled"),V),t)),onMouseEnter:function(e){oe(!0),null===O||void 0===O||O({key:l,domEvent:e})},onMouseLeave:function(e){oe(!1),null===w||void 0===w||w({key:l,domEvent:e})}}),de,!A&&u.createElement(ra,{id:ue,open:$,keyPath:H},f));return q&&(he=q(he,e,{selected:Z,active:ce,open:$,disabled:V})),u.createElement(cr,{onItemClick:le,mode:"horizontal"===P?"vertical":P,itemIcon:K,expandIcon:X},he)};function ca(e){var t,n=e.eventKey,r=e.children,a=pr(n),i=Xr(r,a),o=ur();return u.useEffect((function(){if(o)return o.registerPath(n,a),function(){o.unregisterPath(n,a)}}),[a]),t=o?i:u.createElement(oa,e,i),u.createElement(dr.Provider,{value:a},t)}var sa=["prefixCls","rootClassName","style","className","tabIndex","items","children","direction","id","mode","inlineCollapsed","disabled","disabledOverflow","subMenuOpenDelay","subMenuCloseDelay","forceSubMenuRender","defaultOpenKeys","openKeys","activeKey","defaultActiveFirst","selectable","multiple","defaultSelectedKeys","selectedKeys","onSelect","onDeselect","inlineIndent","motion","defaultMotions","triggerSubMenuAction","builtinPlacements","itemIcon","expandIcon","overflowedIndicator","overflowedIndicatorPopupClassName","getPopupContainer","onClick","onOpenChange","onKeyDown","openAnimation","openTransitionName","_internalRenderMenuItem","_internalRenderSubMenuItem"],la=[],ua=["className","title","eventKey","children"],da=["children"],pa=function(e){var t=e.className,n=e.title,r=(e.eventKey,e.children),a=Object(g.a)(e,ua),o=u.useContext(or).prefixCls,c="".concat(o,"-item-group");return u.createElement("li",Object(i.a)({role:"presentation"},a,{onClick:function(e){return e.stopPropagation()},className:s()(c,t)}),u.createElement("div",{role:"presentation",className:"".concat(c,"-title"),title:"string"===typeof n?n:void 0},n),u.createElement("ul",{role:"group",className:"".concat(c,"-list")},r))};function fa(e){var t=e.children,n=Object(g.a)(e,da),r=Xr(t,pr(n.eventKey));return ur()?r:u.createElement(pa,Object(ge.a)(n,["warnKey"]),r)}function ha(e){var t=e.className,n=e.style,r=u.useContext(or).prefixCls;return ur()?null:u.createElement("li",{className:s()("".concat(r,"-item-divider"),t),style:n})}var ga=u.forwardRef((function(e,t){var n,r,c=e,d=c.prefixCls,p=void 0===d?"rc-menu":d,f=c.rootClassName,m=c.style,b=c.className,y=c.tabIndex,x=void 0===y?0:y,O=c.items,w=c.children,C=c.direction,k=c.id,j=c.mode,E=void 0===j?"vertical":j,S=c.inlineCollapsed,T=c.disabled,I=c.disabledOverflow,P=c.subMenuOpenDelay,D=void 0===P?.1:P,N=c.subMenuCloseDelay,A=void 0===N?.1:N,_=c.forceSubMenuRender,M=c.defaultOpenKeys,R=c.openKeys,F=c.activeKey,B=c.defaultActiveFirst,L=c.selectable,G=void 0===L||L,q=c.multiple,z=void 0!==q&&q,H=c.defaultSelectedKeys,U=c.selectedKeys,V=c.onSelect,Y=c.onDeselect,W=c.inlineIndent,K=void 0===W?24:W,X=c.motion,J=c.defaultMotions,$=c.triggerSubMenuAction,Z=void 0===$?"hover":$,Q=c.builtinPlacements,ee=c.itemIcon,te=c.expandIcon,ne=c.overflowedIndicator,re=void 0===ne?"...":ne,ae=c.overflowedIndicatorPopupClassName,ie=c.getPopupContainer,oe=c.onClick,ce=c.onOpenChange,se=c.onKeyDown,le=(c.openAnimation,c.openTransitionName,c._internalRenderMenuItem),ue=c._internalRenderSubMenuItem,de=Object(g.a)(c,sa),pe=u.useMemo((function(){return Jr(w,O,la)}),[w,O]),fe=u.useState(!1),he=Object(o.a)(fe,2),ge=he[0],ve=he[1],me=u.useRef(),be=function(e){var t=Object(h.a)(e,{value:e}),n=Object(o.a)(t,2),r=n[0],a=n[1];return u.useEffect((function(){Nr+=1;var e="".concat(Dr,"-").concat(Nr);a("rc-menu-uuid-".concat(e))}),[]),r}(k),ye="rtl"===C;var xe=Object(h.a)(M,{value:R,postState:function(e){return e||la}}),Oe=Object(o.a)(xe,2),we=Oe[0],Ce=Oe[1],ke=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(){Ce(e),null===ce||void 0===ce||ce(e)}t?Object(vt.flushSync)(n):n()},je=u.useState(we),Ee=Object(o.a)(je,2),Se=Ee[0],Te=Ee[1],Ie=u.useRef(!1),Pe=u.useMemo((function(){return"inline"!==E&&"vertical"!==E||!S?[E,!1]:["vertical",S]}),[E,S]),De=Object(o.a)(Pe,2),Ne=De[0],Ae=De[1],_e="inline"===Ne,Me=u.useState(Ne),Re=Object(o.a)(Me,2),Fe=Re[0],Be=Re[1],Le=u.useState(Ae),Ge=Object(o.a)(Le,2),qe=Ge[0],ze=Ge[1];u.useEffect((function(){Be(Ne),ze(Ae),Ie.current&&(_e?Ce(Se):ke(la))}),[Ne,Ae]);var He=u.useState(0),Ue=Object(o.a)(He,2),Ve=Ue[0],Ye=Ue[1],We=Ve>=pe.length-1||"horizontal"!==Fe||I;u.useEffect((function(){_e&&Te(we)}),[we]),u.useEffect((function(){return Ie.current=!0,function(){Ie.current=!1}}),[]);var Ke=Ir(),Xe=Ke.registerPath,Je=Ke.unregisterPath,$e=Ke.refreshOverflowKeys,Ze=Ke.isSubPathKey,Qe=Ke.getKeyPath,et=Ke.getKeys,tt=Ke.getSubPathKeys,nt=u.useMemo((function(){return{registerPath:Xe,unregisterPath:Je}}),[Xe,Je]),rt=u.useMemo((function(){return{isSubPathKey:Ze}}),[Ze]);u.useEffect((function(){$e(We?la:pe.slice(Ve+1).map((function(e){return e.key})))}),[Ve,We]);var at=Object(h.a)(F||B&&(null===(n=pe[0])||void 0===n?void 0:n.key),{value:F}),it=Object(o.a)(at,2),ot=it[0],ct=it[1],st=Pr((function(e){ct(e)})),lt=Pr((function(){ct(void 0)}));Object(u.useImperativeHandle)(t,(function(){return{list:me.current,focus:function(e){var t,n,r,a,i=null!==ot&&void 0!==ot?ot:null===(t=pe.find((function(e){return!e.props.disabled})))||void 0===t?void 0:t.key;i&&(null===(n=me.current)||void 0===n||null===(r=n.querySelector("li[data-menu-id='".concat(nr(be,i),"']")))||void 0===r||null===(a=r.focus)||void 0===a||a.call(r,e))}}}));var ut=Object(h.a)(H||[],{value:U,postState:function(e){return Array.isArray(e)?e:null===e||void 0===e?la:[e]}}),dt=Object(o.a)(ut,2),pt=dt[0],ft=dt[1],ht=Pr((function(e){null===oe||void 0===oe||oe(Mr(e)),function(e){if(G){var t,n=e.key,r=pt.includes(n);t=z?r?pt.filter((function(e){return e!==n})):[].concat(Object(l.a)(pt),[n]):[n],ft(t);var a=Object(v.a)(Object(v.a)({},e),{},{selectedKeys:t});r?null===Y||void 0===Y||Y(a):null===V||void 0===V||V(a)}!z&&we.length&&"inline"!==Fe&&ke(la)}(e)})),gt=Pr((function(e,t){var n=we.filter((function(t){return t!==e}));if(t)n.push(e);else if("inline"!==Fe){var r=tt(e);n=n.filter((function(e){return!r.has(e)}))}Object(er.a)(we,n,!0)||ke(n,!0)})),mt=Pr(ie),bt=Er(Fe,ot,ye,be,me,et,Qe,ct,(function(e,t){var n=null!==t&&void 0!==t?t:!we.includes(e);gt(e,n)}),se);u.useEffect((function(){ve(!0)}),[]);var yt=u.useMemo((function(){return{_internalRenderMenuItem:le,_internalRenderSubMenuItem:ue}}),[le,ue]),xt="horizontal"!==Fe||I?pe:pe.map((function(e,t){return u.createElement(cr,{key:e.key,overflowDisabled:t>Ve},e)})),Ot=u.createElement(Qn.a,Object(i.a)({id:k,ref:me,prefixCls:"".concat(p,"-overflow"),component:"ul",itemComponent:Hr,className:s()(p,"".concat(p,"-root"),"".concat(p,"-").concat(Fe),b,(r={},Object(a.a)(r,"".concat(p,"-inline-collapsed"),qe),Object(a.a)(r,"".concat(p,"-rtl"),ye),r),f),dir:C,style:m,role:"menu",tabIndex:x,data:xt,renderRawItem:function(e){return e},renderRawRest:function(e){var t=e.length,n=t?pe.slice(-t):null;return u.createElement(ca,{eventKey:"rc-menu-more",title:re,disabled:We,internalPopupClose:0===t,popupClassName:ae},n)},maxCount:"horizontal"!==Fe||I?Qn.a.INVALIDATE:Qn.a.RESPONSIVE,ssr:"full","data-menu-list":!0,onVisibleChange:function(e){Ye(e)},onKeyDown:bt},de));return u.createElement(hr.Provider,{value:yt},u.createElement(tr.Provider,{value:be},u.createElement(cr,{prefixCls:p,rootClassName:f,mode:Fe,openKeys:we,rtl:ye,disabled:T,motion:ge?X:null,defaultMotions:ge?J:null,activeKey:ot,onActive:st,onInactive:lt,selectedKeys:pt,inlineIndent:K,subMenuOpenDelay:D,subMenuCloseDelay:A,forceSubMenuRender:_,builtinPlacements:Q,triggerSubMenuAction:Z,getPopupContainer:mt,itemIcon:ee,expandIcon:te,onItemClick:ht,onOpenChange:gt},u.createElement(fr.Provider,{value:rt},Ot),u.createElement("div",{style:{display:"none"},"aria-hidden":!0},u.createElement(lr.Provider,{value:nt},pe)))))}));ga.Item=Hr,ga.SubMenu=ca,ga.ItemGroup=fa,ga.Divider=ha;var va=ga;function ma(e,t){var n=e.prefixCls,r=e.id,i=e.tabs,c=e.locale,l=e.mobile,d=e.moreIcon,p=void 0===d?"More":d,f=e.moreTransitionName,h=e.style,g=e.className,v=e.editable,b=e.tabBarGutter,y=e.rtl,x=e.removeAriaLabel,O=e.onTabClick,w=e.getPopupContainer,C=e.popupClassName,k=Object(u.useState)(!1),j=Object(o.a)(k,2),E=j[0],S=j[1],T=Object(u.useState)(null),I=Object(o.a)(T,2),P=I[0],D=I[1],N="".concat(r,"-more-popup"),A="".concat(n,"-dropdown"),_=null!==P?"".concat(N,"-").concat(P):null,M=null===c||void 0===c?void 0:c.dropdownAriaLabel;var R=u.createElement(va,{onClick:function(e){var t=e.key,n=e.domEvent;O(t,n),S(!1)},prefixCls:"".concat(A,"-menu"),id:N,tabIndex:-1,role:"listbox","aria-activedescendant":_,selectedKeys:[P],"aria-label":void 0!==M?M:"expanded dropdown"},i.map((function(e){var t=v&&!1!==e.closable&&!e.disabled;return u.createElement(Hr,{key:e.key,id:"".concat(N,"-").concat(e.key),role:"option","aria-controls":r&&"".concat(r,"-panel-").concat(e.key),disabled:e.disabled},u.createElement("span",null,e.label),t&&u.createElement("button",{type:"button","aria-label":x||"remove",tabIndex:0,className:"".concat(A,"-menu-item-remove"),onClick:function(t){var n,r;t.stopPropagation(),n=t,r=e.key,n.preventDefault(),n.stopPropagation(),v.onEdit("remove",{key:r,event:n})}},e.closeIcon||v.removeIcon||"\xd7"))})));function F(e){for(var t=i.filter((function(e){return!e.disabled})),n=t.findIndex((function(e){return e.key===P}))||0,r=t.length,a=0;a<r;a+=1){var o=t[n=(n+e+r)%r];if(!o.disabled)return void D(o.key)}}Object(u.useEffect)((function(){var e=document.getElementById(_);e&&e.scrollIntoView&&e.scrollIntoView(!1)}),[P]),Object(u.useEffect)((function(){E||D(null)}),[E]);var B=Object(a.a)({},y?"marginRight":"marginLeft",b);i.length||(B.visibility="hidden",B.order=1);var L=s()(Object(a.a)({},"".concat(A,"-rtl"),y)),G=l?null:u.createElement(Zn,{prefixCls:A,overlay:R,trigger:["hover"],visible:!!i.length&&E,transitionName:f,onVisibleChange:S,overlayClassName:s()(L,C),mouseEnterDelay:.1,mouseLeaveDelay:.1,getPopupContainer:w},u.createElement("button",{type:"button",className:"".concat(n,"-nav-more"),style:B,tabIndex:-1,"aria-hidden":"true","aria-haspopup":"listbox","aria-controls":N,id:"".concat(r,"-more"),"aria-expanded":E,onKeyDown:function(e){var t=e.which;if(E)switch(t){case m.a.UP:F(-1),e.preventDefault();break;case m.a.DOWN:F(1),e.preventDefault();break;case m.a.ESC:S(!1);break;case m.a.SPACE:case m.a.ENTER:null!==P&&O(P,e)}else[m.a.DOWN,m.a.SPACE,m.a.ENTER].includes(t)&&(S(!0),e.preventDefault())}},p));return u.createElement("div",{className:s()("".concat(n,"-nav-operations"),g),style:h,ref:t},G,u.createElement(Ln,{prefixCls:n,locale:c,editable:v}))}var ba=u.memo(u.forwardRef(ma),(function(e,t){return t.tabMoving}));var ya=function(e){var t,n=e.prefixCls,r=e.id,i=e.active,o=e.tab,c=o.key,l=o.label,d=o.disabled,p=o.closeIcon,f=e.closable,h=e.renderWrapper,g=e.removeAriaLabel,v=e.editable,b=e.onClick,y=e.onFocus,x=e.style,O="".concat(n,"-tab"),w=v&&!1!==f&&!d;function C(e){d||b(e)}var k=u.createElement("div",{key:c,"data-node-key":c,className:s()(O,(t={},Object(a.a)(t,"".concat(O,"-with-remove"),w),Object(a.a)(t,"".concat(O,"-active"),i),Object(a.a)(t,"".concat(O,"-disabled"),d),t)),style:x,onClick:C},u.createElement("div",{role:"tab","aria-selected":i,id:r&&"".concat(r,"-tab-").concat(c),className:"".concat(O,"-btn"),"aria-controls":r&&"".concat(r,"-panel-").concat(c),"aria-disabled":d,tabIndex:d?null:0,onClick:function(e){e.stopPropagation(),C(e)},onKeyDown:function(e){[m.a.SPACE,m.a.ENTER].includes(e.which)&&(e.preventDefault(),C(e))},onFocus:y},l),w&&u.createElement("button",{type:"button","aria-label":g||"remove",tabIndex:0,className:"".concat(O,"-remove"),onClick:function(e){var t;e.stopPropagation(),(t=e).preventDefault(),t.stopPropagation(),v.onEdit("remove",{key:c,event:t})}},p||v.removeIcon||"\xd7"));return h?h(k):k},xa=function(e){var t=e.current||{},n=t.offsetWidth,r=void 0===n?0:n,a=t.offsetHeight;return[r,void 0===a?0:a]},Oa=function(e,t){return e[t?0:1]};function wa(e,t){var n,r=u.useContext(Sn),c=r.prefixCls,d=r.tabs,p=e.className,f=e.style,h=e.id,g=e.animated,m=e.activeKey,b=e.rtl,y=e.extra,x=e.editable,O=e.locale,w=e.tabPosition,C=e.tabBarGutter,k=e.children,j=e.onTabClick,E=e.onTabScroll,S=Object(u.useRef)(),T=Object(u.useRef)(),I=Object(u.useRef)(),P=Object(u.useRef)(),D=Object(u.useRef)(),N=Object(u.useRef)(),A=Object(u.useRef)(),_="top"===w||"bottom"===w,M=_n(0,(function(e,t){_&&E&&E({direction:e>t?"left":"right"})})),R=Object(o.a)(M,2),L=R[0],G=R[1],q=_n(0,(function(e,t){!_&&E&&E({direction:e>t?"top":"bottom"})})),z=Object(o.a)(q,2),H=z[0],U=z[1],V=Object(u.useState)([0,0]),Y=Object(o.a)(V,2),W=Y[0],K=Y[1],X=Object(u.useState)([0,0]),J=Object(o.a)(X,2),$=J[0],Z=J[1],Q=Object(u.useState)([0,0]),ee=Object(o.a)(Q,2),te=ee[0],ne=ee[1],re=Object(u.useState)([0,0]),ae=Object(o.a)(re,2),ie=ae[0],oe=ae[1],ce=function(e){var t=Object(u.useRef)([]),n=Object(u.useState)({}),r=Object(o.a)(n,2)[1],a=Object(u.useRef)("function"===typeof e?e():e),i=An((function(){var e=a.current;t.current.forEach((function(t){e=t(e)})),t.current=[],a.current=e,r({})}));return[a.current,function(e){t.current.push(e),i()}]}(new Map),se=Object(o.a)(ce,2),le=se[0],ue=se[1],de=function(e,t,n){return Object(u.useMemo)((function(){for(var n,r=new Map,a=t.get(null===(n=e[0])||void 0===n?void 0:n.key)||Nn,i=a.left+a.width,o=0;o<e.length;o+=1){var c,s=e[o].key,l=t.get(s);if(!l)l=t.get(null===(c=e[o-1])||void 0===c?void 0:c.key)||Nn;var u=r.get(s)||Object(v.a)({},l);u.right=i-u.left-u.width,r.set(s,u)}return r}),[e.map((function(e){return e.key})).join("_"),t,n])}(d,le,$[0]),pe=Oa(W,_),fe=Oa($,_),he=Oa(te,_),ge=Oa(ie,_),ve=pe<fe+he?pe-ge:pe-he,me="".concat(c,"-nav-operations-hidden"),be=0,ye=0;function xe(e){return e<be?be:e>ye?ye:e}_&&b?(be=0,ye=Math.max(0,fe-ve)):(be=Math.min(0,ve-fe),ye=0);var Oe=Object(u.useRef)(),we=Object(u.useState)(),Ce=Object(o.a)(we,2),ke=Ce[0],je=Ce[1];function Ee(){je(Date.now())}function Se(){window.clearTimeout(Oe.current)}!function(e,t){var n=Object(u.useState)(),r=Object(o.a)(n,2),a=r[0],i=r[1],c=Object(u.useState)(0),s=Object(o.a)(c,2),l=s[0],d=s[1],p=Object(u.useState)(0),f=Object(o.a)(p,2),h=f[0],g=f[1],v=Object(u.useState)(),m=Object(o.a)(v,2),b=m[0],y=m[1],x=Object(u.useRef)(),O=Object(u.useRef)(),w=Object(u.useRef)(null);w.current={onTouchStart:function(e){var t=e.touches[0],n=t.screenX,r=t.screenY;i({x:n,y:r}),window.clearInterval(x.current)},onTouchMove:function(e){if(a){e.preventDefault();var n=e.touches[0],r=n.screenX,o=n.screenY;i({x:r,y:o});var c=r-a.x,s=o-a.y;t(c,s);var u=Date.now();d(u),g(u-l),y({x:c,y:s})}},onTouchEnd:function(){if(a&&(i(null),y(null),b)){var e=b.x/h,n=b.y/h,r=Math.abs(e),o=Math.abs(n);if(Math.max(r,o)<.1)return;var c=e,s=n;x.current=window.setInterval((function(){Math.abs(c)<.01&&Math.abs(s)<.01?window.clearInterval(x.current):t(20*(c*=Mn),20*(s*=Mn))}),20)}},onWheel:function(e){var n=e.deltaX,r=e.deltaY,a=0,i=Math.abs(n),o=Math.abs(r);i===o?a="x"===O.current?n:r:i>o?(a=n,O.current="x"):(a=r,O.current="y"),t(-a,-a)&&e.preventDefault()}},u.useEffect((function(){function t(e){w.current.onTouchMove(e)}function n(e){w.current.onTouchEnd(e)}return document.addEventListener("touchmove",t,{passive:!1}),document.addEventListener("touchend",n,{passive:!1}),e.current.addEventListener("touchstart",(function(e){w.current.onTouchStart(e)}),{passive:!1}),e.current.addEventListener("wheel",(function(e){w.current.onWheel(e)})),function(){document.removeEventListener("touchmove",t),document.removeEventListener("touchend",n)}}),[])}(P,(function(e,t){function n(e,t){e((function(e){return xe(e+t)}))}return!(pe>=fe)&&(_?n(G,e):n(U,t),Se(),Ee(),!0)})),Object(u.useEffect)((function(){return Se(),ke&&(Oe.current=window.setTimeout((function(){je(0)}),100)),Se}),[ke]);var Te=function(e,t,n,r,a,i,o){var c,s,l,d=o.tabs,p=o.tabPosition,f=o.rtl;return["top","bottom"].includes(p)?(c="width",s=f?"right":"left",l=Math.abs(n)):(c="height",s="top",l=-n),Object(u.useMemo)((function(){if(!d.length)return[0,0];for(var n=d.length,r=n,a=0;a<n;a+=1){var i=e.get(d[a].key)||Rn;if(i[s]+i[c]>l+t){r=a-1;break}}for(var o=0,u=n-1;u>=0;u-=1){if((e.get(d[u].key)||Rn)[s]<l){o=u+1;break}}return[o,r]}),[e,t,r,a,i,l,p,d.map((function(e){return e.key})).join("_"),f])}(de,ve,_?L:H,fe,he,ge,Object(v.a)(Object(v.a)({},e),{},{tabs:d})),Ie=Object(o.a)(Te,2),Pe=Ie[0],De=Ie[1],Ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=de.get(e)||{width:0,height:0,left:0,right:0,top:0};if(_){var n=L;b?t.right<L?n=t.right:t.right+t.width>L+ve&&(n=t.right+t.width-ve):t.left<-L?n=-t.left:t.left+t.width>-L+ve&&(n=-(t.left+t.width-ve)),U(0),G(xe(n))}else{var r=H;t.top<-H?r=-t.top:t.top+t.height>-H+ve&&(r=-(t.top+t.height-ve)),G(0),U(xe(r))}},Ae={};"top"===w||"bottom"===w?Ae[b?"marginRight":"marginLeft"]=C:Ae.marginTop=C;var _e=d.map((function(e,t){var n=e.key;return u.createElement(ya,{id:h,prefixCls:c,key:n,tab:e,style:0===t?void 0:Ae,closable:e.closable,editable:x,active:n===m,renderWrapper:k,removeAriaLabel:null===O||void 0===O?void 0:O.removeAriaLabel,onClick:function(e){j(n,e)},onFocus:function(){Ne(n),Ee(),P.current&&(b||(P.current.scrollLeft=0),P.current.scrollTop=0)}})})),Me=function(){return ue((function(){var e=new Map;return d.forEach((function(t){var n,r=t.key,a=null===(n=D.current)||void 0===n?void 0:n.querySelector('[data-node-key="'.concat(r,'"]'));a&&e.set(r,{width:a.offsetWidth,height:a.offsetHeight,left:a.offsetLeft,top:a.offsetTop})})),e}))};Object(u.useEffect)((function(){Me()}),[d.map((function(e){return e.key})).join("_")]);var Re=An((function(){var e=xa(S),t=xa(T),n=xa(I);K([e[0]-t[0]-n[0],e[1]-t[1]-n[1]]);var r=xa(A);ne(r);var a=xa(N);oe(a);var i=xa(D);Z([i[0]-r[0],i[1]-r[1]]),Me()})),Fe=d.slice(0,Pe),Be=d.slice(De+1),Le=[].concat(Object(l.a)(Fe),Object(l.a)(Be)),Ge=Object(u.useState)(),qe=Object(o.a)(Ge,2),ze=qe[0],He=qe[1],Ue=de.get(m),Ve=Object(u.useRef)();function Ye(){F.a.cancel(Ve.current)}Object(u.useEffect)((function(){var e={};return Ue&&(_?(b?e.right=Ue.right:e.left=Ue.left,e.width=Ue.width):(e.top=Ue.top,e.height=Ue.height)),Ye(),Ve.current=Object(F.a)((function(){He(e)})),Ye}),[Ue,_,b]),Object(u.useEffect)((function(){Ne()}),[m,Fn(Ue),Fn(de),_]),Object(u.useEffect)((function(){Re()}),[b]);var We,Ke,Xe,Je,$e=!!Le.length,Ze="".concat(c,"-nav-wrap");return _?b?(Ke=L>0,We=L+pe<fe):(We=L<0,Ke=-L+pe<fe):(Xe=H<0,Je=-H+pe<fe),u.createElement(Dn.a,{onResize:Re},u.createElement("div",{ref:Object(B.d)(t,S),role:"tablist",className:s()("".concat(c,"-nav"),p),style:f,onKeyDown:function(){Ee()}},u.createElement(Gn,{ref:T,position:"left",extra:y,prefixCls:c}),u.createElement("div",{className:s()(Ze,(n={},Object(a.a)(n,"".concat(Ze,"-ping-left"),We),Object(a.a)(n,"".concat(Ze,"-ping-right"),Ke),Object(a.a)(n,"".concat(Ze,"-ping-top"),Xe),Object(a.a)(n,"".concat(Ze,"-ping-bottom"),Je),n)),ref:P},u.createElement(Dn.a,{onResize:Re},u.createElement("div",{ref:D,className:"".concat(c,"-nav-list"),style:{transform:"translate(".concat(L,"px, ").concat(H,"px)"),transition:ke?"none":void 0}},_e,u.createElement(Ln,{ref:A,prefixCls:c,locale:O,editable:x,style:Object(v.a)(Object(v.a)({},0===_e.length?void 0:Ae),{},{visibility:$e?"hidden":null})}),u.createElement("div",{className:s()("".concat(c,"-ink-bar"),Object(a.a)({},"".concat(c,"-ink-bar-animated"),g.inkBar)),style:ze})))),u.createElement(ba,Object(i.a)({},e,{removeAriaLabel:null===O||void 0===O?void 0:O.removeAriaLabel,ref:N,prefixCls:c,tabs:Le,className:!$e&&me,tabMoving:!!ke})),u.createElement(Gn,{ref:I,position:"right",extra:y,prefixCls:c})))}var Ca=u.forwardRef(wa),ka=["renderTabBar"],ja=["label","key"];function Ea(e){var t=e.renderTabBar,n=Object(g.a)(e,ka),r=u.useContext(Sn).tabs;return t?t(Object(v.a)(Object(v.a)({},n),{},{panes:r.map((function(e){var t=e.label,n=e.key,r=Object(g.a)(e,ja);return u.createElement(Tn,Object(i.a)({tab:t,key:n,tabKey:n},r))}))}),Ca):u.createElement(Ca,n)}var Sa=["id","prefixCls","className","items","direction","activeKey","defaultActiveKey","editable","animated","tabPosition","tabBarGutter","tabBarStyle","tabBarExtraContent","locale","moreIcon","moreTransitionName","destroyInactiveTabPane","renderTabBar","onChange","onTabClick","onTabScroll","getPopupContainer","popupClassName"],Ta=0;function Ia(e,t){var n,c=e.id,l=e.prefixCls,d=void 0===l?"rc-tabs":l,p=e.className,f=e.items,m=e.direction,b=e.activeKey,y=e.defaultActiveKey,x=e.editable,O=e.animated,w=e.tabPosition,C=void 0===w?"top":w,k=e.tabBarGutter,j=e.tabBarStyle,E=e.tabBarExtraContent,S=e.locale,T=e.moreIcon,I=e.moreTransitionName,P=e.destroyInactiveTabPane,D=e.renderTabBar,N=e.onChange,A=e.onTabClick,_=e.onTabScroll,M=e.getPopupContainer,R=e.popupClassName,F=Object(g.a)(e,Sa),B=u.useMemo((function(){return(f||[]).filter((function(e){return e&&"object"===Object(r.a)(e)&&"key"in e}))}),[f]),L="rtl"===m,G=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{inkBar:!0,tabPane:!1};return(e=!1===t?{inkBar:!1,tabPane:!1}:!0===t?{inkBar:!0,tabPane:!1}:Object(v.a)({inkBar:!0},"object"===Object(r.a)(t)?t:{})).tabPaneMotion&&void 0===e.tabPane&&(e.tabPane=!0),!e.tabPaneMotion&&e.tabPane&&(e.tabPane=!1),e}(O),q=Object(u.useState)(!1),z=Object(o.a)(q,2),H=z[0],U=z[1];Object(u.useEffect)((function(){U(Object(En.a)())}),[]);var V=Object(h.a)((function(){var e;return null===(e=B[0])||void 0===e?void 0:e.key}),{value:b,defaultValue:y}),Y=Object(o.a)(V,2),W=Y[0],K=Y[1],X=Object(u.useState)((function(){return B.findIndex((function(e){return e.key===W}))})),J=Object(o.a)(X,2),$=J[0],Z=J[1];Object(u.useEffect)((function(){var e,t=B.findIndex((function(e){return e.key===W}));-1===t&&(t=Math.max(0,Math.min($,B.length-1)),K(null===(e=B[t])||void 0===e?void 0:e.key));Z(t)}),[B.map((function(e){return e.key})).join("_"),W,$]);var Q=Object(h.a)(null,{value:c}),ee=Object(o.a)(Q,2),te=ee[0],ne=ee[1];Object(u.useEffect)((function(){c||(ne("rc-tabs-".concat(Ta)),Ta+=1)}),[]);var re={id:te,activeKey:W,animated:G,tabPosition:C,rtl:L,mobile:H},ae=Object(v.a)(Object(v.a)({},re),{},{editable:x,locale:S,moreIcon:T,moreTransitionName:I,tabBarGutter:k,onTabClick:function(e,t){null===A||void 0===A||A(e,t);var n=e!==W;K(e),n&&(null===N||void 0===N||N(e))},onTabScroll:_,extra:E,style:j,panes:null,getPopupContainer:M,popupClassName:R});return u.createElement(Sn.Provider,{value:{tabs:B,prefixCls:d}},u.createElement("div",Object(i.a)({ref:t,id:c,className:s()(d,"".concat(d,"-").concat(C),(n={},Object(a.a)(n,"".concat(d,"-mobile"),H),Object(a.a)(n,"".concat(d,"-editable"),x),Object(a.a)(n,"".concat(d,"-rtl"),L),n),p)},F),void 0,u.createElement(Ea,Object(i.a)({},ae,{renderTabBar:D})),u.createElement(Pn,Object(i.a)({destroyInactiveTabPane:P},re,{animated:G}))))}var Pa=u.forwardRef(Ia),Da=n(221),Na={motionAppear:!1,motionEnter:!0,motionLeave:!0};var Aa=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};var _a=function(){return null},Ma=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};function Ra(e){var t,n=e.type,o=e.className,c=e.size,l=e.onEdit,d=e.hideAdd,p=e.centered,f=e.addIcon,h=e.children,g=e.items,v=e.animated,m=Ma(e,["type","className","size","onEdit","hideAdd","centered","addIcon","children","items","animated"]),b=m.prefixCls,y=m.moreIcon,x=void 0===y?u.createElement(wn,null):y,O=u.useContext(R.b),w=O.getPrefixCls,C=O.direction,k=O.getPopupContainer,j=w("tabs",b);"editable-card"===n&&(t={onEdit:function(e,t){var n=t.key,r=t.event;null===l||void 0===l||l("add"===e?r:n,e)},removeIcon:u.createElement(Be.a,null),addIcon:f||u.createElement(jn,null),showAdd:!0!==d});var E=w(),S=function(e,t){return e||function(e){return e.filter((function(e){return e}))}(Object(ie.a)(t).map((function(e){if(u.isValidElement(e)){var t=e.key,n=e.props||{},r=n.tab,a=Aa(n,["tab"]);return Object(i.a)(Object(i.a)({key:String(t)},a),{label:r})}return null})))}(g,h),T=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{inkBar:!0,tabPane:!1};return(t=!1===n?{inkBar:!1,tabPane:!1}:!0===n?{inkBar:!0,tabPane:!0}:Object(i.a)({inkBar:!0},"object"===Object(r.a)(n)?n:{})).tabPane&&(t.tabPaneMotion=Object(i.a)(Object(i.a)({},Na),{motionName:Object(ve.c)(e,"switch")})),t}(j,v);return u.createElement(Da.b.Consumer,null,(function(e){var r,l=void 0!==c?c:e;return u.createElement(Pa,Object(i.a)({direction:C,getPopupContainer:k,moreTransitionName:"".concat(E,"-slide-up")},m,{items:S,className:s()((r={},Object(a.a)(r,"".concat(j,"-").concat(l),l),Object(a.a)(r,"".concat(j,"-card"),["card","editable-card"].includes(n)),Object(a.a)(r,"".concat(j,"-editable-card"),"editable-card"===n),Object(a.a)(r,"".concat(j,"-centered"),p),r),o),editable:t,moreIcon:x,prefixCls:j,animated:T}))}))}Ra.TabPane=_a;var Fa=Ra,Ba=n(224),La=n.n(Ba),Ga=(n(267),{icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M696 480H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"plus-circle",theme:"outlined"}),qa=function(e,t){return u.createElement(xn.a,Object(v.a)(Object(v.a)({},e),{},{ref:t,icon:Ga}))};qa.displayName="PlusCircleOutlined";var za=u.forwardRef(qa),Ha=n(150),Ua=n(149),Va=function(e){Object(Y.a)(n,e);var t=Object(W.a)(n);function n(){return Object(H.a)(this,n),t.apply(this,arguments)}return Object(U.a)(n,[{key:"componentDidMount",value:function(){if(this.visNode){var e=this.visNode.children[0];if(e){var t,n,r=this.props.factType;"multivariate_distribution"==r||"multivariate_outlier"==r?(t=350/Ua.a[r].width,n=200/Ua.a[r].height):(t=446/Ua.a[r].width,n=222/Ua.a[r].height),e.style.transform="scaleX(".concat(t,")scaleY(").concat(n,")")}}}},{key:"shouldComponentUpdate",value:function(e){var t=this.props.insightSpec,n=e.insightSpec.fact;return!_.isEqual(t.fact,n)}},{key:"componentDidUpdate",value:function(){if(this.visNode){var e=this.visNode.children[0];if(e){var t,n,r=this.props.factType;"multivariate_distribution"==r||"multivariate_outlier"==r?(t=400/Ua.a[r].width,n=222/Ua.a[r].height):(t=446/Ua.a[r].width,n=222/Ua.a[r].height),e.style.transform="scaleX(".concat(t,")scaleY(").concat(n,")")}}}},{key:"render",value:function(){var e=this,t=this.props,n=t.index,r=t.insightSpec,a=t.factType;return r.chart.id="popCard-"+n.toString(),r.chart.width=Ua.a[a].width,r.chart.height=0,r.chart.showTooltip=!0,d.a.createElement("div",{className:"vis",ref:function(t){return e.visNode=t}},d.a.createElement(Ha.a,{spec:r}))}}]),n}(u.Component),Ya=n(28),Wa=n.n(Ya),Ka=n(130),Xa=n(156),Ja=Fa.TabPane,$a=function(e){Object(Y.a)(n,e);var t=Object(W.a)(n);function n(e){var r;return Object(H.a)(this,n),(r=t.call(this,e)).onCancel=function(){r.props.isPopInsightCard&&r.props.setPopInsightCardState(!1);for(var e=document.getElementsByClassName("insight-block"),t=0;t<e.length;t++)e[t].setAttribute("class","insight-block false");r.setState({tabKey:"0",getCurrentPopinsight:!1}),r.props.setCurrentPopInsights([])},r.clearTooltip=function(){var e=document.querySelectorAll("#whole-container")[0];if(e){for(var t=e.querySelectorAll("#hover-tooltip"),n=e.querySelectorAll("#value-tooltip"),r=0;r<t.length;r++)e.removeChild(t[r]);for(var a=0;a<n.length;a++)e.removeChild(n[a])}},r.addInsightToSequence=function(e){var t=r.state.tabKey,n=r.props,a=n.currentPopInsightList,i=n.selectedRecommendCardIndex,o=n.sequence,c=n.selectedCardIndex,s=o[c].spec,l=a[parseInt(t)];if("empty"!==s)if(Wa.a.isEqual(s.chart.type,l.spec.chart.type)&&Wa.a.isEqual(s.fact.subspace.sort(),l.spec.fact.subspace.sort()))rt.b.warning({content:"Now insight is equal to the one you want add!",duration:1,style:{marginTop:"35vh"}});else if(-1===i){var u=o[c].recommendList,d=o[c].oriBlock,p=o[c].captionId;r.props.fixCard(c,l.spec,l.type,u,d,p),rt.b.success({content:"Add success!",duration:1,style:{marginTop:"35vh"}}),setTimeout((function(){r.props.setSelectedCardIndex(c)}),200)}else{var f=o[c].recommendList,h=f[i].block,g=f[i].captionId;r.props.fixCard(c,l.spec,l.type,f,h,g),rt.b.success({content:"Add success!",duration:1,style:{marginTop:"35vh"}}),setTimeout((function(){r.props.setSelectedCardIndex(c)}),200)}else{var v=o[c].recommendList,m=v[i].block,b=v[i].captionId;r.props.fixCard(c,l.spec,l.type,v,m,b),rt.b.success({content:"Add success!",duration:1,style:{marginTop:"35vh"}}),setTimeout((function(){r.props.setSelectedCardIndex(c)}),200)}},r.onStart=function(e,t){var n,a=window.document.documentElement,i=a.clientWidth,o=a.clientHeight,c=null===(n=r.draggleRef.current)||void 0===n?void 0:n.getBoundingClientRect();c&&r.setState({bounds:{left:-c.left+t.x,right:i-(c.right-t.x),top:-c.top+t.y,bottom:o-(c.bottom-t.y)}})},r.setActiveKey=function(e){r.setState({tabKey:e,getCurrentPopinsight:!0})},r.setCurrentPopContent=function(){var e=r.props,t=e.sequence,n=e.selectedCardIndex,a=e.selectedRecommendCardIndex,i=r.props,o=i.configureInsightColumns,c=i.configureInsightTime,s=[],l=[],u=i.timeColumnName,d=i.file_url;if(-1!==a&&t[n].recommendList.length>0){var p=t[n].recommendList[a].block;if(p.length>0){for(var f=0;f<p.length;f++)s.push(p[f].field);l=[p[0].value[0].start,p[0].value[0].end]}}else-1===a&&(s=o,l=c);Object(Ka.a)(d,s,u,l).then((function(e){r.props.setCurrentPopInsights(e.data.insights)})).catch((function(e){console.log("\u5931\u8d25",e)}))},r.state={tabKey:"0",disabled:!0,bounds:{left:0,top:0,bottom:0,right:0}},r.draggleRef=d.a.createRef(),r}return Object(U.a)(n,[{key:"shouldComponentUpdate",value:function(e){var t=this.props.currentPopInsightList;return Wa.a.isEqual(t,e.currentPopInsightList)||this.clearTooltip(),!0}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){var e=this,t=this.state,n=t.bounds,r=t.disabled,a=t.tabKey,i=this.props,o=i.intl,c=i.currentPopInsightList,s=i.isPopInsightCard;return d.a.createElement(bn,{wrapClassName:"pop-insights-card",title:d.a.createElement("div",{style:{width:"100%",cursor:"move"},onMouseOver:function(){r&&e.setState({disabled:!1})},onMouseOut:function(){e.setState({disabled:!0})},onFocus:function(){},onBlur:function(){}},"Insight"),visible:s,style:{textAlign:"center",justifyContent:"center",alignItems:"center",display:"flex"},onCancel:this.onCancel,footer:d.a.createElement("div",{className:"pop-card-footer"},d.a.createElement("div",{className:"card-footer-btn",onClick:this.addInsightToSequence},d.a.createElement("div",{className:"footer-btn-icon"},d.a.createElement(za,null)),d.a.createElement("div",{className:"footer-btn-text"},o.get("AddToAnalysisFlow")))),modalRender:function(t){return d.a.createElement(La.a,{disabled:r,bounds:n,onStart:function(t,n){return e.onStart(t,n)}},d.a.createElement("div",{ref:e.draggleRef},t))}},s||void 0===c?0===c.length?d.a.createElement(tt.a,{wrapperClassName:"pop-spin"}):d.a.createElement(Fa,{defaultActiveKey:"0",onChange:this.setActiveKey,activeKey:a},void 0===c?null:c.map((function(e,t){return d.a.createElement(Ja,{tab:Xa.a[e.type],key:t.toString(),style:{position:"relative"}},d.a.createElement(Va,{insightSpec:e.spec,factType:e.type,index:t,currentPopInsightList:c}))}))):null)}}]),n}(u.Component),Za=Object(Z.b)((function(e){return{sequence:Object(Q.y)(e),selectedCardIndex:Object(Q.w)(e),isPopInsightCard:Object(Q.l)(e),currentPopInsightList:Object(Q.h)(e),selectedRecommendCardIndex:Object(Q.x)(e),configureInsightColumns:Object(Q.e)(e),configureInsightTime:Object(Q.f)(e),timeColumnName:Object(Q.A)(e),file_url:Object(nt.e)(e)}}),(function(e){return{setSelectedCardIndex:function(t){return e(et.u(t))},setCurrentPopInsights:function(t){return e(et.m(t))},setPopInsightCardState:function(t){return e(et.o(t))},fixCard:function(t,n,r,a,i,o){return e(et.f(t,n,r,a,i,o))}}}))($a);Qa("similarity"),Qa("seasonality"),Qa("frequent_pattern"),Qa("univariate_distribution"),Qa("seasonality"),Qa("similarity"),Qa("trend"),Qa("seasonality"),Qa("similarity"),Qa("univariate_distribution"),Qa("univariate_distribution"),Qa("similarity"),Qa("seasonality"),Qa("similarity"),Qa("trend"),Qa("similarity"),Qa("frequent_pattern");function Qa(e){var t=n(44)("./"+e+".json");return _.cloneDeep(t)}var ei=function(e){Object(Y.a)(n,e);var t=Object(W.a)(n);function n(e){var r;return Object(H.a)(this,n),(r=t.call(this,e)).calcuRecommendScrollLocation=function(e,t,n){var a=r.props.columnsName.indexOf(n[Math.floor(n.length/2)]),i=r.scale(e)+30,o=r.scale(t)-r.scale(e),c=15+a*r.oneYLength,s=r.oneYLength*n.length-30,l=document.getElementById("time-seires-view"),u=window.getComputedStyle(l,null).getPropertyValue("height"),d=parseFloat(u.substring(0,u.length-2)),p=window.getComputedStyle(l,null).getPropertyValue("width"),f=parseFloat(p.substring(0,p.length-2));l.scrollTop=c+s/2-d/2,l.scrollLeft=i+o/2-f/2+100},r.clickRecommendCard=function(){var e=r.props,t=e.factType,n=e.insightSpec,a=e.index,i=e.segmentInsightsStorage,o=e.file_url,c=e.timeColumnName;e.sequence,e.insightIndex;r.props.setSelectedRecommendCard(a);var s=r.props.block,l=[],u=[s[0].value[0].start,s[0].value[0].end];for(var d in s)l.push(s[d].field);r.calcuRecommendScrollLocation(u[0],u[1],l);var p=l.sort().toString()+"-"+u.sort().toString();if(r.props.setCurrentPopInsights([]),i.hasOwnProperty(p)){var f=[],h=[];for(var g in i[p])h.push(i[p][g].type);h.includes(t)?r.props.setCurrentPopInsights(i[p]):(f=[{spec:n,type:t,action:-1}].concat(i[p]),r.props.addPopInsights(p,f),r.props.setCurrentPopInsights(f))}else Object(Ka.a)(o,l,c,u).then((function(e){var a=[],i=[];for(var o in e.data.insights)i.push(e.data.insights[o].type);i.includes(t)?(a=e.data.insights,r.props.setCurrentPopInsights(a)):(a=[{spec:n,type:t,action:-1}].concat(e.data.insights),r.props.setCurrentPopInsights(a)),r.props.addPopInsights(p,a)})).catch((function(e){console.log("\u5931\u8d25",e);var a=[{spec:n,type:t,action:-1}];r.props.addPopInsights(p,a),r.props.setCurrentPopInsights(a)}))},r.deleteRecommendCard=function(){var e=r.props,t=e.index,n=e.sequence,a=e.insightIndex;r.props.setSelectedRecommendCard(t);var i=n[a].spec,o=n[a].recommendList[t];if("empty"!==i)if(_.isEqual(i.chart.type,o.spec.chart.type)&&_.isEqual(i.fact.subspace.sort(),o.spec.fact.subspace.sort()))rt.b.warning({content:"Now insight is equal to the one you want add!",duration:1,style:{marginTop:"35vh"}});else{n[a].recommendList.splice(t,1);var c=n[a].recommendList,s=o.block,l=o.captionId;r.props.fixCard(a,o.spec,o.type,c,s,l),rt.b.success({content:"Add success!",duration:1,style:{marginTop:"35vh"}})}else{n[a].recommendList.splice(t,1);var u=n[a].recommendList,d=o.block,p=o.captionId;r.props.fixCard(a,o.spec,o.type,u,d,p),rt.b.success({content:"Add success!",duration:1,style:{marginTop:"35vh"}})}},e.onRef&&e.onRef(Object(V.a)(r)),r}return Object(U.a)(n,[{key:"componentDidMount",value:function(){if(this.visNode){var e=this.visNode.children[0];if(e){var t=this.props.factType,n=0;n="multivariate_distribution"===t?180/Ua.a[t].width:260/Ua.a[t].width;var r=110/Ua.a[t].height;e.style.transform="scaleX(".concat(n,")scaleY(").concat(r,")")}}var a=this.props,i=a.dataRange,o=a.columnsName,c=(a.chartScale,a.chartMargin),s=Math.max(2*i[1],1e3);this.scale=Xe.t().domain(i).range([60,s-c]),this.oneYLength=(120*o.length-20)/o.length}},{key:"shouldComponentUpdate",value:function(e){var t=this.props,n=t.insightSpec;if(t.selected!==e.selected)return!0;var r=e.insightSpec.fact;return!_.isEqual(n.fact,r)}},{key:"componentDidUpdate",value:function(){if(this.visNode){var e=this.visNode.children[0];if(e){var t=this.props.factType,n=0;n="multivariate_distribution"===t?180/Ua.a[t].width:260/Ua.a[t].width;var r=110/Ua.a[t].height;e.style.transform="scaleX(".concat(n,")scaleY(").concat(r,")")}}}},{key:"render",value:function(){var e=this,t=this.props,n=t.factType,r=t.insightSpec,a=t.index,i=t.selected;return r.chart.id="recommend-"+a.toString(),r.chart.width=Ua.a[n].width,r.chart.height=Ua.a[n].height,r.chart.showTooltip=!1,d.a.createElement("li",null,d.a.createElement("div",{className:"single-insight",style:{border:i?"rgb(244, 158, 40) 3px solid":"".concat(at.a[Xa.a[n].toLowerCase()]," 3px solid "),boxShadow:i?"rgba(0, 0,0,0.2) 1px 1px 0px 2px":"rgb(0, 0 ,0) 0px 0px 0px 0px"}},d.a.createElement(L.a,{title:Xa.a[n]},d.a.createElement("div",{className:"insight-title"},Xa.a[n])),d.a.createElement("div",{className:"delete",onClick:this.deleteRecommendCard}),d.a.createElement("div",{className:"vis",ref:function(t){return e.visNode=t},onClick:this.clickRecommendCard,style:"multivariate_outlier"===n?{overflowY:"scroll",overflowX:"hidden"}:null},d.a.createElement(Ha.a,{spec:r}))))}}]),n}(u.Component),ti=Object(Z.b)((function(e){return{chartScale:Object(Q.b)(e),chartMargin:Object(Q.a)(e),dataRange:Object(Q.i)(e),columnsName:Object(Q.c)(e),recommendList:Object(Q.s)(e),selectedRecommendCardIndex:Object(Q.x)(e),segmentInsightsStorage:Object(Q.v)(e),timeColumnName:Object(Q.A)(e),file_url:Object(nt.e)(e)}}),(function(e){return{setSelectedRecommendCard:function(t){return e(et.v(t))},removeRecommendCard:function(t){return e(et.h(t))},setCurrentPopInsights:function(t){return e(et.m(t))},addPopInsights:function(t,n){return e(et.b(t,n))},fixCard:function(t,n,r,a,i,o){return e(et.f(t,n,r,a,i,o))}}}))(ei),ni=ye.Panel,ri=function(e){Object(Y.a)(n,e);var t=Object(W.a)(n);function n(e){return Object(H.a)(this,n),t.call(this,e)}return Object(U.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.intl,r=t.sequence,a=t.selectedCardIndex;return d.a.createElement(ye,{defaultActiveKey:["insights-list"]},d.a.createElement(ni,{header:n.get("InsightList"),key:"insights-list"},d.a.createElement("div",{className:"insights-list"},d.a.createElement("div",{className:"insights-card-list"},void 0===r[a]?null:0!==a&&0==r[a].recommendList.length?d.a.createElement(tt.a,{style:{marginTop:"20px",marginBottom:"20px"}}):d.a.createElement("ul",null,void 0===r[a]?null:r[a].recommendList.map((function(t,i){return d.a.createElement(ti,{insightSpec:t.spec,factType:t.type,key:i,intl:n,index:i,insightIndex:a,block:t.block,sequence:r,selected:e.props.selectedRecommendCardIndex===i,onRef:function(t){return e.RecommendCard=t}})})))))))}}]),n}(u.Component),ai=Object(Z.b)((function(e){return{sequence:Object(Q.y)(e),selectedCardIndex:Object(Q.w)(e),recommendList:Object(Q.s)(e),selectedRecommendCardIndex:Object(Q.x)(e)}}),(function(e){return{setSelectedRecommendCard:function(t){return e(et.v(t))},removeRecommendCard:function(t){return e(et.h(t))}}}))(ri),ii=(n(268),function(){var e=u.useState(!1),t=Object(o.a)(e,2),n=t[0],r=t[1];return u.useEffect((function(){r(function(){if(!Jt())return!1;if(void 0!==Kt)return Kt;var e=document.createElement("div");return e.style.display="flex",e.style.flexDirection="column",e.style.rowGap="1px",e.appendChild(document.createElement("div")),e.appendChild(document.createElement("div")),document.body.appendChild(e),Kt=1===e.scrollHeight,document.body.removeChild(e),Kt}())}),[]),n}),oi=n(188),ci=n(187),si=Object(u.createContext)({}),li=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};Object(ci.a)("top","middle","bottom","stretch"),Object(ci.a)("start","end","center","space-around","space-between","space-evenly");function ui(e,t){var n=u.useState("string"===typeof e?e:""),a=Object(o.a)(n,2),i=a[0],c=a[1];return u.useEffect((function(){!function(){if("string"===typeof e&&c(e),"object"===Object(r.a)(e))for(var n=0;n<oi.b.length;n++){var a=oi.b[n];if(t[a]){var i=e[a];if(void 0!==i)return void c(i)}}}()}),[JSON.stringify(e),t]),i}var di=u.forwardRef((function(e,t){var n,c=e.prefixCls,l=e.justify,d=e.align,p=e.className,f=e.style,h=e.children,g=e.gutter,v=void 0===g?0:g,m=e.wrap,b=li(e,["prefixCls","justify","align","className","style","children","gutter","wrap"]),y=u.useContext(R.b),x=y.getPrefixCls,O=y.direction,w=u.useState({xs:!0,sm:!0,md:!0,lg:!0,xl:!0,xxl:!0}),C=Object(o.a)(w,2),k=C[0],j=C[1],E=u.useState({xs:!1,sm:!1,md:!1,lg:!1,xl:!1,xxl:!1}),S=Object(o.a)(E,2),T=S[0],I=S[1],P=ui(d,T),D=ui(l,T),N=ii(),A=u.useRef(v);u.useEffect((function(){var e=oi.a.subscribe((function(e){I(e);var t=A.current||0;(!Array.isArray(t)&&"object"===Object(r.a)(t)||Array.isArray(t)&&("object"===Object(r.a)(t[0])||"object"===Object(r.a)(t[1])))&&j(e)}));return function(){return oi.a.unsubscribe(e)}}),[]);var _=x("row",c),M=function(){var e=[void 0,void 0];return(Array.isArray(v)?v:[v,void 0]).forEach((function(t,n){if("object"===Object(r.a)(t))for(var a=0;a<oi.b.length;a++){var i=oi.b[a];if(k[i]&&void 0!==t[i]){e[n]=t[i];break}}else e[n]=t})),e}(),F=s()(_,(n={},Object(a.a)(n,"".concat(_,"-no-wrap"),!1===m),Object(a.a)(n,"".concat(_,"-").concat(D),D),Object(a.a)(n,"".concat(_,"-").concat(P),P),Object(a.a)(n,"".concat(_,"-rtl"),"rtl"===O),n),p),B={},L=null!=M[0]&&M[0]>0?M[0]/-2:void 0,G=null!=M[1]&&M[1]>0?M[1]/-2:void 0;if(L&&(B.marginLeft=L,B.marginRight=L),N){var q=Object(o.a)(M,2);B.rowGap=q[1]}else G&&(B.marginTop=G,B.marginBottom=G);var z=Object(o.a)(M,2),H=z[0],U=z[1],V=u.useMemo((function(){return{gutter:[H,U],wrap:m,supportFlexGap:N}}),[H,U,m,N]);return u.createElement(si.Provider,{value:V},u.createElement("div",Object(i.a)({},b,{className:F,style:Object(i.a)(Object(i.a)({},B),f),ref:t}),h))})),pi=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};var fi=["xs","sm","md","lg","xl","xxl"];var hi=u.forwardRef((function(e,t){var n,o=u.useContext(R.b),c=o.getPrefixCls,l=o.direction,d=u.useContext(si),p=d.gutter,f=d.wrap,h=d.supportFlexGap,g=e.prefixCls,v=e.span,m=e.order,b=e.offset,y=e.push,x=e.pull,O=e.className,w=e.children,C=e.flex,k=e.style,j=pi(e,["prefixCls","span","order","offset","push","pull","className","children","flex","style"]),E=c("col",g),S={};fi.forEach((function(t){var n,o={},c=e[t];"number"===typeof c?o.span=c:"object"===Object(r.a)(c)&&(o=c||{}),delete j[t],S=Object(i.a)(Object(i.a)({},S),(n={},Object(a.a)(n,"".concat(E,"-").concat(t,"-").concat(o.span),void 0!==o.span),Object(a.a)(n,"".concat(E,"-").concat(t,"-order-").concat(o.order),o.order||0===o.order),Object(a.a)(n,"".concat(E,"-").concat(t,"-offset-").concat(o.offset),o.offset||0===o.offset),Object(a.a)(n,"".concat(E,"-").concat(t,"-push-").concat(o.push),o.push||0===o.push),Object(a.a)(n,"".concat(E,"-").concat(t,"-pull-").concat(o.pull),o.pull||0===o.pull),Object(a.a)(n,"".concat(E,"-rtl"),"rtl"===l),n))}));var T=s()(E,(n={},Object(a.a)(n,"".concat(E,"-").concat(v),void 0!==v),Object(a.a)(n,"".concat(E,"-order-").concat(m),m),Object(a.a)(n,"".concat(E,"-offset-").concat(b),b),Object(a.a)(n,"".concat(E,"-push-").concat(y),y),Object(a.a)(n,"".concat(E,"-pull-").concat(x),x),n),O,S),I={};if(p&&p[0]>0){var P=p[0]/2;I.paddingLeft=P,I.paddingRight=P}if(p&&p[1]>0&&!h){var D=p[1]/2;I.paddingTop=D,I.paddingBottom=D}return C&&(I.flex=function(e){return"number"===typeof e?"".concat(e," ").concat(e," auto"):/^\d+(\.\d+)?(px|em|rem|%)$/.test(e)?"0 0 ".concat(e):e}(C),!1!==f||I.minWidth||(I.minWidth=0)),u.createElement("div",Object(i.a)({},j,{style:Object(i.a)(Object(i.a)({},I),k),className:T,ref:t}),w)})),gi=function(e){Object(Y.a)(n,e);var t=Object(W.a)(n);function n(e){var r;return Object(H.a)(this,n),(r=t.call(this,e)).clickBtn=function(){var e=r.state.isRequest,t=r.props,n=t.originFileUrl,a=t.originTimeValue,i=(t.file_url,t.timeColumnName),o=t.processTime,c=t.processGranularity,s=t.processColumns;if("Start"===r.props.rightBtnState){if(e)return void rt.b.warning({content:"Requesting, please wait!",duration:1,style:{marginTop:"35vh"}});r.setState({isRequest:!0}),rt.b.loading({content:"Generating, please wait a moment",duration:0,style:{marginTop:"35vh"}}),Object(Ka.g)(n,o[0],o[1],s,c).then((function(e){var t=e.data,n=[],c=(Wa.a.cloneDeep(a).slice(o[0],o[1]),Object(V.a)(r));n.push({type:"temporal",field:i});for(var l=0;l<s.length;l++)n.push({type:"numerical",field:s[l]});var u=[],d=n.filter((function(e){return"numerical"===e.type}));u=d.map((function(e){return e.field})),Xe.e(t.file_url).then((function(e){e.forEach((function(e,t){for(var n in e)-1!==u.indexOf(n)&&(e[n]=parseFloat(e[n]))})),c.props.updateColumnsAndRange(s,[0,e.length-1],t.timeValues),c.props.updateFileAndData(n,e,t.file_url),Object(Ka.c)(t.file_url,i,c.props.task).then((function(e){rt.b.destroy(),rt.b.success({content:"Generate success!",duration:1,style:{marginTop:"35vh"}}),c.props.setSequence(e.data.sequence),c.props.changeBtnState("Back"),c.setState({isRequest:!1})})).catch((function(e){console.log("\u5931\u8d25",e),c.setState({isRequest:!1}),rt.b.error({content:"Sorry, time series analysis flow generation failed!",duration:1,style:{marginTop:"35vh"}}),setTimeout((function(){rt.b.destroy()}),1e3)}))})).catch((function(e){c.log(e),this.setState({isRequest:!1})}))})).catch((function(e){console.log("\u5931\u8d25",e),r.setState({isRequest:!1}),rt.b.error({content:"Sorry, file preprocessing failed!",duration:1,style:{marginTop:"35vh"}}),setTimeout((function(){rt.b.destroy()}),1e3)}))}else r.props.changeBtnState("Start")},r.state={isRequest:!1},r}return Object(U.a)(n,[{key:"render",value:function(){var e=this.props,t=e.intl,n=e.rightBtnState;return d.a.createElement("div",{className:"start-back-btn",style:{width:"290px"}},d.a.createElement(di,{className:"edit-panel-btn"},d.a.createElement(hi,{onClick:this.clickBtn},d.a.createElement("p",null," ","Start"===n?t.get("Start"):t.get("Back")))))}}]),n}(u.Component),vi=n(225),mi=Object(Z.b)((function(e){return{originFileUrl:Object(nt.i)(e),originTimeValue:Object(Q.o)(e),rightBtnState:Object(Q.u)(e),file_url:Object(nt.e)(e),timeColumnName:Object(Q.A)(e),task:Object(Q.z)(e),processTime:Object(Q.r)(e),processGranularity:Object(Q.q)(e),processColumns:Object(Q.p)(e)}}),(function(e){return{changeBtnState:function(t){return e(et.d(t))},setSequence:function(t){return e(et.w(t))},setRedundantRecommend:function(t){return e(et.s(t))},updateColumnsAndRange:function(t,n,r){return e(et.z(t,n,r))},updateFileAndData:function(t,n,r){return e(vi.b(t,n,r))}}}))(gi),bi=(n(269),function(e){Object(Y.a)(n,e);var t=Object(W.a)(n);function n(){var e;Object(H.a)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).setTipValue=function(t){var n=e.props.timeValue;if(0!==n.length)return n[t]},e}return Object(U.a)(n,[{key:"render",value:function(){var e=this.props,t=e.min,n=e.max,r=e.start,a=e.end;return d.a.createElement(z,{range:!0,min:t,max:n,defaultValue:[r,a],value:[r,a],tipFormatter:this.setTipValue,onChange:this.props.changeTime})}}]),n}(u.Component)),yi=ye.Panel,xi=J.a.Option,Oi=["trend","frequent pattern","univariate distribution","univariate outlier","seasonality","outstanding","autocorrelation"],wi=["multivariate distribution","multivariate outlier","similarity"],Ci=function(e){Object(Y.a)(n,e);var t=Object(W.a)(n);function n(e){var r;Object(H.a)(this,n),(r=t.call(this,e)).changeType=function(e){r.props.setConfigureInsightType(e)},r.changeColumns=function(e){var t=r.state,n=(t.columnList,t.onlyColumns);"selectAll"===e[e.length-1]?(r.props.setConfigureInsightColumns(n),setTimeout((function(){r.calcuScrollLocation(n)}),200)):(r.props.setConfigureInsightColumns(e),setTimeout((function(){r.calcuScrollLocation(e)}),200))},r.changeBreakdown=function(e){r.props.setConfigureInsightBreakdown(e)},r.calcuScrollLocation=function(e){var t=r.props,n=t.columnsName,a=t.configureInsightTime,i=n.indexOf(e[Math.floor(e.length/2)]),o=r.scale(a[0])+30,c=r.scale(a[1])-r.scale(a[0]),s=15+i*r.oneYLength,l=r.oneYLength*e.length-30,u=document.getElementById("time-seires-view"),d=window.getComputedStyle(u,null).getPropertyValue("height"),p=parseFloat(d.substring(0,d.length-2)),f=window.getComputedStyle(u,null).getPropertyValue("width"),h=parseFloat(f.substring(0,f.length-2));u.scrollTop=s+l/2-p/2,u.scrollLeft=o+c/2-h/2},r.changeTime=function(e){r.props.setConfigureInsightTime(e[0],e[1])},r.findInsightsOfUnderCard=function(e){var t=r.state.isRequestInisght,n=r.props,a=n.sequence,i=n.file_url,o=n.timeColumnName,c=n.segmentInsightsStorage;if(!t){var s=a[e].oriBlock,l=[],u=[s[0].value[0].start,s[0].value[0].end];for(var d in"similarity"!==a[e].type&&"seasonality"!==a[e].type&&"frequent_pattern"!==a[e].type||(u=a[e].spec.fact.focus[0].scope),s)l.push(s[d].field);var p=l.sort().toString()+"-"+u.sort().toString();if(r.props.setCurrentPopInsights([]),c.hasOwnProperty(p)){var f=[],h=[];for(var g in c[p])h.push(c[p][g].type);h.includes(a[e].type)?r.props.setCurrentPopInsights(c[p]):(f=[{spec:a[e].spec,type:a[e].type,action:a[e].hasOwnProperty("action")?a[e].action:-1}].concat(c[p]),r.props.addPopInsights(p,f),r.props.setCurrentPopInsights(f))}else r.setState({isRequestInisght:!0}),Object(Ka.a)(i,l,o,u).then((function(t){r.setState({isRequestInisght:!1});var n=[],i=[];for(var o in t.data.insights)i.push(t.data.insights[o].type);i.includes(a[e].type)?(n=t.data.insights,r.props.setCurrentPopInsights(n)):(n=[{spec:a[e].spec,type:a[e].type,action:a[e].hasOwnProperty("action")?a[e].action:-1}].concat(t.data.insights),r.props.setCurrentPopInsights(n)),r.props.addPopInsights(p,n)})).catch((function(t){console.log("\u5931\u8d25",t),r.setState({isRequestInisght:!1});var n=[{spec:a[e].spec,type:a[e].type,action:a[e].hasOwnProperty("action")?a[e].action:-1}];r.props.addPopInsights(p,n),r.props.setCurrentPopInsights(n)}))}},r.judgeRequestRation=function(){var e=r.props,t=e.configureInsightColumns,n=e.configureInsightTime,a=e.configureInsightType;if(0===t.length)return rt.b.warning({content:"The columns are empty",duration:1,style:{marginTop:"35vh"}}),!1;if(n[0]===n[1])return rt.b.warning({content:"The time range is empty",duration:1,style:{marginTop:"35vh"}}),!1;if(""===a)return rt.b.warning({content:"Type is empty",duration:1,style:{marginTop:"35vh"}}),!1;if(t.length>1){if(Oi.includes(a))return rt.b.warning({content:"Insight type does not match columns",duration:1,style:{marginTop:"35vh"}}),!1}else if(wi.includes(a))return rt.b.warning({content:"Insight type does not match column",duration:1,style:{marginTop:"35vh"}}),!1;return!0},r.generateSingle=function(){if(r.judgeRequestRation()){var e=r.state.isRequest,t=r.props,n=t.configureInsightColumns,a=t.configureInsightTime,i=t.configureInsightType,o=t.selectedCardIndex,c=t.file_url,s=t.timeColumnName,l=t.sequence;e?rt.b.warning({content:"Requesting, please wait!",duration:1,style:{marginTop:"35vh"}}):(r.setState({isRequest:!0}),rt.b.loading({content:"Generating, please wait a moment",duration:0,style:{marginTop:"35vh"}}),Object(Ka.d)(c,n,s,a,[i.replace(" ","_")]).then((function(e){if(rt.b.destroy(),0===e.data.insights.length)return r.setState({isRequest:!1}),void rt.b.warning({content:"The current segment does not have this insight!",duration:1,style:{marginTop:"35vh"}});for(var t=e.data.insights[0],i=Math.floor(3*Math.random()),c=[],s=0;s<n.length;s++)c.push({field:n[s],value:[{start:a[0],end:a[1]}]});r.props.fixCard(o,t.spec,t.type,[],c,i),o!==l.length-1&&r.props.addRecommendList(o+1,[]),setTimeout((function(){r.findRecommendList()}),500),r.findInsightsOfUnderCard(o),r.setState({isRequest:!1}),rt.b.success({content:"Generate success!",duration:1,style:{marginTop:"35vh"}}),setTimeout((function(){rt.b.destroy()}),3e3)})).catch((function(e){console.log("\u5931\u8d25",e),r.setState({isRequest:!1}),rt.b.error({content:"Sorry, generate current failed!",duration:1,style:{marginTop:"35vh"}}),setTimeout((function(){rt.b.destroy()}),3e3)})))}},r.findRecommendList=function(){var e=r.props,t=e.selectedCardIndex,n=e.sequence,a=e.currentPopInsightList,i=e.timeColumnName,o=e.file_url,c=e.task,s=r.state.requestRecommend;if(0!==t&&void 0!==n[t].recommendList&&0===n[t].recommendList.length&&!s){for(var l=[],u=0;u<t;u++)if("empty"!==n[u].spec){for(var d=[],p={},f=0;f<n[u].oriBlock.length;f++)d.push(n[u].oriBlock[f].field);var h=n[u].oriBlock[0].value[0];p.location=[h.start,h.end],p.chosen_insight=n[u].type,p.fields=d,l.push(p)}var g={};if("empty"!==n[t].spec){for(var v=[],m=0;m<n[t].oriBlock.length;m++)v.push(n[t].oriBlock[m].field);var b=n[t].oriBlock[0].value[0];g.location=[b.start,b.end],g.chosen_insight=n[t].type,g.fields=v}r.setState({requestRecommend:!0}),Object(Ka.b)(o,i,c,l,g).then((function(e){r.props.addRecommendList(t,e.data.recommendList),r.setState({requestRecommend:!1}),r.props.setCurrentPopInsights(a)})).catch((function(e){console.log("\u5931\u8d25",e),rt.b.error({content:"Sorry, no recommendations found!",duration:1,style:{marginTop:"35vh"}})}))}},r.generateUpdate=function(){if(r.judgeRequestRation()){var e=r.state.isRequest,t=r.props,n=t.configureInsightColumns,a=t.configureInsightTime,i=t.configureInsightType,o=t.selectedCardIndex,c=t.file_url,s=t.timeColumnName,l=t.sequence;if(e)rt.b.warning({content:"Requesting, please wait!",duration:1,style:{marginTop:"35vh"}});else{r.setState({isRequest:!0});for(var u=[],d=0;d<=o-1;d++){for(var p=Wa.a.cloneDeep(l[d].oriBlock),f=0;f<p.length;f++)p[f].insight=l[d].type;u.push(p)}for(var h=[],g=0;g<n.length;g++)"selectAll"!==n[g]&&h.push({field:n[g],value:[{start:a[0],end:a[1]}],insight:i.replace(" ","_")});u.push(h),rt.b.loading({content:"Generating, please wait a moment",duration:0,style:{marginTop:"35vh"}}),console.log("\u8bf7\u6c42generateSubsequent",u),Object(Ka.e)(c,s,u,r.props.task).then((function(e){rt.b.destroy(),rt.b.success({content:"Generate success!",duration:1,style:{marginTop:"35vh"}});var t=e.data.sequence;if(console.log("generateSubsequent",t),0===o)r.props.setSequence(t);else{Wa.a.cloneDeep(l).slice(0,o);r.props.setSequence(t),r.findRecommendList(),r.findInsightsOfUnderCard(o)}r.setState({isRequest:!1})})).catch((function(e){console.log("\u5931\u8d25",e),r.setState({isRequest:!1}),rt.b.error({content:"Sorry, generate subsequent failed!",duration:1,style:{marginTop:"35vh"}}),setTimeout((function(){rt.b.destroy()}),1e3)}))}}};var a=r.props.columnsName.slice();return a.unshift("selectAll"),r.state={selectValue:"",columnList:a,onlyColumns:r.props.columnsName.slice(),requestRecommend:!1,isRequest:!1,isRequestInisght:!1},r.changeTime=r.changeTime.bind(Object(V.a)(r)),r}return Object(U.a)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.dataRange,n=e.columnsName,r=(e.chartScale,e.chartMargin),a=Math.max(2*t[1],1e3);this.scale=Xe.t().domain(t).range([60,a-r]),this.oneYLength=(120*n.length-20)/n.length}},{key:"render",value:function(){var e=this.state,t=e.columnList,n=(e.onlyColumns,this.props),r=(n.task,n.intl),a=n.dataRange,i=n.timeValue,o=n.configureInsightColumns,c=n.configureInsightTime,s=n.configureInsightType,l=n.configureInsightBreakdown,u=n.granularityName;return d.a.createElement(ye,{defaultActiveKey:["insight-chart"]},d.a.createElement(yi,{header:r.get("InsightChartConfigure"),key:"insight-chart"},d.a.createElement("div",{className:"insight-configuration"},d.a.createElement("div",{className:"config-control-detail"},d.a.createElement(di,null,d.a.createElement(hi,{span:8},r.get("Range")),d.a.createElement(hi,{span:16},d.a.createElement(bi,{timeValue:i,changeTime:this.changeTime,min:a[0],max:a[1],start:c[0],end:c[1]}))),d.a.createElement(di,null,d.a.createElement(hi,{span:8},r.get("Column")),d.a.createElement(hi,{span:16},d.a.createElement(J.a,{onChange:this.changeColumns,value:o,defaultValue:o,mode:"multiple",style:{width:"100%"}},t.map((function(e){return d.a.createElement(xi,{key:e,value:e},e)}))))),d.a.createElement(di,null,d.a.createElement(hi,{span:8},r.get("type")),d.a.createElement(hi,{span:16},d.a.createElement(J.a,{style:{width:"100%"},onChange:this.changeType,value:Xa.a[s.replace(" ","_")],defaultValue:Xa.a[s.replace(" ","_")]},o.length>1?wi.map((function(e){return d.a.createElement(xi,{key:e,value:e},Xa.a[e.replace(" ","_")])})):Oi.map((function(e){return d.a.createElement(xi,{key:e,value:e},Xa.a[e.replace(" ","_")])}))))),d.a.createElement(di,null,d.a.createElement(hi,{span:8},r.get("breakdown")),d.a.createElement(hi,{span:16},d.a.createElement(J.a,{onChange:this.changeBreakdown,value:l,defaultValue:l,style:{width:"100%"}},u.map((function(e){return d.a.createElement(xi,{key:e,value:e},e)}))))),d.a.createElement(di,null,d.a.createElement(hi,{span:12,style:{borderRight:"1px solid white",height:"50px",lineHeight:"50px"},onClick:this.generateSingle},r.get("GenerateOnlyone")),d.a.createElement(hi,{span:12,style:{borderLeft:"1px solid white",height:"50px",lineHeight:"50px",fontSize:"12px"},onClick:this.generateUpdate},r.get("GenerateAndUpdate")))))))}}]),n}(u.Component),ki=Object(Z.b)((function(e){return{sequence:Object(Q.y)(e),file_url:Object(nt.e)(e),timeColumnName:Object(Q.A)(e),selectedCardIndex:Object(Q.w)(e),timeValue:Object(Q.B)(e),redundantRecommend:Object(Q.t)(e),task:Object(Q.z)(e),segmentInsightsStorage:Object(Q.v)(e),currentPopInsightList:Object(Q.h)(e),chartScale:Object(Q.b)(e),chartMargin:Object(Q.a)(e),dataRange:Object(Q.i)(e),columnsName:Object(Q.c)(e),configureInsightColumns:Object(Q.e)(e),configureInsightTime:Object(Q.f)(e),configureInsightType:Object(Q.g)(e),configureInsightBreakdown:Object(Q.d)(e)}}),(function(e){return{setCurrentPopInsights:function(t){return e(et.m(t))},addRecommendList:function(t,n){return e(et.c(t,n))},setSequence:function(t){return e(et.w(t))},fixCard:function(t,n,r,a,i,o){return e(et.f(t,n,r,a,i,o))},setConfigureInsightColumns:function(t){return e(et.j(t))},setConfigureInsightTime:function(t,n){return e(et.k(t,n))},setConfigureInsightType:function(t){return e(et.l(t))},setConfigureInsightBreakdown:function(t){return e(et.i(t))},setRedundantRecommend:function(t){return e(et.s(t))},addPopInsights:function(t,n){return e(et.b(t,n))}}}))(Ci),ji=function(e){Object(Y.a)(n,e);var t=Object(W.a)(n);function n(){return Object(H.a)(this,n),t.apply(this,arguments)}return Object(U.a)(n,[{key:"render",value:function(){var e=this.props.rightBtnState;return d.a.createElement("div",{className:"time-analysis-right-wrapper",style:{height:"100%",position:"relative"}},"Start"===e?d.a.createElement("div",{className:"init-edit-pannel"},d.a.createElement(Qe,this.props)):d.a.createElement("div",{className:"init-edit-pannel"},d.a.createElement(ki,this.props),d.a.createElement(ai,this.props)),d.a.createElement(mi,this.props))}}]),n}(u.Component),Ei=Object(Z.b)((function(e){return{rightBtnState:Object(Q.u)(e),columnsName:Object(Q.c)(e),originColumnName:Object(Q.m)(e),granularityName:Object(Q.k)(e),dataRange:Object(Q.i)(e),originDataRange:Object(Q.n)(e),timeColumnName:Object(Q.A)(e),timeValue:Object(Q.B)(e),originTimeValue:Object(Q.o)(e),task:Object(Q.z)(e)}}),(function(e){return{setTask:function(t){return e(et.x(t))},setProcessTime:function(t){return e(et.r(t))},setProcessGranularity:function(t){return e(et.q(t))},setProcessColumns:function(t){return e(et.p(t))}}}))(ji),Si=(n(270),function(e){Object(Y.a)(n,e);var t=Object(W.a)(n);function n(e){var r;return Object(H.a)(this,n),(r=t.call(this,e)).endEditing=function(){if(""===r.titleNode.innerText)return rt.b.info(r.props.intl.get("Title cannot be null")),r.titleNode.focus(),void(r.titleNode.innerText=r.props.intl.get("Please input title here"))},r.state={isEditable:!0},r}return Object(U.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.intl,r=t.timeValue,a=t.originTimeValue,i=t.rightBtnState,o=this.state.isEditable,c=this.props.fileName.replace(".csv","").replace(".CSV",""),s="";return s="Start"===i?"[".concat(a[0]," - ").concat(a[a.length-1],"]..."):"[".concat(r[0]," - ").concat(r[r.length-1],"]..."),d.a.createElement("div",{className:"file-information"},d.a.createElement("div",{className:"time-series-title-box"},"Visail:",d.a.createElement("div",{className:"time-series-title",ref:function(t){return e.titleNode=t},suppressContentEditableWarning:!0,contentEditable:o,onBlur:this.endEditing,onKeyDown:function(t){13===t.keyCode&&(e.titleNode&&e.titleNode.blur(),t.preventDefault()),8===t.keyCode&&e.titleNode&&1===e.titleNode.innerText.length&&(t.preventDefault(),rt.b.info(n.get("Title cannot be null")))}},c)),d.a.createElement("div",{className:"time-scope-box"},d.a.createElement("p",{className:"time-scope"},d.a.createElement("span",{className:"scope-title"},n.get("DataScope")),d.a.createElement("span",{className:"scope-value"},s))))}}]),n}(u.Component)),Ti=n(33),Ii=(n(271),function(e){Object(Y.a)(n,e);var t=Object(W.a)(n);function n(e){var r;return Object(H.a)(this,n),(r=t.call(this,e)).exportResult=function(){"Start"===r.props.rightBtnState&&rt.b.warning({content:"Cannot export currently!",duration:1,style:{marginTop:"35vh"}})},r}return Object(U.a)(n,[{key:"render",value:function(){var e=this.props,t=e.intl,n=e.timeValue,r=e.sequence,a=e.currentLocale,i=e.rightBtnState;return d.a.createElement("div",{className:"editor-box"},d.a.createElement("div",{className:"export-box-operator-wapper"},d.a.createElement("div",{className:"export-box-operator"},d.a.createElement("div",{className:"export-btn-div",onClick:this.exportResult},d.a.createElement("div",{className:"export-btn"}),d.a.createElement(Ti.b,{to:"Start"!==i?{pathname:"/export",state:{sequence:r,currentLocale:a,timeValue:n}}:{}},t.get("Export"))))))}}]),n}(u.Component)),Pi=(n(272),n(7)),Di=n(9);function Ni(e,t){var n=Object(u.useState)((function(){return{inputs:t,result:e()}}))[0],r=Object(u.useRef)(!0),a=Object(u.useRef)(n),i=r.current||Boolean(t&&a.current.inputs&&function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(t,a.current.inputs))?a.current:{inputs:t,result:e()};return Object(u.useEffect)((function(){r.current=!1,a.current=i}),[i]),i.result}var Ai=Ni,_i=function(e,t){return Ni((function(){return e}),t)},Mi=n(6),Ri=function(e){var t=e.top,n=e.right,r=e.bottom,a=e.left;return{top:t,right:n,bottom:r,left:a,width:n-a,height:r-t,x:a,y:t,center:{x:(n+a)/2,y:(r+t)/2}}},Fi=function(e,t){return{top:e.top-t.top,left:e.left-t.left,bottom:e.bottom+t.bottom,right:e.right+t.right}},Bi=function(e,t){return{top:e.top+t.top,left:e.left+t.left,bottom:e.bottom-t.bottom,right:e.right-t.right}},Li={top:0,right:0,bottom:0,left:0},Gi=function(e){var t=e.borderBox,n=e.margin,r=void 0===n?Li:n,a=e.border,i=void 0===a?Li:a,o=e.padding,c=void 0===o?Li:o,s=Ri(Fi(t,r)),l=Ri(Bi(t,i)),u=Ri(Bi(l,c));return{marginBox:s,borderBox:Ri(t),paddingBox:l,contentBox:u,margin:r,border:i,padding:c}},qi=function(e){var t=e.slice(0,-2);if("px"!==e.slice(-2))return 0;var n=Number(t);return isNaN(n)&&Object(Mi.a)(!1),n},zi=function(e,t){var n,r,a=e.borderBox,i=e.border,o=e.margin,c=e.padding,s=(r=t,{top:(n=a).top+r.y,left:n.left+r.x,bottom:n.bottom+r.y,right:n.right+r.x});return Gi({borderBox:s,border:i,margin:o,padding:c})},Hi=function(e,t){return void 0===t&&(t={x:window.pageXOffset,y:window.pageYOffset}),zi(e,t)},Ui=function(e,t){var n={top:qi(t.marginTop),right:qi(t.marginRight),bottom:qi(t.marginBottom),left:qi(t.marginLeft)},r={top:qi(t.paddingTop),right:qi(t.paddingRight),bottom:qi(t.paddingBottom),left:qi(t.paddingLeft)},a={top:qi(t.borderTopWidth),right:qi(t.borderRightWidth),bottom:qi(t.borderBottomWidth),left:qi(t.borderLeftWidth)};return Gi({borderBox:e,margin:n,padding:r,border:a})},Vi=function(e){var t=e.getBoundingClientRect(),n=window.getComputedStyle(e);return Ui(t,n)},Yi=Number.isNaN||function(e){return"number"===typeof e&&e!==e};function Wi(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(r=e[n],a=t[n],!(r===a||Yi(r)&&Yi(a)))return!1;var r,a;return!0}var Ki=function(e,t){var n;void 0===t&&(t=Wi);var r,a=[],i=!1;return function(){for(var o=[],c=0;c<arguments.length;c++)o[c]=arguments[c];return i&&n===this&&t(o,a)||(r=e.apply(this,o),i=!0,n=this,a=o),r}},Xi=function(e){var t=[],n=null,r=function(){for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];t=a,n||(n=requestAnimationFrame((function(){n=null,e.apply(void 0,t)})))};return r.cancel=function(){n&&(cancelAnimationFrame(n),n=null)},r};function Ji(e,t){}Ji.bind(null,"warn"),Ji.bind(null,"error");function $i(){}function Zi(e,t,n){var r=t.map((function(t){var r,a,o=(r=n,a=t.options,Object(i.a)({},r,{},a));return e.addEventListener(t.eventName,t.fn,o),function(){e.removeEventListener(t.eventName,t.fn,o)}}));return function(){r.forEach((function(e){e()}))}}function Qi(e){this.message=e}function eo(e,t){if(!e)throw new Qi("Invariant failed")}Qi.prototype.toString=function(){return this.message};var to=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).callbacks=null,t.unbind=$i,t.onWindowError=function(e){var n=t.getCallbacks();n.isDragging()&&n.tryAbort(),e.error instanceof Qi&&e.preventDefault()},t.getCallbacks=function(){if(!t.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return t.callbacks},t.setCallbacks=function(e){t.callbacks=e},t}Object(Pi.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){this.unbind=Zi(window,[{eventName:"error",fn:this.onWindowError}])},n.componentDidCatch=function(e){if(!(e instanceof Qi))throw e;this.setState({})},n.componentWillUnmount=function(){this.unbind()},n.render=function(){return this.props.children(this.setCallbacks)},t}(d.a.Component),no=function(e){return e+1},ro=function(e,t){var n=e.droppableId===t.droppableId,r=no(e.index),a=no(t.index);return n?"\n      You have moved the item from position "+r+"\n      to position "+a+"\n    ":"\n    You have moved the item from position "+r+"\n    in list "+e.droppableId+"\n    to list "+t.droppableId+"\n    in position "+a+"\n  "},ao=function(e,t,n){return t.droppableId===n.droppableId?"\n      The item "+e+"\n      has been combined with "+n.draggableId:"\n      The item "+e+"\n      in list "+t.droppableId+"\n      has been combined with "+n.draggableId+"\n      in list "+n.droppableId+"\n    "},io=function(e){return"\n  The item has returned to its starting position\n  of "+no(e.index)+"\n"},oo="\n  Press space bar to start a drag.\n  When dragging you can use the arrow keys to move the item around and escape to cancel.\n  Some screen readers may require you to be in focus mode or to use your pass through key\n",co=function(e){return"\n  You have lifted an item in position "+no(e.source.index)+"\n"},so=function(e){var t=e.destination;if(t)return ro(e.source,t);var n=e.combine;return n?ao(e.draggableId,e.source,n):"You are over an area that cannot be dropped on"},lo=function(e){if("CANCEL"===e.reason)return"\n      Movement cancelled.\n      "+io(e.source)+"\n    ";var t=e.destination,n=e.combine;return t?"\n      You have dropped the item.\n      "+ro(e.source,t)+"\n    ":n?"\n      You have dropped the item.\n      "+ao(e.draggableId,e.source,n)+"\n    ":"\n    The item has been dropped while not over a drop area.\n    "+io(e.source)+"\n  "},uo={x:0,y:0},po=function(e,t){return{x:e.x+t.x,y:e.y+t.y}},fo=function(e,t){return{x:e.x-t.x,y:e.y-t.y}},ho=function(e,t){return e.x===t.x&&e.y===t.y},go=function(e){return{x:0!==e.x?-e.x:0,y:0!==e.y?-e.y:0}},vo=function(e,t,n){var r;return void 0===n&&(n=0),(r={})[e]=t,r["x"===e?"y":"x"]=n,r},mo=function(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))},bo=function(e,t){return Math.min.apply(Math,t.map((function(t){return mo(e,t)})))},yo=function(e){return function(t){return{x:e(t.x),y:e(t.y)}}},xo=function(e,t){return{top:e.top+t.y,left:e.left+t.x,bottom:e.bottom+t.y,right:e.right+t.x}},Oo=function(e){return[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}]},wo=function(e,t){return t&&t.shouldClipSubject?function(e,t){var n=Ri({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return n.width<=0||n.height<=0?null:n}(t.pageMarginBox,e):Ri(e)},Co=function(e){var t=e.page,n=e.withPlaceholder,r=e.axis,a=e.frame,o=function(e,t,n){var r;return n&&n.increasedBy?Object(i.a)({},e,((r={})[t.end]=e[t.end]+n.increasedBy[t.line],r)):e}(function(e,t){return t?xo(e,t.scroll.diff.displacement):e}(t.marginBox,a),r,n);return{page:t,withPlaceholder:n,active:wo(o,a)}},ko=function(e,t){e.frame||eo(!1);var n=e.frame,r=fo(t,n.scroll.initial),a=go(r),o=Object(i.a)({},n,{scroll:{initial:n.scroll.initial,current:t,diff:{value:r,displacement:a},max:n.scroll.max}}),c=Co({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:o});return Object(i.a)({},e,{frame:o,subject:c})};function jo(e){return Object.values?Object.values(e):Object.keys(e).map((function(t){return e[t]}))}function Eo(e,t){if(e.findIndex)return e.findIndex(t);for(var n=0;n<e.length;n++)if(t(e[n]))return n;return-1}function So(e,t){if(e.find)return e.find(t);var n=Eo(e,t);return-1!==n?e[n]:void 0}function To(e){return Array.prototype.slice.call(e)}var Io=Ki((function(e){return e.reduce((function(e,t){return e[t.descriptor.id]=t,e}),{})})),Po=Ki((function(e){return e.reduce((function(e,t){return e[t.descriptor.id]=t,e}),{})})),Do=Ki((function(e){return jo(e)})),No=Ki((function(e){return jo(e)})),Ao=Ki((function(e,t){return No(t).filter((function(t){return e===t.descriptor.droppableId})).sort((function(e,t){return e.descriptor.index-t.descriptor.index}))}));function _o(e){return e.at&&"REORDER"===e.at.type?e.at.destination:null}function Mo(e){return e.at&&"COMBINE"===e.at.type?e.at.combine:null}var Ro=Ki((function(e,t){return t.filter((function(t){return t.descriptor.id!==e.descriptor.id}))})),Fo=function(e,t){return e.descriptor.droppableId===t.descriptor.id},Bo={point:uo,value:0},Lo={invisible:{},visible:{},all:[]},Go={displaced:Lo,displacedBy:Bo,at:null},qo=function(e,t){return function(n){return e<=n&&n<=t}},zo=function(e){var t=qo(e.top,e.bottom),n=qo(e.left,e.right);return function(r){if(t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right))return!0;var a=t(r.top)||t(r.bottom),i=n(r.left)||n(r.right);if(a&&i)return!0;var o=r.top<e.top&&r.bottom>e.bottom,c=r.left<e.left&&r.right>e.right;return!(!o||!c)||(o&&i||c&&a)}},Ho=function(e){var t=qo(e.top,e.bottom),n=qo(e.left,e.right);return function(e){return t(e.top)&&t(e.bottom)&&n(e.left)&&n(e.right)}},Uo={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},Vo={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"},Yo=function(e){var t=e.target,n=e.destination,r=e.viewport,a=e.withDroppableDisplacement,i=e.isVisibleThroughFrameFn,o=a?function(e,t){var n=t.frame?t.frame.scroll.diff.displacement:uo;return xo(e,n)}(t,n):t;return function(e,t,n){return!!t.subject.active&&n(t.subject.active)(e)}(o,n,i)&&function(e,t,n){return n(t)(e)}(o,r,i)},Wo=function(e){return Yo(Object(i.a)({},e,{isVisibleThroughFrameFn:Ho}))};function Ko(e){var t=e.afterDragging,n=e.destination,r=e.displacedBy,a=e.viewport,o=e.forceShouldAnimate,c=e.last;return t.reduce((function(e,t){var s,l=function(e,t){var n=e.page.marginBox,r={top:t.point.y,right:0,bottom:0,left:t.point.x};return Ri(Fi(n,r))}(t,r),u=t.descriptor.id;if(e.all.push(u),!(s={target:l,destination:n,viewport:a,withDroppableDisplacement:!0},Yo(Object(i.a)({},s,{isVisibleThroughFrameFn:zo}))))return e.invisible[t.descriptor.id]=!0,e;var d={draggableId:u,shouldAnimate:function(e,t,n){if("boolean"===typeof n)return n;if(!t)return!0;var r=t.invisible,a=t.visible;if(r[e])return!1;var i=a[e];return!i||i.shouldAnimate}(u,c,o)};return e.visible[u]=d,e}),{all:[],visible:{},invisible:{}})}function Xo(e){var t=e.insideDestination,n=e.inHomeList,r=e.displacedBy,a=e.destination,i=function(e,t){if(!e.length)return 0;var n=e[e.length-1].descriptor.index;return t.inHomeList?n:n+1}(t,{inHomeList:n});return{displaced:Lo,displacedBy:r,at:{type:"REORDER",destination:{droppableId:a.descriptor.id,index:i}}}}function Jo(e){var t=e.draggable,n=e.insideDestination,r=e.destination,a=e.viewport,i=e.displacedBy,o=e.last,c=e.index,s=e.forceShouldAnimate,l=Fo(t,r);if(null==c)return Xo({insideDestination:n,inHomeList:l,displacedBy:i,destination:r});var u=So(n,(function(e){return e.descriptor.index===c}));if(!u)return Xo({insideDestination:n,inHomeList:l,displacedBy:i,destination:r});var d=Ro(t,n),p=n.indexOf(u);return{displaced:Ko({afterDragging:d.slice(p),destination:r,displacedBy:i,last:o,viewport:a.frame,forceShouldAnimate:s}),displacedBy:i,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:c}}}}function $o(e,t){return Boolean(t.effected[e])}var Zo=function(e){var t=e.isMovingForward,n=e.isInHomeList,r=e.draggable,a=e.draggables,i=e.destination,o=e.insideDestination,c=e.previousImpact,s=e.viewport,l=e.afterCritical,u=c.at;if(u||eo(!1),"REORDER"===u.type){var d=function(e){var t=e.isMovingForward,n=e.isInHomeList,r=e.insideDestination,a=e.location;if(!r.length)return null;var i=a.index,o=t?i+1:i-1,c=r[0].descriptor.index,s=r[r.length-1].descriptor.index;return o<c||o>(n?s:s+1)?null:o}({isMovingForward:t,isInHomeList:n,location:u.destination,insideDestination:o});return null==d?null:Jo({draggable:r,insideDestination:o,destination:i,viewport:s,last:c.displaced,displacedBy:c.displacedBy,index:d})}var p=function(e){var t=e.isMovingForward,n=e.destination,r=e.draggables,a=e.combine,i=e.afterCritical;if(!n.isCombineEnabled)return null;var o=a.draggableId,c=r[o].descriptor.index;return $o(o,i)?t?c:c-1:t?c+1:c}({isMovingForward:t,destination:i,displaced:c.displaced,draggables:a,combine:u.combine,afterCritical:l});return null==p?null:Jo({draggable:r,insideDestination:o,destination:i,viewport:s,last:c.displaced,displacedBy:c.displacedBy,index:p})},Qo=function(e){var t=e.afterCritical,n=e.impact,r=e.draggables,a=Mo(n);a||eo(!1);var i=a.draggableId,o=r[i].page.borderBox.center,c=function(e){var t=e.displaced,n=e.afterCritical,r=e.combineWith,a=e.displacedBy,i=Boolean(t.visible[r]||t.invisible[r]);return $o(r,n)?i?uo:go(a.point):i?a.point:uo}({displaced:n.displaced,afterCritical:t,combineWith:i,displacedBy:n.displacedBy});return po(o,c)},ec=function(e,t){return t.margin[e.start]+t.borderBox[e.size]/2},tc=function(e,t,n){return t[e.crossAxisStart]+n.margin[e.crossAxisStart]+n.borderBox[e.crossAxisSize]/2},nc=function(e){var t=e.axis,n=e.moveRelativeTo,r=e.isMoving;return vo(t.line,n.marginBox[t.end]+ec(t,r),tc(t,n.marginBox,r))},rc=function(e){var t=e.axis,n=e.moveRelativeTo,r=e.isMoving;return vo(t.line,n.marginBox[t.start]-function(e,t){return t.margin[e.end]+t.borderBox[e.size]/2}(t,r),tc(t,n.marginBox,r))},ac=function(e){var t=e.impact,n=e.draggable,r=e.draggables,a=e.droppable,i=e.afterCritical,o=Ao(a.descriptor.id,r),c=n.page,s=a.axis;if(!o.length)return function(e){var t=e.axis,n=e.moveInto,r=e.isMoving;return vo(t.line,n.contentBox[t.start]+ec(t,r),tc(t,n.contentBox,r))}({axis:s,moveInto:a.page,isMoving:c});var l=t.displaced,u=t.displacedBy,d=l.all[0];if(d){var p=r[d];if($o(d,i))return rc({axis:s,moveRelativeTo:p.page,isMoving:c});var f=zi(p.page,u.point);return rc({axis:s,moveRelativeTo:f,isMoving:c})}var h=o[o.length-1];if(h.descriptor.id===n.descriptor.id)return c.borderBox.center;if($o(h.descriptor.id,i)){var g=zi(h.page,go(i.displacedBy.point));return nc({axis:s,moveRelativeTo:g,isMoving:c})}return nc({axis:s,moveRelativeTo:h.page,isMoving:c})},ic=function(e,t){var n=e.frame;return n?po(t,n.scroll.diff.displacement):t},oc=function(e){var t=function(e){var t=e.impact,n=e.draggable,r=e.droppable,a=e.draggables,i=e.afterCritical,o=n.page.borderBox.center,c=t.at;return r&&c?"REORDER"===c.type?ac({impact:t,draggable:n,draggables:a,droppable:r,afterCritical:i}):Qo({impact:t,draggables:a,afterCritical:i}):o}(e),n=e.droppable;return n?ic(n,t):t},cc=function(e,t){var n=fo(t,e.scroll.initial),r=go(n);return{frame:Ri({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:n,displacement:r}}}};function sc(e,t){return e.map((function(e){return t[e]}))}var lc=function(e){var t=e.pageBorderBoxCenter,n=e.draggable,r=function(e,t){return po(e.scroll.diff.displacement,t)}(e.viewport,t),a=fo(r,n.page.borderBox.center);return po(n.client.borderBox.center,a)},uc=function(e){var t=e.draggable,n=e.destination,r=e.newPageBorderBoxCenter,a=e.viewport,o=e.withDroppableDisplacement,c=e.onlyOnMainAxis,s=void 0!==c&&c,l=fo(r,t.page.borderBox.center),u={target:xo(t.page.borderBox,l),destination:n,withDroppableDisplacement:o,viewport:a};return s?function(e){return Yo(Object(i.a)({},e,{isVisibleThroughFrameFn:(t=e.destination.axis,function(e){var n=qo(e.top,e.bottom),r=qo(e.left,e.right);return function(e){return t===Uo?n(e.top)&&n(e.bottom):r(e.left)&&r(e.right)}})}));var t}(u):Wo(u)},dc=function(e){var t=e.isMovingForward,n=e.draggable,r=e.destination,a=e.draggables,o=e.previousImpact,c=e.viewport,s=e.previousPageBorderBoxCenter,l=e.previousClientSelection,u=e.afterCritical;if(!r.isEnabled)return null;var d=Ao(r.descriptor.id,a),p=Fo(n,r),f=function(e){var t=e.isMovingForward,n=e.draggable,r=e.destination,a=e.insideDestination,o=e.previousImpact;if(!r.isCombineEnabled)return null;if(!_o(o))return null;function c(e){var t={type:"COMBINE",combine:{draggableId:e,droppableId:r.descriptor.id}};return Object(i.a)({},o,{at:t})}var s=o.displaced.all,l=s.length?s[0]:null;if(t)return l?c(l):null;var u=Ro(n,a);if(!l)return u.length?c(u[u.length-1].descriptor.id):null;var d=Eo(u,(function(e){return e.descriptor.id===l}));-1===d&&eo(!1);var p=d-1;return p<0?null:c(u[p].descriptor.id)}({isMovingForward:t,draggable:n,destination:r,insideDestination:d,previousImpact:o})||Zo({isMovingForward:t,isInHomeList:p,draggable:n,draggables:a,destination:r,insideDestination:d,previousImpact:o,viewport:c,afterCritical:u});if(!f)return null;var h=oc({impact:f,draggable:n,droppable:r,draggables:a,afterCritical:u});if(uc({draggable:n,destination:r,newPageBorderBoxCenter:h,viewport:c.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:lc({pageBorderBoxCenter:h,draggable:n,viewport:c}),impact:f,scrollJumpRequest:null};var g=fo(h,s);return{clientSelection:l,impact:function(e){var t=e.impact,n=e.viewport,r=e.destination,a=e.draggables,o=e.maxScrollChange,c=cc(n,po(n.scroll.current,o)),s=r.frame?ko(r,po(r.frame.scroll.current,o)):r,l=t.displaced,u=Ko({afterDragging:sc(l.all,a),destination:r,displacedBy:t.displacedBy,viewport:c.frame,last:l,forceShouldAnimate:!1}),d=Ko({afterDragging:sc(l.all,a),destination:s,displacedBy:t.displacedBy,viewport:n.frame,last:l,forceShouldAnimate:!1}),p={},f={},h=[l,u,d];return l.all.forEach((function(e){var t=function(e,t){for(var n=0;n<t.length;n++){var r=t[n].visible[e];if(r)return r}return null}(e,h);t?f[e]=t:p[e]=!0})),Object(i.a)({},t,{displaced:{all:l.all,invisible:p,visible:f}})}({impact:f,viewport:c,destination:r,draggables:a,maxScrollChange:g}),scrollJumpRequest:g}},pc=function(e){var t=e.subject.active;return t||eo(!1),t},fc=function(e,t){var n=e.page.borderBox.center;return $o(e.descriptor.id,t)?fo(n,t.displacedBy.point):n},hc=function(e,t){var n=e.page.borderBox;return $o(e.descriptor.id,t)?xo(n,go(t.displacedBy.point)):n},gc=Ki((function(e,t){var n=t[e.line];return{value:n,point:vo(e.line,n)}})),vc=function(e,t){return Object(i.a)({},e,{scroll:Object(i.a)({},e.scroll,{max:t})})},mc=function(e,t,n){var r=e.frame;Fo(t,e)&&eo(!1),e.subject.withPlaceholder&&eo(!1);var a=gc(e.axis,t.displaceBy).point,o=function(e,t,n){var r=e.axis;if("virtual"===e.descriptor.mode)return vo(r.line,t[r.line]);var a=e.subject.page.contentBox[r.size],i=Ao(e.descriptor.id,n).reduce((function(e,t){return e+t.client.marginBox[r.size]}),0)+t[r.line]-a;return i<=0?null:vo(r.line,i)}(e,a,n),c={placeholderSize:a,increasedBy:o,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!r){var s=Co({page:e.subject.page,withPlaceholder:c,axis:e.axis,frame:e.frame});return Object(i.a)({},e,{subject:s})}var l=o?po(r.scroll.max,o):r.scroll.max,u=vc(r,l),d=Co({page:e.subject.page,withPlaceholder:c,axis:e.axis,frame:u});return Object(i.a)({},e,{subject:d,frame:u})},bc=function(e){var t=e.isMovingForward,n=e.previousPageBorderBoxCenter,r=e.draggable,a=e.isOver,i=e.draggables,o=e.droppables,c=e.viewport,s=e.afterCritical,l=function(e){var t=e.isMovingForward,n=e.pageBorderBoxCenter,r=e.source,a=e.droppables,i=e.viewport,o=r.subject.active;if(!o)return null;var c=r.axis,s=qo(o[c.start],o[c.end]),l=Do(a).filter((function(e){return e!==r})).filter((function(e){return e.isEnabled})).filter((function(e){return Boolean(e.subject.active)})).filter((function(e){return zo(i.frame)(pc(e))})).filter((function(e){var n=pc(e);return t?o[c.crossAxisEnd]<n[c.crossAxisEnd]:n[c.crossAxisStart]<o[c.crossAxisStart]})).filter((function(e){var t=pc(e),n=qo(t[c.start],t[c.end]);return s(t[c.start])||s(t[c.end])||n(o[c.start])||n(o[c.end])})).sort((function(e,n){var r=pc(e)[c.crossAxisStart],a=pc(n)[c.crossAxisStart];return t?r-a:a-r})).filter((function(e,t,n){return pc(e)[c.crossAxisStart]===pc(n[0])[c.crossAxisStart]}));if(!l.length)return null;if(1===l.length)return l[0];var u=l.filter((function(e){return qo(pc(e)[c.start],pc(e)[c.end])(n[c.line])}));return 1===u.length?u[0]:u.length>1?u.sort((function(e,t){return pc(e)[c.start]-pc(t)[c.start]}))[0]:l.sort((function(e,t){var r=bo(n,Oo(pc(e))),a=bo(n,Oo(pc(t)));return r!==a?r-a:pc(e)[c.start]-pc(t)[c.start]}))[0]}({isMovingForward:t,pageBorderBoxCenter:n,source:a,droppables:o,viewport:c});if(!l)return null;var u=Ao(l.descriptor.id,i),d=function(e){var t=e.previousPageBorderBoxCenter,n=e.moveRelativeTo,r=e.insideDestination,a=e.draggable,i=e.draggables,o=e.destination,c=e.viewport,s=e.afterCritical;if(!n){if(r.length)return null;var l={displaced:Lo,displacedBy:Bo,at:{type:"REORDER",destination:{droppableId:o.descriptor.id,index:0}}},u=oc({impact:l,draggable:a,droppable:o,draggables:i,afterCritical:s}),d=Fo(a,o)?o:mc(o,a,i);return uc({draggable:a,destination:d,newPageBorderBoxCenter:u,viewport:c.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?l:null}var p=Boolean(t[o.axis.line]<=n.page.borderBox.center[o.axis.line]),f=function(){var e=n.descriptor.index;return n.descriptor.id===a.descriptor.id||p?e:e+1}(),h=gc(o.axis,a.displaceBy);return Jo({draggable:a,insideDestination:r,destination:o,viewport:c,displacedBy:h,last:Lo,index:f})}({previousPageBorderBoxCenter:n,destination:l,draggable:r,draggables:i,moveRelativeTo:function(e){var t=e.pageBorderBoxCenter,n=e.viewport,r=e.destination,a=e.insideDestination,i=e.afterCritical;return a.filter((function(e){return Wo({target:hc(e,i),destination:r,viewport:n.frame,withDroppableDisplacement:!0})})).sort((function(e,n){var a=mo(t,ic(r,fc(e,i))),o=mo(t,ic(r,fc(n,i)));return a<o?-1:o<a?1:e.descriptor.index-n.descriptor.index}))[0]||null}({pageBorderBoxCenter:n,viewport:c,destination:l,insideDestination:u,afterCritical:s}),insideDestination:u,viewport:c,afterCritical:s});if(!d)return null;var p=oc({impact:d,draggable:r,droppable:l,draggables:i,afterCritical:s});return{clientSelection:lc({pageBorderBoxCenter:p,draggable:r,viewport:c}),impact:d,scrollJumpRequest:null}},yc=function(e){var t=e.at;return t?"REORDER"===t.type?t.destination.droppableId:t.combine.droppableId:null},xc=function(e){var t=e.state,n=e.type,r=function(e,t){var n=yc(e);return n?t[n]:null}(t.impact,t.dimensions.droppables),a=Boolean(r),i=t.dimensions.droppables[t.critical.droppable.id],o=r||i,c=o.axis.direction,s="vertical"===c&&("MOVE_UP"===n||"MOVE_DOWN"===n)||"horizontal"===c&&("MOVE_LEFT"===n||"MOVE_RIGHT"===n);if(s&&!a)return null;var l="MOVE_DOWN"===n||"MOVE_RIGHT"===n,u=t.dimensions.draggables[t.critical.draggable.id],d=t.current.page.borderBoxCenter,p=t.dimensions,f=p.draggables,h=p.droppables;return s?dc({isMovingForward:l,previousPageBorderBoxCenter:d,draggable:u,destination:o,draggables:f,viewport:t.viewport,previousClientSelection:t.current.client.selection,previousImpact:t.impact,afterCritical:t.afterCritical}):bc({isMovingForward:l,previousPageBorderBoxCenter:d,draggable:u,isOver:o,draggables:f,droppables:h,viewport:t.viewport,afterCritical:t.afterCritical})};function Oc(e){return"DRAGGING"===e.phase||"COLLECTING"===e.phase}function wc(e){var t=qo(e.top,e.bottom),n=qo(e.left,e.right);return function(e){return t(e.y)&&n(e.x)}}function Cc(e){var t=e.pageBorderBox,n=e.draggable,r=e.droppables,a=Do(r).filter((function(e){if(!e.isEnabled)return!1;var n,r,a=e.subject.active;if(!a)return!1;if(r=a,!((n=t).left<r.right&&n.right>r.left&&n.top<r.bottom&&n.bottom>r.top))return!1;if(wc(a)(t.center))return!0;var i=e.axis,o=a.center[i.crossAxisLine],c=t[i.crossAxisStart],s=t[i.crossAxisEnd],l=qo(a[i.crossAxisStart],a[i.crossAxisEnd]),u=l(c),d=l(s);return!u&&!d||(u?c<o:s>o)}));return a.length?1===a.length?a[0].descriptor.id:function(e){var t=e.pageBorderBox,n=e.draggable,r=e.candidates,a=n.page.borderBox.center,i=r.map((function(e){var n=e.axis,r=vo(e.axis.line,t.center[n.line],e.page.borderBox.center[n.crossAxisLine]);return{id:e.descriptor.id,distance:mo(a,r)}})).sort((function(e,t){return t.distance-e.distance}));return i[0]?i[0].id:null}({pageBorderBox:t,draggable:n,candidates:a}):null}var kc=function(e,t){return Ri(xo(e,t))};function jc(e){var t=e.displaced,n=e.id;return Boolean(t.visible[n]||t.invisible[n])}var Ec=function(e){var t=e.pageOffset,n=e.draggable,r=e.draggables,a=e.droppables,i=e.previousImpact,o=e.viewport,c=e.afterCritical,s=kc(n.page.borderBox,t),l=Cc({pageBorderBox:s,draggable:n,droppables:a});if(!l)return Go;var u=a[l],d=Ao(u.descriptor.id,r),p=function(e,t){var n=e.frame;return n?kc(t,n.scroll.diff.value):t}(u,s);return function(e){var t=e.draggable,n=e.pageBorderBoxWithDroppableScroll,r=e.previousImpact,a=e.destination,i=e.insideDestination,o=e.afterCritical;if(!a.isCombineEnabled)return null;var c=a.axis,s=gc(a.axis,t.displaceBy),l=s.value,u=n[c.start],d=n[c.end],p=So(Ro(t,i),(function(e){var t=e.descriptor.id,n=e.page.borderBox,a=n[c.size]/4,i=$o(t,o),s=jc({displaced:r.displaced,id:t});return i?s?d>n[c.start]+a&&d<n[c.end]-a:u>n[c.start]-l+a&&u<n[c.end]-l-a:s?d>n[c.start]+l+a&&d<n[c.end]+l-a:u>n[c.start]+a&&u<n[c.end]-a}));return p?{displacedBy:s,displaced:r.displaced,at:{type:"COMBINE",combine:{draggableId:p.descriptor.id,droppableId:a.descriptor.id}}}:null}({pageBorderBoxWithDroppableScroll:p,draggable:n,previousImpact:i,destination:u,insideDestination:d,afterCritical:c})||function(e){var t=e.pageBorderBoxWithDroppableScroll,n=e.draggable,r=e.destination,a=e.insideDestination,i=e.last,o=e.viewport,c=e.afterCritical,s=r.axis,l=gc(r.axis,n.displaceBy),u=l.value,d=t[s.start],p=t[s.end],f=function(e){var t=e.draggable,n=e.closest,r=e.inHomeList;return n?r&&n.descriptor.index>t.descriptor.index?n.descriptor.index-1:n.descriptor.index:null}({draggable:n,closest:So(Ro(n,a),(function(e){var t=e.descriptor.id,n=e.page.borderBox.center[s.line],r=$o(t,c),a=jc({displaced:i,id:t});return r?a?p<=n:d<n-u:a?p<=n+u:d<n})),inHomeList:Fo(n,r)});return Jo({draggable:n,insideDestination:a,destination:r,viewport:o,last:i,displacedBy:l,index:f})}({pageBorderBoxWithDroppableScroll:p,draggable:n,destination:u,insideDestination:d,last:i.displaced,viewport:o,afterCritical:c})},Sc=function(e,t){var n;return Object(i.a)({},e,((n={})[t.descriptor.id]=t,n))},Tc=function(e){var t=e.previousImpact,n=e.impact,r=e.droppables,a=yc(t),o=yc(n);if(!a)return r;if(a===o)return r;var c=r[a];if(!c.subject.withPlaceholder)return r;var s=function(e){var t=e.subject.withPlaceholder;t||eo(!1);var n=e.frame;if(!n){var r=Co({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null});return Object(i.a)({},e,{subject:r})}var a=t.oldFrameMaxScroll;a||eo(!1);var o=vc(n,a),c=Co({page:e.subject.page,axis:e.axis,frame:o,withPlaceholder:null});return Object(i.a)({},e,{subject:c,frame:o})}(c);return Sc(r,s)},Ic=function(e){var t=e.state,n=e.clientSelection,r=e.dimensions,a=e.viewport,o=e.impact,c=e.scrollJumpRequest,s=a||t.viewport,l=r||t.dimensions,u=n||t.current.client.selection,d=fo(u,t.initial.client.selection),p={offset:d,selection:u,borderBoxCenter:po(t.initial.client.borderBoxCenter,d)},f={selection:po(p.selection,s.scroll.current),borderBoxCenter:po(p.borderBoxCenter,s.scroll.current),offset:po(p.offset,s.scroll.diff.value)},h={client:p,page:f};if("COLLECTING"===t.phase)return Object(i.a)({phase:"COLLECTING"},t,{dimensions:l,viewport:s,current:h});var g=l.draggables[t.critical.draggable.id],v=o||Ec({pageOffset:f.offset,draggable:g,draggables:l.draggables,droppables:l.droppables,previousImpact:t.impact,viewport:s,afterCritical:t.afterCritical}),m=function(e){var t=e.draggable,n=e.draggables,r=e.droppables,a=e.previousImpact,i=e.impact,o=Tc({previousImpact:a,impact:i,droppables:r}),c=yc(i);if(!c)return o;var s=r[c];if(Fo(t,s))return o;if(s.subject.withPlaceholder)return o;var l=mc(s,t,n);return Sc(o,l)}({draggable:g,impact:v,previousImpact:t.impact,draggables:l.draggables,droppables:l.droppables});return Object(i.a)({},t,{current:h,dimensions:{draggables:l.draggables,droppables:m},impact:v,viewport:s,scrollJumpRequest:c||null,forceShouldAnimate:!c&&null})};var Pc=function(e){var t=e.impact,n=e.viewport,r=e.draggables,a=e.destination,o=e.forceShouldAnimate,c=t.displaced,s=Ko({afterDragging:function(e,t){return e.map((function(e){return t[e]}))}(c.all,r),destination:a,displacedBy:t.displacedBy,viewport:n.frame,forceShouldAnimate:o,last:c});return Object(i.a)({},t,{displaced:s})},Dc=function(e){var t=e.impact,n=e.draggable,r=e.droppable,a=e.draggables,i=e.viewport,o=e.afterCritical,c=oc({impact:t,draggable:n,draggables:a,droppable:r,afterCritical:o});return lc({pageBorderBoxCenter:c,draggable:n,viewport:i})},Nc=function(e){var t=e.state,n=e.dimensions,r=e.viewport;"SNAP"!==t.movementMode&&eo(!1);var a=t.impact,i=r||t.viewport,o=n||t.dimensions,c=o.draggables,s=o.droppables,l=c[t.critical.draggable.id],u=yc(a);u||eo(!1);var d=s[u],p=Pc({impact:a,viewport:i,destination:d,draggables:c}),f=Dc({impact:p,draggable:l,droppable:d,draggables:c,viewport:i,afterCritical:t.afterCritical});return Ic({impact:p,clientSelection:f,state:t,dimensions:o,viewport:i})},Ac=function(e){var t=e.draggable,n=e.home,r=e.draggables,a=e.viewport,i=gc(n.axis,t.displaceBy),o=Ao(n.descriptor.id,r),c=o.indexOf(t);-1===c&&eo(!1);var s,l=o.slice(c+1),u=l.reduce((function(e,t){return e[t.descriptor.id]=!0,e}),{}),d={inVirtualList:"virtual"===n.descriptor.mode,displacedBy:i,effected:u};return{impact:{displaced:Ko({afterDragging:l,destination:n,displacedBy:i,last:null,viewport:a.frame,forceShouldAnimate:!1}),displacedBy:i,at:{type:"REORDER",destination:(s=t.descriptor,{index:s.index,droppableId:s.droppableId})}},afterCritical:d}},_c=function(e){0},Mc=function(e){0},Rc=function(e){var t=e.additions,n=e.updatedDroppables,r=e.viewport,a=r.scroll.diff.value;return t.map((function(e){var t=e.descriptor.droppableId,o=function(e){var t=e.frame;return t||eo(!1),t}(n[t]).scroll.diff.value;return function(e){var t=e.draggable,n=e.offset,r=e.initialWindowScroll,a=zi(t.client,n),o=Hi(a,r);return Object(i.a)({},t,{placeholder:Object(i.a)({},t.placeholder,{client:a}),client:a,page:o})}({draggable:e,offset:po(a,o),initialWindowScroll:r.scroll.initial})}))},Fc=function(e){return"SNAP"===e.movementMode},Bc=function(e,t,n){var r=function(e,t){return{draggables:e.draggables,droppables:Sc(e.droppables,t)}}(e.dimensions,t);return!Fc(e)||n?Ic({state:e,dimensions:r}):Nc({state:e,dimensions:r})};function Lc(e){return e.isDragging&&"SNAP"===e.movementMode?Object(i.a)({phase:"DRAGGING"},e,{scrollJumpRequest:null}):e}var Gc={phase:"IDLE",completed:null,shouldFlush:!1},qc=function(e,t){if(void 0===e&&(e=Gc),"FLUSH"===t.type)return Object(i.a)({},Gc,{shouldFlush:!0});if("INITIAL_PUBLISH"===t.type){"IDLE"!==e.phase&&eo(!1);var n=t.payload,r=n.critical,a=n.clientSelection,o=n.viewport,c=n.dimensions,s=n.movementMode,l=c.draggables[r.draggable.id],u=c.droppables[r.droppable.id],d={selection:a,borderBoxCenter:l.client.borderBox.center,offset:uo},p={client:d,page:{selection:po(d.selection,o.scroll.initial),borderBoxCenter:po(d.selection,o.scroll.initial),offset:po(d.selection,o.scroll.diff.value)}},f=Do(c.droppables).every((function(e){return!e.isFixedOnPage})),h=Ac({draggable:l,home:u,draggables:c.draggables,viewport:o}),g=h.impact;return{phase:"DRAGGING",isDragging:!0,critical:r,movementMode:s,dimensions:c,initial:p,current:p,isWindowScrollAllowed:f,impact:g,afterCritical:h.afterCritical,onLiftImpact:g,viewport:o,scrollJumpRequest:null,forceShouldAnimate:null}}if("COLLECTION_STARTING"===t.type)return"COLLECTING"===e.phase||"DROP_PENDING"===e.phase?e:("DRAGGING"!==e.phase&&eo(!1),Object(i.a)({phase:"COLLECTING"},e,{phase:"COLLECTING"}));if("PUBLISH_WHILE_DRAGGING"===t.type)return"COLLECTING"!==e.phase&&"DROP_PENDING"!==e.phase&&eo(!1),function(e){var t=e.state,n=e.published;_c();var r=n.modified.map((function(e){var n=t.dimensions.droppables[e.droppableId];return ko(n,e.scroll)})),a=Object(i.a)({},t.dimensions.droppables,{},Io(r)),o=Po(Rc({additions:n.additions,updatedDroppables:a,viewport:t.viewport})),c=Object(i.a)({},t.dimensions.draggables,{},o);n.removals.forEach((function(e){delete c[e]}));var s={droppables:a,draggables:c},l=yc(t.impact),u=l?s.droppables[l]:null,d=s.draggables[t.critical.draggable.id],p=s.droppables[t.critical.droppable.id],f=Ac({draggable:d,home:p,draggables:c,viewport:t.viewport}),h=f.impact,g=f.afterCritical,v=u&&u.isCombineEnabled?t.impact:h,m=Ec({pageOffset:t.current.page.offset,draggable:s.draggables[t.critical.draggable.id],draggables:s.draggables,droppables:s.droppables,previousImpact:v,viewport:t.viewport,afterCritical:g});Mc();var b=Object(i.a)({phase:"DRAGGING"},t,{phase:"DRAGGING",impact:m,onLiftImpact:h,dimensions:s,afterCritical:g,forceShouldAnimate:!1});return"COLLECTING"===t.phase?b:Object(i.a)({phase:"DROP_PENDING"},b,{phase:"DROP_PENDING",reason:t.reason,isWaiting:!1})}({state:e,published:t.payload});if("MOVE"===t.type){if("DROP_PENDING"===e.phase)return e;Oc(e)||eo(!1);var v=t.payload.client;return ho(v,e.current.client.selection)?e:Ic({state:e,clientSelection:v,impact:Fc(e)?e.impact:null})}if("UPDATE_DROPPABLE_SCROLL"===t.type){if("DROP_PENDING"===e.phase)return Lc(e);if("COLLECTING"===e.phase)return Lc(e);Oc(e)||eo(!1);var m=t.payload,b=m.id,y=m.newScroll,x=e.dimensions.droppables[b];if(!x)return e;var O=ko(x,y);return Bc(e,O,!1)}if("UPDATE_DROPPABLE_IS_ENABLED"===t.type){if("DROP_PENDING"===e.phase)return e;Oc(e)||eo(!1);var w=t.payload,C=w.id,k=w.isEnabled,j=e.dimensions.droppables[C];j||eo(!1),j.isEnabled===k&&eo(!1);var E=Object(i.a)({},j,{isEnabled:k});return Bc(e,E,!0)}if("UPDATE_DROPPABLE_IS_COMBINE_ENABLED"===t.type){if("DROP_PENDING"===e.phase)return e;Oc(e)||eo(!1);var S=t.payload,T=S.id,I=S.isCombineEnabled,P=e.dimensions.droppables[T];P||eo(!1),P.isCombineEnabled===I&&eo(!1);var D=Object(i.a)({},P,{isCombineEnabled:I});return Bc(e,D,!0)}if("MOVE_BY_WINDOW_SCROLL"===t.type){if("DROP_PENDING"===e.phase||"DROP_ANIMATING"===e.phase)return e;Oc(e)||eo(!1),e.isWindowScrollAllowed||eo(!1);var N=t.payload.newScroll;if(ho(e.viewport.scroll.current,N))return Lc(e);var A=cc(e.viewport,N);return Fc(e)?Nc({state:e,viewport:A}):Ic({state:e,viewport:A})}if("UPDATE_VIEWPORT_MAX_SCROLL"===t.type){if(!Oc(e))return e;var _=t.payload.maxScroll;if(ho(_,e.viewport.scroll.max))return e;var M=Object(i.a)({},e.viewport,{scroll:Object(i.a)({},e.viewport.scroll,{max:_})});return Object(i.a)({phase:"DRAGGING"},e,{viewport:M})}if("MOVE_UP"===t.type||"MOVE_DOWN"===t.type||"MOVE_LEFT"===t.type||"MOVE_RIGHT"===t.type){if("COLLECTING"===e.phase||"DROP_PENDING"===e.phase)return e;"DRAGGING"!==e.phase&&eo(!1);var R=xc({state:e,type:t.type});return R?Ic({state:e,impact:R.impact,clientSelection:R.clientSelection,scrollJumpRequest:R.scrollJumpRequest}):e}if("DROP_PENDING"===t.type){var F=t.payload.reason;return"COLLECTING"!==e.phase&&eo(!1),Object(i.a)({phase:"DROP_PENDING"},e,{phase:"DROP_PENDING",isWaiting:!0,reason:F})}if("DROP_ANIMATE"===t.type){var B=t.payload,L=B.completed,G=B.dropDuration,q=B.newHomeClientOffset;return"DRAGGING"!==e.phase&&"DROP_PENDING"!==e.phase&&eo(!1),{phase:"DROP_ANIMATING",completed:L,dropDuration:G,newHomeClientOffset:q,dimensions:e.dimensions}}return"DROP_COMPLETE"===t.type?{phase:"IDLE",completed:t.payload.completed,shouldFlush:!1}:e},zc=function(e){return{type:"PUBLISH_WHILE_DRAGGING",payload:e}},Hc=function(){return{type:"COLLECTION_STARTING",payload:null}},Uc=function(e){return{type:"UPDATE_DROPPABLE_SCROLL",payload:e}},Vc=function(e){return{type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}},Yc=function(e){return{type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}},Wc=function(e){return{type:"MOVE",payload:e}},Kc=function(){return{type:"MOVE_UP",payload:null}},Xc=function(){return{type:"MOVE_DOWN",payload:null}},Jc=function(){return{type:"MOVE_RIGHT",payload:null}},$c=function(){return{type:"MOVE_LEFT",payload:null}},Zc=function(e){return{type:"DROP_COMPLETE",payload:e}},Qc=function(e){return{type:"DROP",payload:e}},es=function(){return{type:"DROP_ANIMATION_FINISHED",payload:null}};var ts="cubic-bezier(.2,1,.1,1)",ns={drop:0,combining:.7},rs={drop:.75},as=.2+"s "+"cubic-bezier(0.2, 0, 0, 1)",is={fluid:"opacity "+as,snap:"transform "+as+", opacity "+as,drop:function(e){var t=e+"s "+ts;return"transform "+t+", opacity "+t},outOfTheWay:"transform "+as,placeholder:"height "+as+", width "+as+", margin "+as},os=function(e){return ho(e,uo)?null:"translate("+e.x+"px, "+e.y+"px)"},cs=os,ss=function(e,t){var n=os(e);return n?t?n+" scale("+rs.drop+")":n:null},ls=.33,us=.55,ds=us-ls,ps=function(e){var t=e.getState,n=e.dispatch;return function(e){return function(r){if("DROP"===r.type){var a=t(),o=r.payload.reason;if("COLLECTING"!==a.phase){if("IDLE"!==a.phase){"DROP_PENDING"===a.phase&&a.isWaiting&&eo(!1),"DRAGGING"!==a.phase&&"DROP_PENDING"!==a.phase&&eo(!1);var c=a.critical,s=a.dimensions,l=s.draggables[a.critical.draggable.id],u=function(e){var t=e.draggables,n=e.reason,r=e.lastImpact,a=e.home,o=e.viewport,c=e.onLiftImpact;return r.at&&"DROP"===n?"REORDER"===r.at.type?{impact:r,didDropInsideDroppable:!0}:{impact:Object(i.a)({},r,{displaced:Lo}),didDropInsideDroppable:!0}:{impact:Pc({draggables:t,impact:c,destination:a,viewport:o,forceShouldAnimate:!0}),didDropInsideDroppable:!1}}({reason:o,lastImpact:a.impact,afterCritical:a.afterCritical,onLiftImpact:a.onLiftImpact,home:a.dimensions.droppables[a.critical.droppable.id],viewport:a.viewport,draggables:a.dimensions.draggables}),d=u.impact,p=u.didDropInsideDroppable,f=p?_o(d):null,h=p?Mo(d):null,g={index:c.draggable.index,droppableId:c.droppable.id},v={draggableId:l.descriptor.id,type:l.descriptor.type,source:g,reason:o,mode:a.movementMode,destination:f,combine:h},m=function(e){var t=e.impact,n=e.draggable,r=e.dimensions,a=e.viewport,i=e.afterCritical,o=r.draggables,c=r.droppables,s=yc(t),l=s?c[s]:null,u=c[n.descriptor.droppableId],d=Dc({impact:t,draggable:n,draggables:o,afterCritical:i,droppable:l||u,viewport:a});return fo(d,n.client.borderBox.center)}({impact:d,draggable:l,dimensions:s,viewport:a.viewport,afterCritical:a.afterCritical}),b={critical:a.critical,afterCritical:a.afterCritical,result:v,impact:d};if(!ho(a.current.client.offset,m)||Boolean(v.combine)){var y=function(e){var t=e.current,n=e.destination,r=e.reason,a=mo(t,n);if(a<=0)return ls;if(a>=1500)return us;var i=ls+ds*(a/1500);return Number(("CANCEL"===r?.6*i:i).toFixed(2))}({current:a.current.client.offset,destination:m,reason:o});n(function(e){return{type:"DROP_ANIMATE",payload:e}}({newHomeClientOffset:m,dropDuration:y,completed:b}))}else n(Zc({completed:b}))}}else n(function(e){return{type:"DROP_PENDING",payload:e}}({reason:o}))}else e(r)}}},fs=function(){return{x:window.pageXOffset,y:window.pageYOffset}};function hs(e){var t=e.onWindowScroll;var n,r=Xi((function(){t(fs())})),a=(n=r,{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(e){e.target!==window&&e.target!==window.document||n()}}),i=$i;function o(){return i!==$i}return{start:function(){o()&&eo(!1),i=Zi(window,[a])},stop:function(){o()||eo(!1),r.cancel(),i(),i=$i},isActive:o}}var gs=function(e){var t=hs({onWindowScroll:function(t){e.dispatch({type:"MOVE_BY_WINDOW_SCROLL",payload:{newScroll:t}})}});return function(e){return function(n){t.isActive()||"INITIAL_PUBLISH"!==n.type||t.start(),t.isActive()&&function(e){return"DROP_COMPLETE"===e.type||"DROP_ANIMATE"===e.type||"FLUSH"===e.type}(n)&&t.stop(),e(n)}}},vs=function(){var e=[];return{add:function(t){var n=setTimeout((function(){return function(t){var n=Eo(e,(function(e){return e.timerId===t}));-1===n&&eo(!1),e.splice(n,1)[0].callback()}(n)})),r={timerId:n,callback:t};e.push(r)},flush:function(){if(e.length){var t=[].concat(e);e.length=0,t.forEach((function(e){clearTimeout(e.timerId),e.callback()}))}}}},ms=function(e,t){_c(),t(),Mc()},bs=function(e,t){return{draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:t}},ys=function(e,t,n,r){if(e){var a=function(e){var t=!1,n=!1,r=setTimeout((function(){n=!0})),a=function(a){t||n||(t=!0,e(a),clearTimeout(r))};return a.wasCalled=function(){return t},a}(n);e(t,{announce:a}),a.wasCalled()||n(r(t))}else n(r(t))},xs=function(e,t){var n=function(e,t){var n=vs(),r=null,a=function(n){r||eo(!1),r=null,ms(0,(function(){return ys(e().onDragEnd,n,t,lo)}))};return{beforeCapture:function(t,n){r&&eo(!1),ms(0,(function(){var r=e().onBeforeCapture;r&&r({draggableId:t,mode:n})}))},beforeStart:function(t,n){r&&eo(!1),ms(0,(function(){var r=e().onBeforeDragStart;r&&r(bs(t,n))}))},start:function(a,i){r&&eo(!1);var o=bs(a,i);r={mode:i,lastCritical:a,lastLocation:o.source,lastCombine:null},n.add((function(){ms(0,(function(){return ys(e().onDragStart,o,t,co)}))}))},update:function(a,o){var c=_o(o),s=Mo(o);r||eo(!1);var l=!function(e,t){if(e===t)return!0;var n=e.draggable.id===t.draggable.id&&e.draggable.droppableId===t.draggable.droppableId&&e.draggable.type===t.draggable.type&&e.draggable.index===t.draggable.index,r=e.droppable.id===t.droppable.id&&e.droppable.type===t.droppable.type;return n&&r}(a,r.lastCritical);l&&(r.lastCritical=a);var u,d,p=(u=r.lastLocation,d=c,!(null==u&&null==d||null!=u&&null!=d&&u.droppableId===d.droppableId&&u.index===d.index));p&&(r.lastLocation=c);var f=!function(e,t){return null==e&&null==t||null!=e&&null!=t&&(e.draggableId===t.draggableId&&e.droppableId===t.droppableId)}(r.lastCombine,s);if(f&&(r.lastCombine=s),l||p||f){var h=Object(i.a)({},bs(a,r.mode),{combine:s,destination:c});n.add((function(){ms(0,(function(){return ys(e().onDragUpdate,h,t,so)}))}))}},flush:function(){r||eo(!1),n.flush()},drop:a,abort:function(){if(r){var e=Object(i.a)({},bs(r.lastCritical,r.mode),{combine:null,destination:null,reason:"CANCEL"});a(e)}}}}(e,t);return function(e){return function(t){return function(r){if("BEFORE_INITIAL_CAPTURE"!==r.type){if("INITIAL_PUBLISH"===r.type){var a=r.payload.critical;return n.beforeStart(a,r.payload.movementMode),t(r),void n.start(a,r.payload.movementMode)}if("DROP_COMPLETE"===r.type){var i=r.payload.completed.result;return n.flush(),t(r),void n.drop(i)}if(t(r),"FLUSH"!==r.type){var o=e.getState();"DRAGGING"===o.phase&&n.update(o.critical,o.impact)}else n.abort()}else n.beforeCapture(r.payload.draggableId,r.payload.movementMode)}}}},Os=function(e){return function(t){return function(n){if("DROP_ANIMATION_FINISHED"===n.type){var r=e.getState();"DROP_ANIMATING"!==r.phase&&eo(!1),e.dispatch(Zc({completed:r.completed}))}else t(n)}}},ws=function(e){var t=null,n=null;return function(r){return function(a){if("FLUSH"!==a.type&&"DROP_COMPLETE"!==a.type&&"DROP_ANIMATION_FINISHED"!==a.type||(n&&(cancelAnimationFrame(n),n=null),t&&(t(),t=null)),r(a),"DROP_ANIMATE"===a.type){var i={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){"DROP_ANIMATING"===e.getState().phase&&e.dispatch({type:"DROP_ANIMATION_FINISHED",payload:null})}};n=requestAnimationFrame((function(){n=null,t=Zi(window,[i])}))}}}},Cs=function(e){return function(t){return function(n){if(t(n),"PUBLISH_WHILE_DRAGGING"===n.type){var r=e.getState();"DROP_PENDING"===r.phase&&(r.isWaiting||e.dispatch(Qc({reason:r.reason})))}}}},ks=Di.d,js=function(e){var t,n=e.dimensionMarshal,r=e.focusMarshal,a=e.styleMarshal,i=e.getResponders,o=e.announce,c=e.autoScroller;return Object(Di.e)(qc,ks(Object(Di.a)((t=a,function(){return function(e){return function(n){"INITIAL_PUBLISH"===n.type&&t.dragging(),"DROP_ANIMATE"===n.type&&t.dropping(n.payload.completed.result.reason),"FLUSH"!==n.type&&"DROP_COMPLETE"!==n.type||t.resting(),e(n)}}}),function(e){return function(){return function(t){return function(n){"DROP_COMPLETE"!==n.type&&"FLUSH"!==n.type&&"DROP_ANIMATE"!==n.type||e.stopPublishing(),t(n)}}}}(n),function(e){return function(t){var n=t.getState,r=t.dispatch;return function(t){return function(a){if("LIFT"===a.type){var i=a.payload,o=i.id,c=i.clientSelection,s=i.movementMode,l=n();"DROP_ANIMATING"===l.phase&&r(Zc({completed:l.completed})),"IDLE"!==n().phase&&eo(!1),r({type:"FLUSH",payload:null}),r({type:"BEFORE_INITIAL_CAPTURE",payload:{draggableId:o,movementMode:s}});var u={draggableId:o,scrollOptions:{shouldPublishImmediately:"SNAP"===s}},d=e.startPublishing(u),p=d.critical,f=d.dimensions,h=d.viewport;r(function(e){return{type:"INITIAL_PUBLISH",payload:e}}({critical:p,dimensions:f,clientSelection:c,movementMode:s,viewport:h}))}else t(a)}}}}(n),ps,Os,ws,Cs,function(e){return function(t){return function(n){return function(r){if(function(e){return"DROP_COMPLETE"===e.type||"DROP_ANIMATE"===e.type||"FLUSH"===e.type}(r))return e.stop(),void n(r);if("INITIAL_PUBLISH"===r.type){n(r);var a=t.getState();return"DRAGGING"!==a.phase&&eo(!1),void e.start(a)}n(r),e.scroll(t.getState())}}}}(c),gs,function(e){var t=!1;return function(){return function(n){return function(r){if("INITIAL_PUBLISH"===r.type)return t=!0,e.tryRecordFocus(r.payload.critical.draggable.id),n(r),void e.tryRestoreFocusRecorded();if(n(r),t){if("FLUSH"===r.type)return t=!1,void e.tryRestoreFocusRecorded();if("DROP_COMPLETE"===r.type){t=!1;var a=r.payload.completed.result;a.combine&&e.tryShiftRecord(a.draggableId,a.combine.draggableId),e.tryRestoreFocusRecorded()}}}}}}(r),xs(i,o))))};var Es=function(e){var t=e.scrollHeight,n=e.scrollWidth,r=e.height,a=e.width,i=fo({x:n,y:t},{x:a,y:r});return{x:Math.max(0,i.x),y:Math.max(0,i.y)}},Ss=function(){var e=document.documentElement;return e||eo(!1),e},Ts=function(){var e=Ss();return Es({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight})},Is=function(e){var t=e.critical,n=e.scrollOptions,r=e.registry;_c();var a=function(){var e=fs(),t=Ts(),n=e.y,r=e.x,a=Ss(),i=a.clientWidth,o=a.clientHeight;return{frame:Ri({top:n,left:r,right:r+i,bottom:n+o}),scroll:{initial:e,current:e,max:t,diff:{value:uo,displacement:uo}}}}(),i=a.scroll.current,o=t.droppable,c=r.droppable.getAllByType(o.type).map((function(e){return e.callbacks.getDimensionAndWatchScroll(i,n)})),s=r.draggable.getAllByType(t.draggable.type).map((function(e){return e.getDimension(i)})),l={draggables:Po(s),droppables:Io(c)};return Mc(),{dimensions:l,critical:t,viewport:a}};function Ps(e,t,n){return n.descriptor.id!==t.id&&(n.descriptor.type===t.type&&"virtual"===e.droppable.getById(n.descriptor.droppableId).descriptor.mode)}var Ds=function(e,t){var n=null,r=function(e){var t=e.registry,n=e.callbacks,r={additions:{},removals:{},modified:{}},a=null,i=function(){a||(n.collectionStarting(),a=requestAnimationFrame((function(){a=null,_c();var e=r,i=e.additions,o=e.removals,c=e.modified,s=Object.keys(i).map((function(e){return t.draggable.getById(e).getDimension(uo)})).sort((function(e,t){return e.descriptor.index-t.descriptor.index})),l=Object.keys(c).map((function(e){return{droppableId:e,scroll:t.droppable.getById(e).callbacks.getScrollWhileDragging()}})),u={additions:s,removals:Object.keys(o),modified:l};r={additions:{},removals:{},modified:{}},Mc(),n.publish(u)})))};return{add:function(e){var t=e.descriptor.id;r.additions[t]=e,r.modified[e.descriptor.droppableId]=!0,r.removals[t]&&delete r.removals[t],i()},remove:function(e){var t=e.descriptor;r.removals[t.id]=!0,r.modified[t.droppableId]=!0,r.additions[t.id]&&delete r.additions[t.id],i()},stop:function(){a&&(cancelAnimationFrame(a),a=null,r={additions:{},removals:{},modified:{}})}}}({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),a=function(t){n||eo(!1);var a=n.critical.draggable;"ADDITION"===t.type&&Ps(e,a,t.value)&&r.add(t.value),"REMOVAL"===t.type&&Ps(e,a,t.value)&&r.remove(t.value)};return{updateDroppableIsEnabled:function(r,a){e.droppable.exists(r)||eo(!1),n&&t.updateDroppableIsEnabled({id:r,isEnabled:a})},updateDroppableIsCombineEnabled:function(r,a){n&&(e.droppable.exists(r)||eo(!1),t.updateDroppableIsCombineEnabled({id:r,isCombineEnabled:a}))},scrollDroppable:function(t,r){n&&e.droppable.getById(t).callbacks.scroll(r)},updateDroppableScroll:function(r,a){n&&(e.droppable.exists(r)||eo(!1),t.updateDroppableScroll({id:r,newScroll:a}))},startPublishing:function(t){n&&eo(!1);var r=e.draggable.getById(t.draggableId),i=e.droppable.getById(r.descriptor.droppableId),o={draggable:r.descriptor,droppable:i.descriptor},c=e.subscribe(a);return n={critical:o,unsubscribe:c},Is({critical:o,registry:e,scrollOptions:t.scrollOptions})},stopPublishing:function(){if(n){r.stop();var t=n.critical.droppable;e.droppable.getAllByType(t.type).forEach((function(e){return e.callbacks.dragStopped()})),n.unsubscribe(),n=null}}}},Ns=function(e,t){return"IDLE"===e.phase||"DROP_ANIMATING"===e.phase&&(e.completed.result.draggableId!==t&&"DROP"===e.completed.result.reason)},As=function(e){window.scrollBy(e.x,e.y)},_s=Ki((function(e){return Do(e).filter((function(e){return!!e.isEnabled&&!!e.frame}))})),Ms=function(e){var t=e.center,n=e.destination,r=e.droppables;if(n){var a=r[n];return a.frame?a:null}return function(e,t){return So(_s(t),(function(t){return t.frame||eo(!1),wc(t.frame.pageMarginBox)(e)}))}(t,r)},Rs=.25,Fs=.05,Bs=28,Ls=function(e){return Math.pow(e,2)},Gs={stopDampeningAt:1200,accelerateAt:360},qs=function(e){var t=e.startOfRange,n=e.endOfRange,r=e.current,a=n-t;return 0===a?0:(r-t)/a},zs=Gs.accelerateAt,Hs=Gs.stopDampeningAt,Us=function(e){var t=e.distanceToEdge,n=e.thresholds,r=e.dragStartTime,a=e.shouldUseTimeDampening,i=function(e,t){if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return Bs;if(e===t.startScrollingFrom)return 1;var n=qs({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),r=Bs*Ls(1-n);return Math.ceil(r)}(t,n);return 0===i?0:a?Math.max(function(e,t){var n=t,r=Hs,a=Date.now()-n;if(a>=Hs)return e;if(a<zs)return 1;var i=qs({startOfRange:zs,endOfRange:r,current:a}),o=e*Ls(i);return Math.ceil(o)}(i,r),1):i},Vs=function(e){var t=e.container,n=e.distanceToEdges,r=e.dragStartTime,a=e.axis,i=e.shouldUseTimeDampening,o=function(e,t){return{startScrollingFrom:e[t.size]*Rs,maxScrollValueAt:e[t.size]*Fs}}(t,a);return n[a.end]<n[a.start]?Us({distanceToEdge:n[a.end],thresholds:o,dragStartTime:r,shouldUseTimeDampening:i}):-1*Us({distanceToEdge:n[a.start],thresholds:o,dragStartTime:r,shouldUseTimeDampening:i})},Ys=yo((function(e){return 0===e?0:e})),Ws=function(e){var t=e.dragStartTime,n=e.container,r=e.subject,a=e.center,i=e.shouldUseTimeDampening,o={top:a.y-n.top,right:n.right-a.x,bottom:n.bottom-a.y,left:a.x-n.left},c=Vs({container:n,distanceToEdges:o,dragStartTime:t,axis:Uo,shouldUseTimeDampening:i}),s=Vs({container:n,distanceToEdges:o,dragStartTime:t,axis:Vo,shouldUseTimeDampening:i}),l=Ys({x:s,y:c});if(ho(l,uo))return null;var u=function(e){var t=e.container,n=e.subject,r=e.proposedScroll,a=n.height>t.height,i=n.width>t.width;return i||a?i&&a?null:{x:i?0:r.x,y:a?0:r.y}:r}({container:n,subject:r,proposedScroll:l});return u?ho(u,uo)?null:u:null},Ks=yo((function(e){return 0===e?0:e>0?1:-1})),Xs=function(){var e=function(e,t){return e<0?e:e>t?e-t:0};return function(t){var n=t.current,r=t.max,a=t.change,i=po(n,a),o={x:e(i.x,r.x),y:e(i.y,r.y)};return ho(o,uo)?null:o}}(),Js=function(e){var t=e.max,n=e.current,r=e.change,a={x:Math.max(n.x,t.x),y:Math.max(n.y,t.y)},i=Ks(r),o=Xs({max:a,current:n,change:i});return!o||(0!==i.x&&0===o.x||0!==i.y&&0===o.y)},$s=function(e,t){return Js({current:e.scroll.current,max:e.scroll.max,change:t})},Zs=function(e,t){var n=e.frame;return!!n&&Js({current:n.scroll.current,max:n.scroll.max,change:t})},Qs=function(e){var t=e.state,n=e.dragStartTime,r=e.shouldUseTimeDampening,a=e.scrollWindow,i=e.scrollDroppable,o=t.current.page.borderBoxCenter,c=t.dimensions.draggables[t.critical.draggable.id].page.marginBox;if(t.isWindowScrollAllowed){var s=function(e){var t=e.viewport,n=e.subject,r=e.center,a=e.dragStartTime,i=e.shouldUseTimeDampening,o=Ws({dragStartTime:a,container:t.frame,subject:n,center:r,shouldUseTimeDampening:i});return o&&$s(t,o)?o:null}({dragStartTime:n,viewport:t.viewport,subject:c,center:o,shouldUseTimeDampening:r});if(s)return void a(s)}var l=Ms({center:o,destination:yc(t.impact),droppables:t.dimensions.droppables});if(l){var u=function(e){var t=e.droppable,n=e.subject,r=e.center,a=e.dragStartTime,i=e.shouldUseTimeDampening,o=t.frame;if(!o)return null;var c=Ws({dragStartTime:a,container:o.pageMarginBox,subject:n,center:r,shouldUseTimeDampening:i});return c&&Zs(t,c)?c:null}({dragStartTime:n,droppable:l,subject:c,center:o,shouldUseTimeDampening:r});u&&i(l.descriptor.id,u)}},el=function(e){var t=e.move,n=e.scrollDroppable,r=e.scrollWindow,a=function(e,t){if(!Zs(e,t))return t;var r=function(e,t){var n=e.frame;return n&&Zs(e,t)?Xs({current:n.scroll.current,max:n.scroll.max,change:t}):null}(e,t);if(!r)return n(e.descriptor.id,t),null;var a=fo(t,r);return n(e.descriptor.id,a),fo(t,a)},i=function(e,t,n){if(!e)return n;if(!$s(t,n))return n;var a=function(e,t){if(!$s(e,t))return null;var n=e.scroll.max,r=e.scroll.current;return Xs({current:r,max:n,change:t})}(t,n);if(!a)return r(n),null;var i=fo(n,a);return r(i),fo(n,i)};return function(e){var n=e.scrollJumpRequest;if(n){var r=yc(e.impact);r||eo(!1);var o=a(e.dimensions.droppables[r],n);if(o){var c=e.viewport,s=i(e.isWindowScrollAllowed,c,o);s&&function(e,n){var r=po(e.current.client.selection,n);t({client:r})}(e,s)}}}},tl=function(e){var t=e.scrollDroppable,n=e.scrollWindow,r=e.move,a=function(e){var t=e.scrollWindow,n=e.scrollDroppable,r=Xi(t),a=Xi(n),i=null,o=function(e){i||eo(!1);var t=i,n=t.shouldUseTimeDampening,o=t.dragStartTime;Qs({state:e,scrollWindow:r,scrollDroppable:a,dragStartTime:o,shouldUseTimeDampening:n})};return{start:function(e){_c(),i&&eo(!1);var t=Date.now(),n=!1,r=function(){n=!0};Qs({state:e,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:r,scrollDroppable:r}),i={dragStartTime:t,shouldUseTimeDampening:n},Mc(),n&&o(e)},stop:function(){i&&(r.cancel(),a.cancel(),i=null)},scroll:o}}({scrollWindow:n,scrollDroppable:t}),i=el({move:r,scrollWindow:n,scrollDroppable:t});return{scroll:function(e){"DRAGGING"===e.phase&&("FLUID"!==e.movementMode?e.scrollJumpRequest&&i(e):a.scroll(e))},start:a.start,stop:a.stop}},nl=function(){var e="data-rbd-drag-handle";return{base:e,draggableId:e+"-draggable-id",contextId:e+"-context-id"}}(),rl=function(){var e="data-rbd-draggable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),al=function(){var e="data-rbd-droppable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),il={contextId:"data-rbd-scroll-container-context-id"},ol=function(e,t){return e.map((function(e){var n=e.styles[t];return n?e.selector+" { "+n+" }":""})).join(" ")},cl="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement?u.useLayoutEffect:u.useEffect,sl=function(){var e=document.querySelector("head");return e||eo(!1),e},ll=function(e){var t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.type="text/css",t};function ul(e,t){var n=Ai((function(){return function(e){var t,n=(t=e,function(e){return"["+e+'="'+t+'"]'}),r=function(){var e="\n      cursor: -webkit-grab;\n      cursor: grab;\n    ";return{selector:n(nl.contextId),styles:{always:"\n          -webkit-touch-callout: none;\n          -webkit-tap-highlight-color: rgba(0,0,0,0);\n          touch-action: manipulation;\n        ",resting:e,dragging:"pointer-events: none;",dropAnimating:e}}}(),a=[function(){var e="\n      transition: "+is.outOfTheWay+";\n    ";return{selector:n(rl.contextId),styles:{dragging:e,dropAnimating:e,userCancel:e}}}(),r,{selector:n(al.contextId),styles:{always:"overflow-anchor: none;"}},{selector:"body",styles:{dragging:"\n        cursor: grabbing;\n        cursor: -webkit-grabbing;\n        user-select: none;\n        -webkit-user-select: none;\n        -moz-user-select: none;\n        -ms-user-select: none;\n        overflow-anchor: none;\n      "}}];return{always:ol(a,"always"),resting:ol(a,"resting"),dragging:ol(a,"dragging"),dropAnimating:ol(a,"dropAnimating"),userCancel:ol(a,"userCancel")}}(e)}),[e]),r=Object(u.useRef)(null),a=Object(u.useRef)(null),i=_i(Ki((function(e){var t=a.current;t||eo(!1),t.textContent=e})),[]),o=_i((function(e){var t=r.current;t||eo(!1),t.textContent=e}),[]);cl((function(){(r.current||a.current)&&eo(!1);var c=ll(t),s=ll(t);return r.current=c,a.current=s,c.setAttribute("data-rbd-always",e),s.setAttribute("data-rbd-dynamic",e),sl().appendChild(c),sl().appendChild(s),o(n.always),i(n.resting),function(){var e=function(e){var t=e.current;t||eo(!1),sl().removeChild(t),e.current=null};e(r),e(a)}}),[t,o,i,n.always,n.resting,e]);var c=_i((function(){return i(n.dragging)}),[i,n.dragging]),s=_i((function(e){i("DROP"!==e?n.userCancel:n.dropAnimating)}),[i,n.dropAnimating,n.userCancel]),l=_i((function(){a.current&&i(n.resting)}),[i,n.resting]);return Ai((function(){return{dragging:c,dropping:s,resting:l}}),[c,s,l])}var dl=function(e){return e&&e.ownerDocument?e.ownerDocument.defaultView:window};function pl(e){return e instanceof dl(e).HTMLElement}function fl(e,t){var n="["+nl.contextId+'="'+e+'"]',r=To(document.querySelectorAll(n));if(!r.length)return null;var a=So(r,(function(e){return e.getAttribute(nl.draggableId)===t}));return a&&pl(a)?a:null}function hl(){var e={draggables:{},droppables:{}},t=[];function n(e){t.length&&t.forEach((function(t){return t(e)}))}function r(t){return e.draggables[t]||null}function a(t){return e.droppables[t]||null}return{draggable:{register:function(t){e.draggables[t.descriptor.id]=t,n({type:"ADDITION",value:t})},update:function(t,n){var r=e.draggables[n.descriptor.id];r&&r.uniqueId===t.uniqueId&&(delete e.draggables[n.descriptor.id],e.draggables[t.descriptor.id]=t)},unregister:function(t){var a=t.descriptor.id,i=r(a);i&&t.uniqueId===i.uniqueId&&(delete e.draggables[a],n({type:"REMOVAL",value:t}))},getById:function(e){var t=r(e);return t||eo(!1),t},findById:r,exists:function(e){return Boolean(r(e))},getAllByType:function(t){return jo(e.draggables).filter((function(e){return e.descriptor.type===t}))}},droppable:{register:function(t){e.droppables[t.descriptor.id]=t},unregister:function(t){var n=a(t.descriptor.id);n&&t.uniqueId===n.uniqueId&&delete e.droppables[t.descriptor.id]},getById:function(e){var t=a(e);return t||eo(!1),t},findById:a,exists:function(e){return Boolean(a(e))},getAllByType:function(t){return jo(e.droppables).filter((function(e){return e.descriptor.type===t}))}},subscribe:function(e){return t.push(e),function(){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}},clean:function(){e.draggables={},e.droppables={},t.length=0}}}var gl=d.a.createContext(null),vl=function(){var e=document.body;return e||eo(!1),e},ml={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"};var bl=0,yl={separator:"::"};function xl(e,t){return void 0===t&&(t=yl),Ai((function(){return""+e+t.separator+bl++}),[t.separator,e])}var Ol=d.a.createContext(null);function wl(e){0}function Cl(e,t){wl()}function kl(){Cl()}function jl(e){var t=Object(u.useRef)(e);return Object(u.useEffect)((function(){t.current=e})),t}var El,Sl=((El={})[13]=!0,El[9]=!0,El),Tl=function(e){Sl[e.keyCode]&&e.preventDefault()},Il=function(){var e="visibilitychange";return"undefined"===typeof document?e:So([e,"ms"+e,"webkit"+e,"moz"+e,"o"+e],(function(e){return"on"+e in document}))||e}();var Pl,Dl={type:"IDLE"};function Nl(e){var t=e.cancel,n=e.completed,r=e.getPhase,a=e.setPhase;return[{eventName:"mousemove",fn:function(e){var t=e.button,n=e.clientX,i=e.clientY;if(0===t){var o={x:n,y:i},c=r();if("DRAGGING"===c.type)return e.preventDefault(),void c.actions.move(o);"PENDING"!==c.type&&eo(!1);var s=c.point;if(l=s,u=o,Math.abs(u.x-l.x)>=5||Math.abs(u.y-l.y)>=5){var l,u;e.preventDefault();var d=c.actions.fluidLift(o);a({type:"DRAGGING",actions:d})}}}},{eventName:"mouseup",fn:function(e){var a=r();"DRAGGING"===a.type?(e.preventDefault(),a.actions.drop({shouldBlockNextClick:!0}),n()):t()}},{eventName:"mousedown",fn:function(e){"DRAGGING"===r().type&&e.preventDefault(),t()}},{eventName:"keydown",fn:function(e){if("PENDING"!==r().type)return 27===e.keyCode?(e.preventDefault(),void t()):void Tl(e);t()}},{eventName:"resize",fn:t},{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(){"PENDING"===r().type&&t()}},{eventName:"webkitmouseforcedown",fn:function(e){var n=r();"IDLE"===n.type&&eo(!1),n.actions.shouldRespectForcePress()?t():e.preventDefault()}},{eventName:Il,fn:t}]}function Al(){}var _l=((Pl={})[34]=!0,Pl[33]=!0,Pl[36]=!0,Pl[35]=!0,Pl);function Ml(e,t){function n(){t(),e.cancel()}return[{eventName:"keydown",fn:function(r){return 27===r.keyCode?(r.preventDefault(),void n()):32===r.keyCode?(r.preventDefault(),t(),void e.drop()):40===r.keyCode?(r.preventDefault(),void e.moveDown()):38===r.keyCode?(r.preventDefault(),void e.moveUp()):39===r.keyCode?(r.preventDefault(),void e.moveRight()):37===r.keyCode?(r.preventDefault(),void e.moveLeft()):void(_l[r.keyCode]?r.preventDefault():Tl(r))}},{eventName:"mousedown",fn:n},{eventName:"mouseup",fn:n},{eventName:"click",fn:n},{eventName:"touchstart",fn:n},{eventName:"resize",fn:n},{eventName:"wheel",fn:n,options:{passive:!0}},{eventName:Il,fn:n}]}var Rl={type:"IDLE"};var Fl={input:!0,button:!0,textarea:!0,select:!0,option:!0,optgroup:!0,video:!0,audio:!0};function Bl(e,t){var n=t.target;return!!pl(n)&&function e(t,n){if(null==n)return!1;if(Boolean(Fl[n.tagName.toLowerCase()]))return!0;var r=n.getAttribute("contenteditable");return"true"===r||""===r||n!==t&&e(t,n.parentElement)}(e,n)}var Ll=function(e){return Ri(e.getBoundingClientRect()).center};var Gl="undefined"===typeof document?"matches":So(["matches","msMatchesSelector","webkitMatchesSelector"],(function(e){return e in Element.prototype}))||"matches";function ql(e,t){return e.closest?e.closest(t):function e(t,n){return null==t?null:t[Gl](n)?t:e(t.parentElement,n)}(e,t)}function zl(e,t){var n,r=t.target;if(!((n=r)instanceof dl(n).Element))return null;var a=ql(r,function(e){return"["+nl.contextId+'="'+e+'"]'}(e));return a&&pl(a)?a:null}function Hl(e){e.preventDefault()}function Ul(e){var t=e.expected,n=e.phase,r=e.isLockActive;e.shouldWarn;return!!r()&&t===n}function Vl(e){var t=e.lockAPI,n=e.store,r=e.registry,a=e.draggableId;if(t.isClaimed())return!1;var i=r.draggable.findById(a);return!!i&&(!!i.options.isEnabled&&!!Ns(n.getState(),a))}function Yl(e){var t=e.lockAPI,n=e.contextId,r=e.store,a=e.registry,o=e.draggableId,c=e.forceSensorStop,s=e.sourceEvent;if(!Vl({lockAPI:t,store:r,registry:a,draggableId:o}))return null;var l=a.draggable.getById(o),u=function(e,t){var n="["+rl.contextId+'="'+e+'"]',r=So(To(document.querySelectorAll(n)),(function(e){return e.getAttribute(rl.id)===t}));return r&&pl(r)?r:null}(n,l.descriptor.id);if(!u)return null;if(s&&!l.options.canDragInteractiveElements&&Bl(u,s))return null;var d=t.claim(c||$i),p="PRE_DRAG";function f(){return l.options.shouldRespectForcePress}function h(){return t.isActive(d)}var g=function(e,t){Ul({expected:e,phase:p,isLockActive:h,shouldWarn:!0})&&r.dispatch(t())}.bind(null,"DRAGGING");function v(e){function n(){t.release(),p="COMPLETED"}function a(t,a){if(void 0===a&&(a={shouldBlockNextClick:!1}),e.cleanup(),a.shouldBlockNextClick){var i=Zi(window,[{eventName:"click",fn:Hl,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(i)}n(),r.dispatch(Qc({reason:t}))}return"PRE_DRAG"!==p&&(n(),"PRE_DRAG"!==p&&eo(!1)),r.dispatch(function(e){return{type:"LIFT",payload:e}}(e.liftActionArgs)),p="DRAGGING",Object(i.a)({isActive:function(){return Ul({expected:"DRAGGING",phase:p,isLockActive:h,shouldWarn:!1})},shouldRespectForcePress:f,drop:function(e){return a("DROP",e)},cancel:function(e){return a("CANCEL",e)}},e.actions)}return{isActive:function(){return Ul({expected:"PRE_DRAG",phase:p,isLockActive:h,shouldWarn:!1})},shouldRespectForcePress:f,fluidLift:function(e){var t=Xi((function(e){g((function(){return Wc({client:e})}))})),n=v({liftActionArgs:{id:o,clientSelection:e,movementMode:"FLUID"},cleanup:function(){return t.cancel()},actions:{move:t}});return Object(i.a)({},n,{move:t})},snapLift:function(){var e={moveUp:function(){return g(Kc)},moveRight:function(){return g(Jc)},moveDown:function(){return g(Xc)},moveLeft:function(){return g($c)}};return v({liftActionArgs:{id:o,clientSelection:Ll(u),movementMode:"SNAP"},cleanup:$i,actions:e})},abort:function(){Ul({expected:"PRE_DRAG",phase:p,isLockActive:h,shouldWarn:!0})&&t.release()}}}var Wl=[function(e){var t=Object(u.useRef)(Dl),n=Object(u.useRef)($i),r=Ai((function(){return{eventName:"mousedown",fn:function(t){if(!t.defaultPrevented&&0===t.button&&!(t.ctrlKey||t.metaKey||t.shiftKey||t.altKey)){var r=e.findClosestDraggableId(t);if(r){var a=e.tryGetLock(r,o,{sourceEvent:t});if(a){t.preventDefault();var i={x:t.clientX,y:t.clientY};n.current(),l(a,i)}}}}}}),[e]),a=Ai((function(){return{eventName:"webkitmouseforcewillbegin",fn:function(t){if(!t.defaultPrevented){var n=e.findClosestDraggableId(t);if(n){var r=e.findOptionsForDraggable(n);r&&(r.shouldRespectForcePress||e.canGetLock(n)&&t.preventDefault())}}}}}),[e]),i=_i((function(){n.current=Zi(window,[a,r],{passive:!1,capture:!0})}),[a,r]),o=_i((function(){"IDLE"!==t.current.type&&(t.current=Dl,n.current(),i())}),[i]),c=_i((function(){var e=t.current;o(),"DRAGGING"===e.type&&e.actions.cancel({shouldBlockNextClick:!0}),"PENDING"===e.type&&e.actions.abort()}),[o]),s=_i((function(){var e=Nl({cancel:c,completed:o,getPhase:function(){return t.current},setPhase:function(e){t.current=e}});n.current=Zi(window,e,{capture:!0,passive:!1})}),[c,o]),l=_i((function(e,n){"IDLE"!==t.current.type&&eo(!1),t.current={type:"PENDING",point:n,actions:e},s()}),[s]);cl((function(){return i(),function(){n.current()}}),[i])},function(e){var t=Object(u.useRef)(Al),n=Ai((function(){return{eventName:"keydown",fn:function(n){if(!n.defaultPrevented&&32===n.keyCode){var a=e.findClosestDraggableId(n);if(a){var i=e.tryGetLock(a,s,{sourceEvent:n});if(i){n.preventDefault();var o=!0,c=i.snapLift();t.current(),t.current=Zi(window,Ml(c,s),{capture:!0,passive:!1})}}}function s(){o||eo(!1),o=!1,t.current(),r()}}}}),[e]),r=_i((function(){t.current=Zi(window,[n],{passive:!1,capture:!0})}),[n]);cl((function(){return r(),function(){t.current()}}),[r])},function(e){var t=Object(u.useRef)(Rl),n=Object(u.useRef)($i),r=_i((function(){return t.current}),[]),a=_i((function(e){t.current=e}),[]),i=Ai((function(){return{eventName:"touchstart",fn:function(t){if(!t.defaultPrevented){var r=e.findClosestDraggableId(t);if(r){var a=e.tryGetLock(r,c,{sourceEvent:t});if(a){var i=t.touches[0],o={x:i.clientX,y:i.clientY};n.current(),p(a,o)}}}}}}),[e]),o=_i((function(){n.current=Zi(window,[i],{capture:!0,passive:!1})}),[i]),c=_i((function(){var e=t.current;"IDLE"!==e.type&&("PENDING"===e.type&&clearTimeout(e.longPressTimerId),a(Rl),n.current(),o())}),[o,a]),s=_i((function(){var e=t.current;c(),"DRAGGING"===e.type&&e.actions.cancel({shouldBlockNextClick:!0}),"PENDING"===e.type&&e.actions.abort()}),[c]),l=_i((function(){var e={capture:!0,passive:!1},t={cancel:s,completed:c,getPhase:r},a=Zi(window,function(e){var t=e.cancel,n=e.completed,r=e.getPhase;return[{eventName:"touchmove",options:{capture:!1},fn:function(e){var n=r();if("DRAGGING"===n.type){n.hasMoved=!0;var a=e.touches[0],i={x:a.clientX,y:a.clientY};e.preventDefault(),n.actions.move(i)}else t()}},{eventName:"touchend",fn:function(e){var a=r();"DRAGGING"===a.type?(e.preventDefault(),a.actions.drop({shouldBlockNextClick:!0}),n()):t()}},{eventName:"touchcancel",fn:function(e){"DRAGGING"===r().type?(e.preventDefault(),t()):t()}},{eventName:"touchforcechange",fn:function(e){var n=r();"IDLE"===n.type&&eo(!1);var a=e.touches[0];if(a&&a.force>=.15){var i=n.actions.shouldRespectForcePress();if("PENDING"!==n.type)return i?n.hasMoved?void e.preventDefault():void t():void e.preventDefault();i&&t()}}},{eventName:Il,fn:t}]}(t),e),i=Zi(window,function(e){var t=e.cancel,n=e.getPhase;return[{eventName:"orientationchange",fn:t},{eventName:"resize",fn:t},{eventName:"contextmenu",fn:function(e){e.preventDefault()}},{eventName:"keydown",fn:function(e){"DRAGGING"===n().type?(27===e.keyCode&&e.preventDefault(),t()):t()}},{eventName:Il,fn:t}]}(t),e);n.current=function(){a(),i()}}),[s,r,c]),d=_i((function(){var e=r();"PENDING"!==e.type&&eo(!1);var t=e.actions.fluidLift(e.point);a({type:"DRAGGING",actions:t,hasMoved:!1})}),[r,a]),p=_i((function(e,t){"IDLE"!==r().type&&eo(!1);var n=setTimeout(d,120);a({type:"PENDING",point:t,actions:e,longPressTimerId:n}),l()}),[l,r,a,d]);cl((function(){return o(),function(){n.current();var e=r();"PENDING"===e.type&&(clearTimeout(e.longPressTimerId),a(Rl))}}),[r,o,a]),cl((function(){return Zi(window,[{eventName:"touchmove",fn:function(){},options:{capture:!1,passive:!1}}])}),[])}];function Kl(e){var t=e.contextId,n=e.store,r=e.registry,a=e.customSensors,i=e.enableDefaultSensors,o=[].concat(i?Wl:[],a||[]),c=Object(u.useState)((function(){return function(){var e=null;function t(){e||eo(!1),e=null}return{isClaimed:function(){return Boolean(e)},isActive:function(t){return t===e},claim:function(t){e&&eo(!1);var n={abandon:t};return e=n,n},release:t,tryAbandon:function(){e&&(e.abandon(),t())}}}()}))[0],s=_i((function(e,t){e.isDragging&&!t.isDragging&&c.tryAbandon()}),[c]);cl((function(){var e=n.getState();return n.subscribe((function(){var t=n.getState();s(e,t),e=t}))}),[c,n,s]),cl((function(){return c.tryAbandon}),[c.tryAbandon]);var l=_i((function(e){return Vl({lockAPI:c,registry:r,store:n,draggableId:e})}),[c,r,n]),d=_i((function(e,a,i){return Yl({lockAPI:c,registry:r,contextId:t,store:n,draggableId:e,forceSensorStop:a,sourceEvent:i&&i.sourceEvent?i.sourceEvent:null})}),[t,c,r,n]),p=_i((function(e){return function(e,t){var n=zl(e,t);return n?n.getAttribute(nl.draggableId):null}(t,e)}),[t]),f=_i((function(e){var t=r.draggable.findById(e);return t?t.options:null}),[r.draggable]),h=_i((function(){c.isClaimed()&&(c.tryAbandon(),"IDLE"!==n.getState().phase&&n.dispatch({type:"FLUSH",payload:null}))}),[c,n]),g=_i(c.isClaimed,[c]),v=Ai((function(){return{canGetLock:l,tryGetLock:d,findClosestDraggableId:p,findOptionsForDraggable:f,tryReleaseLock:h,isLockClaimed:g}}),[l,d,p,f,h,g]);wl();for(var m=0;m<o.length;m++)o[m](v)}function Xl(e){return e.current||eo(!1),e.current}function Jl(e){var t=e.contextId,n=e.setCallbacks,r=e.sensors,a=e.nonce,o=e.dragHandleUsageInstructions,c=Object(u.useRef)(null);kl();var s=jl(e),l=_i((function(){return function(e){return{onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}}(s.current)}),[s]),p=function(e){var t=Ai((function(){return function(e){return"rbd-announcement-"+e}(e)}),[e]),n=Object(u.useRef)(null);return Object(u.useEffect)((function(){var e=document.createElement("div");return n.current=e,e.id=t,e.setAttribute("aria-live","assertive"),e.setAttribute("aria-atomic","true"),Object(i.a)(e.style,ml),vl().appendChild(e),function(){setTimeout((function(){var t=vl();t.contains(e)&&t.removeChild(e),e===n.current&&(n.current=null)}))}}),[t]),_i((function(e){var t=n.current;t&&(t.textContent=e)}),[])}(t),f=function(e){var t=e.contextId,n=e.text,r=xl("hidden-text",{separator:"-"}),a=Ai((function(){return"rbd-hidden-text-"+(e={contextId:t,uniqueId:r}).contextId+"-"+e.uniqueId;var e}),[r,t]);return Object(u.useEffect)((function(){var e=document.createElement("div");return e.id=a,e.textContent=n,e.style.display="none",vl().appendChild(e),function(){var t=vl();t.contains(e)&&t.removeChild(e)}}),[a,n]),a}({contextId:t,text:o}),h=ul(t,a),g=_i((function(e){Xl(c).dispatch(e)}),[]),v=Ai((function(){return Object(Di.b)({publishWhileDragging:zc,updateDroppableScroll:Uc,updateDroppableIsEnabled:Vc,updateDroppableIsCombineEnabled:Yc,collectionStarting:Hc},g)}),[g]),m=function(){var e=Ai(hl,[]);return Object(u.useEffect)((function(){return function(){requestAnimationFrame(e.clean)}}),[e]),e}(),b=Ai((function(){return Ds(m,v)}),[m,v]),y=Ai((function(){return tl(Object(i.a)({scrollWindow:As,scrollDroppable:b.scrollDroppable},Object(Di.b)({move:Wc},g)))}),[b.scrollDroppable,g]),x=function(e){var t=Object(u.useRef)({}),n=Object(u.useRef)(null),r=Object(u.useRef)(null),a=Object(u.useRef)(!1),i=_i((function(e,n){var r={id:e,focus:n};return t.current[e]=r,function(){var n=t.current;n[e]!==r&&delete n[e]}}),[]),o=_i((function(t){var n=fl(e,t);n&&n!==document.activeElement&&n.focus()}),[e]),c=_i((function(e,t){n.current===e&&(n.current=t)}),[]),s=_i((function(){r.current||a.current&&(r.current=requestAnimationFrame((function(){r.current=null;var e=n.current;e&&o(e)})))}),[o]),l=_i((function(e){n.current=null;var t=document.activeElement;t&&t.getAttribute(nl.draggableId)===e&&(n.current=e)}),[]);return cl((function(){return a.current=!0,function(){a.current=!1;var e=r.current;e&&cancelAnimationFrame(e)}}),[]),Ai((function(){return{register:i,tryRecordFocus:l,tryRestoreFocusRecorded:s,tryShiftRecord:c}}),[i,l,s,c])}(t),O=Ai((function(){return js({announce:p,autoScroller:y,dimensionMarshal:b,focusMarshal:x,getResponders:l,styleMarshal:h})}),[p,y,b,x,l,h]);c.current=O;var w=_i((function(){var e=Xl(c);"IDLE"!==e.getState().phase&&e.dispatch({type:"FLUSH",payload:null})}),[]),C=_i((function(){var e=Xl(c).getState();return e.isDragging||"DROP_ANIMATING"===e.phase}),[]);n(Ai((function(){return{isDragging:C,tryAbort:w}}),[C,w]));var k=_i((function(e){return Ns(Xl(c).getState(),e)}),[]),j=_i((function(){return Oc(Xl(c).getState())}),[]),E=Ai((function(){return{marshal:b,focus:x,contextId:t,canLift:k,isMovementAllowed:j,dragHandleUsageInstructionsId:f,registry:m}}),[t,b,f,x,k,j,m]);return Kl({contextId:t,store:O,registry:m,customSensors:r,enableDefaultSensors:!1!==e.enableDefaultSensors}),Object(u.useEffect)((function(){return w}),[w]),d.a.createElement(Ol.Provider,{value:E},d.a.createElement(Z.a,{context:gl,store:O},e.children))}var $l=0;function Zl(e){var t=Ai((function(){return""+$l++}),[]),n=e.dragHandleUsageInstructions||oo;return d.a.createElement(to,null,(function(r){return d.a.createElement(Jl,{nonce:e.nonce,contextId:t,setCallbacks:r,dragHandleUsageInstructions:n,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd},e.children)}))}var Ql=function(e){return function(t){return e===t}},eu=Ql("scroll"),tu=Ql("auto"),nu=(Ql("visible"),function(e,t){return t(e.overflowX)||t(e.overflowY)}),ru=function(e){var t=window.getComputedStyle(e),n={overflowX:t.overflowX,overflowY:t.overflowY};return nu(n,eu)||nu(n,tu)},au=function e(t){return null==t||t===document.body||t===document.documentElement?null:ru(t)?t:e(t.parentElement)},iu=function(e){return{x:e.scrollLeft,y:e.scrollTop}},ou=function(e){return{closestScrollable:au(e),isFixedOnPage:function e(t){return!!t&&("fixed"===window.getComputedStyle(t).position||e(t.parentElement))}(e)}},cu=function(e){var t=e.ref,n=e.descriptor,r=e.env,a=e.windowScroll,i=e.direction,o=e.isDropDisabled,c=e.isCombineEnabled,s=e.shouldClipSubject,l=r.closestScrollable,u=function(e,t){var n=Vi(e);if(!t)return n;if(e!==t)return n;var r=n.paddingBox.top-t.scrollTop,a=n.paddingBox.left-t.scrollLeft,i=r+t.scrollHeight,o=a+t.scrollWidth,c=Fi({top:r,right:o,bottom:i,left:a},n.border);return Gi({borderBox:c,margin:n.margin,border:n.border,padding:n.padding})}(t,l),d=Hi(u,a),p=function(){if(!l)return null;var e=Vi(l),t={scrollHeight:l.scrollHeight,scrollWidth:l.scrollWidth};return{client:e,page:Hi(e,a),scroll:iu(l),scrollSize:t,shouldClipSubject:s}}();return function(e){var t=e.descriptor,n=e.isEnabled,r=e.isCombineEnabled,a=e.isFixedOnPage,i=e.direction,o=e.client,c=e.page,s=e.closest,l=function(){if(!s)return null;var e=s.scrollSize,t=s.client,n=Es({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,height:t.paddingBox.height,width:t.paddingBox.width});return{pageMarginBox:s.page.marginBox,frameClient:t,scrollSize:e,shouldClipSubject:s.shouldClipSubject,scroll:{initial:s.scroll,current:s.scroll,max:n,diff:{value:uo,displacement:uo}}}}(),u="vertical"===i?Uo:Vo;return{descriptor:t,isCombineEnabled:r,isFixedOnPage:a,axis:u,isEnabled:n,client:o,page:c,frame:l,subject:Co({page:c,withPlaceholder:null,axis:u,frame:l})}}({descriptor:n,isEnabled:!o,isCombineEnabled:c,isFixedOnPage:r.isFixedOnPage,direction:i,client:u,page:d,closest:p})},su={passive:!1},lu={passive:!0},uu=function(e){return e.shouldPublishImmediately?su:lu};function du(e){var t=Object(u.useContext)(e);return t||eo(!1),t}var pu=function(e){return e&&e.env.closestScrollable||null};function fu(){}var hu={width:0,height:0,margin:{top:0,right:0,bottom:0,left:0}},gu=function(e){var t=e.isAnimatingOpenOnMount,n=e.placeholder,r=e.animate,a=function(e){var t=e.isAnimatingOpenOnMount,n=e.placeholder,r=e.animate;return t||"close"===r?hu:{height:n.client.borderBox.height,width:n.client.borderBox.width,margin:n.client.margin}}({isAnimatingOpenOnMount:t,placeholder:n,animate:r});return{display:n.display,boxSizing:"border-box",width:a.width,height:a.height,marginTop:a.margin.top,marginRight:a.margin.right,marginBottom:a.margin.bottom,marginLeft:a.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:"none"!==r?is.placeholder:null}};var vu=d.a.memo((function(e){var t=Object(u.useRef)(null),n=_i((function(){t.current&&(clearTimeout(t.current),t.current=null)}),[]),r=e.animate,a=e.onTransitionEnd,i=e.onClose,o=e.contextId,c=Object(u.useState)("open"===e.animate),s=c[0],l=c[1];Object(u.useEffect)((function(){return s?"open"!==r?(n(),l(!1),fu):t.current?fu:(t.current=setTimeout((function(){t.current=null,l(!1)})),n):fu}),[r,s,n]);var p=_i((function(e){"height"===e.propertyName&&(a(),"close"===r&&i())}),[r,i,a]),f=gu({isAnimatingOpenOnMount:s,animate:e.animate,placeholder:e.placeholder});return d.a.createElement(e.placeholder.tagName,{style:f,"data-rbd-placeholder-context-id":o,onTransitionEnd:p,ref:e.innerRef})})),mu=d.a.createContext(null);var bu=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={isVisible:Boolean(t.props.on),data:t.props.on,animate:t.props.shouldAnimate&&t.props.on?"open":"none"},t.onClose=function(){"close"===t.state.animate&&t.setState({isVisible:!1})},t}return Object(Pi.a)(t,e),t.getDerivedStateFromProps=function(e,t){return e.shouldAnimate?e.on?{isVisible:!0,data:e.on,animate:"open"}:t.isVisible?{isVisible:!0,data:t.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:Boolean(e.on),data:e.on,animate:"none"}},t.prototype.render=function(){if(!this.state.isVisible)return null;var e={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(e)},t}(d.a.PureComponent),yu=5e3,xu=4500,Ou=function(e,t){return t?is.drop(t.duration):e?is.snap:is.fluid},wu=function(e,t){return e?t?ns.drop:ns.combining:null};function Cu(e){return"DRAGGING"===e.type?function(e){var t=e.dimension.client,n=e.offset,r=e.combineWith,a=e.dropping,i=Boolean(r),o=function(e){return null!=e.forceShouldAnimate?e.forceShouldAnimate:"SNAP"===e.mode}(e),c=Boolean(a),s=c?ss(n,i):cs(n);return{position:"fixed",top:t.marginBox.top,left:t.marginBox.left,boxSizing:"border-box",width:t.borderBox.width,height:t.borderBox.height,transition:Ou(o,a),transform:s,opacity:wu(i,c),zIndex:c?xu:yu,pointerEvents:"none"}}(e):{transform:cs((t=e).offset),transition:t.shouldAnimateDisplacement?null:"none"};var t}function ku(e){var t=xl("draggable"),n=e.descriptor,r=e.registry,a=e.getDraggableRef,i=e.canDragInteractiveElements,o=e.shouldRespectForcePress,c=e.isEnabled,s=Ai((function(){return{canDragInteractiveElements:i,shouldRespectForcePress:o,isEnabled:c}}),[i,c,o]),l=_i((function(e){var t=a();return t||eo(!1),function(e,t,n){void 0===n&&(n=uo);var r=window.getComputedStyle(t),a=t.getBoundingClientRect(),i=Ui(a,r),o=Hi(i,n);return{descriptor:e,placeholder:{client:i,tagName:t.tagName.toLowerCase(),display:r.display},displaceBy:{x:i.marginBox.width,y:i.marginBox.height},client:i,page:o}}(n,t,e)}),[n,a]),d=Ai((function(){return{uniqueId:t,descriptor:n,options:s,getDimension:l}}),[n,l,s,t]),p=Object(u.useRef)(d),f=Object(u.useRef)(!0);cl((function(){return r.draggable.register(p.current),function(){return r.draggable.unregister(p.current)}}),[r.draggable]),cl((function(){if(f.current)f.current=!1;else{var e=p.current;p.current=d,r.draggable.update(d,e)}}),[d,r.draggable])}function ju(e,t,n){Cl()}function Eu(e){e.preventDefault()}var Su=function(e,t){return e===t},Tu=function(e){var t=e.combine,n=e.destination;return n?n.droppableId:t?t.droppableId:null};function Iu(e){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}var Pu={mapped:{type:"SECONDARY",offset:uo,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:Iu(null)}};var Du={dropAnimationFinished:es},Nu=Object(Z.b)((function(){var e=function(){var e=Ki((function(e,t){return{x:e,y:t}})),t=Ki((function(e,t,n,r,a){return{isDragging:!0,isClone:t,isDropAnimating:Boolean(a),dropAnimation:a,mode:e,draggingOver:n,combineWith:r,combineTargetFor:null}})),n=Ki((function(e,n,r,a,i,o,c){return{mapped:{type:"DRAGGING",dropping:null,draggingOver:i,combineWith:o,mode:n,offset:e,dimension:r,forceShouldAnimate:c,snapshot:t(n,a,i,o,null)}}}));return function(r,a){if(r.isDragging){if(r.critical.draggable.id!==a.draggableId)return null;var i=r.current.client.offset,o=r.dimensions.draggables[a.draggableId],c=yc(r.impact),s=(u=r.impact).at&&"COMBINE"===u.at.type?u.at.combine.draggableId:null,l=r.forceShouldAnimate;return n(e(i.x,i.y),r.movementMode,o,a.isClone,c,s,l)}var u;if("DROP_ANIMATING"===r.phase){var d=r.completed;if(d.result.draggableId!==a.draggableId)return null;var p=a.isClone,f=r.dimensions.draggables[a.draggableId],h=d.result,g=h.mode,v=Tu(h),m=function(e){return e.combine?e.combine.draggableId:null}(h),b={duration:r.dropDuration,curve:ts,moveTo:r.newHomeClientOffset,opacity:m?ns.drop:null,scale:m?rs.drop:null};return{mapped:{type:"DRAGGING",offset:r.newHomeClientOffset,dimension:f,dropping:b,draggingOver:v,combineWith:m,mode:g,forceShouldAnimate:null,snapshot:t(g,p,v,m,b)}}}return null}}(),t=function(){var e=Ki((function(e,t){return{x:e,y:t}})),t=Ki(Iu),n=Ki((function(e,n,r){return void 0===n&&(n=null),{mapped:{type:"SECONDARY",offset:e,combineTargetFor:n,shouldAnimateDisplacement:r,snapshot:t(n)}}})),r=function(e){return e?n(uo,e,!0):null},a=function(t,a,i,o){var c=i.displaced.visible[t],s=Boolean(o.inVirtualList&&o.effected[t]),l=Mo(i),u=l&&l.draggableId===t?a:null;if(!c){if(!s)return r(u);if(i.displaced.invisible[t])return null;var d=go(o.displacedBy.point),p=e(d.x,d.y);return n(p,u,!0)}if(s)return r(u);var f=i.displacedBy.point,h=e(f.x,f.y);return n(h,u,c.shouldAnimate)};return function(e,t){if(e.isDragging)return e.critical.draggable.id===t.draggableId?null:a(t.draggableId,e.critical.draggable.id,e.impact,e.afterCritical);if("DROP_ANIMATING"===e.phase){var n=e.completed;return n.result.draggableId===t.draggableId?null:a(t.draggableId,n.result.draggableId,n.impact,n.afterCritical)}return null}}();return function(n,r){return e(n,r)||t(n,r)||Pu}}),Du,null,{context:gl,pure:!0,areStatePropsEqual:Su})((function(e){var t=Object(u.useRef)(null),n=_i((function(e){t.current=e}),[]),r=_i((function(){return t.current}),[]),a=du(Ol),i=a.contextId,o=a.dragHandleUsageInstructionsId,c=a.registry,s=du(mu),l=s.type,d=s.droppableId,p=Ai((function(){return{id:e.draggableId,index:e.index,type:l,droppableId:d}}),[e.draggableId,e.index,l,d]),f=e.children,h=e.draggableId,g=e.isEnabled,v=e.shouldRespectForcePress,m=e.canDragInteractiveElements,b=e.isClone,y=e.mapped,x=e.dropAnimationFinished;ju(),wl(),b||ku(Ai((function(){return{descriptor:p,registry:c,getDraggableRef:r,canDragInteractiveElements:m,shouldRespectForcePress:v,isEnabled:g}}),[p,c,r,m,v,g]));var O=Ai((function(){return g?{tabIndex:0,role:"button","aria-describedby":o,"data-rbd-drag-handle-draggable-id":h,"data-rbd-drag-handle-context-id":i,draggable:!1,onDragStart:Eu}:null}),[i,o,h,g]),w=_i((function(e){"DRAGGING"===y.type&&y.dropping&&"transform"===e.propertyName&&x()}),[x,y]),C=Ai((function(){var e=Cu(y),t="DRAGGING"===y.type&&y.dropping?w:null;return{innerRef:n,draggableProps:{"data-rbd-draggable-context-id":i,"data-rbd-draggable-id":h,style:e,onTransitionEnd:t},dragHandleProps:O}}),[i,O,h,y,w,n]),k=Ai((function(){return{draggableId:p.id,type:p.type,source:{index:p.index,droppableId:p.droppableId}}}),[p.droppableId,p.id,p.index,p.type]);return f(C,y.snapshot,k)}));function Au(e){return du(mu).isUsingCloneFor!==e.draggableId||e.isClone?d.a.createElement(Nu,e):null}function _u(e){var t="boolean"!==typeof e.isDragDisabled||!e.isDragDisabled,n=Boolean(e.disableInteractiveElementBlocking),r=Boolean(e.shouldRespectForcePress);return d.a.createElement(Au,Object(i.a)({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:n,shouldRespectForcePress:r}))}var Mu=function(e,t){return e===t.droppable.type},Ru=function(e,t){return t.draggables[e.draggable.id]},Fu={updateViewportMaxScroll:function(e){return{type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e}}};var Bu={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:function(){return document.body||eo(!1),document.body}},Lu=Object(Z.b)((function(){var e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},t=Object(i.a)({},e,{shouldAnimatePlaceholder:!1}),n=Ki((function(e){return{draggableId:e.id,type:e.type,source:{index:e.index,droppableId:e.droppableId}}})),r=Ki((function(r,a,i,o,c,s){var l=c.descriptor.id;if(c.descriptor.droppableId===r){var u=s?{render:s,dragging:n(c.descriptor)}:null,d={isDraggingOver:i,draggingOverWith:i?l:null,draggingFromThisWith:l,isUsingPlaceholder:!0};return{placeholder:c.placeholder,shouldAnimatePlaceholder:!1,snapshot:d,useClone:u}}if(!a)return t;if(!o)return e;var p={isDraggingOver:i,draggingOverWith:l,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:c.placeholder,shouldAnimatePlaceholder:!0,snapshot:p,useClone:null}}));return function(n,a){var i=a.droppableId,o=a.type,c=!a.isDropDisabled,s=a.renderClone;if(n.isDragging){var l=n.critical;if(!Mu(o,l))return t;var u=Ru(l,n.dimensions),d=yc(n.impact)===i;return r(i,c,d,d,u,s)}if("DROP_ANIMATING"===n.phase){var p=n.completed;if(!Mu(o,p.critical))return t;var f=Ru(p.critical,n.dimensions);return r(i,c,Tu(p.result)===i,yc(p.impact)===i,f,s)}if("IDLE"===n.phase&&n.completed&&!n.shouldFlush){var h=n.completed;if(!Mu(o,h.critical))return t;var g=yc(h.impact)===i,v=Boolean(h.impact.at&&"COMBINE"===h.impact.at.type),m=h.critical.droppable.id===i;return g?v?e:t:m?e:t}return t}}),Fu,null,{context:gl,pure:!0,areStatePropsEqual:Su})((function(e){var t=Object(u.useContext)(Ol);t||eo(!1);var n=t.contextId,r=t.isMovementAllowed,a=Object(u.useRef)(null),i=Object(u.useRef)(null),o=e.children,c=e.droppableId,s=e.type,l=e.mode,p=e.direction,f=e.ignoreContainerClipping,h=e.isDropDisabled,g=e.isCombineEnabled,v=e.snapshot,m=e.useClone,b=e.updateViewportMaxScroll,y=e.getContainerForClone,x=_i((function(){return a.current}),[]),O=_i((function(e){a.current=e}),[]),w=(_i((function(){return i.current}),[]),_i((function(e){i.current=e}),[]));Cl();var C=_i((function(){r()&&b({maxScroll:Ts()})}),[r,b]);!function(e){var t=Object(u.useRef)(null),n=du(Ol),r=xl("droppable"),a=n.registry,i=n.marshal,o=jl(e),c=Ai((function(){return{id:e.droppableId,type:e.type,mode:e.mode}}),[e.droppableId,e.mode,e.type]),s=Object(u.useRef)(c),l=Ai((function(){return Ki((function(e,n){t.current||eo(!1);var r={x:e,y:n};i.updateDroppableScroll(c.id,r)}))}),[c.id,i]),d=_i((function(){var e=t.current;return e&&e.env.closestScrollable?iu(e.env.closestScrollable):uo}),[]),p=_i((function(){var e=d();l(e.x,e.y)}),[d,l]),f=Ai((function(){return Xi(p)}),[p]),h=_i((function(){var e=t.current,n=pu(e);e&&n||eo(!1),e.scrollOptions.shouldPublishImmediately?p():f()}),[f,p]),g=_i((function(e,r){t.current&&eo(!1);var a=o.current,i=a.getDroppableRef();i||eo(!1);var s=ou(i),l={ref:i,descriptor:c,env:s,scrollOptions:r};t.current=l;var u=cu({ref:i,descriptor:c,env:s,windowScroll:e,direction:a.direction,isDropDisabled:a.isDropDisabled,isCombineEnabled:a.isCombineEnabled,shouldClipSubject:!a.ignoreContainerClipping}),d=s.closestScrollable;return d&&(d.setAttribute(il.contextId,n.contextId),d.addEventListener("scroll",h,uu(l.scrollOptions))),u}),[n.contextId,c,h,o]),v=_i((function(){var e=t.current,n=pu(e);return e&&n||eo(!1),iu(n)}),[]),m=_i((function(){var e=t.current;e||eo(!1);var n=pu(e);t.current=null,n&&(f.cancel(),n.removeAttribute(il.contextId),n.removeEventListener("scroll",h,uu(e.scrollOptions)))}),[h,f]),b=_i((function(e){var n=t.current;n||eo(!1);var r=pu(n);r||eo(!1),r.scrollTop+=e.y,r.scrollLeft+=e.x}),[]),y=Ai((function(){return{getDimensionAndWatchScroll:g,getScrollWhileDragging:v,dragStopped:m,scroll:b}}),[m,g,v,b]),x=Ai((function(){return{uniqueId:r,descriptor:c,callbacks:y}}),[y,c,r]);cl((function(){return s.current=x.descriptor,a.droppable.register(x),function(){t.current&&m(),a.droppable.unregister(x)}}),[y,c,m,x,i,a.droppable]),cl((function(){t.current&&i.updateDroppableIsEnabled(s.current.id,!e.isDropDisabled)}),[e.isDropDisabled,i]),cl((function(){t.current&&i.updateDroppableIsCombineEnabled(s.current.id,e.isCombineEnabled)}),[e.isCombineEnabled,i])}({droppableId:c,type:s,mode:l,direction:p,isDropDisabled:h,isCombineEnabled:g,ignoreContainerClipping:f,getDroppableRef:x});var k=d.a.createElement(bu,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},(function(e){var t=e.onClose,r=e.data,a=e.animate;return d.a.createElement(vu,{placeholder:r,onClose:t,innerRef:w,animate:a,contextId:n,onTransitionEnd:C})})),j=Ai((function(){return{innerRef:O,placeholder:k,droppableProps:{"data-rbd-droppable-id":c,"data-rbd-droppable-context-id":n}}}),[n,c,k,O]),E=m?m.dragging.draggableId:null,S=Ai((function(){return{droppableId:c,type:s,isUsingCloneFor:E}}),[c,E,s]);return d.a.createElement(mu.Provider,{value:S},o(j,v),function(){if(!m)return null;var e=m.dragging,t=m.render,n=d.a.createElement(Au,{draggableId:e.draggableId,index:e.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(function(n,r){return t(n,r,e)}));return mt.a.createPortal(n,y())}())}));Lu.defaultProps=Bu;var Gu=n(198),qu=n(161),zu=(n(273),n(168)),Hu=n(183),Uu=function(e){Object(Y.a)(n,e);var t=Object(W.a)(n);function n(e){var r;return Object(H.a)(this,n),(r=t.call(this,e)).calcuRecommendScrollLocation=function(e){var t=r.props,n=t.columnsName,a=t.sequence;if("empty"!==a[e].spec){var i=a[e].oriBlock,o=[],c=i[0].value[0].start,s=i[0].value[0].end;for(var l in i)o.push(i[l].field);var u=n.indexOf(o[Math.floor(o.length/2)]),d=r.scale(c)+30,p=r.scale(s)-r.scale(c),f=15+u*r.oneYLength,h=r.oneYLength*o.length-30,g=document.getElementById("time-seires-view"),v=window.getComputedStyle(g,null).getPropertyValue("height"),m=parseFloat(v.substring(0,v.length-2)),b=window.getComputedStyle(g,null).getPropertyValue("width"),y=parseFloat(b.substring(0,b.length-2));g.scrollTop=f+h/2-m/2,g.scrollLeft=d+p/2-y/2}},r.deleteInsight=function(e,t){1!==r.props.sequence.length&&(r.props.removeCard(t),e.stopPropagation(),setTimeout((function(){r.props.deleteSequenceCard(t)}),100))},r.endEditing=function(){r.scriptRef.current.innerText;r.changeCardIndexAndConfigure()},r.clickInsight=function(){r.changeCardIndexAndConfigure(),r.findRecommendList()},r.findRecommendList=function(){var e=r.state.isRequest,t=r.props,n=t.index,a=t.sequence;t.currentPopInsightList,t.selectedCardIndex;if(!e){var i=r.props,o=i.timeColumnName,c=i.file_url,s=i.task;if(0!==n&&void 0!==a[n].recommendList&&0===a[n].recommendList.length){if("empty"===a[n-1].spec)return;for(var l=[],u=0;u<n;u++){for(var d=[],p={},f=0;f<a[u].oriBlock.length;f++)d.push(a[u].oriBlock[f].field);var h=a[u].oriBlock[0].value[0];p.location=[h.start,h.end],p.chosen_insight=a[u].type,p.fields=d,l.push(p)}var g={};if("empty"!==a[n].spec){for(var v=[],m=0;m<a[n].oriBlock.length;m++)v.push(a[n].oriBlock[m].field);var b=a[n].oriBlock[0].value[0];"similarity"!==a[n].type&&"seasonality"!==a[n].type&&"frequent_pattern"!==a[n].type||(b=a[n].spec.fact.focus[0].scope),g.location=[b.start,b.end],g.chosen_insight=a[n].type,g.fields=v}r.setState({isRequest:!0}),Object(Ka.b)(c,o,s,l,g).then((function(e){r.props.addRecommendList(n,e.data.recommendList),r.setState({isRequest:!1})})).catch((function(e){console.log("\u5931\u8d25",e),r.setState({isRequest:!1}),rt.b.error({content:"Sorry, no recommendations found!",duration:1,style:{marginTop:"35vh"}})}))}}},r.findInsightsOfUnderCard=function(e){var t=r.state.isRequestInisght,n=r.props,a=n.sequence,i=n.file_url,o=n.timeColumnName,c=n.segmentInsightsStorage;if(!t){var s=a[e].oriBlock,l=[],u=[s[0].value[0].start,s[0].value[0].end];for(var d in console.log(a[e]),"similarity"!==a[e].type&&"seasonality"!==a[e].type&&"frequent_pattern"!==a[e].type||(u=a[e].spec.fact.focus[0].scope),s)l.push(s[d].field);var p=l.sort().toString()+"-"+u.sort().toString();if(r.props.setCurrentPopInsights([]),c.hasOwnProperty(p)){var f=[],h=[];for(var g in c[p])h.push(c[p][g].type);h.includes(a[e].type)?r.props.setCurrentPopInsights(c[p]):(f=[{spec:a[e].spec,type:a[e].type,action:a[e].hasOwnProperty("action")?a[e].action:-1}].concat(c[p]),r.props.addPopInsights(p,f),r.props.setCurrentPopInsights(f))}else r.setState({isRequestInisght:!0}),Object(Ka.a)(i,l,o,u).then((function(t){r.setState({isRequestInisght:!1});var n=[],i=[];for(var o in t.data.insights)i.push(t.data.insights[o].type);i.includes(a[e].type)?(n=t.data.insights,r.props.setCurrentPopInsights(n)):(n=[{spec:a[e].spec,type:a[e].type,action:a[e].hasOwnProperty("action")?a[e].action:-1}].concat(t.data.insights),r.props.setCurrentPopInsights(n)),r.props.addPopInsights(p,n)})).catch((function(t){console.log("\u5931\u8d25",t),r.setState({isRequestInisght:!1});var n=[{spec:a[e].spec,type:a[e].type,action:a[e].hasOwnProperty("action")?a[e].action:-1}];r.props.addPopInsights(p,n),r.props.setCurrentPopInsights(n)}))}},r.changeCardIndexAndConfigure=function(){var e=r.props,t=e.index,n=(e.dataRange,e.sequence);r.props.setSelectedCardIndex(t),"empty"!==n[t].spec&&r.findInsightsOfUnderCard(t),r.calcuRecommendScrollLocation(t)},r.parseCaptionStyleToEmpty=function(){r.scriptContent&&(r.scriptContent.innerHTML="")},r.scriptRef=d.a.createRef(),r.state={fact:r.props.insightFact,sentence:"",requestRecommend:!1,isRequest:!1,isRequestInisght:!1},r}return Object(U.a)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.insightSpec,n=e.factType,r=e.index,a=e.sequence,i=e.currentLocale,o=e.captionId,c=e.timeValue;if(this.visNode){var s=this.visNode.children[0];if(s){var l=this.props.factType,u=160/Ua.a[l].width,d=100/Ua.a[l].height;s.style.transform="scaleX(".concat(u,")scaleY(").concat(d,")")}}if("empty"!==t&&void 0!==t){var p=Object(zu.a)(t.fact,a[r].oriBlock,n,i,o,c,a[r].action);this.parseCaptionStyle(t.fact,p,c)}var f=this.props,h=f.dataRange,g=f.columnsName,v=(f.chartScale,f.chartMargin),m=Math.max(2*h[1],1e3);this.scale=Xe.t().domain(h).range([60,m-v]),this.oneYLength=(120*g.length-20)/g.length}},{key:"componentDidUpdate",value:function(){if(this.visNode){var e=this.visNode.children[0];if(e){var t=this.props.factType,n=160/Ua.a[t].width,r=100/Ua.a[t].height;e.style.transform="scaleX(".concat(n,")scaleY(").concat(r,")")}}}},{key:"shouldComponentUpdate",value:function(e){var t=this.props,n=t.insightSpec;if(t.isSelected!==e.isSelected)return!0;var r=e.insightSpec.fact;return!Wa.a.isEqual(n.fact,r)}},{key:"parseCaptionStyle",value:function(e,t,n){var r=this.props,a=r.factType,i=r.index,o=r.sequence,c=r.currentLocale;if(this.scriptContent&&void 0!==n){var s="",l="",u=o[i].oriBlock[0].value[0];l="similarity"===a||"frequent_pattern"===a||"seasonality"===a?n[u.start]+"".concat("en-US"===c?" and ":"\u5230")+n[u.end]:e.subspace.length>0?n[e.subspace[0]]+"".concat("en-US"===c?" and ":"\u5230")+n[e.subspace[1]]:n[0]+"".concat("en-US"===c?" and ":"\u5230")+n[n.length-1],-1===t.indexOf("timeline-highlight")&&(s=Object(Hu.a)(t,l),s=Object(Hu.a)(s,l.replace("and","to"))),this.scriptContent.innerHTML=s}}},{key:"render",value:function(){var e=this,t=this.props,n=t.insightSpec,r=t.factType,a=t.index,i=t.isSelected,o=t.currentLocale,c=t.captionId,s=t.timeValue,l=t.sequence,u="";return"empty"!==n&&void 0!==n&&(u=Object(zu.a)(n.fact,l[a].oriBlock,r,o,c,s,l[a].action),n.chart.id="senquence-"+a.toString(),n.chart.width=Ua.a[r].width,n.chart.height=Ua.a[r].height,n.chart.showTooltip=!1),d.a.createElement("div",{className:"insight-card",onClick:this.clickInsight,style:{position:"relative",zIndex:0,boxShadow:i?"rgb(244, 158, 40) 0px 0px 0px 3px":"rgb(0, 0 ,0) 0px 0px 0px 0px"}},d.a.createElement(Be.a,{style:{fontSize:"14px"},className:"close-icon",onClick:function(t){return e.deleteInsight(t,a)}}),d.a.createElement("div",{className:"insight-preview",ref:function(t){return e.visNode=t},style:"multivariate_outlier"===r?{overflowY:"scroll",overflowX:"hidden"}:null},"empty"===n?null:d.a.createElement(Ha.a,{spec:n})),d.a.createElement(L.a,{title:u,style:{wordBreak:"break-all"}},d.a.createElement("div",{style:{zIndex:10},ref:function(t){return e.scriptContent=t},className:"script-preview",suppressContentEditableWarning:!0},"empty"!==n&&void 0!==n?this.parseCaptionStyle(n.fact,u,s):this.parseCaptionStyleToEmpty())))}}]),n}(u.Component),Vu=Object(Z.b)((function(e){return{chartScale:Object(Q.b)(e),chartMargin:Object(Q.a)(e),timeValue:Object(Q.B)(e),columnsName:Object(Q.c)(e),sequence:Object(Q.y)(e),currentLocale:Object(qu.a)(e),task:Object(Q.z)(e),currentPopInsightList:Object(Q.h)(e),dataRange:Object(Q.i)(e),segmentInsightsStorage:Object(Q.v)(e),timeColumnName:Object(Q.A)(e),file_url:Object(nt.e)(e)}}),(function(e){return{addRecommendList:function(t,n){return e(et.c(t,n))},setCurrentPopInsights:function(t){return e(et.m(t))},addPopInsights:function(t,n){return e(et.b(t,n))},removeCard:function(t){return e(et.g(t))},setSelectedCardIndex:function(t){return e(et.u(t))},setConfigureInsightColumns:function(t){return e(et.j(t))},setConfigureInsightTime:function(t,n){return e(et.k(t,n))},setConfigureInsightType:function(t){return e(et.l(t))},setConfigureInsightBreakdown:function(t){return e(et.i(t))}}}))(Uu);Yu("outstanding"),Yu("frequent_pattern"),Yu("autocorrelation"),Yu("multivariate_outlier"),Yu("multivariate_distribution"),Yu("univariate_outlier");function Yu(e){var t=n(44)("./"+e+".json");return _.cloneDeep(t)}var Wu=function(e){Object(Y.a)(n,e);var t=Object(W.a)(n);function n(e){var r;return Object(H.a)(this,n),(r=t.call(this,e)).findRecommendList=function(e){var t=r.props,n=t.sequence,a=t.timeColumnName,i=t.file_url,o=t.task;if(e>=n.length&&(e=n.length),n[e].hasOwnProperty("recommendList")&&0!==e&&void 0!==n[e].recommendList&&0===n[e].recommendList.length){if("empty"===n[e-1].spec)return;for(var c=[],s=0;s<e;s++){for(var l=[],u={},d=0;d<n[s].oriBlock.length;d++)l.push(n[s].oriBlock[d].field);var p=n[s].oriBlock[0].value[0];u.location=[p.start,p.end],u.chosen_insight=n[s].type,u.fields=l,c.push(u)}var f={};if("empty"!==n[e].spec){for(var h=[],g=0;g<n[e].oriBlock.length;g++)h.push(n[e].oriBlock[g].field);var v=n[e].oriBlock[0].value[0];"similarity"!==n[e].type&&"seasonality"!==n[e].type&&"frequent_pattern"!==n[e].type||(v=n[e].spec.fact.focus[0].scope),f.location=[v.start,v.end],f.chosen_insight=n[e].type,f.fields=h}Object(Ka.b)(i,a,o,c,f).then((function(t){r.props.addRecommendList(e,t.data.recommendList),r.setState({isRequest:!1}),console.log(t.data.recommendList)})).catch((function(e){console.log("\u5931\u8d25",e),r.setState({isRequest:!1})}))}},r.calcuRecommendScrollLocation=function(e){var t=r.props,n=t.columnsName,a=t.sequence;if("empty"!==a[e].spec){var i=a[e].oriBlock,o=[],c=i[0].value[0].start,s=i[0].value[0].end;for(var l in i)o.push(i[l].field);var u=n.indexOf(o[Math.floor(o.length/2)]),d=r.scale(c)+30,p=r.scale(s)-r.scale(c),f=15+u*r.oneYLength,h=r.oneYLength*o.length-30,g=document.getElementById("time-seires-view"),v=window.getComputedStyle(g,null).getPropertyValue("height"),m=parseFloat(v.substring(0,v.length-2)),b=window.getComputedStyle(g,null).getPropertyValue("width"),y=parseFloat(b.substring(0,b.length-2));g.scrollTop=f+h/2-m/2,g.scrollLeft=d+p/2-y/2}},r.deleteSequenceCard=function(e){var t=r.props.sequence;e===t.length?(r.props.setSelectedCardIndex(e-1),r.calcuRecommendScrollLocation(e-1)):(r.props.setSelectedCardIndex(e),setTimeout((function(){r.calcuRecommendScrollLocation(e)}),1e3)),r.findRecommendList(e)},r.onDragStart=function(e){r.setState({dragId:e.draggableId})},r.onDragEnd=function(e){var t=r.props.sequence;e.destination&&parseInt(r.state.dragId)!==e.destination.index&&(r.props.changeCardLocation(parseInt(r.state.dragId),e.destination.index),r.props.setSelectedCardIndex(e.destination.index),"empty"!==t[e.destination.index].spec&&(r.props.addRecommendList(e.destination.index,[]),r.props.addRecommendList(parseInt(r.state.dragId),[]),r.findInsightsOfUnderCard(e.destination.index),setTimeout((function(){r.findRecommendList(e.destination.index)}),500)),setTimeout((function(){r.calcuRecommendScrollLocation(e.destination.index)}),300))},r.findInsightsOfUnderCard=function(e){var t=r.props,n=t.sequence,a=t.file_url,i=t.timeColumnName,o=t.segmentInsightsStorage;if(void 0!==n[e]){console.log(n[e]);var c=n[e].oriBlock,s=[],l=[c[0].value[0].start,c[0].value[0].end];for(var u in"similarity"!==n[e].type&&"seasonality"!==n[e].type&&"frequent_pattern"!==n[e].type||(l=n[e].spec.fact.focus[0].scope),c)s.push(c[u].field);var d=s.sort().toString()+"-"+l.sort().toString();if(o.hasOwnProperty(d)){var p=[],f=[];for(var h in o[d])f.push(o[d][h].type);f.includes(n[e].type)?r.props.setCurrentPopInsights(o[d]):(p=[{spec:n[e].spec,type:n[e].type,action:n[e].hasOwnProperty("action")?n[e].action:-1}].concat(o[d]),r.props.addPopInsights(d,p),r.props.setCurrentPopInsights(p))}else Object(Ka.a)(a,s,i,l).then((function(t){var a=[],i=[];for(var o in t.data.insights)i.push(t.data.insights[o].type);i.includes(n[e].type)?(a=t.data.insights,r.props.setCurrentPopInsights(a)):(a=[{spec:n[e].spec,type:n[e].type,action:n[e].hasOwnProperty("action")?n[e].action:-1}].concat(t.data.insights),r.props.setCurrentPopInsights(a)),r.props.addPopInsights(d,a)})).catch((function(t){console.log("\u5931\u8d25",t);var a=[{spec:n[e].spec,type:n[e].type,action:n[e].hasOwnProperty("action")?n[e].action:-1}];r.props.addPopInsights(d,a),r.props.setCurrentPopInsights(a)}))}},r.addEmptyInsight=function(e){r.props.addEmptyCard(e),r.props.setSelectedCardIndex(e),setTimeout((function(){r.findRecommendList(e)}),2e3)},r.state={dragId:0},r.deleteSequenceCard=r.deleteSequenceCard.bind(Object(V.a)(r)),r}return Object(U.a)(n,[{key:"componentDidMount",value:function(){this.props.sequence.length>0&&(this.props.setSelectedCardIndex(0),this.findInsightsOfUnderCard(0));var e=this.props,t=e.dataRange,n=e.columnsName,r=(e.chartScale,e.chartMargin),a=Math.max(2*t[1],1e3);this.scale=Xe.t().domain(t).range([60,a-r]),this.oneYLength=(120*n.length-20)/n.length,this.calcuRecommendScrollLocation(0)}},{key:"render",value:function(){var e=this,t=this.props,n=t.connectDropTarget,r=t.sequence,a=t.selectedCardIndex;return n(d.a.createElement("div",{style:{position:"relative",display:"flex",flexDirection:"row",height:"100%",width:"100%"}},d.a.createElement(Zl,{onDragStart:this.onDragStart,onDragEnd:this.onDragEnd},d.a.createElement(Lu,{droppableId:"sequenceline",direction:"horizontal"},(function(t,n){return d.a.createElement("div",Object.assign({ref:t.innerRef},t.droppableProps,{style:(n.isDraggingOver,{display:"flex",overflowX:"scroll",overflowY:"hidden"})}),r.map(function(e,t){var n=this;if(e.spec)return d.a.createElement(_u,{key:t,index:t,draggableId:t.toString(),isDragDisabled:!1},(function(i,o){return d.a.createElement("div",Object.assign({ref:i.innerRef},i.draggableProps,i.dragHandleProps),d.a.createElement(Vu,Object.assign({deleteSequenceCard:n.deleteSequenceCard,key:t,index:t,insightSpec:e.spec,captionId:e.captionId,factType:e.type,isSelected:a===t},n.props)),d.a.createElement("div",{className:"add-btn",style:{display:t+1===r.length?"none":"flex"}},d.a.createElement("div",{className:"add-next-insight",onClick:r.length<15?function(){return n.addEmptyInsight(t+1)}:null})))}))}.bind(e)),t.placeholder)}))),d.a.createElement("div",{className:"final-add-btn",style:{display:r.length?"flex":"none"}},d.a.createElement("div",{className:"add-next-insight",onClick:r.length<15?function(){return e.addEmptyInsight(r.length)}:null}))))}}]),n}(u.Component),Ku=Object(Gu.DropTarget)("card",{hover:function(e,t,n){t.getClientOffset()},drop:function(e,t,n){if(!t.didDrop())return n.props.setHoverIndex(-1),t.getClientOffset()}},(function(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.isOver(),canDrop:t.canDrop()}}))(Wu),Xu=Object(Z.b)((function(e){return{chartScale:Object(Q.b)(e),chartMargin:Object(Q.a)(e),columnsName:Object(Q.c)(e),sequence:Object(Q.y)(e),selectedCardIndex:Object(Q.w)(e),segmentInsightsStorage:Object(Q.v)(e),dataRange:Object(Q.i)(e),timeColumnName:Object(Q.A)(e),file_url:Object(nt.e)(e),task:Object(Q.z)(e)}}),(function(e){return{addRecommendList:function(t,n){return e(et.c(t,n))},setPopInsightCardState:function(t){return e(et.o(t))},setCurrentPopInsights:function(t){return e(et.m(t))},addPopInsights:function(t,n){return e(et.b(t,n))},addEmptyCard:function(t){return e(et.a(t))},changeCardLocation:function(t,n){return e(et.e(t,n))},setSelectedCardIndex:function(t){return e(et.u(t))},setConfigureInsightColumns:function(t){return e(et.j(t))},setConfigureInsightTime:function(t,n){return e(et.k(t,n))},setConfigureInsightType:function(t){return e(et.l(t))},setConfigureInsightBreakdown:function(t){return e(et.i(t))}}}))(Ku),Ju=Object(Z.b)((function(e){return{isPopInsightCard:Object(Q.l)(e),tooltipContainer:Object(Q.C)(e)}}),(function(e){return{setPopInsightCardState:function(t){return e(et.o(t))}}}))(Ha.a),$u=function(e){Object(Y.a)(r,e);var t=Object(W.a)(r);function r(e){var a;return Object(H.a)(this,r),(a=t.call(this,e)).componentDidMount=function(){var e=document.querySelector(".ant-slider-track");console.log(e);var t=null,n=Object(V.a)(a);e.addEventListener("mouseover",(function(){t=setTimeout((function(){n.props.setPopInsightCardState(!0),n.findInsightsOfUnderCard()}),3e3)})),e.addEventListener("mouseout",(function(){clearTimeout(t)}))},a.componentWillMount=function(){var e=a.props,t=e.dataRange,n=e.columnsName,r=(e.chartScale,e.chartMargin),i=Math.max(2*t[1],1e3);a.scale=Xe.t().domain(t).range([60,i-r]),a.reverseScale=Xe.t().domain([60,i-r]).range(t),a.oneYLength=(120*n.length-20)/n.length},a.componentWillReceiveProps=function(e){document.addEventListener("keydown",a.handleHotkey)},a.componentWillUnmount=function(){document.removeEventListener("keydown",a.handleHotkey)},a.initChart=function(){var e=a.props,t=e.originFileUrl,r=e.originSchema,i=e.originDataRange,o=e.originColumnName,c=a.props,s=c.file_url,l=c.schema,u=c.timeColumnName,d=c.columnsName,p=c.dataRange;if("Start"===c.rightBtnState){var f=n(45),h=_.cloneDeep(f);if(h.chart.id="origin",0===i.length)return{};var g=i[1];g<1200?g=1200:g>2e3&&(g=2e3),h.chart.width=g,h.chart.height=360,h.chart.showTooltip=!1,h.fact.breakdown[0].field=u;var v=[];return o.map((function(e,t){v.push({field:e,aggregate:"avg"})})),h.fact.measure=v,h.data.url=t,h.data.schema=r,h}var m=n(45),b=_.cloneDeep(m);if(b.chart.id="origin",0===p.length)return{};var y=p[1];y<1200?y=1200:y>2e3&&(y=2e3),b.chart.width=y,b.chart.height=360,b.chart.showTooltip=!1,b.fact.breakdown[0].field=u;var x=[];return d.map((function(e,t){x.push({field:e,aggregate:"avg"})})),b.fact.measure=x,b.data.url=s,b.data.schema=l,b},a.calcuRecommendCardLocation=function(e){var t=a.props,n=t.columnsName;t.setConfigureInsightTime;if(!(!e.length>0)){var r=[],i=e[0].value[0].start,o=e[0].value[0].end;for(var c in e)r.push(e[c].field);return r.length>1?{top:15,height:a.oneYLength*r.length-30,start:i,end:o}:{top:15+n.indexOf(r[0])*a.oneYLength,height:a.oneYLength-30,start:i,end:o}}},a.calcuUnderCardDivLocation=function(){var e=a.props.columnsName,t=a.props,n=t.configureInsightColumns,r=t.configureInsightTime,i=[];"selectAll"===n[0]||n.length>1?i=_.cloneDeep(e):i.push(n[0]);var o=r[0],c=r[1];return c?i.length>1?{top:15,height:a.oneYLength*i.length-30,start:o,end:c}:{top:15+e.indexOf(i[0])*a.oneYLength,height:a.oneYLength-30,start:o,end:c}:{width:0,height:0,left:0,top:0}},a.findInsightsOfUnderCard=function(){var e=a.props,t=e.sequence,n=e.segmentInsightsStorage,r=e.selectedRecommendCardIndex,i=e.selectedCardIndex;if(a.props.setCurrentPopInsights([]),-1===r){var o=t[i].oriBlock,c=[];if(void 0==o)return;var s=[o[0].value[0].start,o[0].value[0].end];for(var l in o)c.push(o[l].field);var u=c.sort().toString()+"-"+s.sort().toString();n.hasOwnProperty(u)&&a.props.setCurrentPopInsights(n[u])}else{var d=t[i].recommendList[r].block,p=[],f=[d[0].value[0].start,d[0].value[0].end];for(var h in d)p.push(d[h].field);var g=p.sort().toString()+"-"+f.sort().toString();n.hasOwnProperty(g)&&a.props.setCurrentPopInsights(n[g])}},a.changeBlockValue=function(e){a.props.setConfigureInsightTime(e[0],e[1])},a.handleHotkey=function(e){13===e.keyCode&&("Start"!==a.props.rightBtnState&&(a.props.setPopInsightCardState(!0),a.findInsightsOfUnderCard()))},a.showBlock=function(e){return 0===e.height?"hidden":"visible"},a.state={mainChart:a.initChart(),getCurrentPopinsight:!1,isDragging:!1,isClicked:!1,clickedRight:!1,loc:"none"},a}return Object(U.a)(r,[{key:"componentDidUpdate",value:function(e){if(this.props.btnState!==e.btnState){var t=this.props,n=t.dataRange,r=t.columnsName,a=(t.chartScale,t.chartMargin),i=Math.max(2*n[1],1e3);this.scale=Xe.t().domain(n).range([60,i-a]),this.reverseScale=Xe.t().domain([60,i-a]).range(n),this.oneYLength=(120*r.length-20)/r.length,this.setState({mainChart:this.initChart()})}}},{key:"componentDidMount",value:function(){this.props.setTooltipContainer("#whole-container")}},{key:"render",value:function(){var e=this,t=this.props,n=t.sequence,r=t.selectedCardIndex,a=t.rightBtnState,i=t.selectedRecommendCardIndex,o=t.intl,c=this.state.mainChart,s=this.props,l=s.dataRange,u=s.timeValue,p={};if(-1!==i&&n[r].recommendList.length>0){var f=n[r].recommendList[i].block;p=this.calcuRecommendCardLocation(f)}else-1===i&&(p=this.calcuUnderCardDivLocation());return d.a.createElement("div",{style:{height:"100%",width:"100%"}},d.a.createElement(K.a,{backend:X.HTML5Backend,options:{enableMouseEvents:!0}},d.a.createElement("div",{className:"time-analysis-page"},d.a.createElement("div",{className:"time-analysis-middle"},d.a.createElement("div",{className:"csv-information"},d.a.createElement(Si,this.props),d.a.createElement(Ii,this.props)),d.a.createElement("div",{className:"time-analysis-wrapper"},d.a.createElement("div",{className:"show-model-selection"},d.a.createElement($,this.props)),d.a.createElement("div",{className:"time-seires-view",id:"time-seires-view",onScroll:function(e){}},d.a.createElement("div",{style:{width:"100%"},className:"time-seires-view-wapper"},d.a.createElement("div",{className:"time-seires-view-div",style:{width:"100%"},id:"time-seires-view-div",ref:function(t){return e.visNode=t}},d.a.createElement("div",{className:"focus-block",style:{left:"90px",top:"".concat(p.top?p.top+1:0,"px"),width:"1230px",height:"".concat(p.height?p.height+2:0,"px"),visibility:this.showBlock(p)}},d.a.createElement(z,{className:"block-slider",range:!0,min:l[0],max:l[1],value:[p.start,p.end],tooltip:{formatter:function(e){return"".concat(u[e])}},onChange:this.changeBlockValue,disabled:!1})),0===Object.keys(c).length?null:d.a.createElement(Ju,{spec:c}),d.a.createElement(Za,{intl:o})))),d.a.createElement("div",{className:"time-sequence-view",style:{display:"block",height:"205px"},onKeyDown:this.handleHotkey},"Start"===a?null:d.a.createElement(Xu,null)))),d.a.createElement("div",{className:"time-analysis-right"},d.a.createElement(Ei,this.props)))))}}]),r}(u.Component)},,,,,,function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return f}));n(162);var r=n(164),a=n(13),i=n(14),o=n(16),c=n(15),s=(n(190),n(211)),l=n(0),u=n.n(l),d=(n(108),n(306),n(30)),p=n(21),f=(s.a.Header,s.a.Content,function(e){Object(o.a)(n,e);var t=Object(c.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).publish=function(){e.props.updateOperation(d.a.PUBLISHED),e.props.history.push("/")},e}return Object(i.a)(n,[{key:"render",value:function(){var e=this.props;e.intl,e.initDone;return u.a.createElement("div",{className:"edit-page",id:"whole-container"},u.a.createElement(r.a,{className:"customDivider"}),u.a.createElement("div",{className:"edit-page-content"},u.a.createElement("div",{className:"edit-page-core"},u.a.createElement(p.default,Object.assign({btnState:this.props.rightBtnState},this.props)))))}}]),n}(u.a.Component))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){},,,,function(e,t,n){},,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"b",(function(){return ce}));var r=n(2),a=n(311),i=n(325),o=n(219),c=n(0),s=n(176),l=n(319),u=function(e){var t=e.locale,n=void 0===t?{}:t,a=e.children;e._ANT_MARK__;c.useEffect((function(){return Object(s.a)(n&&n.Modal),function(){Object(s.a)()}}),[n]);var i=c.useMemo((function(){return Object(r.a)(Object(r.a)({},n),{exist:!0})}),[n]);return c.createElement(l.a.Provider,{value:i},a)},d=n(171),p=n(169),f=n(137),h=(n(163),n(27)),g=n(214),v=n(216),m=n(158),b=n(217),y=n(215),x=n(116),O=n.n(x),w=n(213),C=n(117),k=n(175),j=n(186);var E,S,T,I={},P=4.5,D=24,N=24,A="",_="topRight",M=!1;function R(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:D,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:N;switch(e){case"top":t={left:"50%",transform:"translateX(-50%)",right:"auto",top:n,bottom:"auto"};break;case"topLeft":t={left:0,top:n,bottom:"auto"};break;case"topRight":t={right:0,top:n,bottom:"auto"};break;case"bottom":t={left:"50%",transform:"translateX(-50%)",right:"auto",top:"auto",bottom:r};break;case"bottomLeft":t={left:0,top:"auto",bottom:r};break;default:t={right:0,top:"auto",bottom:r}}return t}function F(e,t){var n=e.placement,r=void 0===n?_:n,a=e.top,i=e.bottom,o=e.getContainer,c=void 0===o?E:o,s=e.prefixCls,l=ce(),u=l.getPrefixCls,d=l.getIconPrefixCls,p=u("notification",s||A),f=d(),g="".concat(p,"-").concat(r),v=I[g];if(v)Promise.resolve(v).then((function(e){t({prefixCls:"".concat(p,"-notice"),iconPrefixCls:f,instance:e})}));else{var m=O()("".concat(p,"-").concat(r),Object(h.a)({},"".concat(p,"-rtl"),!0===M));I[g]=new Promise((function(e){w.a.newInstance({prefixCls:p,className:m,style:R(r,a,i),getContainer:c,maxCount:T},(function(n){e(n),t({prefixCls:"".concat(p,"-notice"),iconPrefixCls:f,instance:n})}))}))}}var B={success:g.a,info:y.a,error:v.a,warning:b.a};function L(e,t,n){var r=e.duration,a=e.icon,i=e.type,o=e.description,s=e.message,l=e.btn,u=e.onClose,d=e.onClick,p=e.key,f=e.style,g=e.className,v=e.closeIcon,b=void 0===v?S:v,y=e.props,x=void 0===r?P:r,w=null;a?w=c.createElement("span",{className:"".concat(t,"-icon")},e.icon):i&&(w=c.createElement(B[i]||null,{className:"".concat(t,"-icon ").concat(t,"-icon-").concat(i)}));var C=c.createElement("span",{className:"".concat(t,"-close-x")},b||c.createElement(m.a,{className:"".concat(t,"-close-icon")})),k=!o&&w?c.createElement("span",{className:"".concat(t,"-message-single-line-auto-margin")}):null;return{content:c.createElement(ue,{iconPrefixCls:n},c.createElement("div",{className:w?"".concat(t,"-with-icon"):"",role:"alert"},w,c.createElement("div",{className:"".concat(t,"-message")},k,s),c.createElement("div",{className:"".concat(t,"-description")},o),l?c.createElement("span",{className:"".concat(t,"-btn")},l):null)),duration:x,closable:!0,closeIcon:C,onClose:u,onClick:d,key:p,style:f||{},className:O()(g,Object(h.a)({},"".concat(t,"-").concat(i),!!i)),props:y}}var G,q,z={open:function(e){F(e,(function(t){var n=t.prefixCls,r=t.iconPrefixCls;t.instance.notice(L(e,n,r))}))},close:function(e){Object.keys(I).forEach((function(t){return Promise.resolve(I[t]).then((function(t){t.removeNotice(e)}))}))},config:function(e){var t=e.duration,n=e.placement,r=e.bottom,a=e.top,i=e.getContainer,o=e.closeIcon,c=e.prefixCls;void 0!==c&&(A=c),void 0!==t&&(P=t),void 0!==n?_=n:e.rtl&&(_="topLeft"),void 0!==r&&(N=r),void 0!==a&&(D=a),void 0!==i&&(E=i),void 0!==o&&(S=o),void 0!==e.rtl&&(M=e.rtl),void 0!==e.maxCount&&(T=e.maxCount)},destroy:function(){Object.keys(I).forEach((function(e){Promise.resolve(I[e]).then((function(e){e.destroy()})),delete I[e]}))}};["success","info","warning","error"].forEach((function(e){z[e]=function(t){return z.open(Object(r.a)(Object(r.a)({},t),{type:e}))}})),z.warn=z.warning,z.useNotification=(G=F,q=L,function(){var e,t=null,n={add:function(e,n){null===t||void 0===t||t.component.add(e,n)}},a=Object(k.a)(n),i=Object(C.a)(a,2),o=i[0],s=i[1],l=c.useRef({});return l.current.open=function(n){var a=n.prefixCls,i=e("notification",a);G(Object(r.a)(Object(r.a)({},n),{prefixCls:i}),(function(e){var r=e.prefixCls,a=e.instance;t=a,o(q(n,r))}))},["success","info","warning","error"].forEach((function(e){l.current[e]=function(t){return l.current.open(Object(r.a)(Object(r.a)({},t),{type:e}))}})),[l.current,c.createElement(j.a,{key:"holder"},(function(t){return e=t.getPrefixCls,s}))]});var H=z,U=n(191),V=n(320),Y=n(321),W=n(333),K=n(310),X=function(){function e(t,n){var r;if(void 0===t&&(t=""),void 0===n&&(n={}),t instanceof e)return t;"number"===typeof t&&(t=Object(V.d)(t)),this.originalInput=t;var a=Object(W.a)(t);this.originalInput=t,this.r=a.r,this.g=a.g,this.b=a.b,this.a=a.a,this.roundA=Math.round(100*this.a)/100,this.format=null!==(r=n.format)&&void 0!==r?r:a.format,this.gradientType=n.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=a.ok}return e.prototype.isDark=function(){return this.getBrightness()<128},e.prototype.isLight=function(){return!this.isDark()},e.prototype.getBrightness=function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},e.prototype.getLuminance=function(){var e=this.toRgb(),t=e.r/255,n=e.g/255,r=e.b/255;return.2126*(t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4))+.7152*(n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4))+.0722*(r<=.03928?r/12.92:Math.pow((r+.055)/1.055,2.4))},e.prototype.getAlpha=function(){return this.a},e.prototype.setAlpha=function(e){return this.a=Object(K.b)(e),this.roundA=Math.round(100*this.a)/100,this},e.prototype.isMonochrome=function(){return 0===this.toHsl().s},e.prototype.toHsv=function(){var e=Object(V.h)(this.r,this.g,this.b);return{h:360*e.h,s:e.s,v:e.v,a:this.a}},e.prototype.toHsvString=function(){var e=Object(V.h)(this.r,this.g,this.b),t=Math.round(360*e.h),n=Math.round(100*e.s),r=Math.round(100*e.v);return 1===this.a?"hsv(".concat(t,", ").concat(n,"%, ").concat(r,"%)"):"hsva(".concat(t,", ").concat(n,"%, ").concat(r,"%, ").concat(this.roundA,")")},e.prototype.toHsl=function(){var e=Object(V.g)(this.r,this.g,this.b);return{h:360*e.h,s:e.s,l:e.l,a:this.a}},e.prototype.toHslString=function(){var e=Object(V.g)(this.r,this.g,this.b),t=Math.round(360*e.h),n=Math.round(100*e.s),r=Math.round(100*e.l);return 1===this.a?"hsl(".concat(t,", ").concat(n,"%, ").concat(r,"%)"):"hsla(".concat(t,", ").concat(n,"%, ").concat(r,"%, ").concat(this.roundA,")")},e.prototype.toHex=function(e){return void 0===e&&(e=!1),Object(V.f)(this.r,this.g,this.b,e)},e.prototype.toHexString=function(e){return void 0===e&&(e=!1),"#"+this.toHex(e)},e.prototype.toHex8=function(e){return void 0===e&&(e=!1),Object(V.j)(this.r,this.g,this.b,this.a,e)},e.prototype.toHex8String=function(e){return void 0===e&&(e=!1),"#"+this.toHex8(e)},e.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},e.prototype.toRgbString=function(){var e=Math.round(this.r),t=Math.round(this.g),n=Math.round(this.b);return 1===this.a?"rgb(".concat(e,", ").concat(t,", ").concat(n,")"):"rgba(".concat(e,", ").concat(t,", ").concat(n,", ").concat(this.roundA,")")},e.prototype.toPercentageRgb=function(){var e=function(e){return"".concat(Math.round(100*Object(K.a)(e,255)),"%")};return{r:e(this.r),g:e(this.g),b:e(this.b),a:this.a}},e.prototype.toPercentageRgbString=function(){var e=function(e){return Math.round(100*Object(K.a)(e,255))};return 1===this.a?"rgb(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%)"):"rgba(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%, ").concat(this.roundA,")")},e.prototype.toName=function(){if(0===this.a)return"transparent";if(this.a<1)return!1;for(var e="#"+Object(V.f)(this.r,this.g,this.b,!1),t=0,n=Object.entries(Y.a);t<n.length;t++){var r=n[t],a=r[0];if(e===r[1])return a}return!1},e.prototype.toString=function(e){var t=Boolean(e);e=null!==e&&void 0!==e?e:this.format;var n=!1,r=this.a<1&&this.a>=0;return t||!r||!e.startsWith("hex")&&"name"!==e?("rgb"===e&&(n=this.toRgbString()),"prgb"===e&&(n=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(n=this.toHexString()),"hex3"===e&&(n=this.toHexString(!0)),"hex4"===e&&(n=this.toHex8String(!0)),"hex8"===e&&(n=this.toHex8String()),"name"===e&&(n=this.toName()),"hsl"===e&&(n=this.toHslString()),"hsv"===e&&(n=this.toHsvString()),n||this.toHexString()):"name"===e&&0===this.a?this.toName():this.toRgbString()},e.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},e.prototype.clone=function(){return new e(this.toString())},e.prototype.lighten=function(t){void 0===t&&(t=10);var n=this.toHsl();return n.l+=t/100,n.l=Object(K.c)(n.l),new e(n)},e.prototype.brighten=function(t){void 0===t&&(t=10);var n=this.toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(-t/100*255))),n.g=Math.max(0,Math.min(255,n.g-Math.round(-t/100*255))),n.b=Math.max(0,Math.min(255,n.b-Math.round(-t/100*255))),new e(n)},e.prototype.darken=function(t){void 0===t&&(t=10);var n=this.toHsl();return n.l-=t/100,n.l=Object(K.c)(n.l),new e(n)},e.prototype.tint=function(e){return void 0===e&&(e=10),this.mix("white",e)},e.prototype.shade=function(e){return void 0===e&&(e=10),this.mix("black",e)},e.prototype.desaturate=function(t){void 0===t&&(t=10);var n=this.toHsl();return n.s-=t/100,n.s=Object(K.c)(n.s),new e(n)},e.prototype.saturate=function(t){void 0===t&&(t=10);var n=this.toHsl();return n.s+=t/100,n.s=Object(K.c)(n.s),new e(n)},e.prototype.greyscale=function(){return this.desaturate(100)},e.prototype.spin=function(t){var n=this.toHsl(),r=(n.h+t)%360;return n.h=r<0?360+r:r,new e(n)},e.prototype.mix=function(t,n){void 0===n&&(n=50);var r=this.toRgb(),a=new e(t).toRgb(),i=n/100;return new e({r:(a.r-r.r)*i+r.r,g:(a.g-r.g)*i+r.g,b:(a.b-r.b)*i+r.b,a:(a.a-r.a)*i+r.a})},e.prototype.analogous=function(t,n){void 0===t&&(t=6),void 0===n&&(n=30);var r=this.toHsl(),a=360/n,i=[this];for(r.h=(r.h-(a*t>>1)+720)%360;--t;)r.h=(r.h+a)%360,i.push(new e(r));return i},e.prototype.complement=function(){var t=this.toHsl();return t.h=(t.h+180)%360,new e(t)},e.prototype.monochromatic=function(t){void 0===t&&(t=6);for(var n=this.toHsv(),r=n.h,a=n.s,i=n.v,o=[],c=1/t;t--;)o.push(new e({h:r,s:a,v:i})),i=(i+c)%1;return o},e.prototype.splitcomplement=function(){var t=this.toHsl(),n=t.h;return[this,new e({h:(n+72)%360,s:t.s,l:t.l}),new e({h:(n+216)%360,s:t.s,l:t.l})]},e.prototype.onBackground=function(t){var n=this.toRgb(),r=new e(t).toRgb();return new e({r:r.r+(n.r-r.r)*n.a,g:r.g+(n.g-r.g)*n.a,b:r.b+(n.b-r.b)*n.a})},e.prototype.triad=function(){return this.polyad(3)},e.prototype.tetrad=function(){return this.polyad(4)},e.prototype.polyad=function(t){for(var n=this.toHsl(),r=n.h,a=[this],i=360/t,o=1;o<t;o++)a.push(new e({h:(r+o*i)%360,s:n.s,l:n.l}));return a},e.prototype.equals=function(t){return this.toRgbString()===new e(t).toRgbString()},e}();var J=n(145),$=n(223),Z="-ant-".concat(Date.now(),"-").concat(Math.random());function Q(e,t){var n=function(e,t){var n={},r=function(e,t){var n=e.clone();return(n=(null===t||void 0===t?void 0:t(n))||n).toRgbString()},a=function(e,t){var a=new X(e),i=Object(U.a)(a.toRgbString());n["".concat(t,"-color")]=r(a),n["".concat(t,"-color-disabled")]=i[1],n["".concat(t,"-color-hover")]=i[4],n["".concat(t,"-color-active")]=i[6],n["".concat(t,"-color-outline")]=a.clone().setAlpha(.2).toRgbString(),n["".concat(t,"-color-deprecated-bg")]=i[0],n["".concat(t,"-color-deprecated-border")]=i[2]};if(t.primaryColor){a(t.primaryColor,"primary");var i=new X(t.primaryColor),o=Object(U.a)(i.toRgbString());o.forEach((function(e,t){n["primary-".concat(t+1)]=e})),n["primary-color-deprecated-l-35"]=r(i,(function(e){return e.lighten(35)})),n["primary-color-deprecated-l-20"]=r(i,(function(e){return e.lighten(20)})),n["primary-color-deprecated-t-20"]=r(i,(function(e){return e.tint(20)})),n["primary-color-deprecated-t-50"]=r(i,(function(e){return e.tint(50)})),n["primary-color-deprecated-f-12"]=r(i,(function(e){return e.setAlpha(.12*e.getAlpha())}));var c=new X(o[0]);n["primary-color-active-deprecated-f-30"]=r(c,(function(e){return e.setAlpha(.3*e.getAlpha())})),n["primary-color-active-deprecated-d-02"]=r(c,(function(e){return e.darken(2)}))}t.successColor&&a(t.successColor,"success"),t.warningColor&&a(t.warningColor,"warning"),t.errorColor&&a(t.errorColor,"error"),t.infoColor&&a(t.infoColor,"info");var s=Object.keys(n).map((function(t){return"--".concat(e,"-").concat(t,": ").concat(n[t],";")}));return"\n  :root {\n    ".concat(s.join("\n"),"\n  }\n  ").trim()}(e,t);Object(J.a)()&&Object($.b)(n,"".concat(Z,"-dynamic-theme"))}var ee,te,ne=n(181),re=n(221),ae=["getTargetContainer","getPopupContainer","renderEmpty","pageHeader","input","pagination","form"];function ie(){return ee||"ant"}function oe(){return te||"anticon"}var ce=function(){return{getPrefixCls:function(e,t){return t||(e?"".concat(ie(),"-").concat(e):ie())},getIconPrefixCls:oe,getRootPrefixCls:function(e,t){return e||(ee||(t&&t.includes("-")?t.replace(/^(.*)-[^-]*$/,"$1"):ie()))}}},se=function(e){var t,n,s=e.children,l=e.csp,d=e.autoInsertSpaceInButton,f=e.form,h=e.locale,g=e.componentSize,v=e.direction,m=e.space,b=e.virtual,y=e.dropdownMatchSelectWidth,x=e.legacyLocale,O=e.parentContext,w=e.iconPrefixCls,C=e.componentDisabled,k=c.useCallback((function(t,n){var r=e.prefixCls;if(n)return n;var a=r||O.getPrefixCls("");return t?"".concat(a,"-").concat(t):a}),[O.getPrefixCls,e.prefixCls]),E=Object(r.a)(Object(r.a)({},O),{csp:l,autoInsertSpaceInButton:d,locale:h||x,direction:v,space:m,virtual:b,dropdownMatchSelectWidth:y,getPrefixCls:k});ae.forEach((function(t){var n=e[t];n&&(E[t]=n)}));var S=Object(o.a)((function(){return E}),E,(function(e,t){var n=Object.keys(e),r=Object.keys(t);return n.length!==r.length||n.some((function(n){return e[n]!==t[n]}))})),T=c.useMemo((function(){return{prefixCls:w,csp:l}}),[w,l]),I=s,P={};return h&&(P=(null===(t=h.Form)||void 0===t?void 0:t.defaultValidateMessages)||(null===(n=p.a.Form)||void 0===n?void 0:n.defaultValidateMessages)||{}),f&&f.validateMessages&&(P=Object(r.a)(Object(r.a)({},P),f.validateMessages)),Object.keys(P).length>0&&(I=c.createElement(i.b,{validateMessages:P},s)),h&&(I=c.createElement(u,{locale:h,_ANT_MARK__:"internalMark"},I)),(w||l)&&(I=c.createElement(a.a.Provider,{value:T},I)),g&&(I=c.createElement(re.a,{size:g},I)),void 0!==C&&(I=c.createElement(ne.a,{disabled:C},I)),c.createElement(j.b.Provider,{value:S},I)},le=function(e){return c.useEffect((function(){e.direction&&(f.b.config({rtl:"rtl"===e.direction}),H.config({rtl:"rtl"===e.direction}))}),[e.direction]),c.createElement(d.a,null,(function(t,n,a){return c.createElement(j.a,null,(function(t){return c.createElement(se,Object(r.a)({parentContext:t,legacyLocale:a},e))}))}))};le.ConfigContext=j.b,le.SizeContext=re.b,le.config=function(e){var t=e.prefixCls,n=e.iconPrefixCls,r=e.theme;void 0!==t&&(ee=t),void 0!==n&&(te=n),r&&Q(ie(),r)};var ue=t.a=le},,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(147);function a(e){if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=Object(r.a)(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i,o=!0,c=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return o=e.done,e},e:function(e){c=!0,i=e},f:function(){try{o||null==a.return||a.return()}finally{if(c)throw i}}}}},,,function(e,t,n){"use strict";function r(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];if(!e){var i;if(void 0===t)i=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var o=0;(i=new Error(t.replace(/%s/g,(function(){return r[o++]})))).name="Invariant Violation"}throw i.framesToPop=1,i}}n.d(t,"a",(function(){return r}))},,function(e,t,n){"use strict";n.d(t,"d",(function(){return a})),n.d(t,"n",(function(){return i})),n.d(t,"t",(function(){return o})),n.d(t,"x",(function(){return c})),n.d(t,"w",(function(){return s})),n.d(t,"s",(function(){return l})),n.d(t,"a",(function(){return u})),n.d(t,"e",(function(){return d})),n.d(t,"g",(function(){return p})),n.d(t,"f",(function(){return f})),n.d(t,"u",(function(){return h})),n.d(t,"v",(function(){return g})),n.d(t,"h",(function(){return v})),n.d(t,"c",(function(){return m})),n.d(t,"b",(function(){return b})),n.d(t,"o",(function(){return y})),n.d(t,"m",(function(){return x})),n.d(t,"y",(function(){return O})),n.d(t,"j",(function(){return w})),n.d(t,"k",(function(){return C})),n.d(t,"l",(function(){return k})),n.d(t,"i",(function(){return j})),n.d(t,"r",(function(){return E})),n.d(t,"q",(function(){return S})),n.d(t,"p",(function(){return T})),n.d(t,"z",(function(){return I}));var r=n(1),a=function(e){return{type:r.a.CHANGE_BTN_STATE,state:e}},i=function(e,t,n,a,i){return{type:r.a.SET_PARSED_FILE_DATA,columnList:e,granularity:t,dataRange:n,timeCol:a,timeValue:i}},o=function(e){return{type:r.a.SET_SCALE,scale:e}},c=function(e){return{type:r.a.SET_TASK,task:e}},s=function(e){return{type:r.a.SET_SEQUENCE,sequence:e}},l=function(e){return{type:r.a.SET_REDUNDANT,recommededList:e}},u=function(e){return{type:r.a.ADD_EMPTY_CARD,index:e}},d=function(e,t){return{type:r.a.CHANGE_CRAD_LOCATION,origin:e,target:t}},p=function(e){return{type:r.a.REMOVE_CARD,index:e}},f=function(e,t,n,a,i,o){return{type:r.a.FIX_CARD,index:e,spec:t,factType:n,recommendList:a,oriBlock:i,captionId:o}},h=function(e){return{type:r.a.SET_SELECTED_CARD_INDEX,index:e}},g=function(e){return{type:r.a.SET_SELECTED_RECOMMEND_CARD,index:e}},v=function(e){return{type:r.a.REMOVE_RECOMMEND_CARD,index:e}},m=function(e,t){return{type:r.a.ADD_RECOMMEND_LIST,index:e,recommendList:t}},b=function(e,t){return{type:r.a.ADD_SEGMENTS_INSIGHTS,segment_key:e,segment_insights:t}},y=function(e){return{type:r.a.SET_POP_CARD_START,state:e}},x=function(e){return{type:r.a.SET_POP_INSIGHTS,insights:e}},O=function(e){return{type:r.a.SET_TOOLTIP_CONTAINER,container:e}},w=function(e){return{type:r.a.SET_CONFIGURE_COLUMNS,columns:e}},C=function(e,t){return{type:r.a.SET_CONFIGURE_TIME,start:e,end:t}},k=function(e){return{type:r.a.SET_CONFIGURE_TYPE,insightType:e}},j=function(e){return{type:r.a.SET_CONFIGURE_BREAKDOWN,breakdown:e}},E=function(e){return{type:r.a.SET_PROCESS_TIME,time:e}},S=function(e){return{type:r.a.SET_PROCESS_GRANULARITY,granularity:e}},T=function(e){return{type:r.a.SET_PROCESS_COLUMNS,columns:e}},I=function(e,t,n){return{type:r.a.UPDATE_COLUMNS_AND_RANGE,columns:e,dataRange:t,timeValues:n}}},function(e,t,n){"use strict";n.d(t,"u",(function(){return r})),n.d(t,"j",(function(){return a})),n.d(t,"c",(function(){return i})),n.d(t,"k",(function(){return o})),n.d(t,"i",(function(){return c})),n.d(t,"A",(function(){return s})),n.d(t,"B",(function(){return l})),n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return d})),n.d(t,"z",(function(){return p})),n.d(t,"m",(function(){return f})),n.d(t,"n",(function(){return h})),n.d(t,"o",(function(){return g})),n.d(t,"y",(function(){return v})),n.d(t,"t",(function(){return m})),n.d(t,"v",(function(){return b})),n.d(t,"w",(function(){return y})),n.d(t,"s",(function(){return x})),n.d(t,"x",(function(){return O})),n.d(t,"l",(function(){return w})),n.d(t,"h",(function(){return C})),n.d(t,"C",(function(){return k})),n.d(t,"e",(function(){return j})),n.d(t,"f",(function(){return E})),n.d(t,"g",(function(){return S})),n.d(t,"d",(function(){return T})),n.d(t,"r",(function(){return I})),n.d(t,"q",(function(){return P})),n.d(t,"p",(function(){return D}));var r=function(e){return e.series.rightBtnState},a=function(e){return e.series.drawScale},i=function(e){return e.series.columnsName},o=function(e){return e.series.granularityName},c=function(e){return e.series.dataRange},s=function(e){return e.series.timeColumnName},l=function(e){return e.series.timeValue},u=function(e){return e.series.chartScale},d=function(e){return e.series.chartMargin},p=function(e){return e.series.task},f=function(e){return e.series.originColumnName},h=function(e){return e.series.originDataRange},g=function(e){return e.series.originTimeValue},v=function(e){return e.series.sequence},m=function(e){return e.series.redundantRecommend},b=function(e){return e.series.segmentInsightsStorage},y=function(e){return e.series.selectedCardIndex},x=function(e){return e.series.recommendList},O=function(e){return e.series.selectedRecommendCardIndex},w=function(e){return e.series.isPopInsightCard},C=function(e){return e.series.currentPopInsightList},k=function(e){return e.series.tooltipContainer},j=function(e){return e.series.configureInsightColumns},E=function(e){return e.series.configureInsightTime},S=function(e){return e.series.configureInsightType},T=function(e){return e.series.configureInsightBreakdown},I=function(e){return e.series.processTime},P=function(e){return e.series.processGranularity},D=function(e){return e.series.processColumns}},function(e,t,n){"use strict";n.d(t,"h",(function(){return c})),n.d(t,"g",(function(){return s})),n.d(t,"f",(function(){return l})),n.d(t,"c",(function(){return u})),n.d(t,"a",(function(){return d})),n.d(t,"d",(function(){return p})),n.d(t,"b",(function(){return f})),n.d(t,"e",(function(){return h}));var r=n(189),a=n.n(r);function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return"GET"===n?a.a.get(e,{params:t}):"{}"===JSON.stringify(r)?a.a.post(e,t):a.a.post(e,t,r)}n(143);var o="https://vasta-api.idvxlab.com:8008/generate/insight",c=function(e){return i("https://vasta-api.idvxlab.com:8008/upload",e,"POST",{headers:{"Content-Type":"multipart/form-data"}})},s=function(e,t,n,r,a){return i("https://vasta-api.idvxlab.com:8008/preprocess",{path:e,start:t,end:n,variable:r,aggregate:a},"POST",{headers:{"Content-Type":"application/json"}})},l=function(e){return i("https://vasta-api.idvxlab.com:8008/metadata",{path:e},"GET")},u=function(e,t,n){return i("https://vasta-api.idvxlab.com:8008/generate/story",{path:e,time_field:t,task:n},"POST",{headers:{"Content-Type":"application/json"}})},d=function(e,t,n,r){return i(o,{file_url:e,fields:t,time_field:n,location:r},"POST",{headers:{"Content-Type":"application/json"}})},p=function(e,t,n,r,a){return i(o,{file_url:e,fields:t,time_field:n,location:r,insights:a},"POST",{headers:{"Content-Type":"application/json"}})},f=function(e,t,n,r,a){return i("https://vasta-api.idvxlab.com:8008/generate/recommend",{file_url:e,time_field:t,task:n,previous:r,current:a},"POST",{headers:{"Content-Type":"application/json"}})},h=function(e,t,n,r){return i("https://vasta-api.idvxlab.com:8008/generate/story",{path:e,time_field:t,existing_insights:n,task:r},"POST",{headers:{"Content-Type":"application/json"}})}},,,,,function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}},function(e,t,n){"use strict";n.d(t,"c",(function(){return _})),n.d(t,"d",(function(){return F})),n.d(t,"a",(function(){return z}));var r=n(2),a=n(27),i=n(307),o=n(243),c=n(20),s=n(0),l={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296zm32 440a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"exclamation-circle",theme:"filled"},u=n(122),d=function(e,t){return s.createElement(u.a,Object(c.a)(Object(c.a)({},e),{},{ref:t,icon:l}))};d.displayName="ExclamationCircleFilled";var p=s.forwardRef(d),f={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm32 664c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V456c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272zm-32-344a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"info-circle",theme:"filled"},h=function(e,t){return s.createElement(u.a,Object(c.a)(Object(c.a)({},e),{},{ref:t,icon:f}))};h.displayName="InfoCircleFilled";var g,v=s.forwardRef(h),m=n(242),b=n(116),y=n.n(b),x=n(213),O=n(119),w=n(117),C=n(175),k=n(186);var j,E,S,T=3,I=1,P="",D="move-up",N=!1,A=!1;function _(){return I++}function M(e,t){var n=e.prefixCls,r=e.getPopupContainer,a=Object(O.b)(),i=a.getPrefixCls,o=a.getRootPrefixCls,c=a.getIconPrefixCls,s=i("message",n||P),l=o(e.rootPrefixCls,s),u=c();if(g)t({prefixCls:s,rootPrefixCls:l,iconPrefixCls:u,instance:g});else{var d={prefixCls:s,transitionName:N?D:"".concat(l,"-").concat(D),style:{top:j},getContainer:E||r,maxCount:S};x.a.newInstance(d,(function(e){g?t({prefixCls:s,rootPrefixCls:l,iconPrefixCls:u,instance:g}):(g=e,t({prefixCls:s,rootPrefixCls:l,iconPrefixCls:u,instance:e}))}))}}var R={info:v,success:i.a,error:o.a,warning:p,loading:m.a},F=Object.keys(R);function B(e,t,n){var r,i=void 0!==e.duration?e.duration:T,o=R[e.type],c=y()("".concat(t,"-custom-content"),(r={},Object(a.a)(r,"".concat(t,"-").concat(e.type),e.type),Object(a.a)(r,"".concat(t,"-rtl"),!0===A),r));return{key:e.key,duration:i,style:e.style||{},className:e.className,content:s.createElement(O.a,{iconPrefixCls:n},s.createElement("div",{className:c},e.icon||o&&s.createElement(o,null),s.createElement("span",null,e.content))),onClose:e.onClose,onClick:e.onClick}}var L,G,q={open:function(e){var t=e.key||_(),n=new Promise((function(n){var a=function(){return"function"===typeof e.onClose&&e.onClose(),n(!0)};M(e,(function(n){var i=n.prefixCls,o=n.iconPrefixCls;n.instance.notice(B(Object(r.a)(Object(r.a)({},e),{key:t,onClose:a}),i,o))}))})),a=function(){var n;g&&(g.removeNotice(t),null===(n=e.onClose)||void 0===n||n.call(e))};return a.then=function(e,t){return n.then(e,t)},a.promise=n,a},config:function(e){void 0!==e.top&&(j=e.top,g=null),void 0!==e.duration&&(T=e.duration),void 0!==e.prefixCls&&(P=e.prefixCls),void 0!==e.getContainer&&(E=e.getContainer,g=null),void 0!==e.transitionName&&(D=e.transitionName,g=null,N=!0),void 0!==e.maxCount&&(S=e.maxCount,g=null),void 0!==e.rtl&&(A=e.rtl)},destroy:function(e){if(g)if(e){(0,g.removeNotice)(e)}else{var t=g.destroy;t(),g=null}}};function z(e,t){e[t]=function(n,a,i){return function(e){return"[object Object]"===Object.prototype.toString.call(e)&&!!e.content}(n)?e.open(Object(r.a)(Object(r.a)({},n),{type:t})):("function"===typeof a&&(i=a,a=void 0),e.open({content:n,duration:a,type:t,onClose:i}))}}F.forEach((function(e){return z(q,e)})),q.warn=q.warning,q.useMessage=(L=M,G=B,function(){var e,t,n=null,a={add:function(e,t){null===n||void 0===n||n.component.add(e,t)}},i=Object(C.a)(a),o=Object(w.a)(i,2),c=o[0],l=o[1],u=s.useRef({});return u.current.open=function(a){var i=a.prefixCls,o=e("message",i),s=e(),l=a.key||_(),u=new Promise((function(e){var i=function(){return"function"===typeof a.onClose&&a.onClose(),e(!0)};L(Object(r.a)(Object(r.a)({},a),{prefixCls:o,rootPrefixCls:s,getPopupContainer:t}),(function(e){var t=e.prefixCls,o=e.instance;n=o,c(G(Object(r.a)(Object(r.a)({},a),{key:l,onClose:i}),t))}))})),d=function(){n&&n.removeNotice(l)};return d.then=function(e,t){return u.then(e,t)},d.promise=u,d},F.forEach((function(e){return z(u.current,e)})),[u.current,s.createElement(k.a,{key:"holder"},(function(n){return e=n.getPrefixCls,t=n.getPopupContainer,l}))]});t.b=q},,,,function(e,t,n){"use strict";n.d(t,"e",(function(){return b})),n.d(t,"d",(function(){return y})),n.d(t,"p",(function(){return x})),n.d(t,"b",(function(){return O})),n.d(t,"n",(function(){return w})),n.d(t,"i",(function(){return C})),n.d(t,"h",(function(){return k})),n.d(t,"j",(function(){return j})),n.d(t,"k",(function(){return E})),n.d(t,"g",(function(){return S})),n.d(t,"l",(function(){return T})),n.d(t,"a",(function(){return I})),n.d(t,"m",(function(){return P})),n.d(t,"f",(function(){return D})),n.d(t,"c",(function(){return N})),n.d(t,"o",(function(){return A}));var r=n(185),a=n(123),i=n(28),o=n.n(i),c=function(e,t){var n,r,a=e.type===t.type?1:0,i=e.measure.map((function(e){return e.field})),o=t.measure.map((function(e){return e.field}));if(0===i.length&&0===o.length)n=1;else{var c=i.filter((function(e){return o.includes(e)})),s=i.length>o.length?i:o;n=c.length/s.length}var l,u=e.subspace.map((function(e){return e.field})),d=t.subspace.map((function(e){return e.field}));if(0===u.length&&0===d.length)r=1;else{var p=u.filter((function(e){return d.includes(e)})),f=u.length>d.length?u:d;r=p.length/f.length}var h,g=e.groupby,v=t.groupby;if(0===g.length&&0===v.length)l=1;else{var m=g.filter((function(e){return v.includes(e)})),b=g.length>v.length?g:v;l=m.length/b.length}var y=e.focus.map((function(e){return e.value})),x=t.focus.map((function(e){return e.value}));if(0===y.length&&0===x.length)h=0;else{var O=y.filter((function(e){return x.includes(e)})),w=y.length>x.length?y:x;h=O.length/w.length}return.2*a+.2*n+.2*r+.2*l+.2*h},s=function(e,t){return 1-c(e,t)},l=function(e,t,n){this.distance=e,this.linkage=t,this.threshold=void 0===n?1/0:n};l.prototype={cluster:function(e,t,n){this.clusters=[],this.dists=[],this.mins=[],this.index=[];for(var r=0;r<e.length;r++){var a={value:e[r],key:r,index:r,size:1};this.clusters[r]=a,this.index[r]=a,this.dists[r]=[],this.mins[r]=0}for(var i=0;i<this.clusters.length;i++)for(var o=0;o<=i;o++){var c=i===o?1/0:this.distance(this.clusters[i].value,this.clusters[o].value);this.dists[i][o]=c,this.dists[o][i]=c,c<this.dists[i][this.mins[i]]&&(this.mins[i]=o)}for(var s=this.mergeClosest(),l=0;s;)n&&l++%t===0&&n(this.clusters),s=this.mergeClosest();return this.clusters.forEach((function(e){delete e.key,delete e.index})),this.clusters},mergeClosest:function(){for(var e=0,t=1/0,n=0;n<this.clusters.length;n++){var r=this.clusters[n].key,a=this.dists[r][this.mins[r]];a<t&&(e=r,t=a)}if(t>=this.threshold)return!1;var i=this.index[e],o=this.index[this.mins[e]],c={left:i,right:o,key:i.key,size:i.size+o.size};this.clusters[i.index]=c,this.clusters.splice(o.index,1),this.index[i.key]=c;for(var s=0;s<this.clusters.length;s++){var l=this.clusters[s],u=void 0;i.key===l.key?u=1/0:"single"===this.linkage?(u=this.dists[i.key][l.key],this.dists[i.key][l.key]>this.dists[o.key][l.key]&&(u=this.dists[o.key][l.key])):"complete"===this.linkage?(u=this.dists[i.key][l.key],this.dists[i.key][l.key]<this.dists[o.key][l.key]&&(u=this.dists[o.key][l.key])):u="average"===this.linkage?(this.dists[i.key][l.key]*i.size+this.dists[o.key][l.key]*o.size)/(i.size+o.size):this.distance(l.value,i.value),this.dists[i.key][l.key]=this.dists[l.key][i.key]=u}for(var d=0;d<this.clusters.length;d++){var p=this.clusters[d].key;if(this.mins[p]===i.key||this.mins[p]===o.key){for(var f=p,h=0;h<this.clusters.length;h++){var g=this.clusters[h].key;this.dists[p][g]<this.dists[p][f]&&(f=g)}this.mins[p]=f}this.clusters[d].index=d}return delete i.key,delete o.key,delete i.index,delete o.index,!0}};var u=n(154),d=[{"Fact Type 1":"distribution","Fact Type 2":"distribution",Chart:"Stacked Bar Chart",Measure:"",Subspace:"",Groupby:"",Focus:""},{"Fact Type 1":"distribution","Fact Type 2":"difference",Chart:"Vertical Bar Chart",Measure:"equal",Subspace:"equal",Groupby:"equal",Focus:"difference"},{"Fact Type 1":"distribution","Fact Type 2":"rank",Chart:"Horizontal Bar Chart",Measure:"equal",Subspace:"equal",Groupby:"equal",Focus:"rank"},{"Fact Type 1":"distribution","Fact Type 2":"categorization",Chart:"Isotype Bar Chart",Measure:"distribution",Subspace:"equal",Groupby:"equal",Focus:""},{"Fact Type 1":"distribution","Fact Type 2":"value",Chart:"juxtaposition",Measure:"",Subspace:"",Groupby:"",Focus:""},{"Fact Type 1":"distribution","Fact Type 2":"extreme",Chart:"Vertical Bar Chart",Measure:"equal",Subspace:"equal",Groupby:"equal",Focus:"extreme"},{"Fact Type 1":"distribution","Fact Type 2":"proportion",Chart:"juxtaposition",Measure:"",Subspace:"",Groupby:"",Focus:""},{"Fact Type 1":"distribution","Fact Type 2":"outlier",Chart:"Vertical Bar Chart",Measure:"equal",Subspace:"equal",Groupby:"equal",Focus:"outlier"},{"Fact Type 1":"distribution","Fact Type 2":"association",Chart:"juxtaposition",Measure:"",Subspace:"",Groupby:"",Focus:""},{"Fact Type 1":"distribution","Fact Type 2":"trend",Chart:"Vertical Bar Chart",Measure:"equal",Subspace:"equal",Groupby:"equal",Focus:""},{"Fact Type 1":"difference","Fact Type 2":"distribution",Chart:"Vertical Bar Chart",Measure:"equal",Subspace:"equal",Groupby:"equal",Focus:"difference"},{"Fact Type 1":"difference","Fact Type 2":"difference",Chart:"juxtaposition",Measure:"",Subspace:"",Groupby:"",Focus:""},{"Fact Type 1":"difference","Fact Type 2":"rank",Chart:"juxtaposition",Measure:"",Subspace:"",Groupby:"",Focus:""},{"Fact Type 1":"difference","Fact Type 2":"categorization",Chart:"juxtaposition",Measure:"",Subspace:"",Groupby:"",Focus:""},{"Fact Type 1":"difference","Fact Type 2":"value",Chart:"juxtaposition",Measure:"",Subspace:"",Groupby:"",Focus:""},{"Fact Type 1":"difference","Fact Type 2":"extreme",Chart:"juxtaposition",Measure:"",Subspace:"",Groupby:"",Focus:""},{"Fact Type 1":"difference","Fact Type 2":"proportion",Chart:"juxtaposition",Measure:"",Subspace:"",Groupby:"",Focus:""},{"Fact Type 1":"difference","Fact Type 2":"outlier",Chart:"juxtaposition",Measure:"",Subspace:"",Groupby:"",Focus:""},{"Fact Type 1":"difference","Fact Type 2":"association",Chart:"juxtaposition",Measure:"",Subspace:"",Groupby:"",Focus:""},{"Fact Type 1":"difference","Fact Type 2":"trend",Chart:"Vertical Bar Chart",Measure:"equal",Subspace:"equal",Groupby:"equal",Focus:"difference"},{"Fact Type 1":"rank","Fact Type 2":"distribution",Chart:"Horizontal Bar Chart",Measure:"equal",Subspace:"equal",Groupby:"equal",Focus:"rank"},{"Fact Type 1":"rank","Fact Type 2":"difference",Chart:"juxtaposition",Measure:"",Subspace:"",Groupby:"",Focus:""},{"Fact Type 1":"rank","Fact Type 2":"rank",Chart:"juxtaposition",Measure:"",Subspace:"",Groupby:"",Focus:""},{"Fact Type 1":"rank","Fact Type 2":"categorization",Chart:"juxtaposition",Measure:"",Subspace:"",Groupby:"",Focus:""},{"Fact Type 1":"rank","Fact Type 2":"value",Chart:"juxtaposition",Measure:"",Subspace:"",Groupby:"",Focus:""},{"Fact Type 1":"rank","Fact Type 2":"extreme",Chart:"Horizontal Bar Chart",Measure:"equal",Subspace:"equal",Groupby:"equal",Focus:"rank"},{"Fact Type 1":"rank","Fact Type 2":"proportion",Chart:"juxtaposition",Measure:"",Subspace:"",Groupby:"",Focus:""},{"Fact Type 1":"rank","Fact Type 2":"outlier",Chart:"juxtaposition",Measure:"",Subspace:"",Groupby:"",Focus:""},{"Fact Type 1":"rank","Fact Type 2":"association",Chart:"juxtaposition",Measure:"",Subspace:"",Groupby:"",Focus:""},{"Fact Type 1":"rank","Fact Type 2":"trend",Chart:"juxtaposition",Measure:"",Subspace:"",Groupby:"",Focus:""},{"Fact Type 1":"categorization","Fact Type 2":"distribution",Chart:"Isotype Bar Chart",Measure:"distribution",Subspace:"equal",Groupby:"equal",Focus:""},{"Fact Type 1":"categorization","Fact Type 2":"difference",Chart:"juxtaposition",Measure:"",Subspace:"",Groupby:"",Focus:""},{"Fact Type 1":"categorization","Fact Type 2":"rank",Chart:"juxtaposition",Measure:"",Subspace:"",Groupby:"",Focus:""},{"Fact Type 1":"categorization","Fact Type 2":"categorization",Chart:"juxtaposition",Measure:"",Subspace:"",Groupby:"",Focus:""},{"Fact Type 1":"categorization","Fact Type 2":"value",Chart:"juxtaposition",Measure:"",Subspace:"",Groupby:"",Focus:""},{"Fact Type 1":"categorization","Fact Type 2":"extreme",Chart:"Isotype Bar Chart",Measure:"extreme",Subspace:"equal",Groupby:"equal",Focus:"extreme"},{"Fact Type 1":"categorization","Fact Type 2":"proportion",Chart:"juxtaposition",Measure:"",Subspace:"",Groupby:"",Focus:""},{"Fact Type 1":"categorization","Fact Type 2":"outlier",Chart:"Isotype Bar Chart",Measure:"outlier",Subspace:"equal",Groupby:"equal",Focus:"outlier"},{"Fact Type 1":"categorization","Fact Type 2":"association",Chart:"juxtaposition",Measure:"",Subspace:"",Groupby:"",Focus:""},{"Fact Type 1":"categorization","Fact Type 2":"trend",Chart:"Isotype Bar Chart",Measure:"trend",Subspace:"equal",Groupby:"equal",Focus:""},{"Fact Type 1":"value","Fact Type 2":"distribution",Chart:"juxtaposition",Measure:"",Subspace:"",Groupby:"",Focus:""},{"Fact Type 1":"value","Fact Type 2":"difference",Chart:"juxtaposition",Measure:"",Subspace:"",Groupby:"",Focus:""},{"Fact Type 1":"value","Fact Type 2":"rank",Chart:"juxtaposition",Measure:"",Subspace:"",Groupby:"",Focus:""},{"Fact Type 1":"value","Fact Type 2":"categorization",Chart:"juxtaposition",Measure:"",Subspace:"",Groupby:"",Focus:""},{"Fact Type 1":"value","Fact Type 2":"value",Chart:"juxtaposition",Measure:"",Subspace:"",Groupby:"",Focus:""},{"Fact Type 1":"value","Fact Type 2":"extreme",Chart:"juxtaposition",Measure:"",Subspace:"",Groupby:"",Focus:""},{"Fact Type 1":"value","Fact Type 2":"proportion",Chart:"juxtaposition",Measure:"",Subspace:"",Groupby:"",Focus:""},{"Fact Type 1":"value","Fact Type 2":"outlier",Chart:"juxtaposition",Measure:"",Subspace:"",Groupby:"",Focus:""},{"Fact Type 1":"value","Fact Type 2":"association",Chart:"juxtaposition",Measure:"",Subspace:"",Groupby:"",Focus:""},{"Fact Type 1":"value","Fact Type 2":"trend",Chart:"juxtaposition",Measure:"",Subspace:"",Groupby:"",Focus:""},{"Fact Type 1":"extreme","Fact Type 2":"distribution",Chart:"Vertical Bar Chart",Measure:"equal",Subspace:"equal",Groupby:"equal",Focus:"extreme"},{"Fact Type 1":"extreme","Fact Type 2":"difference",Chart:"juxtaposition",Measure:"",Subspace:"",Groupby:"",Focus:""},{"Fact Type 1":"extreme","Fact Type 2":"rank",Chart:"Horizontal Bar Chart",Measure:"equal",Subspace:"equal",Groupby:"equal",Focus:"rank"},{"Fact Type 1":"extreme","Fact Type 2":"categorization",Chart:"Isotype Bar Chart",Measure:"extreme",Subspace:"equal",Groupby:"equal",Focus:"extreme"},{"Fact Type 1":"extreme","Fact Type 2":"value",Chart:"juxtaposition",Measure:"",Subspace:"",Groupby:"",Focus:""},{"Fact Type 1":"extreme","Fact Type 2":"extreme",Chart:"juxtaposition",Measure:"",Subspace:"",Groupby:"",Focus:""},{"Fact Type 1":"extreme","Fact Type 2":"proportion",Chart:"juxtaposition",Measure:"",Subspace:"",Groupby:"",Focus:""},{"Fact Type 1":"extreme","Fact Type 2":"outlier",Chart:"Vertical Bar Chart",Measure:"equal",Subspace:"equal",Groupby:"equal",Focus:"extreme+outlier"},{"Fact Type 1":"extreme","Fact Type 2":"association",Chart:"juxtaposition",Measure:"",Subspace:"",Groupby:"",Focus:""},{"Fact Type 1":"extreme","Fact Type 2":"trend",Chart:"Line Chart",Measure:"equal",Subspace:"equal",Groupby:"equal",Focus:"extreme"},{"Fact Type 1":"proportion","Fact Type 2":"distribution",Chart:"juxtaposition",Measure:"",Subspace:"",Groupby:"",Focus:""},{"Fact Type 1":"proportion","Fact Type 2":"difference",Chart:"juxtaposition",Measure:"",Subspace:"",Groupby:"",Focus:""},{"Fact Type 1":"proportion","Fact Type 2":"rank",Chart:"juxtaposition",Measure:"",Subspace:"",Groupby:"",Focus:""},{"Fact Type 1":"proportion","Fact Type 2":"categorization",Chart:"juxtaposition",Measure:"",Subspace:"",Groupby:"",Focus:""},{"Fact Type 1":"proportion","Fact Type 2":"value",Chart:"juxtaposition",Measure:"",Subspace:"",Groupby:"",Focus:""},{"Fact Type 1":"proportion","Fact Type 2":"extreme",Chart:"juxtaposition",Measure:"",Subspace:"",Groupby:"",Focus:""},{"Fact Type 1":"proportion","Fact Type 2":"proportion",Chart:"juxtaposition",Measure:"",Subspace:"",Groupby:"",Focus:""},{"Fact Type 1":"proportion","Fact Type 2":"outlier",Chart:"juxtaposition",Measure:"",Subspace:"",Groupby:"",Focus:""},{"Fact Type 1":"proportion","Fact Type 2":"association",Chart:"juxtaposition",Measure:"",Subspace:"",Groupby:"",Focus:""},{"Fact Type 1":"proportion","Fact Type 2":"trend",Chart:"juxtaposition",Measure:"",Subspace:"",Groupby:"",Focus:""},{"Fact Type 1":"outlier","Fact Type 2":"distribution",Chart:"Vertical Bar Chart",Measure:"equal",Subspace:"equal",Groupby:"equal",Focus:"outlier"},{"Fact Type 1":"outlier","Fact Type 2":"difference",Chart:"juxtaposition",Measure:"",Subspace:"",Groupby:"",Focus:""},{"Fact Type 1":"outlier","Fact Type 2":"rank",Chart:"juxtaposition",Measure:"",Subspace:"",Groupby:"",Focus:""},{"Fact Type 1":"outlier","Fact Type 2":"categorization",Chart:"Isotype Bar Chart",Measure:"outlier",Subspace:"equal",Groupby:"equal",Focus:"outlier"},{"Fact Type 1":"outlier","Fact Type 2":"value",Chart:"juxtaposition",Measure:"",Subspace:"",Groupby:"",Focus:""},{"Fact Type 1":"outlier","Fact Type 2":"extreme",Chart:"Vertical Bar Chart",Measure:"equal",Subspace:"equal",Groupby:"equal",Focus:"extreme+outlier"},{"Fact Type 1":"outlier","Fact Type 2":"proportion",Chart:"juxtaposition",Measure:"",Subspace:"",Groupby:"",Focus:""},{"Fact Type 1":"outlier","Fact Type 2":"outlier",Chart:"juxtaposition",Measure:"",Subspace:"",Groupby:"",Focus:""},{"Fact Type 1":"outlier","Fact Type 2":"association",Chart:"juxtaposition",Measure:"",Subspace:"",Groupby:"",Focus:""},{"Fact Type 1":"outlier","Fact Type 2":"trend",Chart:"Line Chart",Measure:"equal",Subspace:"equal",Groupby:"equal",Focus:"outlier"},{"Fact Type 1":"association","Fact Type 2":"distribution",Chart:"juxtaposition",Measure:"",Subspace:"",Groupby:"",Focus:""},{"Fact Type 1":"association","Fact Type 2":"difference",Chart:"juxtaposition",Measure:"",Subspace:"",Groupby:"",Focus:""},{"Fact Type 1":"association","Fact Type 2":"rank",Chart:"juxtaposition",Measure:"",Subspace:"",Groupby:"",Focus:""},{"Fact Type 1":"association","Fact Type 2":"categorization",Chart:"juxtaposition",Measure:"",Subspace:"",Groupby:"",Focus:""},{"Fact Type 1":"association","Fact Type 2":"value",Chart:"juxtaposition",Measure:"",Subspace:"",Groupby:"",Focus:""},{"Fact Type 1":"association","Fact Type 2":"extreme",Chart:"juxtaposition",Measure:"",Subspace:"",Groupby:"",Focus:""},{"Fact Type 1":"association","Fact Type 2":"proportion",Chart:"juxtaposition",Measure:"",Subspace:"",Groupby:"",Focus:""},{"Fact Type 1":"association","Fact Type 2":"outlier",Chart:"juxtaposition",Measure:"",Subspace:"",Groupby:"",Focus:""},{"Fact Type 1":"association","Fact Type 2":"association",Chart:"juxtaposition",Measure:"",Subspace:"",Groupby:"",Focus:""},{"Fact Type 1":"association","Fact Type 2":"trend",Chart:"juxtaposition",Measure:"",Subspace:"",Groupby:"",Focus:""},{"Fact Type 1":"trend","Fact Type 2":"distribution",Chart:"Vertical Bar Chart",Measure:"equal",Subspace:"equal",Groupby:"equal",Focus:""},{"Fact Type 1":"trend","Fact Type 2":"difference",Chart:"Vertical Bar Chart",Measure:"equal",Subspace:"equal",Groupby:"equal",Focus:"difference"},{"Fact Type 1":"trend","Fact Type 2":"rank",Chart:"juxtaposition",Measure:"",Subspace:"",Groupby:"",Focus:""},{"Fact Type 1":"trend","Fact Type 2":"categorization",Chart:"Isotype Bar Chart",Measure:"trend",Subspace:"equal",Groupby:"equal",Focus:""},{"Fact Type 1":"trend","Fact Type 2":"value",Chart:"juxtaposition",Measure:"",Subspace:"",Groupby:"",Focus:""},{"Fact Type 1":"trend","Fact Type 2":"extreme",Chart:"Line Chart",Measure:"equal",Subspace:"equal",Groupby:"equal",Focus:"extreme"},{"Fact Type 1":"trend","Fact Type 2":"proportion",Chart:"juxtaposition",Measure:"",Subspace:"",Groupby:"",Focus:""},{"Fact Type 1":"trend","Fact Type 2":"outlier",Chart:"Line Chart",Measure:"equal",Subspace:"equal",Groupby:"equal",Focus:"outlier"},{"Fact Type 1":"trend","Fact Type 2":"association",Chart:"juxtaposition",Measure:"",Subspace:"",Groupby:"",Focus:""},{"Fact Type 1":"trend","Fact Type 2":"trend",Chart:"Stacked Line Chart",Measure:"",Subspace:"",Groupby:"",Focus:""}],p="juxtaposition",f="Stacked Bar Chart",h="Stacked Line Chart",g=function(e,t){for(var n=e.slice(),r=0;r<n.length;r++)n[r].index=r,n[r].aggregated=!1,n[r].aggregatedFact=null;var i=function e(t){var n=[];if(!t)return n;if(t.size>2){var r=e(t.left),a=e(t.right);n.push.apply(n,Object(u.a)(r)),n.push.apply(n,Object(u.a)(a))}else 2===t.size?n.push([t.left.value,t.right.value]):n.push([t.value]);return n}(function(e,t,n,r,a){var i=new l(s,t=t||"average",n).cluster(e,r,a);return void 0===n?i[0]:i}(n)).filter((function(e){return e.length>1}));i.sort((function(e,t){return c(t[0],t[1])-c(e[0],e[1])}));var o,d=parseInt((i.length+1)*t),p=i.slice(0,d),f=Object(a.a)(p);try{for(f.s();!(o=f.n()).done;){var h=o.value,g=h[0].index<h[1].index?h[0].index:h[1].index,m=h[0].index>h[1].index?h[0].index:h[1].index;n[g]=v(n[g],n[m]),n[m].aggregated=!0,n[m].aggregatedFact=null}}catch(b){f.e(b)}finally{f.f()}return n},v=function(e,t){var n=d.filter((function(n){return n["Fact Type 1"]===e.type&&n["Fact Type 2"]===t.type}))[0],r=o.a.cloneDeep(e);if(r.aggregated=!0,r.aggregatedFact=o.a.cloneDeep(t),r.compoundType=[e.type,t.type],r.compoundChart=p,r.score+=r.aggregatedFact.score,n.chart===p)return r;if(n.chart===f)return r.compoundChart=f,r;if(n.chart===h)return r.compoundChart=h,r;if("equal"===n.Measure&&!m(new Set(e.measure.map((function(e){return e.field}))),new Set(t.measure.map((function(e){return e.field})))))return r;if("equal"===n.Subspace&&!m(new Set(e.subspace.map((function(e){return e.field+"++"+e.value}))),new Set(t.subspace.map((function(e){return e.field+"++"+e.value})))))return r;if("equal"===n.Groupby&&!m(new Set(e.groupby),new Set(t.groupby)))return r;if("equal"===n.Focus&&!m(new Set(e.focus.map((function(e){return e.field+"++"+e.value}))),new Set(t.focus.map((function(e){return e.field+"++"+e.value})))))return r;return r.compoundChart=n.Chart,"equal"!==n.Measure&&""!==n.Measure&&(e.type===n.Measure?r.measure=e.measure:r.measure=t.measure),"equal"!==n.Subspace&&""!==n.Subspace&&(e.type===n.Subspace?r.subspace=e.subspace:r.subspace=t.subspace),"equal"!==n.Groupby&&""!==n.Groupby&&(e.type===n.Groupby?r.groupby=e.groupby:r.groupby=t.groupby),"equal"!==n.Focus&&""!==n.Focus&&(e.type===n.Focus?r.focus=e.focus:r.focus=t.focus),r};function m(e,t){if(e.size!==t.size)return!1;var n,r=Object(a.a)(e);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!t.has(i))return!1}}catch(o){r.e(o)}finally{r.f()}return!0}var b=function(e){return e.story.file_url},y=function(e){return e.story.fileName},x=function(e){return e.story.title},O=function(e){return e.story.data},w=function(e){return e.story.schema},C=function(e){return e.story.originFileUrl},k=function(e){return e.story.originData},j=function(e){return e.story.originSchema},E=function(e){return e.story.relations},S=function(e){return e.story.maxStoryLength},T=function(e){return e.story.resultCoverage},I=function(e){return e.story.aggregationLevel},P=function(e){return e.story.rewardWeight},D=function(e){return e.story.generateProgress},N=Object(r.a)((function(e){return e.story.facts}),I,(function(e,t){return g(e,t)})),A=Object(r.a)(S,(function(e){return e.story.information}),(function(e){return e.story.chartDiversity}),(function(e){return e.story.timeLimit}),(function(e,t,n,r){return{maxStoryLength:e,information:t,chartDiversity:n,timeLimit:r}}))},,function(e,t,n){"use strict";var r="http://calliope-dev.idvxlab.com",a="https://".concat("calliope-service.idvxlab.com",":8002/api/v1"),i="https://".concat("calliope-service.idvxlab.com:8002"),o="https://".concat("calliope-service.idvxlab.com:8002"),c="https://".concat("calliope-service.idvxlab.com",":8002/log/v1"),s="https://account.datacalliope.com",l={url:{uploadFileUrl:"".concat("http://localhost:6038","/upload"),applicationUrl:r,publicPrefix:"http://calliope-dev.idvxlab.com",loginadmintest:"".concat(a,"/loginadmintest"),loginRedirectUrl:"".concat(s,"/#/login?response_type=code&client_id=").concat("6dcd0f8b-6990-4d69-9018-29b3351aa6ff","&grant_type=authorization_code&redirect_uri=").concat(r),logoutRedirectUrl:"".concat(r,"/#/logout"),authenUrl:s,accessToken:"".concat(a,"/accesstoken"),userImage:"".concat("https://service.datacalliope.com:8001","/img"),checkToken:"".concat(a,"/checktoken"),logout:"".concat(a,"/logout"),logoutAuthSystem:"".concat("https://service.datacalliope.com:8001","/logout"),users:"".concat(a,"/users"),activitiesApi:"".concat(c,"/users"),uploadDataPrefix:i,uploadData:"".concat(i,"/upload"),share:"".concat(i,"/share"),fetch:"".concat(i,"/data/share"),factScoring:"".concat(o,"/fact"),generate:"".concat(o,"/generate")}};t.a=l},,,function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(146);function a(e,t){if(e){if("string"===typeof e)return Object(r.a)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Object(r.a)(e,t):void 0}}},,function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={trend:{width:600,height:280},forecasting:{width:600,height:280},frequent_pattern:{width:600,height:280},seasonality:{width:600,height:280},univariate_outlier:{width:600,height:280},univariate_distribution:{width:600,height:280},similarity:{width:600,height:360},multivariate_outlier:{width:600,height:360},multivariate_distribution:{width:550,height:420},clustering:{width:314,height:216},origin:{width:600,height:360},outstanding:{width:600,height:280},autocorrelation:{width:600,height:280}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return ke}));var r=n(13),a=n(14),i=n(16),o=n(15),c=n(0),s=n.n(c),l=n(118),u=function(){function e(){Object(r.a)(this,e),this._table=[],this._schema=[]}return Object(a.a)(e,[{key:"table",value:function(){return this._table}},{key:"schema",value:function(){return this._schema}},{key:"load",value:function(e){var t=this;return new Promise((function(n,r){var a=[],i=e.schema.filter((function(e){return"numerical"===e.type}));if(a=i.map((function(e){return e.field})),"values"in e){var o=e.values;o.forEach((function(e,t){for(var n in e)-1!==a.indexOf(n)&&(e[n]=parseFloat(e[n]))})),t._table=o,t._schema=e.schema,n(t)}else l.e(e.url).then(function(t){t.forEach((function(e,t){for(var n in e)-1!==a.indexOf(n)&&(e[n]=parseFloat(e[n]))})),this._table=t,this._schema=e.schema,n(this)}.bind(t)).catch((function(e){r(e)}))}))}}]),e}(),d=n(123),p={SUM:"sum",MAX:"max",MIN:"min",AVG:"avg",COUNT:"count",NONE:"none"},f=function(){function e(){Object(r.a)(this,e),this._table=[],this._schema=[],this._factdata=[],this._type="",this._measure=[],this._subspace=[],this._breakdown=[],this._parameter="",this._focus=[]}return Object(a.a)(e,[{key:"table",value:function(e){if(!e)return this._table;this._table=e,this._factdata=e}},{key:"schema",value:function(e){this._schema=e}},{key:"factdata",value:function(){return this._factdata}},{key:"fact",value:function(){return{type:this._type,measure:this._measure,subspace:this._subspace,breakdown:this._breakdown,focus:this._focus,parameter:this._parameter}}},{key:"load",value:function(e){var t=this;this._type=e.type,this._measure=e.measure?e.measure:[],0===this._measure.length&&(this._measure=[{aggregate:"count"}]),this._subspace=e.subspace?e.subspace:[],this._breakdown=e.breakdown?e.breakdown:[],this._focus=e.focus?e.focus:[];var n,r={},a=Object(d.a)(this._schema);try{for(a.s();!(n=a.n()).done;){var i=n.value;r[i.field]={},r[i.field].subtype=i.subtype,r[i.field].pictype=i.pictype,r[i.field].type=i.type,r[i.field].values=i.values,r[i.field].isPostCode=i.isPostCode}}catch(s){a.e(s)}finally{a.f()}if(this._measure=this._measure.map((function(e){return"field"in e&&(e.type=r[e.field].type,r[e.field].subtype&&(e.subtype=r[e.field].subtype),r[e.field].pictype&&(e.pictype=r[e.field].pictype)),e})),this._subspace=this._subspace.map((function(e){return"NaN"!==parseInt(e).toString||(e.type=r[e.field].type,r[e.field].subtype&&(e.subtype=r[e.field].subtype),r[e.field].pictype&&(e.pictype=r[e.field].pictype),r[e.field].isPostCode&&(e.isPostCode=r[e.field].isPostCode)),e})),this._breakdown=this._breakdown.map((function(e){return e.type=r[e.field].type,r[e.field].subtype&&(e.subtype=r[e.field].subtype),r[e.field].pictype&&(e.pictype=r[e.field].pictype),r[e.field].values&&(e.values=r[e.field].values),r[e.field].isPostCode&&(e.isPostCode=r[e.field].isPostCode),e})),this._focus=this._focus.map((function(e){return e.type=r[e.field].type,r[e.field].subtype&&(e.subtype=r[e.field].subtype),r[e.field].pictype&&(e.pictype=r[e.field].pictype),e})),this._subspace.length>0&&(this._factdata=this.filter(this.factdata(),this._subspace)),this._measure.length>0){var o=this._measure,c=this._breakdown;this._factdata=this.aggregate(this._factdata,o,c)}try{this._parameter=this.parameter()}catch(l){console.log("parameter is wrong")}return new Promise((function(e,n){e(t)}))}},{key:"parameter",value:function(){this.factdata();var e=this.fact();e.breakdown,e.focus,e.measure}},{key:"filter",value:function(e,t){var n=e;if("NaN"!==parseInt(t[0]).toString())return 2===t.length?e.slice(t[0],t[1]+1):e;if(t[0].hasOwnProperty("operator"))return t.forEach((function(e){switch(e.operator){case"EQ":n=n.filter((function(t){return Math.abs(t[e.field]-parseFloat(e.value[0]))<.01}));break;case"IN":n=n.filter((function(t){return e.value.includes(t[e.field])}));break;case"RANGE":var t=parseFloat(e.value[0]),r=parseFloat(e.value[1]),a=t,i=r;t<r&&(a=r,i=t),n=n.filter((function(t){return t[e.field]>=i&&t[e.field]<=a}));break;case"NOT RANGE":var o=parseFloat(e.value[0]),c=parseFloat(e.value[1]),s=o,l=c;o<c&&(s=c,l=o),n=n.filter((function(t){return t[e.field]<l||t[e.field]>s}));break;case"GT":n=n.filter((function(t){return t[e.field]>parseFloat(e.value[0])}));break;case"LT":n=n.filter((function(t){return t[e.field]<parseFloat(e.value[0])}));break;default:console.log("operator error!not in [GT,IN,LT,NOT RANGE,RANGE,EQ]")}})),n;var r,a=Object(d.a)(t);try{var i=function(){var e=r.value;n=n.filter((function(t){return t[e.field]===e.value}))};for(a.s();!(r=a.n()).done;)i()}catch(o){a.e(o)}finally{a.f()}return n}},{key:"aggregate",value:function(e,t,n){return e}},{key:"agg",value:function(e,t,n){var r={},a=[];a=a.concat(n.map((function(e){return e.field}))),"count"!==t.aggregate&&a.push(t.field);for(var i=0,o=Object.keys(t);i<o.length;i++){var c=o[i];a.push(t[c])}switch(r=e.map((function(e){var t,n={},r=Object(d.a)(a);try{for(r.s();!(t=r.n()).done;){var i=t.value;n[i]=e[i]}}catch(o){r.e(o)}finally{r.f()}return n})),t.aggregate){case p.SUM:r=this.sum(r,t,n);break;case p.AVG:r=this.avg(r,t,n);break;case p.MAX:r=this.max(r,t,n);break;case p.MIN:r=this.min(r,t,n);break;case p.COUNT:r=this.count(r,t,n);break;default:r=this.max(r,t,n)}return r}},{key:"sum",value:function(e,t,n){var r=[];if(n.length>1){var a,i=l.p().key((function(e){return e[n[1].field]})).entries(e),o=Object(d.a)(i);try{var c=function(){var e=a.value,i=l.p().key((function(e){return e[n[0].field]})).entries(e.values),o=new Array(i.length).fill(0),c=i.map((function(e,n){e.values.forEach((function(e){o[n]+=e[t.field]}));var r=Object.assign({},e.values[0]);return r[t.field]=o[n],r}));r=r.concat(c)};for(o.s();!(a=o.n()).done;)c()}catch(h){o.e(h)}finally{o.f()}}else if(1===n.length){var s=l.p().key((function(e){return e[n[0].field]})).entries(e),u=new Array(s.length).fill(0);r=s.map((function(e,n){e.values.forEach((function(e){u[n]+=e[t.field]}));var r=Object.assign({},e.values[0]);return r[t.field]=u[n],r}))}else{var p={};p[t.field]=0;for(var f=0;f<e.length;f++)p[t.field]+=e[f][t.field];r.push(p)}return r}},{key:"avg",value:function(e,t,n){var r=[];if(n.length>1){var a,i=l.p().key((function(e){return e[n[1].field]})).entries(e),o=Object(d.a)(i);try{var c=function(){var e=a.value,i=l.p().key((function(e){return e[n[0].field]})).entries(e.values),o=new Array(i.length).fill(0),c=i.map((function(e,n){e.values.forEach((function(e){o[n]+=e[t.field]}));var r=Object.assign({},e.values[0]);return r[t.field]=o[n]/e.values.length,r}));r=r.concat(c)};for(o.s();!(a=o.n()).done;)c()}catch(h){o.e(h)}finally{o.f()}}else if(1===n.length){var s=l.p().key((function(e){return e[n[0].field]})).entries(e),u=new Array(s.length).fill(0);r=s.map((function(e,n){e.values.forEach((function(e){u[n]+=e[t.field]}));var r=Object.assign({},e.values[0]);return r[t.field]=u[n]/e.values.length,r}))}else{var p={};p[t.field]=0;for(var f=0;f<e.length;f++)p[t.field]+=e[f][t.field];p[t.field]/=e.length,r.push(p)}return r}},{key:"max",value:function(e,t,n){var r=[];if(n.length>1){var a,i=l.p().key((function(e){return e[n[1].field]})).entries(e),o=Object(d.a)(i);try{for(o.s();!(a=o.n()).done;){var c=a.value,s=l.p().key((function(e){return e[n[0].field]})).entries(c.values).map((function(e,n){var r=l.v(e.values,(function(e,n){if(e[t.field]&&n[t.field])return n[t.field]-e[t.field]}));return r>=0?e.values[r]:e.values[0]}));r=r.concat(s)}}catch(f){o.e(f)}finally{o.f()}}else if(1===n.length){r=l.p().key((function(e){return e[n[0].field]})).entries(e).map((function(e,n){var r=l.v(e.values,(function(e,n){if(e[t.field]&&n[t.field])return n[t.field]-e[t.field]}));return r>=0?e.values[r]:e.values[0]}))}else{var u={};u[t.field]=e[0][t.field];for(var p=0;p<e.length;p++)u[t.field]<e[p][t.field]&&(u[t.field]=e[p][t.field]);r.push(u)}return r}},{key:"min",value:function(e,t,n){var r=[];if(n.length>1){var a,i=l.p().key((function(e){return e[n[1].field]})).entries(e),o=Object(d.a)(i);try{for(o.s();!(a=o.n()).done;){var c=a.value,s=l.p().key((function(e){return e[n[0].field]})).entries(c.values).map((function(e){var n=l.v(e.values,(function(e,n){if(e[t.field]&&n[t.field])return e[t.field]-n[t.field]}));return n>=0?e.values[n]:e.values[0]}));r=r.concat(s)}}catch(f){o.e(f)}finally{o.f()}}else if(1===n.length){r=l.p().key((function(e){return e[n[0].field]})).entries(e).map((function(e){var n=l.v(e.values,(function(e,n){if(e[t.field]&&n[t.field])return e[t.field]-n[t.field]}));return n>=0?e.values[n]:e.values[0]}))}else{var u={};u[t.field]=e[0][t.field];for(var p=0;p<e.length;p++)u[t.field]>e[p][t.field]&&(u[t.field]=e[p][t.field]);r.push(u)}return r}},{key:"count",value:function(e,t,n){var r=[];if(n.length>1){var a,i=l.p().key((function(e){return e[n[1].field]})).entries(e),o=Object(d.a)(i);try{var c=function(){var e=a.value,t=l.p().key((function(e){return e[n[0].field]})).entries(e.values),i=new Array(t.length).fill(0),o=t.map((function(e,t){e.values.forEach((function(){i[t]+=1}));var n=e.values[0];return n.COUNT=i[t],n}));r=r.concat(o)};for(o.s();!(a=o.n()).done;)c()}catch(f){o.e(f)}finally{o.f()}}else if(1===n.length){var s=l.p().key((function(e){return e[n[0].field]})).entries(e),u=new Array(s.length).fill(0);r=s.map((function(e,t){e.values.forEach((function(){u[t]+=1}));var n=e.values[0];return n.COUNT=u[t],n}))}else{var p={COUNT:e.length};r.push(p)}return r}}]),e}(),h={FREQUENT_PATTERN:"frequent_pattern",UNIVARIATE_OUTLIER:"univariate_outlier",MULTIVARIATE_OUTLIER:"multivariate_outlier",TREND:"trend",FORECASTING:"forecasting",UNIVARIATE_DISTRIBUTION:"univariate_distribution",MULTIVARIATE_DISTRIBUTION:"multivariate_distribution",SEASONALITY:"seasonality",CLUSTERING:"clustering",SIMILARITY:"similarity",ORIGIN:"origin",AUTOCORRELATION:"autocorrelation",OUTSTANDING:"outstanding"},g=function(){function e(){Object(r.a)(this,e),this._container=document.createElement("div"),this._width=0,this._height=0,this._table=[],this._factdata=[],this._subspace=[],this._measure=[],this._breakdown=[],this._focus=[],this._duration=0,this._showTooltip=!1,this._showSuggestion=!1}return Object(a.a)(e,[{key:"container",value:function(e){if(!e)return l.w(this._container).selectAll("*").remove(),this._container;this._container=e}},{key:"style",value:function(e){if(!e)return this._style;this._style=e}},{key:"size",value:function(e){if(!e)return this._size;this._size=e}},{key:"width",value:function(e){if(!e)return 0!==this._width?this._width:640;this._width=e}},{key:"height",value:function(e){if(!e)return 0!==this._height?this._height:400;this._height=e}},{key:"table",value:function(e){if(!e)return this._table;this._table=e}},{key:"factdata",value:function(e){if(!e)return this._factdata;this._factdata=e}},{key:"subspace",value:function(e){if(!e)return this._subspace;this._subspace=e}},{key:"measure",value:function(e){if(!e)return this._measure;this._measure=e}},{key:"breakdown",value:function(e){if(!e)return this._breakdown;this._breakdown=e}},{key:"focus",value:function(e){if(!e)return this._focus;this._focus=e}},{key:"duration",value:function(e){if(!e)return this._duration;this._duration=e}},{key:"showSuggestion",value:function(e){if(!e)return this._showSuggestion;this._showSuggestion=e}},{key:"showTooltip",value:function(e){if(!e)return this._showTooltip;this._showTooltip=e}},{key:"toSVG",value:function(){}},{key:"toJPG",value:function(){}}]),e}(),v=function(e){return l.D("%Y-%m-%d")(e)?l.D("%Y-%m-%d")(e):l.D("%Y/%m/%d")(e)?l.D("%Y/%m/%d")(e):l.D("%Y-%m")(e)?l.D("%Y-%m")(e):l.D("%Y/%m")(e)?l.D("%Y/%m")(e):l.D("%Y")(e)?l.D("%Y")(e):l.D("%Y-%m-%dT%H:%M:%S.%fZ")(e)?l.D("%Y-%m-%dT%H:%M:%S.%fZ")(e):l.D("%Y-%m-%d %H:%M:%S")(e)?l.D("%Y-%m-%d %H:%M:%S")(e):l.D("%Y-%m-%d %H:%M:%S.%f")(e)?l.D("%Y-%m-%d %H:%M:%S.%f")(e):e},m=function(e){return l.D("%Y-%m-%d")(e)?l.B("%Y-%-m-%-d"):l.D("%Y/%m/%d")(e)?l.B("%Y/%-m/%-d"):l.D("%Y-%m")(e)?l.B("%Y%-m"):l.D("%Y/%m")(e)?l.B("%Y/%m"):l.D("%Y")(e)?l.B("%Y"):l.D("%Y-%m-%dT%H:%M:%S.%fZ")(e)?l.B("%Y-%m-%dT%H:%M:%S.%fZ"):l.D("%Y-%m-%d %H:%M:%S")(e)?l.B("%Y-%m-%d %H:%M:%S"):l.D("%Y-%m-%d %H:%M:%S.%f")(e)?l.B("%Y-%m-%d %H:%M:%S.%f"):""},b=function(e){return l.D("%Y-%m-%d")(e)||l.D("%Y/%m/%d")(e)?l.A:l.D("%Y-%m")(e)||l.D("%Y/%m")(e)?l.C:l.D("%Y")(e)?l.E:l.D("%Y-%m-%dT%H:%M:%S.%fZ")(e)?l.B("%Y-%m-%dT%H:%M:%S.%fZ"):l.D("%Y-%m-%d %H:%M:%S")(e)?l.B("%Y-%m-%d %H:%M:%S"):l.D("%Y-%m-%d %H:%M:%S.%f")(e)?l.B("%Y-%m-%d %H:%M:%S.%f"):void 0},y=864e5,x=["#6C8EF2","#E1944E","#8B65BA","#4B8384"],O=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(){var e;return Object(r.a)(this,n),(e=t.call(this))._x="",e._y="",e}return Object(a.a)(n,[{key:"display",value:function(){var e=this.factdata(),t=(this.measure(),this.breakdown()),n=this.focus(),r=e=e.sort((function(e,n){return v(e[t[0].field])-v(n[t[0].field])}));if(0!==n.length){var a=600,i=360,o=15,c=5,s=a-c-20,u=i-o-15,p=(this.container(),l.w(this.container()).append("svg").attr("width",a).attr("height",i).append("g").attr("transform","translate("+(c+10)+","+o+")").attr("font-family","OPPOSans")),f=p.append("g").attr("class","lineLayer"),h=l.u().range([30,s-10]);h.domain(l.i(r,(function(e){return v(e[t[0].field])})));var g=b(r[0][t[0].field]),y=m(r[0][t[0].field]),O=l.b(h).tickFormat(y);g===l.E&&O.ticks(g);var w,C=p.append("g").attr("class","tooltip"),k=[],j=p.append("g").attr("class","yAxis"),E=[],S=(u-20+15)/n[0].clusters.length,T=Object(d.a)(n);try{for(T.s();!(w=T.n()).done;){var I=w.value,P=Math.max(0,I.start-1),D=Math.min(r.length-1,I.end+1);k.push(v(r[P][t[0].field])),k.push(v(r[D][t[0].field]));for(var N=function(){var e=I.clusters[A],n=l.t().range([S*(A+1)-15,S*A]);f.append("g").selectAll("line.line").data(n.ticks(5)).enter().append("line").attr("x1",30).attr("x2",a).attr("y1",(function(e){return n(e)})).attr("y2",(function(e){return n(e)})).attr("stroke","#E6E6E6").attr("stroke-width","2px"),C.append("rect").attr("width",h(v(r[D][t[0].field]))-h(v(r[P][t[0].field]))).attr("height",S-15).style("fill","rgb(100%,"+100*(1-e.center.score)+"%,"+100*(1-e.center.score)+"%, 50%)").attr("x",h(v(r[P][t[0].field]))).attr("y",S*A),A===I.clusters.length-1&&C.append("rect").attr("width",h(v(r[D][t[0].field]))-h(v(r[P][t[0].field]))).attr("height",10).style("fill","red").attr("x",h(v(r[P][t[0].field]))).attr("y",S*(A+1)-15),n.domain([0,1]);var i,o=Object(d.a)(e.other);try{var c=function(){var e=i.value;n.domain(l.i([].concat(r.map((function(t){return t[e.field]})))));var a=l.l().curve(l.g).x((function(e){return h(v(e[t[0].field]))})).y((function(t){return n(t[e.field])}));f.append("path").attr("d",a(r)).attr("stroke","#808080").attr("stroke-width","2px").attr("fill","none").attr("opacity",.5)};for(o.s();!(i=o.n()).done;)c()}catch(y){o.e(y)}finally{o.f()}n.domain([0,1]);for(var s=l.l().curve(l.g).x((function(e){return h(v(e.x))})).y((function(e){return n(e.y)})),u=[],p=0;p<e.center.value.length;p++)u.push({x:r[P+p][t[0].field],y:e.center.value[p]});C.append("path").attr("d",s(u)).attr("stroke",x[A]).attr("stroke-width","2px").attr("fill","none");var g=[];g.push({x:r[P][t[0].field],y:e.center.value[0]});for(var m=0;m<e.center.forecast.length;m++)g.push({x:r[P+1+m][t[0].field],y:e.center.forecast[m]});g.push({x:r[D][t[0].field],y:e.center.value[e.center.value.length-1]}),C.append("path").attr("d",s(g)).attr("stroke",x[A]).attr("stroke-width","2px").attr("stroke-dasharray","6, 3").attr("fill","none"),I.clusters.length<=3&&n.domain(l.i([].concat(r.map((function(t){return t[e.other[0].field]}))))),j.append("g").attr("transform","translate(30, 0)").call(l.c(n).ticks(5).tickFormat((function(e){return e/1e6>=1?e=e/1e6+"M":e/1e3>=1&&(e=e/1e3+"K"),e}))).call((function(e){e.attr("font-size","10px"),e.attr("font-weight","light"),e.attr("font-family","OPPOSans");var t=e.selectAll(".domain").attr("d");t=(t=t.replace("M-6","M-"+6*a/640)).replace("H-6","H-"+6*a/640),e.selectAll(".domain").attr("d",t).attr("stroke-width",2),e.selectAll(".tick").select("line").attr("stroke","#000000").attr("stroke-width",2).attr("x2",-6*a/640),e.selectAll("text").attr("x",-9*a/640)}));var b=j.append("text").attr("transform","rotate(-90)").attr("y",-5).attr("x",0-(S*(2*A+1)-15)/2).style("text-anchor","middle").style("font-size","10px").text(e.other[0].field);j.append("rect").attr("transform","rotate(-90)").style("text-anchor","middle").attr("x",b.node().getBBox().x).attr("y",b.node().getBBox().y).attr("width",b.node().getBBox().width+2).attr("height",b.node().getBBox().height).attr("fill",x[A]),b.node().remove(),j.append("text").attr("transform","rotate(-90)").attr("y",-5).attr("x",0-(S*(2*A+1)-15)/2).style("text-anchor","middle").style("font-size","10px").text(e.other[0].field),E.push(n)},A=0;A<I.clusters.length;A++)N();var _=C.append("g"),M=_.append("text").attr("font-size","10px").attr("font-family","OPPOSans").attr("stroke","#F72D35");M.append("tspan").text("Anomaly score: "+I.score.toFixed(4)).attr("dy",.9*M.selectAll("tspan").node().getBBox().height);var R=_.node().getBBox().width,F=_.node().getBBox().height,B=u,L=(h(v(r[P][t[0].field]))+h(v(r[D+1][t[0].field])))/2;_.append("image").attr("xlink:href","./alert.svg").attr("width","15px").attr("height","13px").attr("x",L-(R+17)/2).attr("y",B+2),M.attr("width",R).attr("height",F).attr("x",L-(R+17)/2+17).attr("y",B)}}catch(G){T.e(G)}finally{T.f()}return O.tickValues(k),p.append("g").attr("class","xAxis").attr("transform","translate(0,"+(u-20)+")").call(O).attr("font-family","OPPOSans").call((function(e){e.attr("font-size",10),e.attr("font-family","OPPOSans");var t=e.selectAll(".domain").attr("d");t=(t=t.replace("6V",6*i/320+"V")).replace("V6","V"+6*i/320),e.selectAll(".domain").attr("d",t).attr("stroke-width",2),e.selectAll(".tick").selectAll("line").attr("stroke","#000000").attr("stroke-width",2).attr("y2",6*i/320),e.selectAll("text").attr("y",9*i/320);var n=e.selectAll("text").nodes();l.w(n[0]).attr("x",-n[0].getBBox().width/2+5),l.w(n[1]).attr("x",n[0].getBBox().width/2-5)})),p}}}]),n}(g);function w(){var e=0,t=0,n=n||window.event;return n.pageX||n.pageY?(e=n.pageX,t=n.pageY):(n.clientX||n.clientY)&&(e=n.clientX+document.documentElement.scrollLeft+document.body.scrollLeft,t=n.clientY+document.documentElement.scrollTop+document.body.scrollTop),{posX:e,posY:t}}var C=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(){var e;return Object(r.a)(this,n),(e=t.call(this))._x="",e._y="",e}return Object(a.a)(n,[{key:"display",value:function(){var e=this.parseFact(),t=e._data,n=e._measure,r=e._breakdown,a=e._focus,i=e._measureName;if(0!==a.length&&(!r[1]||!r[1].field)){var o=this.setChartStandard(),c=o._chartSize,s=o._width,l=o._height,u=o._margin,d=this.initSvg(c,u),p=d.append("g").attr("class","tooltip"),f=this.drawXAxis(d,t,r,s,l,c),h=f._x,g=f._axisX,m=f._tick_format,b=this.drawYAxis(d,t,n,c,l),y=h(v(t[0][r[0].field])),x=h(v(t[t.length-1][r[0].field])),O=this.drawUnivariateDistribution(b,t,y,x,r,a,d,p,g),w=O._mean,C=O._x_mean,j=O._y_mean;p=O._tooltipLayer;var E=d.append("g").attr("class","lineLayer"),S=this.drawBackLine(h,b,t,E,r,i,s),T=S._rawPath;S._lineGen;return this.drawInsightText(d,b,y,x,w,C,j),this._showTooltip&&k("#whole-container",T,h,b,l,t,r,i,m,p),d}}},{key:"parseFact",value:function(){var e=this.factdata(),t=this.measure();return{_data:e,_measure:t,_breakdown:this.breakdown(),_focus:this.focus(),_measureName:"count"===t[0].aggregate?"COUNT":t[0].field}}},{key:"setChartStandard",value:function(){var e={width:600,height:280},t={top:15,right:20,bottom:15,left:20};return{_width:e.width-t.left-t.right,_height:e.height-t.top-t.bottom,_chartSize:e,_margin:t}}},{key:"initSvg",value:function(e,t){return l.w(this.container()).append("svg").attr("width",e.width).attr("height",e.height).append("g").attr("transform","translate("+(t.left+10)+","+t.top+")").attr("font-family","OPPOSans")}},{key:"drawXAxis",value:function(e,t,n,r,a,i){var o=l.u().range([0,r-20]);o.domain(l.i(t,(function(e){return v(e[n[0].field])})));var c=b(t[0][n[0].field]),s=m(t[0][n[0].field]),u=l.b(o).tickFormat(s);return c===l.E&&u.ticks(c),e.append("g").attr("class","xAxis").attr("transform","translate(0,"+(a-20)+")").call(u).call((function(e){e.attr("font-size","10px"),e.attr("font-family","OPPOSans"),e.attr("font-weight","light");var t=e.selectAll(".domain").attr("d");t=(t=t.replace("6V",6*i.height/320+"V")).replace("V6","V"+6*i.height/320),e.selectAll(".domain").attr("d",t).attr("stroke-width",2),e.selectAll(".tick").selectAll("line").attr("stroke","#000000").attr("stroke-width",2).attr("y2",5),e.selectAll("text").attr("y",10)})),{_x:o,_axisX:u,_tick_format:s}}},{key:"drawYAxis",value:function(e,t,n,r,a){var i=l.t().range([a-20,0]);return i.domain(l.i([].concat(t.map((function(e){return.85*e[n[0].field]})),t.map((function(e){return 1.15*e[n[0].field]}))))),e.append("g").attr("class","yAxis").call(l.c(i).ticks(5).tickFormat((function(e){return e/1e6>=1?e=e/1e6+"M":e/1e3>=1&&(e=e/1e3+"K"),e}))).call((function(e){e.attr("font-size","10px"),e.attr("font-weight","light"),e.attr("font-family","OPPOSans");var t=e.selectAll(".domain").attr("d");t=(t=t.replace("M-6","M-"+6*r.width/640)).replace("H-6","H-"+6*r.width/640),e.selectAll(".domain").attr("d",t).attr("stroke-width",2),e.selectAll(".tick").select("line").attr("stroke","#000000").attr("stroke-width",2).attr("x2",-5),e.selectAll("text").attr("x",-10)})),i}},{key:"drawBackLine",value:function(e,t,n,r,a,i,o){r.append("g").selectAll("line.line").data(t.ticks(5)).enter().append("line").attr("x1",0).attr("x2",o-20).attr("y1",(function(e){return t(e)})).attr("y2",(function(e){return t(e)})).attr("stroke","#E6E6E6").attr("stroke-width","2px");var c=l.l().curve(l.g).x((function(t){return e(v(t[a[0].field]))})).y((function(e){return t(e[i])}));return{_rawPath:r.append("path").attr("d",c(n)).attr("stroke","#6C8EF2").attr("stroke-width","3px").attr("fill","none"),_lineGen:c}}},{key:"drawUnivariateDistribution",value:function(e,t,n,r,a,i,o,c,s){var l,u=[],p=[0,0],f=0,h=0,g=0,m=Object(d.a)(i);try{for(m.s();!(l=m.n()).done;){var b=l.value,y=e(b.value);if("mean"===b.name)f=b.value,h=r,g=y;else if("mean-2std"===b.name)p[0]=b.value;else if("mean+2std"===b.name)p[1]=b.value;else if("min"===b.name){c.append("line").attr("x1",n).attr("y1",e(b.value)).attr("x2",r).attr("y2",e(b.value)).attr("stroke-width","1px").attr("stroke","black").attr("stroke-dasharray","6px");var x=c.append("text").attr("font-size","10px").attr("font-family","OPPOSans").attr("fill","#000000");x.append("tspan").text("Min: "+b.value).attr("dy",.9*x.selectAll("tspan").node().getBBox().height);var O=x.node().getBBox().width,w=1.5*x.node().getBBox().height;x.attr("width",O).attr("height",w).attr("x",r-O).attr("y",y-w)}else if("max"===b.name){c.append("line").attr("x1",n).attr("y1",e(b.value)).attr("x2",r).attr("y2",e(b.value)).attr("stroke-width","1px").attr("stroke","black").attr("stroke-dasharray","6px");var C=c.append("text").attr("font-size","10px").attr("font-family","OPPOSans").attr("fill","#000000");C.append("tspan").text("Max: "+b.value).attr("dy",.9*C.selectAll("tspan").node().getBBox().height);var k=C.node().getBBox().width,j=1.5*C.node().getBBox().height;C.attr("width",k).attr("height",j).attr("x",r-k).attr("y",y-j)}}}catch(E){m.e(E)}finally{m.f()}return o.append("rect").attr("x",0).attr("y",e(p[1])).attr("width",r-n).attr("height",e(p[0])-e(p[1])).attr("fill","#8ED9AB").attr("opacity",.3),u.push(v(t[10][a[0].field])),u.push(v(t[t.length-10][a[0].field])),s.tickValues(u),{_tooltipLayer:c,_mean:f,_x_mean:h,_y_mean:g}}},{key:"drawInsightText",value:function(e,t,n,r,a,i,o){var c=e.append("g").attr("class","tooltip").style("background-color","white").style("opacity",.8);c.append("line").attr("x1",n).attr("y1",t(a)).attr("x2",r).attr("y2",t(a)).attr("stroke-width","1px").attr("stroke","black");var s=c.append("text").attr("font-size","10px").attr("font-family","OPPOSans").attr("fill","#000000");s.append("tspan").text("Avg: "+a).attr("dy",.9*s.selectAll("tspan").node().getBBox().height);var l=s.node().getBBox().width,u=1.5*s.node().getBBox().height;e.append("rect").attr("x",i-l).attr("y",o-1.15*u).attr("width",l).attr("height",u).attr("fill","white").attr("opacity",.8),s.attr("width",l).attr("height",u).attr("x",i-l).attr("y",o-u);var d=e.append("g").attr("class","tooltip").style("background-color","white").style("opacity",.8).append("text").attr("font-size","10px").attr("font-family","OPPOSans").attr("fill","#000000");d.append("tspan").text("Avg: "+a).attr("dy",.9*d.selectAll("tspan").node().getBBox().height),d.attr("width",l).attr("height",u).attr("x",i-l).attr("y",o-u)}}]),n}(g),k=function(e,t,n,r,a,i,o,c,s,u){var d=l.w(e).append("div").attr("id","value-tooltip").style("z-index",2e3).style("width","95px").style("width","fit-content").style("opacity",0).style("position","absolute").style("pointer-events","none").style("border-radius","4px").style("background","#FFFFFF").style("box-shadow","0 0 5px #888888").style("padding","5px"),p=d.append("span").style("font","9px ".concat("OPPOSans")).style("font-weight","bold").style("display","block").style("color","#000000"),f=d.append("svg").attr("width","95px").attr("height","30px"),h=f.append("circle").attr("r",4).attr("cx","5px").attr("cy","12px"),g=f.append("text").style("font","8px ".concat("OPPOSans")).style("color","#000000").attr("x","14px").attr("y","14px");t.on("mouseover",(function(e){d.transition().duration(200).style("opacity",.9),b.transition().duration(200).style("opacity",1)})).on("mouseout",(function(e){document.elementFromPoint(l.h.pageX,l.h.pageY)!==x.node()&&(d.transition().duration(500).style("opacity",0),b.transition().duration(500).style("opacity",0))})).on("mousemove",(function(e){var t=w(),a=n.invert(l.o(this)[0]),u=m(i,a,1),f=v(i[u-1][o[0].field]),b=v(i[u][o[0].field]),O=a-f>b-a?b:f,C=O===f?i[u-1][c]:i[u][c],k=s(O);d.style("left",t.posX+30+"px").style("top",t.posY+20+"px"),p.html(k),h.style("fill","#6C8EF2"),g.html(c+": "+C.toFixed(2)),y.attr("x1",n(O)),y.attr("x2",n(O)),x.attr("cx",n(O)),x.attr("cy",r(C)),x.attr("stroke","#6C8EF2")}));var m=l.d((function(e){return v(e[o[0].field])})).left,b=u.append("g").style("opacity",0),y=b.append("line").attr("y1",a-20).attr("y2",0).attr("stroke-width","2px").attr("stroke","#E6E6E6").attr("stroke-dasharray","6, 3"),x=b.append("circle").attr("r",3).attr("fill","#FFFFFF").attr("stroke-width","2").style("box-shadow","0 0 5px #888888").on("mouseover",(function(e){d.transition().duration(200).style("opacity",.9),b.transition().duration(200).style("opacity",1)})).on("mouseout",(function(e){d.transition().duration(500).style("opacity",0),b.transition().duration(500).style("opacity",0)}))},j=C,E=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(){var e;return Object(r.a)(this,n),(e=t.call(this))._x="",e._y="",e}return Object(a.a)(n,[{key:"display",value:function(){var e=this.parseFact(),t=e._data,n=e._measure,r=e._breakdown,a=e._focus,i=e._measureName;if(0!==a.length&&(!r[1]||!r[1].field)){var o=this.setChartStandard(),c=o._chartSize,s=o._width,u=o._height,d=o._margin,p=this.initSvg(c,d),f=p.append("g").attr("class","lineLayer"),h=p.append("g").attr("class","tooltip"),g=l.u().range([0,s]);g.domain(l.i(t,(function(e){return v(e[r[0].field])})));var y=b(t[0][r[0].field]),x=m(t[0][r[0].field]),O=l.b(g).tickFormat(x);y===l.E&&O.ticks(y);var w=this.drawYAxis(p,t,n,c,u),C=this.drawBackLine(g,w,t,f,r,i,c),k=C._rawPath,j=C._lineGen;return this.drawTrend(g,w,p,t,r,n,a,i,u,f,h,O,j),this._showTooltip&&S("#whole-container",k,g,w,u,t,r,i,x,h),p.append("g").attr("class","xAxis").attr("transform","translate(0,"+(u-20)+")").call(O).call((function(e){e.attr("font-size","10px"),e.attr("font-family","OPPOSans"),e.attr("font-weight","lighter");var t=e.selectAll(".domain").attr("d");t=(t=t.replace("6V",6*c.height/320+"V")).replace("V6","V"+6*c.height/320),e.selectAll(".domain").attr("d",t).attr("stroke-width",2),e.selectAll(".tick").selectAll("line").attr("stroke","#000000").attr("stroke-width",2).attr("y2",5),e.selectAll("text").attr("y",10)})),p}}},{key:"parseFact",value:function(){var e=this.factdata(),t=this.measure(),n=this.breakdown(),r=this.focus(),a=e=e.sort((function(e,t){return v(e[n[0].field])-v(t[n[0].field])})),i="count"===t[0].aggregate?"COUNT":t[0].field;return{_data:a,_measure:t,_breakdown:n,_focus:r,_measureName:i}}},{key:"setChartStandard",value:function(){var e={width:600,height:280},t={top:15,right:20,bottom:15,left:20};return{_width:e.width-t.left-t.right,_height:e.height-t.top-t.bottom,_chartSize:e,_margin:t}}},{key:"initSvg",value:function(e,t){return l.w(this.container()).append("svg").attr("width",e.width).attr("height",e.height).append("g").attr("transform","translate("+(t.left+10)+","+t.top+")").attr("font-family","OPPOSans")}},{key:"drawYAxis",value:function(e,t,n,r,a){var i=l.t().range([a-20,0]);return i.domain(l.i([].concat(t.map((function(e){return.95*e[n[0].field]})),t.map((function(e){return 1.05*e[n[0].field]}))))),e.append("g").attr("class","yAxis").call(l.c(i).ticks(5).tickFormat((function(e){return e/1e6>=1?e=e/1e6+"M":e/1e3>=1&&(e=e/1e3+"K"),e}))).call((function(e){e.attr("font-size","10px"),e.attr("font-weight","lighter"),e.attr("font-family","OPPOSans");var t=e.selectAll(".domain").attr("d");t=(t=t.replace("M-6","M-"+6*r.width/640)).replace("H-6","H-"+6*r.width/640),e.selectAll(".domain").attr("d",t).attr("stroke-width",2),e.selectAll(".tick").select("line").attr("stroke","#000000").attr("stroke-width",2).attr("x2",-5),e.selectAll("text").attr("x",-10)})),i}},{key:"drawBackLine",value:function(e,t,n,r,a,i,o){r.append("g").selectAll("line.line").data(t.ticks(5)).enter().append("line").attr("x1",0).attr("x2",o.width).attr("y1",(function(e){return t(e)})).attr("y2",(function(e){return t(e)})).attr("stroke","#E6E6E6").attr("stroke-width","2px");var c=l.l().curve(l.g).x((function(t){return e(v(t[a[0].field]))})).y((function(e){return t(e[i])}));return{_rawPath:r.append("path").attr("d",c(n)).attr("stroke","#6C8EF2").attr("stroke-width","5px").attr("fill","none"),_lineGen:c}}},{key:"drawTrend",value:function(e,t,n,r,a,i,o,c,s,l,u,p,f){var h,g=[],m=Object(d.a)(o);try{for(m.s();!(h=m.n()).done;){var b=h.value,y=b.scope[0],x=b.scope[1],O=b.value,w=e(v(r[y][a[0].field])),C=e(v(r[x][a[0].field])),k=t(r[x-1][c]);u.append("line").attr("x1",w).attr("y1",t(r[y][c])).attr("x2",w).attr("y2",s-20).attr("stroke-width","1px").attr("stroke","black").attr("stroke-dasharray","6, 3"),u.append("line").attr("x1",C).attr("y1",t(r[x][c])).attr("x2",C).attr("y2",s-20).attr("stroke-width","1px").attr("stroke","black").attr("stroke-dasharray","6, 3");for(var j=[],E=y,S=0;E<x+1;E++,S++){var T={};T[a[0].field]=r[E][a[0].field],T[i[0].field]=o[0].regression[S],j.push(T)}l.append("path").attr("d",f(j)).attr("stroke-width","2px").attr("stroke","black").attr("stroke-dasharray","6, 3").attr("fill","none");var I=u.append("text").attr("font-size","10px").attr("font-family","OPPOSans").attr("font-weight","bold").attr("fill","#FFC111"),P=j[0][c]<j[j.length-1][c];I.append("tspan").text((P?"increasing "+(100*O).toFixed(2):"descreasing "+(100*O).toFixed(2))+"%").attr("dy",.9*I.selectAll("tspan").node().getBBox().height);var D=I.node().getBBox().width,N=I.node().getBBox().height;I.attr("width",D).attr("height",N).attr("x",C-D-10).attr("y",k-N-80+(P?-5:15));var A=P?"./arrow-up.png":"./arrow-down.png";n.append("image").attr("xlink:href",A).attr("width","70px").attr("height","20px").attr("x",C-40).attr("y",k-N-80),g.push(v(r[y][a[0].field])),g.push(v(r[x][a[0].field]))}}catch(_){m.e(_)}finally{m.f()}p.tickValues(g)}}]),n}(g),S=function(e,t,n,r,a,i,o,c,s,u){var d=l.w(e).append("div").attr("id","value-tooltip").style("z-index",2e3).style("width","fit-content").style("height","40px").style("opacity",0).style("position","absolute").style("pointer-events","none").style("border-radius","4px").style("background","#FFFFFF").style("box-shadow","0 0 5px #888888").style("padding","5px"),p=d.append("span").style("font","9px ".concat("OPPOSans")).style("font-weight","bold").style("display","block").style("color","#000000"),f=d.append("svg").attr("width","95px").attr("height","30px"),h=f.append("circle").attr("r",4).attr("cx","5px").attr("cy","12px"),g=f.append("text").style("font","8px ".concat("OPPOSans")).style("color","#000000").attr("x","14px").attr("y","14px");t.on("mouseover",(function(e){d.transition().duration(200).style("opacity",.9),b.transition().duration(200).style("opacity",1)})).on("mouseout",(function(e){document.elementFromPoint(l.h.pageX,l.h.pageY)!==x.node()&&(d.transition().duration(500).style("opacity",0),b.transition().duration(500).style("opacity",0))})).on("mousemove",(function(e){var t=w(),a=n.invert(l.o(this)[0]),u=m(i,a,1),f=v(i[u-1][o[0].field]),b=v(i[u][o[0].field]),O=a-f>b-a?b:f,C=O===f?i[u-1][c]:i[u][c],k=s(O);d.style("left",t.posX+30+"px").style("top",t.posY+20+"px"),p.html(k),h.style("fill","#6C8EF2"),g.html(c+": "+C.toFixed(2)),y.attr("x1",n(O)),y.attr("x2",n(O)),x.attr("cx",n(O)),x.attr("cy",r(C)),x.attr("stroke","#6C8EF2")}));var m=l.d((function(e){return v(e[o[0].field])})).left,b=u.append("g").style("opacity",0),y=b.append("line").attr("y1",a-20).attr("y2",0).attr("stroke-width","2px").attr("stroke","#E6E6E6").attr("stroke-dasharray","6, 3"),x=b.append("circle").attr("r",3).attr("fill","#FFFFFF").attr("stroke-width","2").style("box-shadow","0 0 5px #888888").on("mouseover",(function(e){d.transition().duration(200).style("opacity",.9),b.transition().duration(200).style("opacity",1)})).on("mouseout",(function(e){d.transition().duration(500).style("opacity",0),b.transition().duration(500).style("opacity",0)}))},T=E;function I(){for(var e=[],t=0;t<36;t++)e[t]="0123456789abcdef".substr(Math.floor(16*Math.random()),1);return e[14]="4",e[19]="0123456789abcdef".substr(3&e[19]|8,1),e[8]=e[13]=e[18]=e[23]="-",e.join("")}var P=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(){var e;return Object(r.a)(this,n),(e=t.call(this))._x="",e._y="",e}return Object(a.a)(n,[{key:"display",value:function(){var e=this.parseFact(),t=e._data,n=e._measure,r=e._breakdown,a=e._focus,i=e._measureName;if(0!==a.length&&(!r[1]||!r[1].field)){var o,c=this.setChartStandard(),s=c._chartSize,l=c._width,u=c._height,p=c._margin,f=t.length,h=0,g=Object(d.a)(a);try{for(g.s();!(o=g.n()).done;)for(var v=o.value,m=v.interval,b=0;b<v.seasonal.length;b++)f=Math.max(0,Math.min(f,v.seasonal[b].start-Math.floor(m/2))),h=Math.min(t.length,Math.max(h,v.seasonal[b].end+Math.floor(m/2)))}catch(A){g.e(A)}finally{g.f()}t=t.slice(f,h);var y=this.initSvg(s,p),x=y.append("g").attr("class","lineLayer"),O=y.append("g").attr("class","tooltip"),w=this.drawXAxis(y,t,r,l,u,s),C=w._x,k=w._axisX,j=w._tick_format,E=this.drawYAxis(y,t,n,s,u),S=this.drawBackLine(C,E,t,x,r,i,s),T=S._rawPath,I=S._lineGen,P=this.drawSeasonality(C,t,r,a,u,O,k,I,f);return this._showTooltip&&(N("#whole-container",T,C,E,u,t,r,i,j,O),D("#whole-container",j,t,r,P,a[0],C,i)),y}}},{key:"parseFact",value:function(){var e=this.factdata(),t=this.measure(),n=this.breakdown(),r=this.focus(),a=e=e.sort((function(e,t){return v(e[n[0].field])-v(t[n[0].field])})),i="count"===t[0].aggregate?"COUNT":t[0].field;return{_data:a,_measure:t,_breakdown:n,_focus:r,_measureName:i}}},{key:"setChartStandard",value:function(){var e={width:600,height:280},t={top:15,right:20,bottom:15,left:20};return{_width:e.width-t.left-t.right,_height:e.height-t.top-t.bottom,_chartSize:e,_margin:t}}},{key:"initSvg",value:function(e,t){return l.w(this.container()).append("svg").attr("width",e.width).attr("height",e.height).append("g").attr("transform","translate("+(t.left+10)+","+t.top+")").attr("font-family","OPPOSans")}},{key:"drawXAxis",value:function(e,t,n,r,a,i){var o=l.u().range([0,r]);o.domain(l.i(t,(function(e){return v(e[n[0].field])})));var c=b(t[0][n[0].field]),s=m(t[0][n[0].field]),u=l.b(o).tickFormat(s);return c===l.E&&u.ticks(c),e.append("g").attr("class","xAxis").attr("transform","translate(0,"+(a-20)+")").call(u).call((function(e){e.attr("font-size","10px"),e.attr("font-family","OPPOSans"),e.attr("font-weight","lighter");var t=e.selectAll(".domain").attr("d");t=(t=t.replace("6V",6*i.height/320+"V")).replace("V6","V"+6*i.height/320),e.selectAll(".domain").attr("d",t).attr("stroke-width",2),e.selectAll(".tick").selectAll("line").attr("stroke","#000000").attr("stroke-width",2).attr("y2",5),e.selectAll("text").attr("y",10)})),{_x:o,_axisX:u,_tick_format:s}}},{key:"drawYAxis",value:function(e,t,n,r,a){var i=l.t().range([a-20,0]);return i.domain(A(t,n[0].field)),e.append("g").attr("class","yAxis").call(l.c(i).ticks(5).tickFormat((function(e){return e/1e6>=1?e=e/1e6+"M":e/1e3>=1&&(e=e/1e3+"K"),e}))).call((function(e){e.attr("font-size","10px"),e.attr("font-weight","lighter"),e.attr("font-family","OPPOSans");var t=e.selectAll(".domain").attr("d");t=(t=t.replace("M-6","M-"+6*r.width/640)).replace("H-6","H-"+6*r.width/640),e.selectAll(".domain").attr("d",t).attr("stroke-width",2),e.selectAll(".tick").select("line").attr("stroke","#000000").attr("stroke-width",2).attr("x2",-5),e.selectAll("text").attr("x",-10)})),i}},{key:"drawBackLine",value:function(e,t,n,r,a,i,o){r.append("g").selectAll("line.line").data(t.ticks(5)).enter().append("line").attr("x1",0).attr("x2",o.width).attr("y1",(function(e){return t(e)})).attr("y2",(function(e){return t(e)})).attr("stroke","#E6E6E6").attr("stroke-width","2px");var c=l.l().curve(l.g).x((function(t){return e(v(t[a[0].field]))})).y((function(e){return t(e[i])}));return{_rawPath:r.append("path").attr("d",c(n)).attr("stroke","#808080").attr("stroke-width","5px").attr("fill","none"),_lineGen:c}}},{key:"drawSeasonality",value:function(e,t,n,r,a,i,o,c,s){var l,u=[],p=[],f=Object(d.a)(r);try{for(f.s();!(l=f.n()).done;)for(var h=l.value,g=0;g<h.seasonal.length;g++){var m=h.seasonal[g],b=m.start-s,y=m.end-s;if(0===g&&b>0){var x=e(v(t[b][n[0].field]));i.append("line").attr("x1",x).attr("y1",0).attr("x2",x).attr("y2",a-20).attr("stroke-width","1px").attr("stroke","black").attr("stroke-dasharray","6, 3"),p.push(v(t[b][n[0].field]))}if(g<h.seasonal.length-1||y<t.length-1){var O=e(v(t[y][n[0].field]));i.append("line").attr("x1",O).attr("y1",0).attr("x2",O).attr("y2",a-20).attr("stroke-width","1px").attr("stroke","black").attr("stroke-dasharray","6, 3"),p.push(v(t[y][n[0].field]))}m.seasonal&&u.push(i.append("path").attr("d",c(t.slice(b,y+1))).attr("stroke","#6C8EF2").attr("stroke-width","5px").attr("fill","none"))}}catch(w){f.e(w)}finally{f.f()}return o.tickValues(p),u}}]),n}(g),D=function(e,t,n,r,a,i,o,c){var s=I(),u=l.d((function(e){return v(e[r[0].field])})).left,p=l.w(e).append("div").attr("id","hover-tooltip").style("z-index",2e3).style("width","200px").style("height","115px").style("opacity",0).style("position","absolute").style("pointer-events","none").style("padding-left","10px"),f=p.append("div").style("display","flex").style("align-items","center").style("height","15px").style("width","190px").style("border","2px solid ".concat("#3E3A39")).style("border-radius","4px 4px 0px 0px").style("padding-left","5px").style("padding-right","5px").style("background","#3E3A39").style("font","7px ".concat("OPPOSans")).style("font-weight","bold").style("color","#FCFBE7").style("text-overflow","ellipsis").style("overflow","hidden").style("white-space","nowrap"),h=p.append("div").style("width","200px").style("height","100px").style("border","2px solid ".concat("#3E3A39")).style("border-radius","0px 4px 4px 4px").style("background","#FCFBE7");h.append("span").style("position","absolute").style("left","-10px").style("top","60px").style("border-width","10px").style("border-style","dashed solid dashed dashed").style("border-color","transparent ".concat("#3E3A39"," transparent transparent")).style("font-size",0).style("line-height",0),h.append("em").style("position","absolute").style("left","-4px").style("top","62px").style("border-width","8px").style("border-style","dashed solid dashed dashed").style("border-color","transparent ".concat("#FCFBE7"," transparent transparent")).style("font-size",0).style("line-height",0),h.append("div").attr("id","tooltip-chart"+s);var g=l.t().range([10,190]),m=l.t().range([90,10]),b=l.l().curve(l.g).x((function(e){return g(e.x)})).y((function(e){return m(e.y)})),x=l.t().range([90,10]);x.domain(A(i.average));for(var O,w=l.l().curve(l.g).x((function(e){return g(e.x)})).y((function(e){return x(e.y)})),C=(O=v(n[i.interval][r[0].field])-v(n[0][r[0].field]))/1e3<1?O+" ms":O/6e4<1?(O/1e3).toFixed(1)+" s":O/36e5<1?(O/6e4).toFixed(1)+" min(s)":O/y<1?(O/36e5).toFixed(1)+" hour(s)":O/6048e5<1?(O/y).toFixed(1)+" day(s)":O/2592e6<1?(O/6048e5).toFixed(1)+" week(s)":O/31536e6<1?(O/2592e6).toFixed(1)+" month(s)":(O/31536e6).toFixed(1)+" year(s)",k=0;k<a.length;k++){a[k].on("mouseover",(function(e){p.transition().duration(200).style("opacity",.9)})).on("mouseout",(function(e){p.transition().duration(500).style("opacity",0)})).on("mousemove",(function(e){var a=l.o(this)[0],h=l.o(this)[1],y=o.invert(l.o(this)[0]),x=u(n,y,1),O=Math.floor(x/i.interval)*i.interval,k=O+i.interval-1,j=t(v(n[O][r[0].field]))+"-"+t(v(n[k][r[0].field]));p.style("left",a+30+"px").style("top",h-50+"px");var E=l.w("#tooltip-chart"+s).node().getElementsByTagName("svg")[0];if(!E||E.getAttribute("class")!==j){f.html(j),l.w("#tooltip-chart"+s).selectAll("*").remove();for(var S=Math.floor(x/i.interval),T=[],I=S<=2?0:O-2*i.interval,P=S+3+1>=n.length/i.interval?n.length:k+3*i.interval,D=I;D<P;D++)T.push({x:D-I,y:n[D][c]});g.domain([0,P-I+1]),m.domain(A(T,"y"));var N=l.w("#tooltip-chart"+s).append("svg").attr("class",j).attr("width","200").attr("height","100").append("g");N.append("rect").style("width",g(k-I)-g(O-I)).style("height","70px").style("fill","#ffffff").style("x",g(O-I)).style("y","20px");for(var _=0;_<=(P-I)/i.interval;_++){var M=g(_*i.interval);N.append("line").attr("x1",M).attr("y1",20).attr("x2",M).attr("y2",90).attr("stroke-width","1px").attr("stroke","black")}N.append("path").attr("d",b(T)).attr("stroke","#808080").attr("stroke-width","2px").attr("fill","none");var R,F=Object(d.a)(i.seasonal);try{for(F.s();!(R=F.n()).done;){var B=R.value,L=Math.max(B.start,I)-I,G=Math.min(B.end,P)-I;if(!(G<0)){for(var q=0;q<(G-L)/i.interval;q++){for(var z=[],H=0;H<i.average.length;H++)z.push({x:L+q*i.interval+H,y:i.average[H]});N.append("path").attr("d",w(z)).attr("stroke","#FFBB8A").attr("stroke-width","2px").attr("stroke-dasharray","6, 3").attr("fill","none")}N.append("path").attr("d",b(T.slice(L,G+1))).attr("stroke","#6C8EF2").attr("stroke-width","3px").attr("fill","none")}}}catch(V){F.e(V)}finally{F.f()}var U=N.append("g").style("font-size","6px").style("font-weight","bold").style("font-family","OPPOSans").style("color","#3E3A39");U.append("line").attr("x1","6px").attr("y1","8px").attr("x2","21px").attr("y2","8px").attr("stroke-width","2px").attr("stroke","#FFBB8A").attr("stroke-dasharray","6, 3").attr("fill","none"),U.append("text").attr("x","25px").attr("y","10px").text("Seasonality"),U.append("text").attr("x","135px").attr("y","10px").text("Interval "+C)}}))}},N=function(e,t,n,r,a,i,o,c,s,u){var d=l.w(e).append("div").attr("id","value-tooltip").style("z-index",2e3).style("width","fit-content").style("height","40px").style("opacity",0).style("position","absolute").style("pointer-events","none").style("border-radius","4px").style("background","#FFFFFF").style("box-shadow","0 0 5px #888888").style("padding","5px"),p=d.append("span").style("font","9px ".concat("OPPOSans")).style("font-weight","bold").style("display","block").style("color","#000000"),f=d.append("svg").attr("width","95px").attr("height","30px"),h=f.append("circle").attr("r",4).attr("cx","5px").attr("cy","12px"),g=f.append("text").style("font","8px ".concat("OPPOSans")).style("color","#000000").attr("x","14px").attr("y","14px");t.on("mouseover",(function(e){d.transition().duration(200).style("opacity",.9),b.transition().duration(200).style("opacity",1)})).on("mouseout",(function(e){document.elementFromPoint(l.h.pageX,l.h.pageY)!==x.node()&&(d.transition().duration(500).style("opacity",0),b.transition().duration(500).style("opacity",0))})).on("mousemove",(function(e){var t=l.o(this)[0],a=l.o(this)[1],u=n.invert(l.o(this)[0]),f=m(i,u,1),b=v(i[f-1][o[0].field]),O=v(i[f][o[0].field]),w=u-b>O-u?O:b,C=w===b?i[f-1][c]:i[f][c],k=s(w);d.style("left",t+30+"px").style("top",a+20+"px"),p.html(k),h.style("fill","#808080"),g.html(c+": "+C.toFixed(2)),y.attr("x1",n(w)),y.attr("x2",n(w)),x.attr("cx",n(w)),x.attr("cy",r(C)),x.attr("stroke","#808080")}));var m=l.d((function(e){return v(e[o[0].field])})).left,b=u.append("g").style("opacity",0),y=b.append("line").attr("y1",a-20).attr("y2",0).attr("stroke-width","2px").attr("stroke","#E6E6E6").attr("stroke-dasharray","6, 3"),x=b.append("circle").attr("r",3).attr("fill","#FFFFFF").attr("stroke-width","2").style("box-shadow","0 0 5px #888888").on("mouseover",(function(e){d.transition().duration(200).style("opacity",.9),b.transition().duration(200).style("opacity",1)})).on("mouseout",(function(e){d.transition().duration(500).style("opacity",0),b.transition().duration(500).style("opacity",0)}))},A=function(e,t){var n=l.m(e.map((function(e){return void 0===t?e:e[t]}))),r=l.n(e.map((function(e){return void 0===t?e:e[t]})));return[r+.2*(r-n),n-.2*(r-n)]},_=P,M=["#6C8EF2","#E1944E","#8B65BA"],R=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(){var e;return Object(r.a)(this,n),(e=t.call(this))._x="",e._y="",e}return Object(a.a)(n,[{key:"display",value:function(){var e=this.factdata(),t=this.breakdown(),n=this.focus(),r=[],a=e.sort((function(e,n){return v(e[t[0].field])-v(n[t[0].field])}));if(0!==n.length){var i,o=550,c=440,s=15,u=60,p=this.container(),f=l.w(p).append("svg").attr("width",o).attr("height",c).append("g").attr("transform","translate("+(u+10)+","+s+")").attr("font-family","OPPOSans"),h=[],g=[],y=[],x=[],O=[],w=[],C=[],k=[],j=Object(d.a)(n);try{for(j.s();!(i=j.n()).done;){var E=i.value;k.includes(E.field)||(k.push(E.field),r.push({field:E.field}))}}catch(B){j.e(B)}finally{j.f()}var S,T=Math.floor(o/r.length),I=Math.floor(c/r.length),P=Object(d.a)(n);try{for(P.s();!(S=P.n()).done;)for(var D=S.value,N=0;N<r.length;N++)D.field===r[N].field&&("mean"===D.name?h[N]=D.value:"std"===D.name?g[N]=D.value:"a"===D.name?y[N]=D.value:"b"===D.name?x[N]=D.value:"rad"===D.name?O[N]=D.value:"min"===D.name?w[N]=D.value:"max"===D.name&&(C[N]=D.value))}catch(B){P.e(B)}finally{P.f()}for(var A=f.append("g").attr("class","tooltip"),_=function(e){for(var n=function(n){var i=T*e,c=I*n;if(e===n){var s=l.u().range([i,i+T/2]),u=l.t().range([c+T/2,c]);s.domain(l.i(a,(function(e){return v(e[t[0].field])}))),u.domain(l.i([].concat(a.map((function(t){return.95*t[r[e].field]})),a.map((function(t){return 1.05*t[r[e].field]})))));var d=b(a[0][t[0].field]),p=m(a[0][t[0].field]),k=l.b(s).tickFormat(p);d===l.E&&k.ticks(d);var j=h[e],E=[j-2*g[e],j+2*g[e]],S=w[e],P=C[e],D=s(v(a[0][t[0].field])),N=s(v(a[a.length-1][t[0].field]));f.append("rect").attr("x",D).attr("y",u(E[1])).attr("width",N-D).attr("height",u(E[0])-u(E[1])).attr("fill","#8ED9AB").attr("opacity",.3),f.append("g").attr("class","lineLayer").append("g").selectAll("line.line").data(u.ticks(5)).enter().append("line").attr("x1",i).attr("x2",i+T/2).attr("y1",(function(e){return u(e)})).attr("y2",(function(e){return u(e)})).attr("stroke","#E6E6E6").attr("stroke-width","2px"),A.append("line").attr("x1",D).attr("y1",u(S)).attr("x2",N).attr("y2",u(S)).attr("stroke-width","1px").attr("stroke","black").attr("stroke-dasharray","6px"),A.append("line").attr("x1",D).attr("y1",u(P)).attr("x2",N).attr("y2",u(P)).attr("stroke-width","1px").attr("stroke","black").attr("stroke-dasharray","6px");var _=f.append("g").attr("class","lineLayer"),R=l.l().curve(l.g).x((function(e){return s(v(e[t[0].field]))})).y((function(t){return u(t[r[e].field])}));_.append("path").attr("d",R(a)).attr("stroke","#6C8EF2").attr("stroke-width","1px").attr("fill","none");var B=[];B.push(v(a[10][t[0].field])),B.push(v(a[a.length-10][t[0].field])),k.tickValues(B);var L=f.append("g").attr("class","tooltip"),G=L.append("text").attr("font-size","5.5px").attr("font-family","OPPOSans").attr("fill","#000000");G.append("tspan").text("Min: "+S).attr("dy",.9*G.selectAll("tspan").node().getBBox().height);var q=G.node().getBBox().width,z=1.5*G.node().getBBox().height;G.attr("width",q).attr("height",z).attr("x",N-q).attr("y",u(S)-z),(G=L.append("text").attr("font-size","5.5px").attr("font-family","OPPOSans").attr("font-weight","light").attr("fill","#000000")).append("tspan").text("Max: "+P).attr("dy",.9*G.selectAll("tspan").node().getBBox().height),q=G.node().getBBox().width,z=1.5*G.node().getBBox().height,G.attr("width",q).attr("height",z).attr("x",N-q).attr("y",u(P)-z),L.append("line").attr("x1",D).attr("y1",u(j)).attr("x2",N).attr("y2",u(j)).attr("stroke-width","1px").attr("stroke","black"),(G=L.append("text").attr("font-size","5.5px").attr("font-family","OPPOSans").attr("font-weight","light").attr("fill","#000000")).append("tspan").text("Avg: "+j).attr("dy",.9*G.selectAll("tspan").node().getBBox().height),q=G.node().getBBox().width,z=1.5*G.node().getBBox().height,f.append("rect").attr("x",N-q).attr("y",u(j)-1.15*z).attr("width",q).attr("height",z).attr("fill","white").attr("opacity",.8),G.attr("width",q).attr("height",z).attr("x",N-q).attr("y",u(j)-z);var H=f.append("g").attr("class","tooltip").style("background-color","white").style("opacity",.8).append("text").attr("font-size","5.5px").attr("font-family","OPPOSans").attr("fill","#000000");H.append("tspan").text("Avg: "+j).attr("dy",.9*H.selectAll("tspan").node().getBBox().height),H.attr("width",q).attr("height",z).attr("x",N-q).attr("y",u(j)-z),f.append("g").attr("class","xAxis").attr("transform","translate(0,"+(c+T/2)+")").call(k).call((function(e){e.attr("font-size","8px"),e.attr("font-family","OPPOSans"),e.attr("font-weight","light");var t=e.selectAll(".domain").attr("d");t=(t=t.replace("M-6","M-"+6*o/640)).replace("H-6","H-"+6*o/640),e.selectAll(".domain").attr("d",t).attr("stroke-width",2),e.selectAll(".tick").selectAll("line").attr("stroke","#000000").attr("stroke-width",2).attr("y2",5),e.selectAll("text").attr("y",10)}));var U=f.append("g").attr("class","yAxis");U.attr("transform","translate("+i+",0)").call(l.c(u).ticks(5).tickFormat((function(e){return e/1e6>=1?e=e/1e6+"M":e/1e3>=1&&(e=e/1e3+"K"),e}))).call((function(e){e.attr("font-size","8px"),e.attr("font-weight","light"),e.attr("font-family","OPPOSans");var t=e.selectAll(".domain").attr("d");t=(t=t.replace("M-6","M-"+6*o/640)).replace("H-6","H-"+6*o/640),e.selectAll(".domain").attr("d",t).attr("stroke-width",2),e.selectAll(".tick").select("line").attr("stroke","#000000").attr("stroke-width",2).attr("x2",-5),e.selectAll("text").attr("x",-10)})),U.append("text").attr("transform","rotate(-90)").attr("y",-35).attr("x",0-c-45).style("text-anchor","middle").style("font-size","10px").attr("font-weight","heavy").attr("fill",M[e]).text(F(r[e].field))}else{var V=l.t().range([i,i+T/2]),Y=l.t().range([c+T/2,c]);V.domain(l.i([].concat(a.map((function(t){return.95*t[r[e].field]})),a.map((function(t){return 1.05*t[r[e].field]}))))),Y.domain(l.i([].concat(a.map((function(e){return.95*e[r[n].field]})),a.map((function(e){return 1.05*e[r[n].field]})))));var W;h[e],h[n],w[e],w[n],C[e],C[n];0===e&&1===n||1===e&&0===n?W=0:0===e&&2===n||2===e&&0===n?W=1:(1===e&&2===n||2===e&&1===n)&&(W=2),e<n?(y[W],x[W],-O[W]):(x[W],y[W],O[W]-180),f.append("g").selectAll("circle").data(a).enter().append("circle").attr("cx",(function(t){return V(t[r[e].field])})).attr("cy",(function(e){return Y(e[r[n].field])})).attr("r","2.5px").attr("fill","#F28AB3");var K=f.append("g").attr("class","xAxis");K.attr("transform","translate(0,"+(c+T/2)+")").call(l.b(V).ticks(3).tickFormat((function(e){return e/1e6>=1?e=e/1e6+"M":e/1e3>=1&&(e=e/1e3+"K"),e}))).call((function(e){e.attr("font-size","8px"),e.attr("font-family","OPPOSans"),e.attr("font-weight","light");var t=e.selectAll(".domain").attr("d");t=(t=t.replace("M-6","M-"+6*o/640)).replace("H-6","H-"+6*o/640),e.selectAll(".domain").attr("d",t).attr("stroke-width",2),e.selectAll(".tick").selectAll("line").attr("stroke","#000000").attr("stroke-width",2).attr("y2",5),e.selectAll("text").attr("y",10)}));var X=f.append("g").attr("class","yAxis");X.attr("transform","translate("+i+",0)").call(l.c(Y).ticks(5).tickFormat((function(e){return e/1e6>=1?e=e/1e6+"M":e/1e3>=1&&(e=e/1e3+"K"),e}))).call((function(e){e.attr("font-size","8px"),e.attr("font-weight","light"),e.attr("font-family","OPPOSans");var t=e.selectAll(".domain").attr("d");t=(t=t.replace("M-6","M-"+6*o/640)).replace("H-6","H-"+6*o/640),e.selectAll(".domain").attr("d",t).attr("stroke-width",2),e.selectAll(".tick").select("line").attr("stroke","#000000").attr("stroke-width",2).attr("x2",-5),e.selectAll("text").attr("x",-10)}));K.append("text").attr("y",30).attr("x",i+45).style("text-anchor","middle").style("font-size","10px").attr("fill",M[e]).text(F(r[e].field));X.append("text").attr("transform","rotate(-90)").attr("y",-35).attr("x",0-c-45).style("text-anchor","middle").style("font-size","10px").attr("fill",M[n]).text(F(r[n].field))}},i=0;i<=r.length-1;i++)n(i)},R=0;R<=r.length-1;R++)_(R);return f}}}]),n}(g),F=function(e){return e.length>16?e.slice(0,16)+"...":e},B=R,L=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(){var e;return Object(r.a)(this,n),(e=t.call(this))._x="",e._y="",e.tooltipId=I(),e}return Object(a.a)(n,[{key:"display",value:function(){var e=this.parseFact(),t=e._data,n=e._measure,r=e._breakdown,a=e._focus,i=e._measureName;if(0!==a.length&&(!r[1]||!r[1].field)){var o=this.setChartStandard(),c=o._chartSize,s=o._width,u=o._height,d=o._margin,p=this.initSvg(c,d),f=p.append("g").attr("class","lineLayer"),h=p.append("g").attr("class","tooltip"),g=l.u().range([0,s]);g.domain(l.i(t,(function(e){return v(e[r[0].field])})));var y=b(t[0][r[0].field]),x=m(t[0][r[0].field]),O=l.b(g).tickFormat(x);y===l.E&&O.ticks(y);var w=l.t().range([u-20,0]);w.domain(l.i([].concat(t.map((function(e){return.95*e[n[0].field]})),t.map((function(e){return 1.05*e[n[0].field]})))));var C=this.drawBackLine(g,w,t,f,r,i,c),k=C._rawPath,j=C._lineGen,E=this.drawFrequentPattern(g,w,t,r,a,i,h,u,O,j);return this._showTooltip&&(q("#whole-container",k,g,w,u,t,r,i,x,h),G(this.tooltipId,"#whole-container",x,t,r,E,a)),p.append("g").attr("class","xAxis").attr("transform","translate(0,"+(u-20)+")").call(O).call((function(e){e.attr("font-size","10px"),e.attr("font-family","OPPOSans"),e.attr("font-weight","lighter");var t=e.selectAll(".domain").attr("d");t=(t=t.replace("6V",6*c.height/320+"V")).replace("V6","V"+6*c.height/320),e.selectAll(".domain").attr("d",t).attr("stroke-width",2),e.selectAll(".tick").selectAll("line").attr("stroke","#000000").attr("stroke-width",2).attr("y2",5),e.selectAll("text").attr("y",10)})),p.append("g").attr("class","yAxis").call(l.c(w).ticks(5).tickFormat((function(e){return e/1e6>=1?e=e/1e6+"M":e/1e3>=1&&(e=e/1e3+"K"),e}))).call((function(e){e.attr("font-size","10px"),e.attr("font-weight","lighter"),e.attr("font-family","OPPOSans");var t=e.selectAll(".domain").attr("d");t=(t=t.replace("M-6","M-"+6*c.width/640)).replace("H-6","H-"+6*c.width/640),e.selectAll(".domain").attr("d",t).attr("stroke-width",2),e.selectAll(".tick").select("line").attr("stroke","#000000").attr("stroke-width",2).attr("x2",-5),e.selectAll("text").attr("x",-10)})),p}}},{key:"parseFact",value:function(){var e=this.factdata(),t=this.measure(),n=this.breakdown(),r=this.focus(),a=e=e.sort((function(e,t){return v(e[n[0].field])-v(t[n[0].field])})),i="count"===t[0].aggregate?"COUNT":t[0].field;return{_data:a,_measure:t,_breakdown:n,_focus:r,_measureName:i}}},{key:"setChartStandard",value:function(){var e={width:600,height:280},t={top:15,right:20,bottom:15,left:20};return{_width:e.width-t.left-t.right,_height:e.height-t.top-t.bottom,_chartSize:e,_margin:t}}},{key:"initSvg",value:function(e,t){return l.w(this.container()).append("svg").attr("width",e.width).attr("height",e.height).append("g").attr("transform","translate("+(t.left+10)+","+t.top+")").attr("font-family","OPPOSans")}},{key:"drawBackLine",value:function(e,t,n,r,a,i,o){r.append("g").selectAll("line.line").data(t.ticks(5)).enter().append("line").attr("x1",0).attr("x2",o.width).attr("y1",(function(e){return t(e)})).attr("y2",(function(e){return t(e)})).attr("stroke","#E6E6E6").attr("stroke-width","2px");var c=l.l().curve(l.g).x((function(t){return e(v(t[a[0].field]))})).y((function(e){return t(e[i])}));return{_rawPath:r.append("path").attr("d",c(n)).attr("stroke","#6C8EF2").attr("stroke-width","2px").attr("fill","none"),_lineGen:c}}},{key:"drawFrequentPattern",value:function(e,t,n,r,a,i,o,c,s,u){var p,f=[],h=[],g=Object(d.a)(a[0].patterns);try{for(g.s();!(p=g.n()).done;){var m=p.value,b=e(v(n[m.start][r[0].field])),y=e(v(n[m.end-1][r[0].field])),x=l.n(n.slice(m.start,m.end+1),(function(e){return t(e[i])}));o.append("line").attr("x1",b).attr("y1",t(n[m.start][i])).attr("x2",b).attr("y2",c-20).attr("stroke-width","2px").attr("stroke","black").attr("stroke-dasharray","6, 3"),o.append("line").attr("x1",y).attr("y1",t(n[m.end][i])).attr("x2",y).attr("y2",c-20).attr("stroke-width","2px").attr("stroke","black").attr("stroke-dasharray","6, 3"),h.push(o.append("path").attr("d",u(n.slice(m.start,m.end+1))).attr("stroke","#FFC111").attr("stroke-width","3px").attr("fill","none"));var O=o.append("text").attr("font-size","14px").attr("font-family","OPPOSans").attr("font-weight","bold").attr("fill","#FFC111");O.append("tspan").text(m.name).attr("dy",.9*O.selectAll("tspan").node().getBBox().height);var w=O.node().getBBox().width,C=O.node().getBBox().height;O.attr("width",w).attr("height",C).attr("x",(b+y-w+10)/2).attr("y",x-C-10),f.push(v(n[m.start][r[0].field])),f.push(v(n[m.end][r[0].field]))}}catch(k){g.e(k)}finally{g.f()}return s.tickValues(f),h}}]),n}(g),G=function(e,t,n,r,a,i,o){var c=l.w(t).append("div").attr("id","hover-tooltip").style("z-index",2e3).style("width","200px").style("height","115px").style("opacity",0).style("position","absolute").style("pointer-events","none").style("padding-left","10px"),s=c.append("div").style("align-items","center").style("height","15px").style("width","100px").style("border","2px solid ".concat("#3E3A39")).style("border-radius","4px 4px 0px 0px").style("padding-left","5px").style("padding-right","5px").style("background","#3E3A39").style("font","8px ".concat("OPPOSans")).style("font-weight","bold").style("color","#FCFBE7").style("text-overflow","ellipsis").style("overflow","hidden").style("white-space","nowrap"),u=c.append("div").style("width","200px").style("height","100px").style("border","2px solid ".concat("#3E3A39")).style("border-radius","0px 4px 4px 4px").style("background","#FCFBE7");u.append("span").style("position","absolute").style("left","-10px").style("top","60px").style("border-width","10px").style("border-style","dashed solid dashed dashed").style("border-color","transparent ".concat("#3E3A39"," transparent transparent")).style("font-size",0).style("line-height",0),u.append("em").style("position","absolute").style("left","-4px").style("top","62px").style("border-width","8px").style("border-style","dashed solid dashed dashed").style("border-color","transparent ".concat("#FCFBE7"," transparent transparent")).style("font-size",0).style("line-height",0),u.append("div").attr("id","tooltip-chart"+e);for(var d=l.t().range([0,195]),p=l.t().range([90,0]),f=l.l().curve(l.g).x((function(e){return d(e.x)})).y((function(e){return p(e.y)})),h=function(){for(var t=o[0].patterns[g],u=i[g],h=[],m=[],b=0;b<t.normalized.length;b++)h.push({x:b,y:t.normalized[b]}),m.push({x:b,y:o[0].average[b]});d.domain([0,t.normalized.length-1]),p.domain(l.i([].concat(h.map((function(e){return.9*e.y})),h.map((function(e){return 1.1*e.y}))))),u.on("mouseover",(function(e){c.transition().duration(200).style("opacity",.9)})).on("mouseout",(function(e){c.transition().duration(500).style("opacity",0)})).on("mousemove",(function(i){var o=w(),u=n(v(r[t.start][a[0].field]))+"-"+n(v(r[t.end][a[0].field]));if(c.style("left",o.posX+30+"px").style("top",o.posY-50+"px"),null!==l.w("#tooltip-chart"+e).node()){var d=l.w("#tooltip-chart"+e).node().getElementsByTagName("svg")[0];if(!d||d.getAttribute("class")!==u){s.html(u),l.w("#tooltip-chart"+e).selectAll("*").remove();var p=l.w("#tooltip-chart"+e).append("svg").attr("class",u).attr("width","200").attr("height","100").append("g");p.append("path").attr("d",f(h)).attr("stroke","#FFC111").attr("stroke-width","3px").attr("fill","none"),p.append("path").attr("d",f(m)).attr("stroke","#D2CFFD").attr("stroke-width","3px").attr("fill","none");var g=p.append("g").style("font-size","6px").style("font-weight","bold").style("font-family","OPPOSans").style("color","#3E3A39");g.append("rect").style("width","15px").style("height","5px").style("fill","#FFC111").style("x","6px").style("y","6px"),g.append("rect").style("width","15px").style("height","5px").style("fill","#D2CFFD").style("x","6px").style("y","89px"),g.append("text").attr("x","25px").attr("y","10px").text("Selected"),g.append("text").attr("x","25px").attr("y","93px").text("Avg.")}}}))},g=0;g<i.length;g++)h()},q=function(e,t,n,r,a,i,o,c,s,u){var d=l.w(e).append("div").attr("id","value-tooltip").style("z-index",2e3).style("width","fit-content").style("height","40px").style("opacity",0).style("position","absolute").style("pointer-events","none").style("border-radius","4px").style("background","#FFFFFF").style("box-shadow","0 0 5px #888888").style("padding","5px"),p=d.append("span").style("font","9px ".concat("OPPOSans")).style("font-weight","bold").style("display","block").style("color","#000000"),f=d.append("svg").attr("width","95px").attr("height","30px"),h=f.append("circle").attr("r",4).attr("cx","5px").attr("cy","12px"),g=f.append("text").style("font","8px ".concat("OPPOSans")).style("color","#000000").attr("x","14px").attr("y","14px");t.on("mouseover",(function(e){d.transition().duration(200).style("opacity",.9),b.transition().duration(200).style("opacity",1)})).on("mouseout",(function(e){document.elementFromPoint(l.h.pageX,l.h.pageY)!==x.node()&&(d.transition().duration(500).style("opacity",0),b.transition().duration(500).style("opacity",0))})).on("mousemove",(function(e){var t=w(),a=n.invert(l.o(this)[0]),u=m(i,a,1),f=v(i[u-1][o[0].field]),b=v(i[u][o[0].field]),O=a-f>b-a?b:f,C=O===f?i[u-1][c]:i[u][c],k=s(O);d.style("left",t.posX+30+"px").style("top",t.posY+20+"px"),p.html(k),h.style("fill","#6C8EF2"),g.html(c+": "+C.toFixed(2)),y.attr("x1",n(O)),y.attr("x2",n(O)),x.attr("cx",n(O)),x.attr("cy",r(C)),x.attr("stroke","#6C8EF2")}));var m=l.d((function(e){return v(e[o[0].field])})).left,b=u.append("g").style("opacity",0),y=b.append("line").attr("y1",a-20).attr("y2",0).attr("stroke-width","2px").attr("stroke","#E6E6E6").attr("stroke-dasharray","6, 3"),x=b.append("circle").attr("r",3).attr("fill","#FFFFFF").attr("stroke-width","2").style("box-shadow","0 0 5px #888888").on("mouseover",(function(e){d.transition().duration(200).style("opacity",.9),b.transition().duration(200).style("opacity",1)})).on("mouseout",(function(e){d.transition().duration(500).style("opacity",0),b.transition().duration(500).style("opacity",0)}))},z=L,H=["#6C8EF2","#E1944E","#8B65BA"],U=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(){var e;return Object(r.a)(this,n),(e=t.call(this))._x="",e._y="",e}return Object(a.a)(n,[{key:"display",value:function(){var e=this.factdata(),t=this.breakdown(),n=this.focus(),r=e=e.sort((function(e,n){return Y(e[t[0].field])-Y(n[t[0].field])}));if(0!==n.length){for(var a=314,i=216,o=15,c=20,s=a-c-20,u=i-o-15,p=this.container(),f=l.w(this.container()).append("svg").attr("width",a).attr("height",i).append("g").attr("transform","translate("+(c+10)+","+o+")").attr("font-family","OPPOSans"),h=l.t().range([0,s]),g=l.t().range([u,10]),v=[],m=1,b=-1,y=0;y<n[0].cluster.length;y++){var x,O=Object(d.a)(n[0].cluster[y].position);try{for(O.s();!(x=O.n()).done;){var w=x.value;v.push({x:w[0],y:w[1],symbol:m})}}catch(te){O.e(te)}finally{O.f()}m++}for(var C=0;C<n[0].outlier.length;C++){var k,j=Object(d.a)(n[0].outlier[C].position);try{for(j.s();!(k=j.n()).done;){var E=k.value;v.push({x:E[0],y:E[1],symbol:b})}}catch(te){j.e(te)}finally{j.f()}b--}h.domain(l.i(v,(function(e){return e.x}))),g.domain(l.i(v,(function(e){return e.y})));var S=l.z.map((function(e){return l.x().size(18).type(e)()}));f.append("g").selectAll("path").data(v).join("path").attr("transform",(function(e){return"translate(".concat(h(e.x),", ").concat(g(e.y),")")})).attr("fill",(function(e){return e.symbol>0?"#74C8F8":"#F72D35"})).attr("d",(function(e){return e.symbol>0?S[e.symbol%S.length]:S[0]}));for(var T=f.append("g"),I=l.l().x((function(e){return e[0]})).y((function(e){return e[1]})).curve(l.f),P=function(e){var t=v.filter((function(t){return t.symbol===e})).map((function(e){return[h(e.x),g(e.y)]}));if(t.length>2){var n=l.r(t),r=l.q(n);T.append("g").attr("transform","translate("+r[0]+","+r[1]+") scale(2)").append("path").attr("d",(function(){return I(n.map((function(e){return[e[0]-r[0],e[1]-r[1]]})))})).attr("stroke","#000000").attr("stroke-width","0.5px").attr("fill","none")}},D=1;D<m;D++)P(D);for(var N=function(e){var t,n,r,a=v.filter((function(t){return t.symbol===e}))[0],i=h(a.x),o=g(a.y),c=T.append("text").attr("font-size","10px").attr("font-family","OPPOSans").attr("font-weight","bold").attr("fill","#000000").attr("y",o+5).text("Outlier ".concat(-e)),l=c.node().getBBox().width;i>s/2?i+20>s?(t=-20-l,n=-17,r=-8):(t=20,n=17,r=8):i-l-20<0?(t=20,n=17,r=8):(t=-20-l,n=-17,r=-8),c.attr("x",i+t),T.append("line").attr("x1",i+n).attr("x2",i+r).attr("y1",o).attr("y2",o).attr("stroke","#000000").attr("stroke-width","1px")},A=-1;A>b;A--)N(A);var _=l.w(p).append("div").style("position","absolute").style("left","318px").style("top","10px").style("font-size","8px").style("font-family","OPPOSans").attr("id","overviewTable"),M=l.w(p).append("div").style("position","absolute").style("left","10px").style("top","220").style("font-size","8px").style("font-family","OPPOSans");n[0].cluster.length>0&&V(1,M,S,n,r,t);for(var R=_.append("table").style("border","1px solid #000000").style("border-collapse","collapse").style("border-spacing",0).attr("width","300px"),F=R.append("thead").style("background","#eeee").append("tr").selectAll("th").data(["Cluster","Number of series","Similarity in cluster"]).enter().append("th").style("padding","5px 15px").text((function(e){return e})),B=F.node().getBoundingClientRect().width+30,L=R.append("tbody"),G=1;G<m;G++){var q=L.append("tr"),z=q.append("td").append("svg").attr("width",B).attr("height",12).append("g").attr("id",G),H=z.append("text").attr("font-size","8").attr("font-family","OPPOSans").attr("fill","#000000").text("Cluster ".concat(G)).node().getBBox().width;z.append("path").attr("transform","translate(".concat(H+8,", -3)")).attr("d",S[G%S.length]).attr("fill","#74C8F8"),H=z.node().getBBox().width;var U=z.node().getBBox().height;z.attr("transform","translate(".concat(B/2-H/2,", ").concat(U,")")).on("click",(function(e,a){V(l.w(this).attr("id"),M,S,n,r,t)})),q.append("td").text("".concat(n[0].cluster[G-1].position.length)).style("text-align","center"),(z=q.append("td").append("svg").attr("width",B).attr("height",12).append("g")).append("rect").attr("x",0).attr("y",2).attr("width",70).attr("height",10).attr("fill","#f3f3f3"),z.append("rect").attr("x",0).attr("y",2).attr("width",70*n[0].cluster[G-1].score).attr("height",10).attr("fill","#74C8F8"),z.append("text").attr("x",75).attr("y",10).text(n[0].cluster[G-1].score.toFixed(2))}var W=(_=l.w(p).append("div").style("position","absolute").style("left","318px").style("top","108px").style("font-size","8px").style("font-family","OPPOSans")).append("table").style("border","1px solid #000000").style("border-collapse","collapse").style("border-spacing",0).attr("width","300px");B=(F=W.append("thead").style("background","#eeee").append("tr").selectAll("th").data(["Outlier","Anomaly score"]).enter().append("th").style("padding","3px 15px").text((function(e){return e}))).node().getBoundingClientRect().width+30;for(var K=W.append("tbody"),X=-1;X>b;X--){var J=K.append("tr"),$=J.append("td").append("svg").attr("width",B).attr("height","12").append("g"),Z=$.append("text").attr("font-size","8").attr("font-family","OPPOSans").attr("fill","#000000").text("Outlier ".concat(-X)),Q=Z.node().getBBox().width;$.append("path").attr("transform","translate(".concat(Q+8,", -3)")).attr("d",S[0]).attr("fill","#F72D35"),Q=$.node().getBBox().width;var ee=Z.node().getBBox().height;$.attr("transform","translate(".concat(B/2-Q/2,", ").concat(ee,")")),($=J.append("td").append("svg").attr("width",B).attr("height",12).append("g").attr("transform","translate(25, 0)")).append("rect").attr("x",0).attr("y",2).attr("width",70).attr("height",10).attr("fill","#f3f3f3"),$.append("rect").attr("x",0).attr("y",2).attr("width",70*n[0].outlier[-X-1].score).attr("height",10).attr("fill","#F72D35"),$.append("text").attr("x",75).attr("y",10).text(n[0].outlier[-X-1].score.toFixed(2))}return f}}}]),n}(g),V=function(e,t,n,r,a,i){t.selectAll("*").remove();var o=t.append("table").style("border","1px solid #000000").style("border-collapse","collapse").style("border-spacing",0).attr("width","600px"),c=o.append("thead").style("background","#eeee").style("text-align","left").append("tr").append("th").style("padding","3px 15px").attr("colspan",2).append("svg").attr("width",100).attr("height",12).append("g"),s=c.append("text").attr("font-size","8").attr("font-family","OPPOSans").attr("fill","#000000").text("Overview: Cluster ".concat(e)),u=s.node().getBBox().width;c.append("path").attr("transform","translate(".concat(u+8,", -3)")).attr("d",n[e]).attr("fill","#74C8F8"),u=c.node().getBBox().width;var p=s.node().getBBox().height;c.attr("transform","translate(5, ".concat(p,")"));for(var f=o.append("tbody"),h=function(){var t=r[0].variable[g].name,n=f.append("tr"),o=n.append("td").style("border","1px solid #000000").style("width","50px"),c=o.append("svg").attr("width",50).attr("height",30).append("g"),s=c.append("text").style("font-size","8px").text(t);c.append("rect").attr("x",s.node().getBBox().x).attr("y",s.node().getBBox().y).attr("width",s.node().getBBox().width).attr("height",s.node().getBBox().height).attr("fill",H[g%H.length]);var u=s.node().getBBox().width;s.node().remove(),c.append("text").style("font-size","8px").text(t),c.attr("transform","translate(".concat(25-u/2,", 18)")),o=n.append("td").style("border","1px solid #000000").style("width","550px"),c=o.append("svg").attr("width",550).attr("height",30).append("g");var p,h=new Map,v=Object(d.a)(r[0].cluster[e-1].member);try{for(v.s();!(p=v.n()).done;){var m=p.value;h.set(m[t],1)}}catch(S){v.e(S)}finally{v.f()}var b=l.u().range([0,550]);b.domain(l.i(a,(function(e){return Y(e[i[0].field])})));var y,x=l.t().range([30,0]),O=Object(d.a)(r[0].variable[g].member);try{var w=function(){var e=y.value;if(!h.has(e)){x.domain(l.i([].concat(a.map((function(t){return t[e]})))));var t=l.l().curve(l.g).x((function(e){return b(Y(e[i[0].field]))})).y((function(t){return x(t[e])}));c.append("path").attr("d",t(a)).attr("stroke","#AFAFAF").attr("stroke-width","1px").attr("opacity","20%").attr("fill","none")}};for(O.s();!(y=O.n()).done;)w()}catch(S){O.e(S)}finally{O.f()}var C,k=Object(d.a)(h.keys());try{var j=function(){var e=C.value;x.domain(l.i([].concat(a.map((function(t){return t[e]})))));var t=l.l().curve(l.g).x((function(e){return b(Y(e[i[0].field]))})).y((function(t){return x(t[e])}));c.append("path").attr("d",t(a)).attr("stroke","#AFAFAF").attr("stroke-width","1px").attr("opacity","80%").attr("fill","none")};for(k.s();!(C=k.n()).done;)j()}catch(S){k.e(S)}finally{k.f()}x.domain(l.i([].concat(a.map((function(n){return n[r[0].cluster[e-1].representation[t]]})))));var E=l.l().curve(l.g).x((function(e){return b(Y(e[i[0].field]))})).y((function(n){return x(n[r[0].cluster[e-1].representation[t]])}));c.append("path").attr("d",E(a)).attr("stroke",H[g]).attr("stroke-width","1px").attr("fill","none")},g=0;g<r[0].variable.length;g++)h()},Y=function(e){return l.D("%Y-%m-%d")(e)?l.D("%Y-%m-%d")(e):l.D("%Y/%m/%d")(e)?l.D("%Y/%m/%d")(e):l.D("%Y-%m")(e)?l.D("%Y-%m")(e):l.D("%Y/%m")(e)?l.D("%Y/%m")(e):l.D("%Y")(e)?l.D("%Y")(e):l.D("%Y-%m-%dT%H:%M:%S.%fZ")(e)?l.D("%Y-%m-%dT%H:%M:%S.%fZ")(e):e},W=U,K=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(){var e;return Object(r.a)(this,n),(e=t.call(this))._x="",e._y="",e}return Object(a.a)(n,[{key:"display",value:function(){var e=this.factdata(),t=this.measure(),n=this.breakdown(),r=this.focus();e=e.sort((function(e,t){return J(e[n[0].field])-J(t[n[0].field])}));for(var a="count"===t[0].aggregate?"COUNT":t[0].field,i=600,o=280,c=15,s=20,u=i-s-20,d=o-c-15,p=this.container(),f=l.w(p).append("svg").attr("width",i).attr("height",o).append("g").attr("transform","translate("+(s+10)+","+c+")").attr("font-family","OPPOSans"),h=l.u().range([0,u-20]),g=l.t().range([d-20,0]),v=[],m=J(e[1][n[0].field])-J(e[0][n[0].field]),b=1;b<=r[0].value.length;b++){var y={};y[n[0].field]=new Date(J(e[e.length-1][n[0].field]).getTime()+m*b),y.value=r[0].value[b-1],y.up=r[0].up[b-1],y.low=r[0].low[b-1],v.push(y)}h.domain(l.i([J(e[0][n[0].field]),v[v.length-1][n[0].field]])),g.domain(l.i([].concat(e.map((function(e){return.85*e[t[0].field]})),e.map((function(e){return 1.15*e[t[0].field]})))));var x=Z(e[0][n[0].field]),O=$(e[0][n[0].field]),w=l.b(h).tickFormat(O);x===l.E&&w.ticks(x);var C=l.a().x((function(e){return h(e[n[0].field])})).y0((function(e){return g(e.low)})).y1((function(e){return g(e.up)}));f.append("g").selectAll("path.area").data(v).enter().append("path").attr("class","area").attr("d",C(v)).attr("fill","#E4E4E4").attr("opacity",.7);var k=f.append("g").attr("class","lineLayer");k.append("g").selectAll("line.line").data(g.ticks(5)).enter().append("line").attr("x1",0).attr("x2",u-20).attr("y1",(function(e){return g(e)})).attr("y2",(function(e){return g(e)})).attr("stroke","#E6E6E6").attr("stroke-width","2px");var j=l.l().curve(l.g).x((function(e){return h(J(e[n[0].field]))})).y((function(e){return g(e[a])})),E=l.l().curve(l.g).x((function(e){return h(e[n[0].field])})).y((function(e){return g(e.value)}));k.append("path").attr("d",E(v)).attr("stroke","#6C8EF2").attr("stroke-width","3px").attr("fill","none").attr("stroke-dasharray","8px"),console.log(v);var S=k.append("path").attr("d",j(e)).attr("stroke","#6C8EF2").attr("stroke-width","3px").attr("fill","none");f.append("line").attr("x1",h(v[0][n[0].field])).attr("y1",d-20).attr("x2",h(v[0][n[0].field])).attr("y2",g(v[0].value)).attr("stroke","black").attr("stroke-width","1px").attr("stroke-dasharray","2px");var T=[];T.push(J(e[0][n[0].field])),T.push(v[0][n[0].field]),T.push(v[v.length-1][n[0].field]),w.tickValues(T);var I=f.append("g").attr("class","tooltip");return X(p,S,h,g,d,e,n,a,O,I),f.append("g").attr("class","xAxis").attr("transform","translate(0,"+(d-20)+")").call(w).call((function(e){e.attr("font-size","10px"),e.attr("font-family","OPPOSans"),e.attr("font-weight","light");var t=e.selectAll(".domain").attr("d");t=(t=t.replace("6V",6*o/320+"V")).replace("V6","V"+6*o/320),e.selectAll(".domain").attr("d",t).attr("stroke-width",2),e.selectAll(".tick").selectAll("line").attr("stroke","#000000").attr("stroke-width",2).attr("y2",5),e.selectAll("text").attr("y",10)})),f.append("g").attr("class","yAxis").call(l.c(g).ticks(5).tickFormat((function(e){return e/1e6>=1?e=e/1e6+"M":e/1e3>=1&&(e=e/1e3+"K"),e}))).call((function(e){e.attr("font-size","10px"),e.attr("font-weight","light"),e.attr("font-family","OPPOSans");var t=e.selectAll(".domain").attr("d");t=(t=t.replace("M-6","M-"+6*i/640)).replace("H-6","H-"+6*i/640),e.selectAll(".domain").attr("d",t).attr("stroke-width",2),e.selectAll(".tick").select("line").attr("stroke","#000000").attr("stroke-width",2).attr("x2",-5),e.selectAll("text").attr("x",-10)})),f}}]),n}(g),X=function(e,t,n,r,a,i,o,c,s,u){var d=l.w(e).append("div").style("width","95px").style("height","40px").style("opacity",0).style("position","absolute").style("pointer-events","none").style("border-radius","4px").style("background","#FFFFFF").style("box-shadow","0 0 5px #888888").style("padding","5px"),p=d.append("span").style("font","9px ".concat("OPPOSans")).style("font-weight","bold").style("display","block").style("color","#000000"),f=d.append("svg").attr("width","95px").attr("height","30px"),h=f.append("circle").attr("r",4).attr("cx","5px").attr("cy","12px"),g=f.append("text").style("font","8px ".concat("OPPOSans")).style("color","#000000").attr("x","14px").attr("y","14px");t.on("mouseover",(function(e){d.transition().duration(200).style("opacity",.9),m.transition().duration(200).style("opacity",1)})).on("mouseout",(function(e){document.elementFromPoint(l.h.pageX,l.h.pageY)!==y.node()&&(d.transition().duration(500).style("opacity",0),m.transition().duration(500).style("opacity",0))})).on("mousemove",(function(e){var t=n.invert(l.o(this)[0]),a=v(i,t,1),u=J(i[a-1][o[0].field]),f=J(i[a][o[0].field]),m=t-u>f-t?f:u,x=m===u?i[a-1][c]:i[a][c],O=s(m);d.style("left",l.o(this)[0]+30+"px").style("top",l.o(this)[1]+20+"px"),p.html(O),h.style("fill","#6C8EF2"),g.html(c+": "+x),b.attr("x1",n(m)),b.attr("x2",n(m)),y.attr("cx",n(m)),y.attr("cy",r(x)),y.attr("stroke","#6C8EF2")}));var v=l.d((function(e){return J(e[o[0].field])})).left,m=u.append("g").style("opacity",0),b=m.append("line").attr("y1",a-20).attr("y2",0).attr("stroke-width","2px").attr("stroke","#E6E6E6").attr("stroke-dasharray","6, 3"),y=m.append("circle").attr("r",3).attr("fill","#FFFFFF").attr("stroke-width","2").style("box-shadow","0 0 5px #888888").on("mouseover",(function(e){d.transition().duration(200).style("opacity",.9),m.transition().duration(200).style("opacity",1)})).on("mouseout",(function(e){d.transition().duration(500).style("opacity",0),m.transition().duration(500).style("opacity",0)}))},J=function(e){return l.D("%Y-%m-%d")(e)?l.D("%Y-%m-%d")(e):l.D("%Y/%m/%d")(e)?l.D("%Y/%m/%d")(e):l.D("%Y-%m")(e)?l.D("%Y-%m")(e):l.D("%Y/%m")(e)?l.D("%Y/%m")(e):l.D("%Y")(e)?l.D("%Y")(e):l.D("%Y-%m-%dT%H:%M:%S.%fZ")(e)?l.D("%Y-%m-%dT%H:%M:%S.%fZ")(e):e},$=function(e){return l.D("%Y-%m-%d")(e)?l.B("%Y-%-m-%-d"):l.D("%Y/%m/%d")(e)?l.B("%Y/%-m/%-d"):l.D("%Y-%m")(e)?l.B("%Y-%m"):l.D("%Y/%m")(e)?l.B("%Y/%m"):l.D("%Y")(e)?l.B("%Y"):l.D("%Y-%m-%dT%H:%M:%S.%fZ")(e)?l.B("%m/%d %H"):""},Z=function(e){return l.D("%Y-%m-%d")(e)||l.D("%Y/%m/%d")(e)?l.A:l.D("%Y-%m")(e)||l.D("%Y/%m")(e)?l.C:l.D("%Y")(e)?l.E:void 0},Q=K,ee=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(){var e;return Object(r.a)(this,n),(e=t.call(this))._x="",e._y="",e}return Object(a.a)(n,[{key:"display",value:function(){var e=this.factdata(),t=this.measure(),n=this.breakdown(),r=this.focus(),a=e=e.sort((function(e,t){return v(e[n[0].field])-v(t[n[0].field])})),i="count"===t[0].aggregate?"COUNT":t[0].field;if(0!==r.length){var o=600,c=280,s=15,u=20,p=o-u-20,f=c-s-15,h=l.w(this.container()).append("svg").attr("width",o).attr("height",c).append("g").attr("transform","translate("+(u+10)+","+s+")").attr("font-family","OPPOSans"),g=l.u().range([0,p-10]),y=l.t().range([f-20,0]);g.domain(l.i(a,(function(e){return v(e[n[0].field])}))),y.domain(l.i([].concat(a.map((function(e){return e[t[0].field]})),a.map((function(e){return.95*r[0].lower})),a.map((function(e){return 1.05*r[0].upper})))));var x=b(a[0][n[0].field]),O=m(a[0][n[0].field]),w=l.b(g).tickFormat(O);x===l.E&&w.ticks(x);var C=h.append("g").attr("class","lineLayer");C.append("g").selectAll("line.line").data(y.ticks(5)).enter().append("line").attr("x1",0).attr("x2",o).attr("y1",(function(e){return y(e)})).attr("y2",(function(e){return y(e)})).attr("stroke","#E6E6E6").attr("stroke-width","2px");for(var k=[],j=0;j<r[0].lower.length;j++)k.push({time:a[j][n[0].field],lower:r[0].lower[j],upper:r[0].upper[j]});var E=l.a().curve(l.g).x((function(e){return g(v(e.time))})).y0((function(e){return y(e.lower)})).y1((function(e){return y(e.upper)}));C.append("path").attr("stroke","#E4E4E4").attr("fill","#E4E4E4").attr("opacity",.7).attr("d",E(k));var S,T=l.l().curve(l.g).x((function(e){return g(v(e[n[0].field]))})).y((function(e){return y(e[i])})),I=l.l().curve(l.g).x((function(e){return g(v(e.x))})).y((function(e){return y(e.y)})),P=C.append("path").attr("d",T(a)).attr("stroke","#808080").attr("stroke-width","3px").attr("fill","none"),D=h.append("g").attr("class","tooltip"),N=[],A=Object(d.a)(r);try{for(A.s();!(S=A.n()).done;){var _=S.value,M=void 0,R=void 0,F=void 0,B=void 0,L=void 0;if(_.scope[0]!==_.scope[1]){B=Math.max(0,_.scope[0]-1),L=Math.min(a.length-1,_.scope[1]+1);var G=g(v(a[B][n[0].field])),q=g(v(a[L][n[0].field]));M=(G+q)/2;var z=Math.floor((B+L)/2);a[z][i]<r[0].lower[z]?(R=l.m(a.slice(B,L+1),(function(e){return y(e[i])})),F=!1):(R=l.n(a.slice(B,L+1),(function(e){return y(e[i])})),F=!0),D.append("line").attr("x1",G).attr("y1",y(a[B][i])).attr("x2",G).attr("y2",f-20).attr("stroke","black").attr("stroke-dasharray","6, 3"),D.append("line").attr("x1",q).attr("y1",y(a[L][i])).attr("x2",q).attr("y2",f-20).attr("stroke","black").attr("stroke-dasharray","6, 3"),N.push(v(a[B][n[0].field])),N.push(v(a[L][n[0].field]))}else B=Math.max(0,_.start-1),L=Math.min(a.length,_.scope[1]+1),M=g(v(a[_.scope[0]][n[0].field])),R=y(a[_.scope[0]][i]),F=!(a[_.scope[0]][i]<r[0].lower[_.scope[0]]),D.append("line").attr("x1",M).attr("y1",R).attr("x2",M).attr("y2",f-20).attr("stroke","black").attr("stroke-dasharray","6, 3"),D.append("circle").attr("class","focusDot").attr("cx",M).attr("cy",R).attr("r","4px").attr("stroke","#F72D35").attr("fill","#F72D35"),N.push(v(a[_.scope[0]][n[0].field]));var H=[],U=B;for(0!==_.scope[0]&&(H.push({x:a[U][n[0].field],y:a[U][i]}),U+=1);U<L;U++)H.push({x:a[U][n[0].field],y:r[0].forecast[U]});_.scope[1]!==a.length-1?H.push({x:a[U][n[0].field],y:a[U][i]}):H.push({x:a[U][n[0].field],y:r[0].forecast[U]}),D.append("path").attr("d",I(H)).attr("stroke","#B1B1B1").attr("stroke-width","3px").attr("stroke-dasharray","6, 3").attr("fill","none"),D.append("path").attr("d",T(a.slice(B,L+1))).attr("stroke","#F72D35").attr("stroke-width","5px").attr("fill","none");var V=D.append("g"),Y=V.append("text").attr("font-size","10px").attr("font-family","OPPOSans").attr("stroke","#F72D35");Y.append("tspan").text("Anomaly score: "+_.score.toFixed(2)).attr("dy",.9*Y.selectAll("tspan").node().getBBox().height);var W=V.node().getBBox().width,K=V.node().getBBox().height,X=R;F?X-=K+8:X+=8,V.append("image").attr("xlink:href","./alert.svg").attr("width","15px").attr("height","13px").attr("x",M-(W+17)/2).attr("y",X+2),Y.attr("width",W).attr("height",K).attr("x",M-(W+17)/2+17).attr("y",X)}}catch(J){A.e(J)}finally{A.f()}return w.tickValues(N),this._showTooltip&&te("#whole-container",P,g,y,f,a,n,i,O,D),h.append("g").attr("class","xAxis").attr("transform","translate(0,"+(f-20)+")").call(w).attr("font-family","OPPOSans").call((function(e){e.attr("font-size",10),e.attr("font-family","OPPOSans");var t=e.selectAll(".domain").attr("d");t=(t=t.replace("6V",6*c/320+"V")).replace("V6","V"+6*c/320),e.selectAll(".domain").attr("d",t).attr("stroke-width",2),e.selectAll(".tick").selectAll("line").attr("stroke","#000000").attr("stroke-width",2).attr("y2",6*c/320),e.selectAll("text").attr("y",9*c/320)})),h.append("g").attr("class","yAxis").call(l.c(y).ticks(5).tickFormat((function(e){return e/1e6>=1?e=e/1e6+"M":e/1e3>=1&&(e=e/1e3+"K"),e}))).call((function(e){e.attr("font-size","10px"),e.attr("font-weight","light"),e.attr("font-family","OPPOSans");var t=e.selectAll(".domain").attr("d");t=(t=t.replace("M-6","M-"+6*o/640)).replace("H-6","H-"+6*o/640),e.selectAll(".domain").attr("d",t).attr("stroke-width",2),e.selectAll(".tick").select("line").attr("stroke","#000000").attr("stroke-width",2).attr("x2",-6*o/640),e.selectAll("text").attr("x",-9*o/640)})),h}}}]),n}(g),te=function(e,t,n,r,a,i,o,c,s,u){var d=l.w(e).append("div").attr("id","value-tooltip").style("z-index",2e3).style("width","fit-content").style("height","40px").style("opacity",0).style("position","absolute").style("pointer-events","none").style("border-radius","4px").style("background","#FFFFFF").style("box-shadow","0 0 5px #888888").style("padding","5px"),p=d.append("span").style("font","9px ".concat("OPPOSans")).style("font-weight","bold").style("display","block").style("color","#000000"),f=d.append("svg").attr("width","95px").attr("height","30px").style("display","block").style("word-break","normal").style("word-warp","break-word").style("overflow","hidden"),h=f.append("circle").attr("r",4).attr("cx","5px").attr("cy","12px"),g=f.append("text").style("font","8px ".concat("OPPOSans")).style("color","#000000").attr("x","14px").attr("y","14px");t.on("mouseover",(function(e){d.transition().duration(200).style("opacity",.9),b.transition().duration(200).style("opacity",1)})).on("mouseout",(function(e){document.elementFromPoint(l.h.pageX,l.h.pageY)!==x.node()&&(d.transition().duration(500).style("opacity",0),b.transition().duration(500).style("opacity",0))})).on("mousemove",(function(e){var t=w(),a=n.invert(l.o(this)[0]),u=m(i,a,1),f=v(i[u-1][o[0].field]),b=v(i[u][o[0].field]),O=a-f>b-a?b:f,C=O===f?i[u-1][c]:i[u][c],k=s(O);d.style("left",t.posX+30+"px").style("top",t.posY+20+"px"),p.html(k),h.style("fill","#808080"),g.html(c+": "+C.toFixed(2)),y.attr("x1",n(O)),y.attr("x2",n(O)),x.attr("cx",n(O)),x.attr("cy",r(C)),x.attr("stroke","#808080")}));var m=l.d((function(e){return v(e[o[0].field])})).left,b=u.append("g").style("opacity",0),y=b.append("line").attr("y1",a-20).attr("y2",0).attr("stroke-width","2px").attr("stroke","#E6E6E6").attr("stroke-dasharray","6, 3"),x=b.append("circle").attr("r",3).attr("fill","#FFFFFF").attr("stroke-width","2").style("box-shadow","0 0 5px #888888").on("mouseover",(function(e){d.transition().duration(200).style("opacity",.9),b.transition().duration(200).style("opacity",1)})).on("mouseout",(function(e){d.transition().duration(500).style("opacity",0),b.transition().duration(500).style("opacity",0)}))},ne=ee,re=["#6C8EF2","#92551D","#8B65BA","#4B8384","#5EA211"],ae={baseline:"#d2cffd",Compare:"#f5bf27"},ie="#ffc136",oe="#ffffff",ce=10,se=2,le=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(e){var a;return Object(r.a)(this,n),(a=t.call(this,e))._x="",a._y="",a.props=e,a}return Object(a.a)(n,[{key:"display",value:function(){var e=this.parsrFact(),t=e.data,n=e.measure,r=e.breakdown,a=e.focus,i=e.subspace;if(0!==a.length){var o=this.setChartStandard(n,a),c=o._chartSize,s=o._width,u=o._height,d=o._margin,p=this.initSvg(c,d);this.drawLegend(p,s);var f,h,g,v,m=this.drawXAxis(p,t,r,s,u,c),b=m._x,y=m._tick_format,x=p.append("g").attr("class","lineLayer"),O=p.append("g").attr("class","yAxis"),w=p.append("g").attr("class","simiblock"),C=(u-20+15)/n.length,k=this.setSeriesColor(n),j=[],E=[];a.forEach((function(e,n){"Base Line"===e.value[0].text&&(h=e.value[0].start,g=e.value[0].end,v=e.field,f=l.i(t.slice(h,g+1),(function(e){return e[v]})))}));for(var S=0;S<n.length;S++){var T=n[S].field,I=this.drawYAxis(t,O,c,C,T,k,S),P=this.drawBackLine(x,t,b,I,c,r,T,k),D=l.t().domain([0,1]).range([.001,.5]);this.drawSimiPart(i,t,b,C,a,r,n,w,j,E,f,P,k,D,T,S)}return this._showTooltip&&ue(this.tooltipId,"#whole-container",j,E,t,r,y,{field:v,start:h,end:g},k),p}}},{key:"parsrFact",value:function(){var e=this.factdata(),t=this.measure(),n=this.breakdown(),r=this.focus(),a=this.subspace();return{data:e=e.sort((function(e,t){return v(e[n[0].field])-v(t[n[0].field])})),measure:t,breakdown:n,focus:r,subspace:a}}},{key:"setChartStandard",value:function(e,t){var n={width:600,height:360},r={top:15,right:20,bottom:15,left:20};return{_width:n.width-r.left-r.right,_height:n.height-r.top-r.bottom,_chartSize:n,_margin:r}}},{key:"initSvg",value:function(e,t){return l.w(this.container()).append("svg").attr("width",e.width).attr("height",e.height).append("g").attr("transform","translate("+(t.left+10)+","+t.top+")").attr("font-family","OPPOSans")}},{key:"drawLegend",value:function(e,t){var n=l.t().domain([400,t-70]).range([0,1]),r=l.k(ie,oe);e.selectAll("rect").data(l.s(400,t-70,1)).enter().append("rect").attr("x",(function(e,t){return t+400})).attr("y",(function(e,t){return-10})).attr("width",1.1).attr("height",8).style("stroke",(function(e){return r(n(e))})).style("fill",(function(e){return r(n(e))})),e.append("text").attr("y",-2).attr("x",400).style("text-anchor","start").style("font-size","8px").text("100"),e.append("text").attr("y",-2).attr("x",t-70).style("text-anchor","start").style("font-size","8px").text("0"),e.append("text").attr("y",-2).attr("x",t-60+7).style("text-anchor","start").style("font-size","8px").text("Similarity Score")}},{key:"drawXAxis",value:function(e,t,n,r,a,i){var o=m(t[0][n[0].field]),c=l.u().domain(l.i(t,(function(e){return v(e[n[0].field])}))).range([30,r-10]),s=l.b(c).ticks(5).tickFormat(l.B("%Y/%m/%d/%H"));return e.append("g").attr("class","xAxis").attr("transform","translate(0,"+(a-20)+")").call(s).attr("font-family","OPPOSans").call((function(e){e.attr("font-size",ce),e.attr("font-family","OPPOSans");var t=e.selectAll(".domain").attr("d");t=(t=t.replace("6V",6*i.height/320+"V")).replace("V6","V"+6*i.height/320),e.selectAll(".domain").attr("d",t).attr("stroke-width",se),e.selectAll(".tick").selectAll("line").attr("stroke","#000000").attr("stroke-width",se).attr("y2",6*i.height/320),e.selectAll("text").attr("y",9*i.height/320)})).call(s),{_x:c,_tick_format:o}}},{key:"drawYAxis",value:function(e,t,n,r,a,i,o){var c=l.t().range([r*(o+1)-15,r*o]);c.domain(l.i([].concat(e.map((function(e){return.95*e[a]})),e.map((function(e){return 1.05*e[a]}))))),t.append("g").attr("transform","translate(30, 0)").call(l.c(c).ticks(5).tickFormat((function(e){return e/1e6>=1?e=e/1e6+"M":e/1e3>=1&&(e=e/1e3+"K"),e}))).call((function(e){e.attr("font-size","10px"),e.attr("font-weight","light"),e.attr("font-family","OPPOSans");var t=e.selectAll(".domain").attr("d");t=(t=t.replace("M-6","M-"+6*n.width/640)).replace("H-6","H-"+6*n.width/640),e.selectAll(".domain").attr("d",t).attr("stroke-width",se),e.selectAll(".tick").select("line").attr("stroke","#000000").attr("stroke-width",se).attr("x2",-6*n.width/640),e.selectAll("text").attr("x",-9*n.width/640)}));var s=t.append("text").attr("transform","rotate(-90)").attr("y",-5).attr("x",0-(r*(2*o+1)-15)/2).style("text-anchor","middle").style("font-size","10px").text(a);return t.append("rect").attr("transform","rotate(-90)").style("text-anchor","middle").attr("x",s.node().getBBox().x).attr("y",s.node().getBBox().y).attr("width",s.node().getBBox().width+2).attr("height",s.node().getBBox().height).attr("fill",i[a]),s.node().remove(),t.append("text").attr("transform","rotate(-90)").attr("y",-5).attr("x",0-(r*(2*o+1)-15)/2).style("text-anchor","middle").style("font-size","10px").text(a),c}},{key:"setSeriesColor",value:function(e){for(var t={},n=0;n<e.length;n++)t[e[n].field]=re[n%re.length];return t}},{key:"drawBackLine",value:function(e,t,n,r,a,i,o,c){e.append("g").selectAll("line.line").data(r.ticks(5)).enter().append("line").attr("x1",30).attr("x2",a.width).attr("y1",(function(e){return r(e)})).attr("y2",(function(e){return r(e)})).attr("stroke","#E6E6E6").attr("stroke-width","2px");var s=l.l().curve(l.g).x((function(e){return n(v(e[i[0].field]))})).y((function(e){return r(e[o])}));return e.append("path").attr("d",s(t)).attr("stroke",c[o]).attr("stroke-width","2px").attr("fill","none"),s}},{key:"drawSimiPart",value:function(e,t,n,r,a,i,o,c,s,u,p,f,h,g,m,b){var y,x=Object(d.a)(a);try{var O=function(){var e=y.value;if(e.field===m){var a,x=e.value,O=Object(d.a)(x);try{var w=function(){var d=a.value,y=Math.max(0,d.start),x=Math.min(t.length-1,d.end+1),O=c.append("rect").attr("x",n(v(t[y][i[0].field]))).attr("y",r*b).attr("width",n(v(t[x][i[0].field]))-n(v(t[y][i[0].field]))).attr("height",r-15).attr("fill",ae[e.tag]).attr("fill-opacity",(function(){return"baseline"===e.tag?.4:g(d.similarity_value)}));if("baseline"!==e.tag){var w=l.i(t.slice(y,x+1),(function(e){return e[m]}));s.push(O),u.push({field:e.field,start:y,end:x,ymax:w[1]>p[1]?w[1]:p[1],ymin:w[0]<p[0]?w[0]:p[0],similarity_value:d.similarity_value})}c.append("path").attr("d",f(t.slice(y,x+1))).attr("stroke",h[o[b].field]).attr("stroke-width","2px").attr("fill","none"),c.append("rect").attr("x",n(v(t[y][i[0].field]))).attr("y",r*b).attr("width",1).attr("height",r-15).attr("fill",ae[e.tag]),c.append("rect").attr("x",n(v(t[x][i[0].field]))-1).attr("y",r*b).attr("width",1).attr("height",r-15).attr("fill",ae[e.tag]),c.append("text").attr("x",n(v(t[y][i[0].field]))+5).attr("y",r*b+7+5).attr("fill","#000000").style("font-size","7px").style("font-family","OPPOSans").style("font-weight","bold").text(d.text)};for(O.s();!(a=O.n()).done;)w()}catch(C){O.e(C)}finally{O.f()}}};for(x.s();!(y=x.n()).done;)O()}catch(w){x.e(w)}finally{x.f()}}}]),n}(g),ue=function(e,t,n,r,a,i,o,c,s){var u=l.w(t).append("div").attr("id","hover-tooltip").style("z-index",2e3).style("width","200px").style("height","115px").style("opacity",0).style("position","absolute").style("pointer-events","none").style("padding-left","10px"),d=u.append("div").style("display","flex").style("align-items","center").style("height","15px").style("border","2px solid ".concat("#3E3A39")).style("border-radius","4px 4px 0px 0px").style("padding-left","5px").style("padding-right","5px").style("background","#3E3A39").style("font","7px ".concat("OPPOSans")).style("font-weight","bold").style("color","#FCFBE7").style("text-overflow","ellipsis").style("overflow","hidden").style("white-space","nowrap"),p=u.append("div").style("width","200px").style("height","100px").style("border","2px solid ".concat("#3E3A39")).style("border-radius","0px 4px 4px 4px").style("background","#FCFBE7");p.append("span").style("position","absolute").style("left","-10px").style("top","60px").style("border-width","10px").style("border-style","dashed solid dashed dashed").style("border-color","transparent ".concat("#3E3A39"," transparent transparent")).style("font-size",0).style("line-height",0),p.append("em").style("position","absolute").style("left","-4px").style("top","62px").style("border-width","8.2px").style("border-style","dashed solid dashed dashed").style("border-color","transparent ".concat("#FCFBE7"," transparent transparent")).style("font-size",0).style("line-height",0),p.append("div").attr("id","tooltip-chart"+e);for(var f=function(t){n[t].on("mouseover",(function(e){u.transition().duration(200).style("opacity",.9)})).on("mouseout",(function(e){u.transition().duration(500).style("opacity",0)})).on("mousemove",(function(n){var p=w();u.style("left",p.posX+30+"px").style("top",p.posY-50+"px");var f=o(v(a[r[t].start][i[0].field]))+"-"+o(v(a[r[t].end][i[0].field]));d.html(f);var h=l.t().domain([0,r[t].end-r[t].start]).range([0,195]),g=l.t().domain([.9*r[t].ymin,1.1*r[t].ymax]).range([100,0]),m=l.l().curve(l.g).x((function(e,t){return h(t)})).y((function(e,t){return g(e[c.field])})),b=l.l().curve(l.g).x((function(e,t){return h(t)})).y((function(e){return g(e[r[t].field])}));l.w("#tooltip-chart"+e).selectAll("*").remove();var y=l.w("#tooltip-chart"+e).append("svg").attr("class",r[t].field).attr("width","200").attr("height","100"),x=y.append("g").attr("font-family","OPPOSans");x.append("path").attr("d",m(a.slice(c.start,c.end+1))).attr("stroke","#5B8EF9").attr("stroke-width","2px").attr("fill","none"),x.append("path").attr("d",b(a.slice(r[t].start,r[t].end+1))).attr("stroke",s[r[t].field]).attr("stroke-width","2px").attr("fill","none"),x.append("rect").attr("x",6).attr("y",89).attr("width",15).attr("height",5).attr("fill","#5B8EF9"),x.append("text").attr("x",27).attr("y",93).attr("fill","#3e3a39").style("font-size","6px").style("font-family","OPPOSans").style("font-weight","bolder").text("Base Line"),x.append("text").attr("x",6).attr("y",8).attr("fill","#ffc111").style("font-size","7px").style("font-family","OPPOSans").style("font-weight","bolder").text((100*r[t].similarity_value).toFixed(2)),x.append("text").attr("x",30).attr("y",8).attr("fill","#3e3a39").style("font-size","7px").style("font-family","OPPOSans").style("font-weight","bolder").text("Similarity"),y.append("g").attr("transform","translate(200, 0)").call(l.c(g).ticks(3).tickFormat((function(e){return e/1e6>=1?e=e/1e6+"M":e/1e3>=1&&(e=e/1e3+"K"),e}))).call((function(e){e.attr("font-size","6px"),e.attr("font-weight","light"),e.attr("font-family","OPPOSans");var t=e.selectAll(".domain").attr("d");t=(t=t.replace("M-6","M-1.875")).replace("H-6","H-1.875"),e.selectAll(".domain").attr("d",t).attr("stroke-width","1px"),e.selectAll(".tick").select("line").attr("stroke","#000000").attr("stroke-width","1px").attr("x2",-1.875),e.selectAll("text").attr("x",-2.8125)}))}))},h=0;h<n.length;h++)f(h)},de=le,pe=["#6C8EF2","#92551D","#8B65BA","#4B8384","#5EA211"],fe=10,he=2,ge=!1,ve=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(e){var a;return Object(r.a)(this,n),(a=t.call(this,e))._x="",a._y="",a.props=e,a}return Object(a.a)(n,[{key:"display",value:function(){for(var e=this.parsrFact(),t=e.data,n=e.measure,r=e.breakdown,a=(e.focus,this.setChartStandard(t,n)),i=a._chartSize,o=a._width,c=a._height,s=a._margin,l=this.initSvg(i,s),u=this.drawXAxis(l,t,r,o,c,i)._x,d=l.append("g").attr("class","lineLayer"),p=l.append("g").attr("class","yAxis"),f=l.append("div").attr("id","text-tooltip").style("z-index",2e3).style("width","200px").style("height","115px").style("opacity",.9).style("position","absolute").style("pointer-events","none").style("padding-left","10px"),h=(c-20+30)/n.length,g=(l.append("g").attr("class","simiblock"),this.setSeriesColor(n)),v=0;v<n.length;v++){var m=n[v].field,b=this.drawYAxis(t,p,f,i,h,m,g,v);this.drawBackLine(d,t,u,b,o,r,m,g)}return ge&&(ge=!1),l}},{key:"parsrFact",value:function(){var e=this.factdata(),t=this.measure(),n=this.breakdown(),r=this.focus();return{data:e=e.sort((function(e,t){return v(e[n[0].field])-v(t[n[0].field])})),measure:t,breakdown:n,focus:r}}},{key:"setChartStandard",value:function(e,t){var n={width:Math.max(2*e.length,1e3),height:120*t.length},r={top:15,right:50,bottom:15,left:20};return{_width:n.width-r.left-r.right,_height:n.height-r.top-r.bottom,_chartSize:n,_margin:r}}},{key:"initSvg",value:function(e,t){return l.w(this.container()).append("svg").attr("width",e.width).attr("height",e.height).append("g").attr("transform","translate("+(t.left+10)+","+t.top+")").attr("font-family","OPPOSans")}},{key:"drawXAxis",value:function(e,t,n,r,a,i){var o=l.u().domain(l.i(t,(function(e){return v(e[n[0].field])}))).range([60,r-10]),c=m(t[0][n[0].field]),s=l.b(o).ticks(5).tickFormat(c);return e.append("g").attr("class","xAxis").attr("transform","translate(0,"+(a-20)+")").call(s).style("user-select","none").attr("font-family","OPPOSans").call((function(e){e.attr("font-size",fe),e.attr("font-family","OPPOSans");var t=e.selectAll(".domain").attr("d");t=(t=t.replace("6V",6*i.height/320+"V")).replace("V6","V"+6*i.height/320),e.selectAll(".domain").attr("d",t).attr("stroke-width",he),e.selectAll(".tick").selectAll("line").attr("stroke","#000000").attr("stroke-width",he).attr("y2",6*i.height/320),e.selectAll("text").attr("y",9*i.height/320)})).call(s),{_x:o,_tick_format:c}}},{key:"drawYAxis",value:function(e,t,n,r,a,i,o,c){var s=l.t().range([a*(c+1)-30,a*c]);s.domain(l.i([].concat(e.map((function(e){return.95*e[i]})),e.map((function(e){return 1.05*e[i]}))))),t.append("g").attr("transform","translate(60, 0)").call(l.c(s).ticks(5).tickFormat((function(e){return e/1e6>=1?e=e/1e6+"M":e/1e3>=1&&(e=e/1e3+"K"),e}))).style("user-select","none").call((function(e){e.attr("font-size","10px"),e.attr("font-weight","light"),e.attr("font-family","OPPOSans");var t=e.selectAll(".domain").attr("d");t=(t=t.replace("M-6","M-6")).replace("M-6","M-6"),e.selectAll(".domain").attr("d",t).attr("stroke-width",he),e.selectAll(".tick").select("line").attr("stroke","#000000").attr("stroke-width",he).attr("x2",-6),e.selectAll("text").attr("x",-9)}));var u=i;return i.length>15&&(u=u.substr(0,15)+"..."),t.append("text").attr("transform","rotate(-90)").attr("y",20).attr("x",0-(a*(2*c+1)-30)/2).style("text-anchor","middle").style("font-size","12px").style("font-weight","bold").style("fill",o[i]).style("text-decoration","underline").style("user-select","none").text(u).on("mouseover",(function(e,t){n.html(i),n.transition().duration(200).style("opacity",.9)})).on("mouseout",(function(e){n.transition().duration(500).style("opacity",0)})).on("mousemove",(function(e){var t=w();n.style("left",t.posX+30+"px").style("top",t.posY-50+"px")})),s}},{key:"drawUniFocusPart",value:function(e,t,n,r,a,i,o,c,s,u,p){var f,h=this.props,g=Object(d.a)(r);try{for(g.s();!(f=g.n()).done;){var m=f.value;if(m.field===u){var b,y=m.value,x=Object(d.a)(y);try{for(x.s();!(b=x.n()).done;){var O=b.value,w=Math.max(0,O.start-1),C=Math.min(e.length-1,O.end+1);o.append("rect").attr("x",t(v(e[w][a[0].field]))).attr("y",n*p).attr("width",t(v(e[C][a[0].field]))-t(v(e[w][a[0].field]))).attr("height",n-30).attr("fill",(function(){return h.spec.chart.id,"#f5bf27"})).attr("fill-opacity",.2).attr("cursor","pointer").attr("id",u+"-"+O.start+"-"+O.end).attr("class","insight-block false").on("mouseover",(function(){l.w(this).transition().duration(500).attr("fill-opacity",.5)})).on("mouseout",(function(){l.w(this).transition().duration(500).attr("fill-opacity",.2)})).on("click",(function(){h.isPopInsightCard||h.setPopInsightCardState(!0)})),o.append("path").attr("d",c(e.slice(w,C+1))).attr("stroke",s[i[p].field]).attr("stroke-width","2px").attr("fill","none"),o.append("rect").attr("x",t(v(e[w][a[0].field]))).attr("y",n*p).attr("width",1).attr("height",n-30).attr("fill","#f5bf27"),o.append("rect").attr("x",t(v(e[C][a[0].field]))-1).attr("y",n*p).attr("width",1).attr("height",n-30).attr("fill","#f5bf27")}}catch(k){x.e(k)}finally{x.f()}}}}catch(k){g.e(k)}finally{g.f()}}},{key:"drawMultiFocusPart",value:function(e,t,n,r,a,i,o,c,s,u,p){var f,h=this.props,g=Object(d.a)(r);try{for(g.s();!(f=g.n()).done;){var m=f.value;if(m.field===u){var b=m.value[0],y=Math.max(0,b.start-1),x=Math.min(e.length-1,b.end+1);ge||o.append("rect").attr("x",t(v(e[y][a[0].field]))).attr("y",0).attr("width",t(v(e[x][a[0].field]))-t(v(e[y][a[0].field]))).attr("height",n-30).attr("fill",(function(){return h.spec.chart.id,"#f5bf27"})).attr("fill-opacity",.2).attr("cursor","pointer").attr("id",u+"-"+b.start+"-"+b.end).attr("class","insight-block false").on("mouseover",(function(){l.w(this).transition().duration(500).attr("fill-opacity",.5)})).on("mouseout",(function(){l.w(this).transition().duration(500).attr("fill-opacity",.2)})).on("click",(function(){h.isPopInsightCard||h.setPopInsightCardState(!0)})),o.append("path").attr("d",c(e.slice(y,x+1))).attr("stroke",s[i[p].field]).attr("stroke-width","2px").attr("fill","none"),ge||(o.append("rect").attr("x",t(v(e[y][a[0].field]))).attr("y",0).attr("width",1).attr("height",n-30).attr("fill","#f5bf27").attr("fill-opacity",.4),o.append("rect").attr("x",t(v(e[x][a[0].field]))-1).attr("y",0).attr("width",1).attr("height",n-30).attr("fill","#f5bf27").attr("fill-opacity",.4))}}}catch(O){g.e(O)}finally{g.f()}ge||(ge=!0)}},{key:"setSeriesColor",value:function(e){for(var t={},n=0;n<e.length;n++)t[e[n].field]=pe[n%pe.length];return t}},{key:"drawBackLine",value:function(e,t,n,r,a,i,o,c){e.append("g").selectAll("line.line").data(r.ticks(5)).enter().append("line").attr("x1",60).attr("x2",a-10).attr("y1",(function(e){return r(e)})).attr("y2",(function(e){return r(e)})).attr("stroke","#E6E6E6").attr("stroke-width","2px");var s=l.l().curve(l.g).x((function(e){return n(v(e[i[0].field]))})).y((function(e){return r(e[o])}));return e.append("path").attr("d",s(t)).attr("stroke",c[o]).attr("stroke-width","2px").attr("fill","none"),s}}]),n}(g),me=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(){var e;return Object(r.a)(this,n),(e=t.call(this))._x="",e._y="",e}return Object(a.a)(n,[{key:"display",value:function(){for(var e=this.factdata(),t=this.measure(),n=this.breakdown(),r=this.focus(),a=[],i=function(n){for(var i=e.filter((function(a){return a[t[0].field]===e[r[n].index][t[0].field]})),o=0;o<i.length;o++)a.push(i[o]);a=[a[a.length-1]]},o=0;o<r.length;o++)i(o);var c=[];(c=a.length<=3?a:[a[0],a[1],a[2]]).sort((function(e,t){return v(e[n[0].field])-v(t[n[0].field])}));var s=e.sort((function(e,t){return v(e[n[0].field])-v(t[n[0].field])})),u="count"===t[0].aggregate?"COUNT":t[0].field,p=600,f=280,h=15,g=20,y=p-g-20,x=f-h-15,O=l.w(this.container()).append("svg").attr("width",p).attr("height",f).append("g").attr("transform","translate("+(g+10)+","+h+")").attr("font-family","OPPOSans"),w=l.u().range([0,y-20]),C=l.t().range([x-20,0]);w.domain(l.i(s,(function(e){return v(e[n[0].field])}))),C.domain(l.i([].concat(s.map((function(e){return.95*e[t[0].field]})),s.map((function(e){return 1.05*e[t[0].field]})))));var k=b(s[0][n[0].field]),j=m(s[0][n[0].field]),E=l.b(w).tickFormat(j);k===l.E&&E.ticks(k);var S=O.append("g").attr("class","lineLayer");S.append("g").selectAll("line.line").data(C.ticks(5)).enter().append("line").attr("x1",0).attr("x2",y-20).attr("y1",(function(e){return C(e)})).attr("y2",(function(e){return C(e)})).attr("stroke","#E6E6E6").attr("stroke-width","2px");var T,I=l.l().curve(l.g).x((function(e){return w(v(e[n[0].field]))})).y((function(e){return C(e[u])})),P=S.append("path").attr("d",I(s)).attr("stroke","#6C8EF2").attr("stroke-width","3px").attr("fill","none"),D=l.x().type(l.y).size(16),N=O.append("g").attr("class","tooltip"),A=Object(d.a)(c);try{for(A.s();!(T=A.n()).done;){var _=T.value;O.append("g").attr("transform","translate("+w(v(_[n[0].field]))+","+C(_[u])+")").append("path").attr("d",D()).attr("fill","#F5BF27"),O.append("line").attr("x1",w(v(_[n[0].field]))).attr("y1",x-20).attr("x2",w(v(_[n[0].field]))).attr("y2",C(_[u])).attr("stroke","black").attr("stroke-width","3px").attr("stroke-dasharray","2px")}}catch(G){A.e(G)}finally{A.f()}var M=N.append("text").attr("font-size","12px").attr("font-family","OPPOSans").attr("fill","#000000");M.append("tspan").text(Math.round(100*c[0][u])/100);var R=M.node().getBBox().width,F=M.node().getBBox().height;M.attr("width",R).attr("height",F).attr("x",w(v(c[0][n[0].field]))-1.05*R).attr("y",C(c[0][u])-F/2),c.length>1&&((M=N.append("text").attr("font-size","10px").attr("font-family","OPPOSans").attr("fill","#000000")).append("tspan").text(Math.round(100*c[1][u])/100),R=M.node().getBBox().width,F=M.node().getBBox().height,M.attr("width",R).attr("height",F).attr("x",w(v(c[1][n[0].field]))-R/2).attr("y",C(c[1][u])-F/2)),c.length>2&&((M=N.append("text").attr("font-size","10px").attr("font-family","OPPOSans").attr("fill","#000000")).append("tspan").text(Math.round(100*c[2][u])/100),R=M.node().getBBox().width,F=M.node().getBBox().height,M.attr("width",R).attr("height",F).attr("x",w(v(c[2][n[0].field]))+.05*R).attr("y",C(c[2][u])-F/2));for(var B=[],L=0;L<c.length;L++)B.push(v(c[L][n[0].field]));return E.tickValues(B),this._showTooltip&&be("#whole-container",P,w,C,x,s,n,u,j,N),O.append("g").attr("class","xAxis").attr("transform","translate(0,"+(x-20)+")").call(E).call((function(e){e.attr("font-size","10px"),e.attr("font-family","OPPOSans"),e.attr("font-weight","light");var t=e.selectAll(".domain").attr("d");t=(t=t.replace("6V",6*f/320+"V")).replace("V6","V"+6*f/320),e.selectAll(".domain").attr("d",t).attr("stroke-width",2),e.selectAll(".tick").selectAll("line").attr("stroke","#000000").attr("stroke-width",2).attr("y2",5),e.selectAll("text").attr("y",10).attr("style","text-anchor: end")})),O.append("g").attr("class","yAxis").call(l.c(C).ticks(5).tickFormat((function(e){return e/1e6>=1?e=e/1e6+"M":e/1e3>=1&&(e=e/1e3+"K"),e}))).call((function(e){e.attr("font-size","10px"),e.attr("font-weight","light"),e.attr("font-family","OPPOSans");var t=e.selectAll(".domain").attr("d");t=(t=t.replace("M-6","M-"+6*p/640)).replace("H-6","H-"+6*p/640),e.selectAll(".domain").attr("d",t).attr("stroke-width",2),e.selectAll(".tick").select("line").attr("stroke","#000000").attr("stroke-width",2).attr("x2",-5),e.selectAll("text").attr("x",-10)})),O}}]),n}(g),be=function(e,t,n,r,a,i,o,c,s,u){var d=l.w(e).append("div").attr("id","value-tooltip").style("z-index",2e3).style("width","fit-content").style("height","40px").style("opacity",0).style("position","absolute").style("pointer-events","none").style("border-radius","4px").style("background","#FFFFFF").style("box-shadow","0 0 5px #888888").style("padding","5px"),p=d.append("span").style("font","9px ".concat("OPPOSans")).style("font-weight","bold").style("display","block").style("color","#000000"),f=d.append("svg").attr("width","95px").attr("height","30px"),h=f.append("circle").attr("r",4).attr("cx","5px").attr("cy","12px"),g=f.append("text").style("font","8px ".concat("OPPOSans")).style("color","#000000").attr("x","14px").attr("y","14px");t.on("mouseover",(function(e){d.transition().duration(200).style("opacity",.9),b.transition().duration(200).style("opacity",1)})).on("mouseout",(function(e){document.elementFromPoint(l.h.pageX,l.h.pageY)!==x.node()&&(d.transition().duration(500).style("opacity",0),b.transition().duration(500).style("opacity",0))})).on("mousemove",(function(e){var t=w(),a=n.invert(l.o(this)[0]),u=m(i,a,1),f=v(i[u-1][o[0].field]),b=v(i[u][o[0].field]),O=a-f>b-a?b:f,C=O===f?i[u-1][c]:i[u][c],k=s(O);d.style("left",t.posX+30+"px").style("top",t.posY+20+"px"),p.html(k),h.style("fill","#6C8EF2"),g.html(c+": "+C.toFixed(2)),y.attr("x1",n(O)),y.attr("x2",n(O)),x.attr("cx",n(O)),x.attr("cy",r(C)),x.attr("stroke","#6C8EF2")}));var m=l.d((function(e){return v(e[o[0].field])})).left,b=u.append("g").style("opacity",0),y=b.append("line").attr("y1",a-20).attr("y2",0).attr("stroke-width","2px").attr("stroke","#E6E6E6").attr("stroke-dasharray","6, 3"),x=b.append("circle").attr("r",3).attr("fill","#FFFFFF").attr("stroke-width","2").style("box-shadow","0 0 5px #888888").on("mouseover",(function(e){d.transition().duration(200).style("opacity",.9),b.transition().duration(200).style("opacity",1)})).on("mouseout",(function(e){d.transition().duration(500).style("opacity",0),b.transition().duration(500).style("opacity",0)}))},ye=me,xe=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(){var e;return Object(r.a)(this,n),(e=t.call(this))._x="",e._y="",e}return Object(a.a)(n,[{key:"display",value:function(){var e=this.parseFact(),t=e._data,n=e._measure,r=e._breakdown,a=e._focus,i=e._measureName;if(0!==a.length&&(!r[1]||!r[1].field)){var o=this.setChartStandard(),c=o._chartSize,s=o._width,l=o._height,u=o._margin,d=this.initSvg(c,u),p=d.append("g").attr("class","lineLayer"),f=this.drawXAxis(d,t,r,a,s,l,c)._x,h=this.drawYAxis(d,t,n,a,c,l);return this.drawBackLine(f,h,t,p,r,i,a,c,l),d}}},{key:"parseFact",value:function(){var e=this.factdata(),t=this.measure(),n=this.breakdown(),r=this.focus(),a=e=e.sort((function(e,t){return v(e[n[0].field])-v(t[n[0].field])})),i="count"===t[0].aggregate?"COUNT":t[0].field;return{_data:a,_measure:t,_breakdown:n,_focus:r,_measureName:i}}},{key:"setChartStandard",value:function(){var e={width:600,height:280},t={top:15,right:20,bottom:15,left:20};return{_width:e.width-t.left-t.right,_height:e.height-t.top-t.bottom,_chartSize:e,_margin:t}}},{key:"initSvg",value:function(e,t){return l.w(this.container()).append("svg").attr("width",e.width).attr("height",e.height).append("g").attr("transform","translate("+(t.left+10)+","+t.top+")").attr("font-family","OPPOSans")}},{key:"drawXAxis",value:function(e,t,n,r,a,i,o){var c=l.t().range([0,a]);c.domain([-1,r[0].correlation.length]);for(var s=[],u=0;u<r[0].correlation.length;u++)s.push(u);var d=l.b(c).tickValues(s).ticks(s.length).tickFormat(l.j("d"));return e.append("g").attr("class","xAxis").attr("transform","translate(0,"+(i-20)+")").call(d).call((function(e){e.attr("font-size","10px"),e.attr("font-family","OPPOSans"),e.attr("font-weight","lighter"),e.selectAll(".tick").selectAll("line").attr("stroke","#000000").attr("stroke-width",2).attr("y2",5),e.selectAll("text").attr("y",10)})),{_x:c,_axisX:d}}},{key:"drawYAxis",value:function(e,t,n,r,a,i){var o=l.t().range([i-20,0]);return o.domain(l.i([].concat(r[0].correlation.map((function(e){return e>=0?.9*e:2*e})),r[0].correlation.map((function(e){return 1.1*e}))))),e.append("g").attr("class","yAxis").call(l.c(o).ticks(5).tickFormat(l.j(".1f"))).call((function(e){e.attr("font-size","10px"),e.attr("font-weight","lighter"),e.attr("font-family","OPPOSans"),e.selectAll(".tick").select("line").attr("stroke","#000000").attr("stroke-width",2).attr("x2",-5),e.selectAll("text").attr("x",-10)})),o}},{key:"drawBackLine",value:function(e,t,n,r,a,i,o,c,s){r.append("g").selectAll("line.line").data(t.ticks(5)).enter().append("line").attr("x1",0).attr("x2",c.width).attr("y1",(function(e){return t(e)})).attr("y2",(function(e){return t(e)})).attr("stroke","#E6E6E6").attr("stroke-width","2px");for(var u=0;u<o[0].correlation.length;u++)r.append("circle").attr("cx",e(u)).attr("cy",t(o[0].correlation[u])).attr("r",4).attr("fill","#6C8EF2"),r.append("line").attr("x1",e(u)).attr("y1",l.n([t(0),s-20])).attr("x2",e(u)).attr("y2",t(o[0].correlation[u])).attr("stroke","#6C8EF2").attr("stroke-width","2.5px");if(l.n(o[0].correlation)<0){var d=e(-1),p=e(o[0].correlation.length);r.append("line").attr("x1",d).attr("y1",t(0)).attr("x2",p).attr("y2",t(0)).attr("stroke","gray").attr("stroke-width","2px").attr("opacity",.8)}}}]),n}(g),Oe=function(){function e(t){Object(r.a)(this,e),this._table=[],this._fact={},this._factdata=[],this._width=0,this._height=0,this._type=h.VERTICAL_BAR_CHART,this._duration=0,this._chart={},this._caption="",this._showSuggestion=!1,this._showTooltip=!1,this.props=t.props}return Object(a.a)(e,[{key:"size",value:function(){return this._size}},{key:"width",value:function(e){if(!e)return this._width;this._width=e}},{key:"height",value:function(e){if(!e)return this._height;this._height=e}},{key:"table",value:function(e){if(!e)return this._table;this._table=e}},{key:"data",value:function(e){if(!e)return this._factdata;this._factdata=e}},{key:"fact",value:function(e){if(!e)return this._fact;this._fact=e}},{key:"chart",value:function(e){if(!e)return this._chart;this._chart=e}},{key:"caption",value:function(e){if(!e)return this._caption;this._caption=e}},{key:"style",value:function(){return this._style}},{key:"showSuggestion",value:function(){return this._showSuggestion}},{key:"showTooltip",value:function(){return this._showTooltip}},{key:"load",value:function(e){var t=this;return this._width=e.width?e.width:0,this._height=e.height?e.height:0,this._style=e.style,this._type=e.type,this._duration=e.duration?e.duration:0,this._showSuggestion=!!e.showSuggestion&&e.showSuggestion,this._showTooltip=!!e.showTooltip&&e.showTooltip,new Promise((function(n,r){try{var a=t.data(),i=t.fact(),o=t._type2chart(e.type);o.height(t._height),o.width(t._width),o.table(t._table),o.factdata(a),o.subspace(i.subspace),o.measure(i.measure),o.breakdown(i.breakdown),o.focus(i.focus),o.duration(t._duration),o.showSuggestion(t._showSuggestion),o.showTooltip(t._showTooltip),t.chart(o),n(t)}catch(c){r(c)}}))}},{key:"update",value:function(){var e=this;return new Promise((function(t,n){try{var r=e.data(),a=e.fact();e._chart.factdata(r),e._chart.subspace(a.subspace),e._chart.measure(a.measure),e._chart.breakdown(a.breakdown),e._chart.focus(a.focus),e._chart.duration(e._duration),e._chart.showSuggestion(e._showSuggestion),e._chart.showTooltip(e._showTooltip),t(e)}catch(i){n(i)}}))}},{key:"_type2chart",value:function(e){switch(e){case h.MULTIVARIATE_OUTLIER:return new O(this.props);case h.UNIVARIATE_DISTRIBUTION:return new j(this.props);case h.TREND:return new T(this.props);case h.SEASONALITY:return new _(this.props);case h.MULTIVARIATE_DISTRIBUTION:return new B(this.props);case h.FREQUENT_PATTERN:return new z(this.props);case h.CLUSTERING:return new W(this.props);case h.FORECASTING:return new Q(this.props);case h.UNIVARIATE_OUTLIER:return new ne(this.props);case h.SIMILARITY:return new de(this.props);case h.ORIGIN:return new ve(this.props);case h.AUTOCORRELATION:return new xe(this.props);case h.OUTSTANDING:return new ye(this.props);default:return}}}]),e}(),we=function(){function e(){Object(r.a)(this,e),this._container="",this._paragraph="",this._vis={}}return Object(a.a)(e,[{key:"container",value:function(e){this._container=e}},{key:"paragraph",value:function(e){this._paragraph=e}},{key:"vis",value:function(e){if(!e)return this._vis;this._vis=e}},{key:"render",value:function(){var e=this.vis(),t=e.chart();t.container(this._container);var n=e.fact();0===t.duration()?t.display(n.type):t.animate(n.type)}},{key:"update",value:function(e,t){this.vis().chart().update(e,t)}},{key:"showCaption",value:function(){var e=this.vis();l.w(this._paragraph).style("font-size","1.5em").style("text-align","center").text(e.caption())}}]),e}(),Ce=function(){function e(t){Object(r.a)(this,e),this._container=document.createElement("div"),this._paragraph=document.createElement("p"),this._data=new u,this._fact=new f,this._vis=new Oe(t),this._display=new we,this._spec={}}return Object(a.a)(e,[{key:"container",value:function(e){if(!e)return this._container;this._container=e}},{key:"paragraph",value:function(e){if(!e)return this._paragraph;this._paragraph=e}},{key:"load",value:function(e){this._spec=e}},{key:"shouldShowCaption",value:function(e){if(!e)return this._shouldShowCaption;this._shouldShowCaption=e}},{key:"generate",value:function(){var e=this,t=this._spec,n=t.data?t.data:{},r=t.fact?t.fact:{},a=t.chart?t.chart:{};this._data.load(n).then((function(t){return e._fact.table(t.table()),e._fact.schema(t.schema()),e._fact.load(r)})).then((function(t){return e._vis.table(t.table()),e._vis.data(t.factdata()),e._vis.fact(t.fact()),e._vis.load(a)})).then((function(t){e._display.container(e.container()),e._display.paragraph(e.paragraph()),e._display.vis(t),e._display.render(),e.shouldShowCaption()&&e._display.showCaption()})).catch((function(e){console.log(e)}))}}]),e}(),ke=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.spec.chart.id,t=this.props.spec,n=e?"#vischart_".concat(e):"#demo-chart";this.autovis=new Ce(this),this.autovis.container(n),this.autovis.load(t),this.autovis.generate()}},{key:"componentDidUpdate",value:function(e){var t=this.props.spec.chart.id,n=this.props.spec,r=t?"#vischart_".concat(t):"#demo-chart";this.autovis=new Ce(this),this.autovis.container(r),this.autovis.load(n),this.autovis.generate()}},{key:"render",value:function(){var e=this.props.spec.chart,t=e.width,n=e.height,r=void 0!==n?n:640,a=void 0!==t?t:400,i=(this.props.spec.chart?this.props.spec.chart:{id:"demo-chart"}).id;return s.a.createElement("div",{id:i?"vischart_".concat(i):"demo-chart",style:{height:r,width:a,position:"relative"}})}}]),n}(c.Component)},,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dontSetMe=function(e,t,n){if(e[t])return new Error("Invalid prop ".concat(t," passed to ").concat(n," - do not set this, set it on the child."))},t.findInArray=function(e,t){for(var n=0,r=e.length;n<r;n++)if(t.apply(t,[e[n],n,e]))return e[n]},t.int=function(e){return parseInt(e,10)},t.isFunction=function(e){return"function"===typeof e||"[object Function]"===Object.prototype.toString.call(e)},t.isNum=function(e){return"number"===typeof e&&!isNaN(e)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(146);var a=n(147);function i(e){return function(e){if(Array.isArray(e))return Object(r.a)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Object(a.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},,function(e,t,n){"use strict";t.a={trend:"Trend",forecasting:"Forecasting",frequent_pattern:"Similarity",seasonality:"Seasonality",univariate_outlier:"Outlier",univariate_distribution:"Distribution",similarity:"Similarity",multivariate_outlier:"Outlier",multivariate_distribution:"Correlation",clustering:"Clustering",outstanding:"Extreme",autocorrelation:"Autocorrelation"}},,,function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.addClassName=f,t.addEvent=function(e,t,n,r){if(!e)return;var a=s({capture:!0},r);e.addEventListener?e.addEventListener(t,n,a):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n},t.addUserSelectStyles=function(e){if(!e)return;var t=e.getElementById("react-draggable-style-el");t||((t=e.createElement("style")).type="text/css",t.id="react-draggable-style-el",t.innerHTML=".react-draggable-transparent-selection *::-moz-selection {all: inherit;}\n",t.innerHTML+=".react-draggable-transparent-selection *::selection {all: inherit;}\n",e.getElementsByTagName("head")[0].appendChild(t));e.body&&f(e.body,"react-draggable-transparent-selection")},t.createCSSTransform=function(e,t){var n=p(e,t,"px");return l({},(0,i.browserPrefixToKey)("transform",i.default),n)},t.createSVGTransform=function(e,t){return p(e,t,"")},t.getTouch=function(e,t){return e.targetTouches&&(0,a.findInArray)(e.targetTouches,(function(e){return t===e.identifier}))||e.changedTouches&&(0,a.findInArray)(e.changedTouches,(function(e){return t===e.identifier}))},t.getTouchIdentifier=function(e){if(e.targetTouches&&e.targetTouches[0])return e.targetTouches[0].identifier;if(e.changedTouches&&e.changedTouches[0])return e.changedTouches[0].identifier},t.getTranslation=p,t.innerHeight=function(e){var t=e.clientHeight,n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,a.int)(n.paddingTop),t-=(0,a.int)(n.paddingBottom)},t.innerWidth=function(e){var t=e.clientWidth,n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,a.int)(n.paddingLeft),t-=(0,a.int)(n.paddingRight)},t.matchesSelector=d,t.matchesSelectorAndParentsTo=function(e,t,n){var r=e;do{if(d(r,t))return!0;if(r===n)return!1;r=r.parentNode}while(r);return!1},t.offsetXYFromParent=function(e,t,n){var r=t===t.ownerDocument.body?{left:0,top:0}:t.getBoundingClientRect(),a=(e.clientX+t.scrollLeft-r.left)/n,i=(e.clientY+t.scrollTop-r.top)/n;return{x:a,y:i}},t.outerHeight=function(e){var t=e.clientHeight,n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,a.int)(n.borderTopWidth),t+=(0,a.int)(n.borderBottomWidth)},t.outerWidth=function(e){var t=e.clientWidth,n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,a.int)(n.borderLeftWidth),t+=(0,a.int)(n.borderRightWidth)},t.removeClassName=h,t.removeEvent=function(e,t,n,r){if(!e)return;var a=s({capture:!0},r);e.removeEventListener?e.removeEventListener(t,n,a):e.detachEvent?e.detachEvent("on"+t,n):e["on"+t]=null},t.removeUserSelectStyles=function(e){if(!e)return;try{if(e.body&&h(e.body,"react-draggable-transparent-selection"),e.selection)e.selection.empty();else{var t=(e.defaultView||window).getSelection();t&&"Caret"!==t.type&&t.removeAllRanges()}}catch(n){}};var a=n(153),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var n=o(t);if(n&&n.has(e))return n.get(e);var a={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in e)if("default"!==c&&Object.prototype.hasOwnProperty.call(e,c)){var s=i?Object.getOwnPropertyDescriptor(e,c):null;s&&(s.get||s.set)?Object.defineProperty(a,c,s):a[c]=e[c]}a.default=e,n&&n.set(e,a);return a}(n(236));function o(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(o=function(e){return e?n:t})(e)}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u="";function d(e,t){return u||(u=(0,a.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],(function(t){return(0,a.isFunction)(e[t])}))),!!(0,a.isFunction)(e[u])&&e[u](t)}function p(e,t,n){var r=e.x,a=e.y,i="translate(".concat(r).concat(n,",").concat(a).concat(n,")");if(t){var o="".concat("string"===typeof t.x?t.x:t.x+n),c="".concat("string"===typeof t.y?t.y:t.y+n);i="translate(".concat(o,", ").concat(c,")")+i}return i}function f(e,t){e.classList?e.classList.add(t):e.className.match(new RegExp("(?:^|\\s)".concat(t,"(?!\\S)")))||(e.className+=" ".concat(t))}function h(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(?:^|\\s)".concat(t,"(?!\\S)"),"g"),"")}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={trend:"#8dd3c7",forecasting:"#f0e68c",seasonality:"#80b1d3",distribution:"#F5DEB3",similarity:"#b3de69",outlier:"#fccde5",correlation:"#d9d9d9",clustering:" #bc80bd",autocorrelation:"#bebada",extreme:"#FF7F50",null:"white"}},function(e,t,n){"use strict";n.d(t,"d",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return s}));var r=n(19),a=n.n(r),i=function(e){return e.user.operateState},o=function(e){return e.user.isLogin},c=function(e){return e.user.currentLocale},s=function(e){return a.a.get("userInfo")&&JSON.parse(a.a.get("userInfo"))?JSON.parse(a.a.get("userInfo")):{username:"",uid:-1}}},,,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return he}));var r=n(154),a="trend",i="forecasting",o="frequent_pattern",c="seasonality",s="univariate_outlier",l="univariate_distribution",u="similarity",d="multivariate_outlier",p="multivariate_distribution",f="clustering",h="outstanding",g="autocorrelation",v=[{id:0,template:"{{action}}A clear {{parameter}} trend is observed in the {{agg}} {{measure}} between {{subspace0}} and {{subspace1}}."},{id:1,template:"{{action}}The {{parameter}} trend of {{agg}} {{measure}} is evident in the time range between {{subspace0}} and {{subspace1}}."},{id:2,template:"{{action}}A {{parameter}} trend is revealed in the {{agg}} {{measure}} between {{subspace0}} and {{subspace1}}."}],m=[{id:0,template:"When {{subspace}}, in general, there is a {{positive/negative}} correlation between {{measure1}} and {{measure2}}."},{id:1,template:"When {{subspace}}, in general, {{measure2}} has a {{positive/negative}} relationship with {{measure1}}."},{id:2,template:"When {{subspace}}, in general, {{measure2}} has a {{positive/negative}} relationship with {{measure1}} (Pearson correlation coefficient = {{parameter}})."}],b=[{id:0,template:"{{action}}The {{measure}} holds {{patterns}} patterns that resemble the time sequence between {{subspace0}} and {{subspace1}}."},{id:1,template:"{{action}}The {{measure}} reveals {{patterns}} patterns, similar to the time sequence between {{subspace0}} and {{subspace1}}."},{id:2,template:"{{action}}The {{measure}} displays {{patterns}} patterns, which follow the similar time subsequence as {{subspace0}} to {{subspace1}}."}],y=[{id:0,template:"{{action}}The {{parameter}} pattern of {{agg}} {{measure}} is evident between {{subspace0}} and {{subspace1}}, with {{seasonality}} seasonal periods observed throughout the whole time range."},{id:1,template:"{{action}}A {{parameter}} {{agg}} {{measure}} can be observed between {{subspace0}} and {{subspace1}}, with {{seasonality}} periods present in the whole time range."},{id:2,template:"A {{parameter}} {{agg}} {{measure}} can be observed between {{subspace0}} and {{subspace1}}, with {{seasonality}} periods present in the whole time range."}],x=[{id:0,template:"{{action}}The {{agg}} {{measure}} between {{focus}} stands apart as a clear outlier compared to other values in {{subspace0}} and {{subspace1}}."},{id:1,template:"{{action}}The {{agg}} {{measure}} between {{focus}} is noticeable as an outlier, distinct from other values in {{subspace0}} and {{subspace1}}."},{id:2,template:"{{action}}The {{agg}} {{measure}} between {{focus}} stands tall as a unique outlier compared to the values in {{subspace0}} and {{subspace1}}."}],O=[{id:0,template:"{{action}}The distribution of {{agg}} {{measure}} between {{subspace0}} and {{subspace1}} is presented with a mean value of {{mean}}."},{id:1,template:"{{action}}A distribution of {{agg}} {{measure}} between {{subspace0}} and {{subspace1}} can be seen, with a mean of {{mean}}."},{id:2,template:"{{action}}The distribution of {{agg}} {{measure}} in the range of {{subspace0}} to {{subspace1}} has a mean of {{mean}}."}],w=[{id:0,template:"{{action}}The {{agg}} {{measures}} in different subspaces display similar patterns to {{baseline}} within {{subspace0}} and {{subspace1}} ."},{id:1,template:"{{action}}The {{baseline}} in {{subspace0}} and {{subspace1}} exhibit a striking similarity to {{agg}} {{measures}} in various subspaces."},{id:2,template:"{{action}}The {{baseline}} in {{subspace0}} and {{subspace1}} are highly similar to {{agg}} {{measures}} in various subspaces."}],C=[{id:0,template:"{{action}}The values of {{focus}} exhibit an outlier within the range of {{subspace0}} to {{subspace1}} in comparison to the rest."},{id:1,template:"{{action}}The {{focus}} values present a significant deviation from the norm when viewed in relation to the range {{subspace0}} to {{subspace1}}."},{id:2,template:"{{action}}Anomalies are evident in the {{focus}} values, which stand out when compared with other values within the range {{subspace0}} to {{subspace1}}."}],k=[{id:0,template:"{{action}}The correlation between {{agg}} {{measures}} in {{subspace0}} and {{subspace1}} is depicted."},{id:1,template:"{{action}}The correlation between {{subspace0}} and {{subspace1}} with regards to {{agg}} {{measures}} is shown."},{id:2,template:"{{action}}The chart below reveals the correlation between {{subspace0}} and {{subspace1}} in terms of {{agg}} {{measures}}."}],j=[{id:0,template:"{{action}}. When {{subspace}}, there are {{parameter}} categories of {{groupby}}s, including {{no.1}}, {{no.2}}, {{no.3}}."},{id:1,template:"{{action}}. When {{subspace}}, the data are grouped into {{parameter}} {{groupby}}s, including {{no.1}}, {{no.2}}, {{no.3}}."},{id:2,template:"{{action}}. When {{subspace}}, the data include {{parameter}} groups of {{groupby}}s, including {{no.1}}, {{no.2}}, {{no.3}}."}],E=[{id:0,template:"{{action}}The {{agg}} {{measure}} in {{focus}} between {{subspace0}} and {{subspace1}} displays a high level of autocorrelation compared to other lags."},{id:1,template:"{{action}}The {{agg}} {{measure}} in {{focus}} in the time range between {{subspace0}} and {{subspace1}} shows a strong autocorrelation compared to other lags."},{id:2,template:"{{action}}The {{agg}} {{measure}} in {{focus}} stands out with a significant level of autocorrelation between {{subspace0}} and {{subspace1}}, compared to other lags."}],S=[{id:0,template:"{{action}}The {{agg}} {{measure}} in the range between {{subspace0}} and {{subspace1}} is highlighted by its maximum value of {{focus}}."},{id:1,template:"{{action}}The {{agg}} {{measure}} in {{subspace0}} to {{subspace1}} range is marked by the impressive value of {{focus}}, the highest of all."},{id:2,template:"{{action}}The {{agg}} {{measure}} within {{subspace0}} and {{subspace1}} range is noteworthy for its remarkable value of {{focus}}, the highest of all."}],T=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,n=[];switch(e){case a:n=v;break;case i:n=m;break;case o:n=b;break;case c:n=y;break;case s:n=x;break;case l:n=O;break;case u:n=w;break;case d:n=C;break;case p:n=k;break;case f:n=j;break;case g:n=E;break;case h:n=S}-1===t&&(t=Math.floor(10*Math.random())%3);var r="";try{r=n[t].template}catch(T){console.error(T),console.log("wrong id:"+t)}return r},I=[{id:0,template:"{{action}}\u5728{{subspace0}}\u5230{{subspace1}}\u4e4b\u95f4\uff0c{{agg}}{{measure}}\u603b\u4f53\u662f{{parameter}}\u7684."},{id:1,template:"{{action}}\u5728{{subspace0}}\u5230{{subspace1}}\u4e4b\u95f4\uff0c{{agg}}{{measure}}\u603b\u4f53\u5448{{parameter}}\u8d8b\u52bf."},{id:2,template:"{{action}}\u5728{{subspace0}}\u5230{{subspace1}}\u533a\u95f4\u5185\uff0c{{agg}}{{measure}}\u5728\u603b\u4f53\u968f\u65f6\u95f4{{parameter}}."}],P=[{id:0,template:"\u5f53{{subspace}}\u65f6\uff0c {{groupby}} \u5305\u542b\u4e86 {{parameter}} \u4e2a\u7c7b\u522b: {{no.1}}\u3001{{no.2}}\u3001{{no.3}}"},{id:1,template:"\u5f53{{subspace}}\u65f6\uff0c\u6570\u636e\u4e2d\u7684 {{groupby}}s \u53ef\u4ee5\u88ab\u5f52\u4e3a {{parameter}} \u7c7b\uff0c\u5305\u62ec {{no.1}}\u3001{{no.2}}\u3001{{no.3}}"},{id:2,template:"\u5f53{{subspace}}\u65f6\uff0c\u6570\u636e\u4e2d\u5305\u542b {{parameter}} \u79cd {{groupby}}s\uff0c\u5206\u522b\u662f {{no.1}}\u3001{{no.2}}\u3001{{no.3}}."}],D=[{id:0,template:"{{action}}\u5728{{subspace0}}\u5230{{subspace1}}\u4e4b\u95f4 {{agg}}{{measure}} \u7684\u4e00\u4e2a\u7247\u6bb5\u5728\u6574\u6761\u65f6\u95f4\u5e8f\u5217\u4e0a\u9891\u7e41\u51fa\u73b0\u4e86 {{patterns}} \u6b21."},{id:1,template:"{{action}}\u5728{{subspace0}}\u5230{{subspace1}}\u4e4b\u95f4 {{agg}}{{measure}} \u7684\u4e00\u4e2a\u7247\u6bb5\u5728\u6574\u6761\u65f6\u95f4\u5e8f\u5217\u4e0a\u9891\u7e41\u51fa\u73b0\u4e86 {{patterns}} \u6b21."},{id:2,template:"{{action}}\u5728{{subspace0}}\u5230{{subspace1}}\u4e4b\u95f4 {{agg}}{{measure}} \u7684\u4e00\u4e2a\u7247\u6bb5\u5728\u6574\u6761\u65f6\u95f4\u5e8f\u5217\u4e0a\u9891\u7e41\u51fa\u73b0\u4e86 {{patterns}} \u6b21."}],N=[{id:0,template:"{{action}}\u5728{{subspace0}}\u5230{{subspace1}}\u4e4b\u95f4\uff0c{{agg}}{{measure}}{{parameter}}.\u6574\u4e2a\u65f6\u5e8f\u4e0a\u5171\u6709{{seasonality}}\u4e2a\u7c7b\u4f3c\u7684\u5468\u671f\u6027\u7247\u6bb5."},{id:1,template:"{{action}}\u5728{{subspace0}}\u5230{{subspace1}}\u4e4b\u95f4\uff0c{{agg}}{{measure}}{{parameter}}.\u6574\u4e2a\u65f6\u5e8f\u4e0a\u5171\u6709{{seasonality}}\u4e2a\u7c7b\u4f3c\u7684\u5468\u671f\u6027\u7247\u6bb5."},{id:2,template:"{{action}}\u5728{{subspace0}}\u5230{{subspace1}}\u4e4b\u95f4\uff0c{{agg}}{{measure}}{{parameter}}.\u6574\u4e2a\u65f6\u5e8f\u4e0a\u5171\u6709{{seasonality}}\u4e2a\u7c7b\u4f3c\u7684\u5468\u671f\u6027\u7247\u6bb5."}],A=[{id:0,template:"{{action}}\u5728{{subspace0}}\u5230{{subspace1}}\u4e4b\u95f4\uff0c\u4e0e\u5176\u4ed6\u503c\u76f8\u6bd4\uff0c{{agg}}{{measure}}\u5b58\u5728{{parameter}}\u6bb5\u5f02\u5e38."},{id:1,template:"{{action}}\u5728{{subspace0}}\u5230{{subspace1}}\u4e4b\u95f4\uff0c{{agg}}{{measure}}\u4e0a\u7684{{parameter}}\u6bb5\u5f02\u5e38\u548c\u5176\u4ed6\u503c\u76f8\u6bd4\u6709\u663e\u8457\u5dee\u5f02."},{id:2,template:"{{action}}\u5728{{subspace0}}\u5230{{subspace1}}\u4e4b\u95f4\uff0c{{agg}}{{measure}}\u5b58\u5728{{parameter}}\u6bb5\u5f02\u5e38."}],_=[{id:0,template:"{{action}}\u5728{{subspace0}}\u5230{{subspace1}} \u4e4b\u95f4\uff0c{{agg}}{{measure}}\u7684\u6570\u636e\u5206\u5e03\u5982\u56fe\u6240\u793a. \u5176\u6570\u636e\u8303\u56f4\u4f4d\u4e8e{{min}}\u5230{{max}}\u533a\u95f4\u5185."},{id:1,template:"{{action}}\u5728{{subspace0}}\u5230{{subspace1}} \u4e4b\u95f4\uff0c{{agg}}{{measure}}\u7684\u6570\u636e\u5206\u5e03\u7684\u7ed3\u679c\u5982\u56fe\u6240\u793a. \u5176\u5e73\u5747\u503c\u4e3a{{mean}}."},{id:2,template:"{{action}}\u5728{{subspace0}}\u5230{{subspace1}} \u4e4b\u95f4\uff0c{{agg}}{{measure}}\u968f\u65f6\u95f4\u7684\u5206\u5e03\u5982\u56fe\u6240\u793a. \u5176\u4e2d\u6700\u5927\u503c\u4e3a{{max}}\uff0c\u6700\u5c0f\u503c\u4e3a{{min}}."}],M=[{id:0,template:"{{action}}{{agg}}{{measures}}\u4e2d\u6709\u591a\u4e2a\u5206\u6bb5\u4e0e{{baseline}}\u5728{{subspace0}}\u5230{{subspace1}}\u4e4b\u95f4\u7684\u6570\u636e\u76f8\u4f3c."},{id:1,template:"{{action}}{{agg}}{{measures}}\u4e2d\u6709\u591a\u4e2a\u5206\u6bb5\u4e0e{{baseline}}\u5728{{subspace0}}\u5230{{subspace1}}\u4e4b\u95f4\u7684\u6570\u636e\u76f8\u4f3c."},{id:2,template:"{{action}}{{agg}}{{measures}}\u4e2d\u6709\u591a\u4e2a\u5206\u6bb5\u4e0e{{baseline}}\u5728{{subspace0}}\u5230{{subspace1}}\u4e4b\u95f4\u7684\u6570\u636e\u76f8\u4f3c."}],R=[{id:0,template:"{{action}}\u5728{{subspace0}}\u5230{{subspace1}}\u4e4b\u95f4\uff0c\u4e0e\u5176\u4ed6\u503c\u76f8\u6bd4\uff0c\u5728{{focus}}\u4e0a\u5b58\u5728\u5f02\u5e38."},{id:1,template:"{{action}}\u5728{{subspace0}}\u5230{{subspace1}}\u4e4b\u95f4\uff0c{{focus}}\u7684\u503c\u548c\u5176\u4ed6\u503c\u76f8\u6bd4\u6709\u663e\u8457\u5dee\u5f02."},{id:2,template:"{{action}}\u5728{{subspace0}}\u5230{{subspace1}}\u4e4b\u95f4\uff0c\u76f8\u6bd4\u5176\u4ed6\u503c\uff0c{{focus}}\u7684\u503c\u5b58\u5728\u5f02\u5e38\uff0c\u4e14\u5176\u5f02\u5e38\u5206\u6570\u8fbe\u5230{{score}}."}],F=[{id:0,template:"{{action}}\u5728{{subspace0}}\u5230{{subspace1}}\u4e4b\u95f4\uff0c{{agg}}{{measures}}\u8fd9\u51e0\u4e2a\u53d8\u91cf\u7684\u591a\u7ef4\u5206\u5e03\u7ed3\u679c\u5206\u5e03\u5982\u56fe\u6240\u793a."},{id:1,template:"{{action}}\u5728{{subspace0}}\u5230{{subspace1}}\u4e4b\u95f4\uff0c{{agg}}{{measures}}\u591a\u53d8\u91cf\u5206\u5e03\u7ed3\u679c\u5982\u56fe\u6240\u793a."},{id:2,template:"{{action}}\u5728{{subspace0}}\u5230{{subspace1}}\u4e4b\u95f4\uff0c \u6709\u5173{{measures}}{{agg}}\u5206\u5e03\u7ed3\u679c\u5982\u56fe\u6240\u793a."}],B=[{id:0,template:"\u5f53{{subspace}}\u65f6\uff0c\u603b\u4f53\u770b\uff0c {{measure1}} \u548c {{measure2}} \u4e4b\u95f4\u5b58\u5728 {{\u6b63/\u8d1f}} \u76f8\u5173\u5173\u7cfb."},{id:1,template:"\u5f53{{subspace}}\u65f6\uff0c\u603b\u4f53\u770b\uff0c {{measure1}} \u548c {{measure2}} \u5448 {{\u6b63/\u8d1f}} \u76f8\u5173."},{id:2,template:"\u5f53{{subspace}}\u65f6\uff0c\u603b\u4f53\u770b\uff0c {{measure1}} \u548c {{measure2}} \u5448 {{\u6b63/\u8d1f}} \u76f8\u5173\uff08\u76ae\u5c14\u68ee\u76f8\u5173\u7cfb\u6570={{parameter}}\uff09."}],L=[{id:0,template:"{{action}}\u5728{{subspace0}}\u5230{{subspace1}}\u4e4b\u95f4\uff0c{{agg}}{{measure}}\u5728\u95f4\u9694{{focus}}\u4e2a\u70b9\u65f6\u6709\u7740\u6700\u9ad8\u7684\u76f8\u5173\u6027."},{id:1,template:"{{action}}\u5728{{subspace0}}\u5230{{subspace1}}\u4e4b\u95f4\uff0c {{agg}}{{measure}}\u4e0a\u4e24\u4e2a\u95f4\u9694{{focus}}\u7684\u6570\u636e\u70b9\u76f8\u5173\u6027\u6700\u5f3a."},{id:2,template:"{{action}}\u5728{{subspace0}}\u5230{{subspace1}}\u4e4b\u95f4\uff0c {{agg}}{{measure}}\u5728\u95f4\u9694{{focus}}\u4e2a\u70b9\u65f6\u7684\u81ea\u76f8\u5173\u6027\u6700\u9ad8."}],G=[{id:0,template:"{{action}}\u5728{{subspace0}}\u5230{{subspace1}}\u4e4b\u95f4\uff0c {{agg}}{{measure}}\u7684\u7a81\u51fa\u503c\u4e3a{{focus}}, \u4e3a\u6700\u5927\u503c."},{id:1,template:"{{action}}\u5728{{subspace0}}\u5230{{subspace1}}\u4e4b\u95f4\uff0c {{agg}}{{measure}}\u7684\u6700\u5927\u503c\u662f{{focus}}."},{id:2,template:"{{action}}\u5728{{subspace0}}\u5230{{subspace1}}\u4e4b\u95f4\uff0c {{agg}}{{measure}}\u6709\u6700\u5927\u503c,\u5176\u503c\u4e3a{{focus}}."}],q=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,n=[];switch(e){case a:n=I;break;case i:n=P;break;case o:n=D;break;case c:n=N;break;case s:n=A;break;case l:n=_;break;case u:n=M;break;case d:n=R;break;case p:n=F;break;case f:n=B;break;case g:n=L;break;case h:n=G}-1===t&&(t=Math.floor(10*Math.random())%3);var r="";try{r=n[t].template}catch(v){console.error(v),console.log("wrong id:"+t)}return r},z={SUM:"sum",MAX:"max",MIN:"min",AVG:"avg",MEDIAN:"median",COUNT:"count"},H=(n(196),n(197),""),U="Another insight also appears in this time subsuquence. ",V="Looking back at the previous stretch of time. ",Y="As time marches on. ",W="Examing in the way of period-over-period. ",K="At the same time, comparing other variables. ",X="Taking in multiple variables as a whole. ",J="Among these variables, one in particular deserves attention. ",$="",Z="",Q="\u8fd9\u6bb5\u65f6\u5e8f\u4e0a\u8fd8\u5b58\u5728\u7740\u53e6\u4e00\u4e2a\u6d1e\u5bdf. ",ee="\u56de\u987e\u4e4b\u524d\u7684\u4e00\u6bb5\u65f6\u95f4. ",te="\u968f\u7740\u65f6\u95f4\u7684\u63a8\u79fb. ",ne="\u89c2\u5bdf\u540c\u6bd4\u7684\u65f6\u95f4\u6bb5. ",re="\u4e0e\u6b64\u540c\u65f6\uff0c\u5bf9\u6bd4\u5176\u4ed6\u53d8\u91cf. ",ae="\u7efc\u5408\u89c2\u5bdf\u591a\u4e2a\u53d8\u91cf. ",ie="\u5728\u8fd9\u4e9b\u53d8\u91cf\u4e2d\uff0c\u5176\u4e2d\u4e00\u4e2a\u53d8\u91cf\u503c\u5f97\u7279\u522b\u5173\u6ce8. ",oe="",ce=n(28),se=n.n(ce),le=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];switch(e){case z.SUM:return t?"total":"\u603b";case z.MAX:return t?"maximum":"\u6700\u5927";case z.MIN:return t?"minimum":"\u6700\u5c0f";case z.AVG:return t?"average":"\u5e73\u5747";case z.MEDIAN:return t?"median":"\u4e2d";case z.COUNT:return t?"count":"\u6570\u91cf";case z.NONE:default:return""}},ue=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];switch(e){case-1:return t?H:Z;case 0:return t?U:Q;case 1:return t?V:ee;case 2:return t?Y:te;case 3:return t?W:ne;case 4:return t?K:re;case 5:return t?X:ae;case 6:return t?J:ie;case 7:return t?$:oe;default:return""}},de=function(e){return"count"===e.aggregate?"":e.field.toLowerCase()},pe=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r="",a="",i=[];if(t)for(var o=0;o<e.length;o++)"Base Line"===e[o].value[0].text?a=e[o].field:i.push(e[o].field);else for(var c=0;c<e.length;c++)i.includes(e[c].field)||i.push(e[c].field);for(var s=0;s<i.length;s++)s===i.length-1&&i.length>1?r+=n?"and "+i[s]:"\u548c "+i[s]:s===i.length-2?r+=i[s]+" ":r+=i[s]+", ";return{measureStr:r,baseline:a}},fe=function(e,t){var n=arguments.length>3?arguments[3]:void 0;return t=e.length?(t=t.replace("{{subspace0}}",n[e[0]])).replace("{{subspace1}}",n[e[1]]):(t=t.replace("{{subspace0}}",n[0])).replace("{{subspace1}}",n[n.length-1])},he=function(e,t,n,v){var m=arguments.length>4&&void 0!==arguments[4]?arguments[4]:-1,b=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],y=arguments.length>6&&void 0!==arguments[6]?arguments[6]:-1,x="en-US"===v,O=se.a.cloneDeep(e),w=x?T(n,m):q(n,m),C=z.NONE;switch(O.measure.length>0&&(C=O.measure[0].aggregate),w=w.replace("{{action}}",ue(y,x)),n){case a:w=(w=w.replace("{{measure}}",de(O.measure[0]))).replace("{{agg}}",le(C,x)),w=fe(O.subspace,w,x,b);var k=O.focus[0].regression;w=x?k[0]-k[k.length-1]>0?(w=w.replace("{{parameter}}","decreased")).replace("a/an","a"):(w=w.replace("{{parameter}}","increasing")).replace("a/an","an"):k[0]-k[k.length-1]>0?w.replace("{{parameter}}","\u4e0b\u964d"):w.replace("{{parameter}}","\u589e\u957f");break;case i:break;case o:w=(w=w.replace("{{measure}}",de(O.measure[0]))).replace("{{agg}}",le(C,x)),w=fe(O.focus[0].scope,w,x,b),O.focus.length>0&&(w=w.replace("{{patterns}}",O.focus[0].patterns.length.toString()));break;case c:if(w=(w=w.replace("{{measure}}",de(O.measure[0]))).replace("{{agg}}",le(C,x)),w=fe(O.focus[0].scope,w,x,b),O.focus.length>0){var j=O.focus[0];w=(w=w.replace("{{parameter}}",j.ifSeasonal?x?"seasonal":"\u5177\u6709\u5468\u671f\u6027":x?"unseasonal":"\u5b58\u5728\u4e0d\u7b26\u5408\u5468\u671f\u6027\u7684\u7247\u6bb5\u3002\u5982\u56fe\u4e2d\u7070\u8272\u7684\u533a\u95f4\u3002")).replace("{{seasonality}}",j.interval.toString())}break;case s:w=(w=w.replace("{{measure}}",de(O.measure[0]))).replace("{{agg}}",le(C,x)),w=fe(O.subspace,w,x,b);var E=O.focus[0].scope[0],S=O.focus[0].scope[1];w=E===S?w.replace("{{focus}}","".concat(b[E])):w.replace("{{focus}}","".concat(b[E]," and ").concat(b[S]));break;case l:w=(w=w.replace("{{measure}}",de(O.measure[0]))).replace("{{agg}}",le(C,x)),w=fe(O.subspace,w,x,b);for(var I=0;I<O.focus.length;I++){var P=O.focus[I].name,D=O.focus[I].value;"min"==P?w=w.replace("{{min}}",D.toFixed(2).toString()):"max"==P?w=w.replace("{{max}}",D.toFixed(2).toString()):"mean"==P&&(w=w.replace("{{mean}}",D.toFixed(2).toString()))}break;case u:var N=pe(O.focus,!0,x);w=(w=(w=w.replace("{{measures}}",N.measureStr)).replace("{{baseline}}",N.baseline)).replace("{{agg}}",le(C,x)),w=fe(O.focus[0].scope,w,x,b);break;case d:w=w.replace("{{agg}}",le(C,x)),w=(w=fe(O.subspace,w,x,b)).replace("{{score}}",O.focus[0].score.toFixed(2).toString());var A=O.focus[0].start+O.subspace[0],_=O.focus[0].end+O.subspace[0];w=A===_?w.replace("{{focus}}","".concat(b[A])):w.replace("{{focus}}","".concat(b[A]," and ").concat(b[_]));break;case p:var M=pe(O.focus,!1,x);w=(w=w.replace("{{measures}}",M.measureStr)).replace("{{agg}}",le(C,x)),w=fe(O.subspace,w,x,b);for(var R=-1e10,F=0,B="",L=0;L<O.focus[0].length;L++)"mean"===O.focus[0][L].name&&O.focus[0][L].value>R&&(F=O.focus[0][L].value,R=O.focus[0][L].value,B=O.focus[0][L].field);w=(w=w.replace("{{measure}}",B)).replace("{{mean}}",F.toFixed(2).toString());break;case f:break;case h:w=(w=w.replace("{{measure}}",de(O.measure[0]))).replace("{{agg}}",le(C,x)),w=(w=fe(O.subspace,w,x,b)).replace("{{focus}}",O.focus[0].value.toFixed(2).toString());break;case g:w=(w=w.replace("{{measure}}",de(O.measure[0]))).replace("{{agg}}",le(C,x)),w=(w=fe(O.subspace,w,x,b)).replace("{{focus}}",O.focus[0].correlation.indexOf(Math.max.apply(Math,Object(r.a)(O.focus[0].correlation)))+1)}return w=w.slice(0,1).toUpperCase()+w.slice(1)}},,,,,,function(e,t){e.exports=function(e,t,n,r){var a=n?n.call(r,e,t):void 0;if(void 0!==a)return!!a;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var i=Object.keys(e),o=Object.keys(t);if(i.length!==o.length)return!1;for(var c=Object.prototype.hasOwnProperty.bind(t),s=0;s<i.length;s++){var l=i[s];if(!c(l))return!1;var u=e[l],d=t[l];if(!1===(a=n?n.call(r,u,d,l):void 0)||void 0===a&&u!==d)return!1}return!0}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(120),a=n(2),i=n(117),o=n(0),c=n(195);function s(e){var t=o.useRef({}),n=o.useState([]),s=Object(i.a)(n,2),l=s[0],u=s[1];return[function(n){var i=!0;e.add(n,(function(e,n){var s=n.key;if(e&&(!t.current[s]||i)){var l=o.createElement(c.a,Object(a.a)({},n,{holder:e}));t.current[s]=l,u((function(e){var t=e.findIndex((function(e){return e.key===n.key}));if(-1===t)return[].concat(Object(r.a)(e),[l]);var a=Object(r.a)(e);return a[t]=l,a}))}i=!1}))},o.createElement(o.Fragment,null,l)]}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return c}));var r=n(2),a=n(169),i=Object(r.a)({},a.a.Modal);function o(e){i=e?Object(r.a)(Object(r.a)({},i),e):Object(r.a)({},a.a.Modal)}function c(){return i}},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HTML=t.TEXT=t.URL=t.FILE=void 0;t.FILE="__NATIVE_FILE__";t.URL="__NATIVE_URL__";t.TEXT="__NATIVE_TEXT__";t.HTML="__NATIVE_HTML__"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.canDragX=function(e){return"both"===e.props.axis||"x"===e.props.axis},t.canDragY=function(e){return"both"===e.props.axis||"y"===e.props.axis},t.createCoreData=function(e,t,n){var a=e.state,o=!(0,r.isNum)(a.lastX),c=i(e);return o?{node:c,deltaX:0,deltaY:0,lastX:t,lastY:n,x:t,y:n}:{node:c,deltaX:t-a.lastX,deltaY:n-a.lastY,lastX:a.lastX,lastY:a.lastY,x:t,y:n}},t.createDraggableData=function(e,t){var n=e.props.scale;return{node:t.node,x:e.state.x+t.deltaX/n,y:e.state.y+t.deltaY/n,deltaX:t.deltaX/n,deltaY:t.deltaY/n,lastX:e.state.x,lastY:e.state.y}},t.getBoundPosition=function(e,t,n){if(!e.props.bounds)return[t,n];var o=e.props.bounds;o="string"===typeof o?o:function(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom}}(o);var c=i(e);if("string"===typeof o){var s,l=c.ownerDocument,u=l.defaultView;if(!((s="parent"===o?c.parentNode:l.querySelector(o))instanceof u.HTMLElement))throw new Error('Bounds selector "'+o+'" could not find an element.');var d=s,p=u.getComputedStyle(c),f=u.getComputedStyle(d);o={left:-c.offsetLeft+(0,r.int)(f.paddingLeft)+(0,r.int)(p.marginLeft),top:-c.offsetTop+(0,r.int)(f.paddingTop)+(0,r.int)(p.marginTop),right:(0,a.innerWidth)(d)-(0,a.outerWidth)(c)-c.offsetLeft+(0,r.int)(f.paddingRight)-(0,r.int)(p.marginRight),bottom:(0,a.innerHeight)(d)-(0,a.outerHeight)(c)-c.offsetTop+(0,r.int)(f.paddingBottom)-(0,r.int)(p.marginBottom)}}(0,r.isNum)(o.right)&&(t=Math.min(t,o.right));(0,r.isNum)(o.bottom)&&(n=Math.min(n,o.bottom));(0,r.isNum)(o.left)&&(t=Math.max(t,o.left));(0,r.isNum)(o.top)&&(n=Math.max(n,o.top));return[t,n]},t.getControlPosition=function(e,t,n){var r="number"===typeof t?(0,a.getTouch)(e,t):null;if("number"===typeof t&&!r)return null;var o=i(n),c=n.props.offsetParent||o.offsetParent||o.ownerDocument.body;return(0,a.offsetXYFromParent)(r||e,c,n.props.scale)},t.snapToGrid=function(e,t,n){var r=Math.round(t/e[0])*e[0],a=Math.round(n/e[1])*e[1];return[r,a]};var r=n(153),a=n(159);function i(e){var t=e.findDOMNode();if(!t)throw new Error("<DraggableCore>: Unmounted during event!");return t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){void 0}},,,function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e,t){if(-1===e.indexOf(t))return e;var n=e.indexOf(t),r=e.substring(0,n+t.length)+"</b></span>"+e.substring(n+t.length);return r=r.substring(0,n)+'<span class="timeline-hightlight"><b>'+r.substring(n)}},,function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=function(e,t){return e===t};function a(e,t){var n="object"===typeof t?t:{equalityCheck:t},a=n.equalityCheck,i=void 0===a?r:a,o=n.maxSize,c=void 0===o?1:o,s=n.resultEqualityCheck,l=function(e){return function(t,n){if(null===t||null===n||t.length!==n.length)return!1;for(var r=t.length,a=0;a<r;a++)if(!e(t[a],n[a]))return!1;return!0}}(i),u=1===c?function(e){var t;return{get:function(n){return t&&e(t.key,n)?t.value:"NOT_FOUND"},put:function(e,n){t={key:e,value:n}},getEntries:function(){return t?[t]:[]},clear:function(){t=void 0}}}(l):function(e,t){var n=[];function r(e){var r=n.findIndex((function(n){return t(e,n.key)}));if(r>-1){var a=n[r];return r>0&&(n.splice(r,1),n.unshift(a)),a.value}return"NOT_FOUND"}return{get:r,put:function(t,a){"NOT_FOUND"===r(t)&&(n.unshift({key:t,value:a}),n.length>e&&n.pop())},getEntries:function(){return n},clear:function(){n=[]}}}(c,l);function d(){var t=u.get(arguments);if("NOT_FOUND"===t){if(t=e.apply(null,arguments),s){var n=u.getEntries(),r=n.find((function(e){return s(e.value,t)}));r&&(t=r.value)}u.put(arguments,t)}return t}return d.clearCache=function(){return u.clear()},d}function i(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every((function(e){return"function"===typeof e}))){var n=t.map((function(e){return"function"===typeof e?"function "+(e.name||"unnamed")+"()":typeof e})).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+n+"]")}return t}function o(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var a=function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];var o,c=0,s={memoizeOptions:void 0},l=r.pop();if("object"===typeof l&&(s=l,l=r.pop()),"function"!==typeof l)throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof l+"]");var u=s,d=u.memoizeOptions,p=void 0===d?n:d,f=Array.isArray(p)?p:[p],h=i(r),g=e.apply(void 0,[function(){return c++,l.apply(null,arguments)}].concat(f)),v=e((function(){for(var e=[],t=h.length,n=0;n<t;n++)e.push(h[n].apply(null,arguments));return o=g.apply(null,e)}));return Object.assign(v,{resultFunc:l,memoizedResultFunc:g,dependencies:h,lastResult:function(){return o},recomputations:function(){return c},resetRecomputations:function(){return c=0}}),v};return a}var c=o(a)},,,,,function(e,t,n){"use strict";n(125),n(229)},,function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(117),a=n(0);function i(){var e=a.useReducer((function(e){return e+1}),0);return Object(r.a)(e,2)[1]}},,function(e,t,n){"use strict";n.d(t,"a",(function(){return g})),n.d(t,"b",(function(){return y}));var r,a=n(163),i=n(232),o=n(10),c=n(20),s=n(18),l=Object(c.a)({},s),u=l.version,d=l.render,p=l.unmountComponentAtNode;try{Number((u||"").split(".")[0])>=18&&(r=l.createRoot)}catch(O){}function f(e){var t=l.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;t&&"object"===Object(o.a)(t)&&(t.usingClientEntryPoint=e)}var h="__rc_react_root__";function g(e,t){r?function(e,t){f(!0);var n=t[h]||r(t);f(!1),n.render(e),t[h]=n}(e,t):function(e,t){d(e,t)}(e,t)}function v(e){return m.apply(this,arguments)}function m(){return(m=Object(i.a)(Object(a.a)().mark((function e(t){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.resolve().then((function(){var e;null===(e=t[h])||void 0===e||e.unmount(),delete t[h]})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(e){p(e)}function y(e){return x.apply(this,arguments)}function x(){return(x=Object(i.a)(Object(a.a)().mark((function e(t){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===r){e.next=2;break}return e.abrupt("return",v(t));case 2:b(t);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n(2),a=n(27),i=n(131),o=n(132),c=n(133),s=n(134),l=n(0),u=n(18),d=n.n(u),p=n(116),f=n.n(p),h=function(e){Object(c.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).closeTimer=null,e.close=function(t){t&&t.stopPropagation(),e.clearCloseTimer();var n=e.props,r=n.onClose,a=n.noticeKey;r&&r(a)},e.startCloseTimer=function(){e.props.duration&&(e.closeTimer=window.setTimeout((function(){e.close()}),1e3*e.props.duration))},e.clearCloseTimer=function(){e.closeTimer&&(clearTimeout(e.closeTimer),e.closeTimer=null)},e}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.startCloseTimer()}},{key:"componentDidUpdate",value:function(e){(this.props.duration!==e.duration||this.props.updateMark!==e.updateMark||this.props.visible!==e.visible&&this.props.visible)&&this.restartCloseTimer()}},{key:"componentWillUnmount",value:function(){this.clearCloseTimer()}},{key:"restartCloseTimer",value:function(){this.clearCloseTimer(),this.startCloseTimer()}},{key:"render",value:function(){var e=this,t=this.props,n=t.prefixCls,i=t.className,o=t.closable,c=t.closeIcon,s=t.style,u=t.onClick,p=t.children,h=t.holder,g="".concat(n,"-notice"),v=Object.keys(this.props).reduce((function(t,n){return"data-"!==n.substr(0,5)&&"aria-"!==n.substr(0,5)&&"role"!==n||(t[n]=e.props[n]),t}),{}),m=l.createElement("div",Object(r.a)({className:f()(g,i,Object(a.a)({},"".concat(g,"-closable"),o)),style:s,onMouseEnter:this.clearCloseTimer,onMouseLeave:this.startCloseTimer,onClick:u},v),l.createElement("div",{className:"".concat(g,"-content")},p),o?l.createElement("a",{tabIndex:0,onClick:this.close,className:"".concat(g,"-close")},c||l.createElement("span",{className:"".concat(g,"-close-x")})):null);return h?d.a.createPortal(m,h):m}}]),n}(l.Component);h.defaultProps={onClose:function(){},duration:1.5}},function(e,t,n){"use strict";t.a={"-1":"unknown",0:"change insight type",1:"previous subspace",2:"succeeding subspace",3:"period",4:"different varaible",5:"drill up",6:"drill down",7:"aggregate",8:"deaggregate"}},function(e,t,n){"use strict";t.a={"-1":"",0:"\u6539\u53d8\u6d1e\u5bdf\u7c7b\u578b",1:"\u65f6\u95f4\u5206\u6bb5\u524d\u6eaf",2:"\u65f6\u95f4\u5206\u6bb5\u540e\u79fb",3:"\u73af\u6bd4",4:"\u5207\u6362\u5230\u4e0d\u540c\u53d8\u91cf",5:"\u5355\u7ef4\u5ea6\u5411\u591a\u7ef4\u5ea6\u8f6c\u53d8",6:"\u591a\u7ef4\u5ea6\u5411\u5355\u7ef4\u5ea6\u8f6c\u53d8",7:"\u5206\u6790\u6d41\u7ec8\u6b62"}},function(e,t,n){"use strict";var r=n(199);n.o(r,"DropTarget")&&n.d(t,"DropTarget",(function(){return r.DropTarget}));var a=n(204);n.o(a,"DropTarget")&&n.d(t,"DropTarget",(function(){return a.DropTarget}))},function(e,t,n){"use strict";var r=n(200);n.o(r,"DropTarget")&&n.d(t,"DropTarget",(function(){return r.DropTarget}));var a=n(201);n.o(a,"DropTarget")&&n.d(t,"DropTarget",(function(){return a.DropTarget}));var i=n(202);n.o(i,"DropTarget")&&n.d(t,"DropTarget",(function(){return i.DropTarget}));var o=n(203);n.o(o,"DropTarget")&&n.d(t,"DropTarget",(function(){return o.DropTarget}))},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t,n){"use strict";var r=n(210);n.d(t,"DropTarget",(function(){return r.a}))},function(e,t,n){"use strict";var r=n(135),a=n(136);Object.defineProperty(t,"__esModule",{value:!0});var i=n(276),o=function(){function e(){var t=this;r(this,e),this.queue=[],this.pendingErrors=[],this.flushing=!1,this.index=0,this.capacity=1024,this.flush=function(){for(var e=t.queue;t.index<e.length;){var n=t.index;if(t.index++,e[n].call(),t.index>t.capacity){for(var r=0,a=e.length-t.index;r<a;r++)e[r]=e[r+t.index];e.length-=t.index,t.index=0}}e.length=0,t.index=0,t.flushing=!1},this.registerPendingError=function(e){t.pendingErrors.push(e),t.requestErrorThrow()},this.requestFlush=i.makeRequestCall(this.flush),this.requestErrorThrow=i.makeRequestCallFromTimer((function(){if(t.pendingErrors.length)throw t.pendingErrors.shift()}))}return a(e,[{key:"enqueueTask",value:function(e){var t=this.queue,n=this.requestFlush;t.length||(n(),this.flushing=!0),t[t.length]=e}}]),e}();t.AsapQueue=o},function(e,t,n){"use strict";var r=n(135),a=n(136);Object.defineProperty(t,"__esModule",{value:!0});var i=n(277),o=function(){function e(t){r(this,e),this.onError=t,this.freeTasks=[]}return a(e,[{key:"create",value:function(e){var t=this.freeTasks,n=t.length?t.pop():new i.RawTask(this.onError,(function(e){return t[t.length]=e}));return n.task=e,n}}]),e}();t.TaskFactory=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.memoize=function(e){var t=null;return function(){return null==t&&(t=e()),t}},t.without=function(e,t){return e.filter((function(e){return e!==t}))},t.union=function(e,t){var n=new Set,r=function(e){return n.add(e)};e.forEach(r),t.forEach(r);var a=[];return n.forEach((function(e){return a.push(e)})),a}},,function(e,t,n){"use strict";n.d(t,"a",(function(){return Ne})),n.d(t,"b",(function(){return Ae}));var r=n(0),a=n(9),i="dnd-core/INIT_COORDS",o="dnd-core/BEGIN_DRAG",c="dnd-core/PUBLISH_DRAG_SOURCE",s="dnd-core/HOVER",l="dnd-core/DROP",u="dnd-core/END_DRAG",d=function(e,t){return e===t};function p(e,t){return!e&&!t||!(!e||!t)&&(e.x===t.x&&e.y===t.y)}function f(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:d;if(e.length!==t.length)return!1;for(var r=0;r<e.length;++r)if(!n(e[r],t[r]))return!1;return!0}function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function b(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0,n=t.payload;switch(t.type){case i:case o:return{initialSourceClientOffset:n.sourceClientOffset,initialClientOffset:n.clientOffset,clientOffset:n.clientOffset};case s:return p(e.clientOffset,n.clientOffset)?e:g(g({},e),{},{clientOffset:n.clientOffset});case u:case l:return m;default:return e}}var y="dnd-core/ADD_SOURCE",x="dnd-core/ADD_TARGET",O="dnd-core/REMOVE_SOURCE",w="dnd-core/REMOVE_TARGET";function C(e){return(C="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function k(e,t,n){return t.split(".").reduce((function(e,t){return e&&e[t]?e[t]:n||null}),e)}function j(e,t){return e.filter((function(e){return e!==t}))}function E(e){return"object"===C(e)}function S(e,t){var n=new Map,r=function(e){n.set(e,n.has(e)?n.get(e)+1:1)};e.forEach(r),t.forEach(r);var a=[];return n.forEach((function(e,t){1===e&&a.push(t)})),a}function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){P(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function P(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var D={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function N(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0,n=t.payload;switch(t.type){case o:return I(I({},e),{},{itemType:n.itemType,item:n.item,sourceId:n.sourceId,isSourcePublic:n.isSourcePublic,dropResult:null,didDrop:!1});case c:return I(I({},e),{},{isSourcePublic:!0});case s:return I(I({},e),{},{targetIds:n.targetIds});case w:return-1===e.targetIds.indexOf(n.targetId)?e:I(I({},e),{},{targetIds:j(e.targetIds,n.targetId)});case l:return I(I({},e),{},{dropResult:n.dropResult,didDrop:!0,targetIds:[]});case u:return I(I({},e),{},{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return e}}function A(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:case x:return e+1;case O:case w:return e-1;default:return e}}var _=[],M=[];function R(e,t){return e!==_&&(e===M||"undefined"===typeof t||(n=e,t.filter((function(e){return n.indexOf(e)>-1}))).length>0);var n}function F(){var e=arguments.length>1?arguments[1]:void 0;switch(e.type){case s:break;case y:case x:case w:case O:return _;case o:case c:case u:case l:default:return M}var t=e.payload,n=t.targetIds,r=void 0===n?[]:n,a=t.prevTargetIds,i=void 0===a?[]:a,d=S(r,i),p=d.length>0||!f(r,i);if(!p)return _;var h=i[i.length-1],g=r[r.length-1];return h!==g&&(h&&d.push(h),g&&d.push(g)),d}function B(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return e+1}function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function G(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(Object(n),!0).forEach((function(t){q(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function q(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function z(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return{dirtyHandlerIds:F(e.dirtyHandlerIds,{type:t.type,payload:G(G({},t.payload),{},{prevTargetIds:k(e,"dragOperation.targetIds",[])})}),dragOffset:b(e.dragOffset,t),refCount:A(e.refCount,t),dragOperation:N(e.dragOperation,t),stateId:B(e.stateId)}}_.__IS_NONE__=!0,M.__IS_ALL__=!0;var H=n(126);function U(e,t){return{type:i,payload:{sourceClientOffset:t||null,clientOffset:e||null}}}var V={type:i,payload:{clientOffset:null,sourceClientOffset:null}};function Y(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{publishSource:!0},r=n.publishSource,a=void 0===r||r,i=n.clientOffset,c=n.getSourceClientOffset,s=e.getMonitor(),l=e.getRegistry();e.dispatch(U(i)),W(t,s,l);var u=J(t,s);if(null!==u){var d=null;if(i){if(!c)throw new Error("getSourceClientOffset must be defined");K(c),d=c(u)}e.dispatch(U(i,d));var p=l.getSource(u),f=p.beginDrag(s,u);X(f),l.pinSource(u);var h=l.getSourceType(u);return{type:o,payload:{itemType:h,item:f,sourceId:u,clientOffset:i||null,sourceClientOffset:d||null,isSourcePublic:!!a}}}e.dispatch(V)}}function W(e,t,n){Object(H.a)(!t.isDragging(),"Cannot call beginDrag while dragging."),e.forEach((function(e){Object(H.a)(n.getSource(e),"Expected sourceIds to be registered.")}))}function K(e){Object(H.a)("function"===typeof e,"When clientOffset is provided, getSourceClientOffset must be a function.")}function X(e){Object(H.a)(E(e),"Item must be an object.")}function J(e,t){for(var n=null,r=e.length-1;r>=0;r--)if(t.canDragSource(e[r])){n=e[r];break}return n}function $(e){return function(){if(e.getMonitor().isDragging())return{type:c}}}function Z(e,t){return null===t?null===e:Array.isArray(e)?e.some((function(e){return e===t})):e===t}function Q(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.clientOffset;ee(t);var a=t.slice(0),i=e.getMonitor(),o=e.getRegistry();te(a,i,o);var c=i.getItemType();return ne(a,o,c),re(a,i,o),{type:s,payload:{targetIds:a,clientOffset:r||null}}}}function ee(e){Object(H.a)(Array.isArray(e),"Expected targetIds to be an array.")}function te(e,t,n){Object(H.a)(t.isDragging(),"Cannot call hover while not dragging."),Object(H.a)(!t.didDrop(),"Cannot call hover after drop.");for(var r=0;r<e.length;r++){var a=e[r];Object(H.a)(e.lastIndexOf(a)===r,"Expected targetIds to be unique in the passed array.");var i=n.getTarget(a);Object(H.a)(i,"Expected targetIds to be registered.")}}function ne(e,t,n){for(var r=e.length-1;r>=0;r--){var a=e[r];Z(t.getTargetType(a),n)||e.splice(r,1)}}function re(e,t,n){e.forEach((function(e){n.getTarget(e).hover(t,e)}))}function ae(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ie(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ae(Object(n),!0).forEach((function(t){oe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ae(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function oe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ce(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.getMonitor(),r=e.getRegistry();se(n);var a=ue(n);a.forEach((function(a,i){var o=le(a,i,r,n),c={type:l,payload:{dropResult:ie(ie({},t),o)}};e.dispatch(c)}))}}function se(e){Object(H.a)(e.isDragging(),"Cannot call drop while not dragging."),Object(H.a)(!e.didDrop(),"Cannot call drop twice during one drag operation.")}function le(e,t,n,r){var a=n.getTarget(e),i=a?a.drop(r,e):void 0;return function(e){Object(H.a)("undefined"===typeof e||E(e),"Drop result must either be an object or undefined.")}(i),"undefined"===typeof i&&(i=0===t?{}:r.getDropResult()),i}function ue(e){var t=e.getTargetIds().filter(e.canDropOnTarget,e);return t.reverse(),t}function de(e){return function(){var t=e.getMonitor(),n=e.getRegistry();!function(e){Object(H.a)(e.isDragging(),"Cannot call endDrag while not dragging.")}(t);var r=t.getSourceId();null!=r&&(n.getSource(r,!0).endDrag(t,r),n.unpinSource());return{type:u}}}function pe(e,t){return{x:e.x-t.x,y:e.y-t.y}}function fe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var he,ge=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.store=t,this.registry=n}var t,n,r;return t=e,(n=[{key:"subscribeToStateChange",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{handlerIds:void 0},r=n.handlerIds;Object(H.a)("function"===typeof e,"listener must be a function."),Object(H.a)("undefined"===typeof r||Array.isArray(r),"handlerIds, when specified, must be an array of strings.");var a=this.store.getState().stateId,i=function(){var n=t.store.getState(),i=n.stateId;try{i===a||i===a+1&&!R(n.dirtyHandlerIds,r)||e()}finally{a=i}};return this.store.subscribe(i)}},{key:"subscribeToOffsetChange",value:function(e){var t=this;Object(H.a)("function"===typeof e,"listener must be a function.");var n=this.store.getState().dragOffset;return this.store.subscribe((function(){var r=t.store.getState().dragOffset;r!==n&&(n=r,e())}))}},{key:"canDragSource",value:function(e){if(!e)return!1;var t=this.registry.getSource(e);return Object(H.a)(t,"Expected to find a valid source."),!this.isDragging()&&t.canDrag(this,e)}},{key:"canDropOnTarget",value:function(e){if(!e)return!1;var t=this.registry.getTarget(e);return Object(H.a)(t,"Expected to find a valid target."),!(!this.isDragging()||this.didDrop())&&Z(this.registry.getTargetType(e),this.getItemType())&&t.canDrop(this,e)}},{key:"isDragging",value:function(){return Boolean(this.getItemType())}},{key:"isDraggingSource",value:function(e){if(!e)return!1;var t=this.registry.getSource(e,!0);return Object(H.a)(t,"Expected to find a valid source."),!(!this.isDragging()||!this.isSourcePublic())&&this.registry.getSourceType(e)===this.getItemType()&&t.isDragging(this,e)}},{key:"isOverTarget",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{shallow:!1};if(!e)return!1;var n=t.shallow;if(!this.isDragging())return!1;var r=this.registry.getTargetType(e),a=this.getItemType();if(a&&!Z(r,a))return!1;var i=this.getTargetIds();if(!i.length)return!1;var o=i.indexOf(e);return n?o===i.length-1:o>-1}},{key:"getItemType",value:function(){return this.store.getState().dragOperation.itemType}},{key:"getItem",value:function(){return this.store.getState().dragOperation.item}},{key:"getSourceId",value:function(){return this.store.getState().dragOperation.sourceId}},{key:"getTargetIds",value:function(){return this.store.getState().dragOperation.targetIds}},{key:"getDropResult",value:function(){return this.store.getState().dragOperation.dropResult}},{key:"didDrop",value:function(){return this.store.getState().dragOperation.didDrop}},{key:"isSourcePublic",value:function(){return Boolean(this.store.getState().dragOperation.isSourcePublic)}},{key:"getInitialClientOffset",value:function(){return this.store.getState().dragOffset.initialClientOffset}},{key:"getInitialSourceClientOffset",value:function(){return this.store.getState().dragOffset.initialSourceClientOffset}},{key:"getClientOffset",value:function(){return this.store.getState().dragOffset.clientOffset}},{key:"getSourceClientOffset",value:function(){return function(e){var t,n,r=e.clientOffset,a=e.initialClientOffset,i=e.initialSourceClientOffset;return r&&a&&i?pe((n=i,{x:(t=r).x+n.x,y:t.y+n.y}),a):null}(this.store.getState().dragOffset)}},{key:"getDifferenceFromInitialOffset",value:function(){return function(e){var t=e.clientOffset,n=e.initialClientOffset;return t&&n?pe(t,n):null}(this.store.getState().dragOffset)}}])&&fe(t.prototype,n),r&&fe(t,r),e}(),ve=0;function me(e){return(me="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function be(e,t){t&&Array.isArray(e)?e.forEach((function(e){return be(e,!1)})):Object(H.a)("string"===typeof e||"symbol"===me(e),t?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}!function(e){e.SOURCE="SOURCE",e.TARGET="TARGET"}(he||(he={}));var ye=n(274);function xe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Oe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,i=void 0;try{for(var o,c=e[Symbol.iterator]();!(r=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(s){a=!0,i=s}finally{try{r||null==c.return||c.return()}finally{if(a)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return we(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return we(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function we(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ce(e){var t=(ve++).toString();switch(e){case he.SOURCE:return"S".concat(t);case he.TARGET:return"T".concat(t);default:throw new Error("Unknown Handler Role: ".concat(e))}}function ke(e){switch(e[0]){case"S":return he.SOURCE;case"T":return he.TARGET;default:Object(H.a)(!1,"Cannot parse handler ID: ".concat(e))}}function je(e,t){var n=e.entries(),r=!1;do{var a=n.next(),i=a.done;if(Oe(a.value,2)[1]===t)return!0;r=!!i}while(!r);return!1}var Ee=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.types=new Map,this.dragSources=new Map,this.dropTargets=new Map,this.pinnedSourceId=null,this.pinnedSource=null,this.store=t}var t,n,r;return t=e,(n=[{key:"addSource",value:function(e,t){be(e),function(e){Object(H.a)("function"===typeof e.canDrag,"Expected canDrag to be a function."),Object(H.a)("function"===typeof e.beginDrag,"Expected beginDrag to be a function."),Object(H.a)("function"===typeof e.endDrag,"Expected endDrag to be a function.")}(t);var n=this.addHandler(he.SOURCE,e,t);return this.store.dispatch(function(e){return{type:y,payload:{sourceId:e}}}(n)),n}},{key:"addTarget",value:function(e,t){be(e,!0),function(e){Object(H.a)("function"===typeof e.canDrop,"Expected canDrop to be a function."),Object(H.a)("function"===typeof e.hover,"Expected hover to be a function."),Object(H.a)("function"===typeof e.drop,"Expected beginDrag to be a function.")}(t);var n=this.addHandler(he.TARGET,e,t);return this.store.dispatch(function(e){return{type:x,payload:{targetId:e}}}(n)),n}},{key:"containsHandler",value:function(e){return je(this.dragSources,e)||je(this.dropTargets,e)}},{key:"getSource",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];Object(H.a)(this.isSourceId(e),"Expected a valid source ID.");var n=t&&e===this.pinnedSourceId,r=n?this.pinnedSource:this.dragSources.get(e);return r}},{key:"getTarget",value:function(e){return Object(H.a)(this.isTargetId(e),"Expected a valid target ID."),this.dropTargets.get(e)}},{key:"getSourceType",value:function(e){return Object(H.a)(this.isSourceId(e),"Expected a valid source ID."),this.types.get(e)}},{key:"getTargetType",value:function(e){return Object(H.a)(this.isTargetId(e),"Expected a valid target ID."),this.types.get(e)}},{key:"isSourceId",value:function(e){return ke(e)===he.SOURCE}},{key:"isTargetId",value:function(e){return ke(e)===he.TARGET}},{key:"removeSource",value:function(e){var t=this;Object(H.a)(this.getSource(e),"Expected an existing source."),this.store.dispatch(function(e){return{type:O,payload:{sourceId:e}}}(e)),Object(ye.asap)((function(){t.dragSources.delete(e),t.types.delete(e)}))}},{key:"removeTarget",value:function(e){Object(H.a)(this.getTarget(e),"Expected an existing target."),this.store.dispatch(function(e){return{type:w,payload:{targetId:e}}}(e)),this.dropTargets.delete(e),this.types.delete(e)}},{key:"pinSource",value:function(e){var t=this.getSource(e);Object(H.a)(t,"Expected an existing source."),this.pinnedSourceId=e,this.pinnedSource=t}},{key:"unpinSource",value:function(){Object(H.a)(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}},{key:"addHandler",value:function(e,t,n){var r=Ce(e);return this.types.set(r,t),e===he.SOURCE?this.dragSources.set(r,n):e===he.TARGET&&this.dropTargets.set(r,n),r}}])&&xe(t.prototype,n),r&&xe(t,r),e}();function Se(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Te(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ie(e){var t="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__;return Object(a.e)(z,e&&t&&t({name:"dnd-core",instanceId:"dnd-core"}))}var Pe=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];Se(this,e),this.isSetUp=!1,this.handleRefCountChange=function(){var e=t.store.getState().refCount>0;t.backend&&(e&&!t.isSetUp?(t.backend.setup(),t.isSetUp=!0):!e&&t.isSetUp&&(t.backend.teardown(),t.isSetUp=!1))};var r=Ie(n);this.store=r,this.monitor=new ge(r,new Ee(r)),r.subscribe(this.handleRefCountChange)}var t,n,r;return t=e,(n=[{key:"receiveBackend",value:function(e){this.backend=e}},{key:"getMonitor",value:function(){return this.monitor}},{key:"getBackend",value:function(){return this.backend}},{key:"getRegistry",value:function(){return this.monitor.registry}},{key:"getActions",value:function(){var e=this,t=this.store.dispatch,n=function(e){return{beginDrag:Y(e),publishDragSource:$(e),hover:Q(e),drop:ce(e),endDrag:de(e)}}(this);return Object.keys(n).reduce((function(r,a){var i,o=n[a];return r[a]=(i=o,function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];var o=i.apply(e,r);"undefined"!==typeof o&&t(o)}),r}),{})}},{key:"dispatch",value:function(e){this.store.dispatch(e)}}])&&Te(t.prototype,n),r&&Te(t,r),e}();function De(e,t,n,r){var a=new Pe(r),i=e(a,t,n);return a.receiveBackend(i),a}var Ne=r.createContext({dragDropManager:void 0});function Ae(e,t,n,r){return{dragDropManager:De(e,t,n,r)}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return Y}));var r=n(126);function a(e){return(a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return"function"===typeof e}function o(){}function c(e){if(!function(e){return"object"===a(e)&&null!==e}(e))return!1;if(null===Object.getPrototypeOf(e))return!0;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function s(e,t,n){var r=n.getRegistry(),a=r.addTarget(e,t);return[a,function(){return r.removeTarget(a)}]}function l(e){return(l="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){return"string"===typeof e||"symbol"===l(e)||!!t&&Array.isArray(e)&&e.every((function(e){return u(e,!1)}))}function d(e,t,n,r){var a=n?n.call(r,e,t):void 0;if(void 0!==a)return!!a;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var i=Object.keys(e),o=Object.keys(t);if(i.length!==o.length)return!1;for(var c=Object.prototype.hasOwnProperty.bind(t),s=0;s<i.length;s++){var l=i[s];if(!c(l))return!1;var u=e[l],d=t[l];if(!1===(a=n?n.call(r,u,d,l):void 0)||void 0===a&&u!==d)return!1}return!0}var p=n(0);function f(e,t){"function"===typeof e?e(t):e.current=t}function h(e,t){var n=e.ref;return Object(r.a)("string"!==typeof n,"Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://facebook.github.io/react/docs/more-about-refs.html#the-ref-callback-attribute"),n?Object(p.cloneElement)(e,{ref:function(e){f(n,e),f(t,e)}}):Object(p.cloneElement)(e,{ref:t})}function g(e){if("string"!==typeof e.type){var t=e.type.displayName||e.type.name||"the component";throw new Error("Only native element nodes can now be passed to React DnD connectors."+"You can either wrap ".concat(t," into a <div>, or turn it into a ")+"drag source or a drop target itself.")}}function v(e){var t={};return Object.keys(e).forEach((function(n){var r=e[n];if(n.endsWith("Ref"))t[n]=e[n];else{var a=function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!Object(p.isValidElement)(t)){var r=t;return e(r,n),r}var a=t;g(a);var i=n?function(t){return e(t,n)}:e;return h(a,i)}}(r);t[n]=function(){return a}}})),t}function m(e){return(m="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var y=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.hooks=v({dropTarget:function(e,t){var r;n.clearDropTarget(),n.dropTargetOptions=t,null!==(r=e)&&"object"===m(r)&&Object.prototype.hasOwnProperty.call(r,"current")?n.dropTargetRef=e:n.dropTargetNode=e,n.reconnect()}}),this.handlerId=null,this.dropTargetRef=null,this.dropTargetOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDropTarget=null,this.lastConnectedDropTargetOptions=null,this.backend=t}var t,n,r;return t=e,(n=[{key:"reconnect",value:function(){var e=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();e&&this.disconnectDropTarget();var t=this.dropTarget;this.handlerId&&(t?e&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=t,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,t,this.dropTargetOptions)):this.lastConnectedDropTarget=t)}},{key:"receiveHandlerId",value:function(e){e!==this.handlerId&&(this.handlerId=e,this.reconnect())}},{key:"didHandlerIdChange",value:function(){return this.lastConnectedHandlerId!==this.handlerId}},{key:"didDropTargetChange",value:function(){return this.lastConnectedDropTarget!==this.dropTarget}},{key:"didOptionsChange",value:function(){return!d(this.lastConnectedDropTargetOptions,this.dropTargetOptions)}},{key:"disconnectDropTarget",value:function(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)}},{key:"clearDropTarget",value:function(){this.dropTargetRef=null,this.dropTargetNode=null}},{key:"connectTarget",get:function(){return this.dropTarget}},{key:"dropTargetOptions",get:function(){return this.dropTargetOptionsInternal},set:function(e){this.dropTargetOptionsInternal=e}},{key:"dropTarget",get:function(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.current}}])&&b(t.prototype,n),r&&b(t,r),e}();function x(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var O=!1,w=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.targetId=null,this.internalMonitor=t.getMonitor()}var t,n,a;return t=e,(n=[{key:"receiveHandlerId",value:function(e){this.targetId=e}},{key:"getHandlerId",value:function(){return this.targetId}},{key:"subscribeToStateChange",value:function(e,t){return this.internalMonitor.subscribeToStateChange(e,t)}},{key:"canDrop",value:function(){if(!this.targetId)return!1;Object(r.a)(!O,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor");try{return O=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{O=!1}}},{key:"isOver",value:function(e){return!!this.targetId&&this.internalMonitor.isOverTarget(this.targetId,e)}},{key:"getItemType",value:function(){return this.internalMonitor.getItemType()}},{key:"getItem",value:function(){return this.internalMonitor.getItem()}},{key:"getDropResult",value:function(){return this.internalMonitor.getDropResult()}},{key:"didDrop",value:function(){return this.internalMonitor.didDrop()}},{key:"getInitialClientOffset",value:function(){return this.internalMonitor.getInitialClientOffset()}},{key:"getInitialSourceClientOffset",value:function(){return this.internalMonitor.getInitialSourceClientOffset()}},{key:"getSourceClientOffset",value:function(){return this.internalMonitor.getSourceClientOffset()}},{key:"getClientOffset",value:function(){return this.internalMonitor.getClientOffset()}},{key:"getDifferenceFromInitialOffset",value:function(){return this.internalMonitor.getDifferenceFromInitialOffset()}}])&&x(t.prototype,n),a&&x(t,a),e}();function C(e){return(t=e)&&t.prototype&&"function"===typeof t.prototype.render||function(e){var t;return"Symbol(react.forward_ref)"===(null===e||void 0===e||null===(t=e.$$typeof)||void 0===t?void 0:t.toString())}(e);var t}var k=n(12),j=n.n(k),E=n(209);function S(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function T(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function I(e,t,n){return t&&T(e.prototype,t),n&&T(e,n),e}var P=function(){var e=function(){function e(t){S(this,e),this.isDisposed=!1,this.action=i(t)?t:o}return I(e,[{key:"dispose",value:function(){this.isDisposed||(this.action(),this.isDisposed=!0)}}],[{key:"isDisposable",value:function(e){return Boolean(e&&i(e.dispose))}},{key:"_fixup",value:function(t){return e.isDisposable(t)?t:e.empty}},{key:"create",value:function(t){return new e(t)}}]),e}();return e.empty={dispose:o},e}(),D=function(){function e(){S(this,e),this.isDisposed=!1;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this.disposables=n}return I(e,[{key:"add",value:function(e){this.isDisposed?e.dispose():this.disposables.push(e)}},{key:"remove",value:function(e){var t=!1;if(!this.isDisposed){var n=this.disposables.indexOf(e);-1!==n&&(t=!0,this.disposables.splice(n,1),e.dispose())}return t}},{key:"clear",value:function(){if(!this.isDisposed){for(var e=this.disposables.length,t=new Array(e),n=0;n<e;n++)t[n]=this.disposables[n];this.disposables=[];for(var r=0;r<e;r++)t[r].dispose()}}},{key:"dispose",value:function(){if(!this.isDisposed){this.isDisposed=!0;for(var e=this.disposables.length,t=new Array(e),n=0;n<e;n++)t[n]=this.disposables[n];this.disposables=[];for(var r=0;r<e;r++)t[r].dispose()}}}]),e}(),N=function(){function e(){S(this,e),this.isDisposed=!1}return I(e,[{key:"getDisposable",value:function(){return this.current}},{key:"setDisposable",value:function(e){var t=this.isDisposed;if(!t){var n=this.current;this.current=e,n&&n.dispose()}t&&e&&e.dispose()}},{key:"dispose",value:function(){if(!this.isDisposed){this.isDisposed=!0;var e=this.current;this.current=void 0,e&&e.dispose()}}}]),e}();function A(e){return(A="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,i=void 0;try{for(var o,c=e[Symbol.iterator]();!(r=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(s){a=!0,i=s}finally{try{r||null==c.return||c.return()}finally{if(a)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return M(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return M(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function R(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function F(e,t){return(F=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function B(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=G(e);if(t){var a=G(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return L(this,n)}}function L(e,t){return!t||"object"!==A(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function G(e){return(G=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function q(e){var t=e.DecoratedComponent,n=e.createHandler,a=e.createMonitor,i=e.createConnector,o=e.registerHandler,c=e.containerDisplayName,s=e.getType,l=e.collect,u=e.options.arePropsEqual,f=void 0===u?d:u,h=t,g=t.displayName||t.name||"Component",v=function(){var e=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&F(e,t)}(m,e);var t,c,u,v=B(m);function m(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,m),(t=v.call(this,e)).decoratedRef=p.createRef(),t.handleChange=function(){var e=t.getCurrentState();d(e,t.state)||t.setState(e)},t.disposable=new N,t.receiveProps(e),t.dispose(),t}return t=m,(c=[{key:"getHandlerId",value:function(){return this.handlerId}},{key:"getDecoratedComponentInstance",value:function(){return Object(r.a)(this.decoratedRef.current,"In order to access an instance of the decorated component, it must either be a class component or use React.forwardRef()"),this.decoratedRef.current}},{key:"shouldComponentUpdate",value:function(e,t){return!f(e,this.props)||!d(t,this.state)}},{key:"componentDidMount",value:function(){this.disposable=new N,this.currentType=void 0,this.receiveProps(this.props),this.handleChange()}},{key:"componentDidUpdate",value:function(e){f(this.props,e)||(this.receiveProps(this.props),this.handleChange())}},{key:"componentWillUnmount",value:function(){this.dispose()}},{key:"receiveProps",value:function(e){this.handler&&(this.handler.receiveProps(e),this.receiveType(s(e)))}},{key:"receiveType",value:function(e){if(this.handlerMonitor&&this.manager&&this.handlerConnector&&e!==this.currentType){this.currentType=e;var t=_(o(e,this.handler,this.manager),2),n=t[0],r=t[1];this.handlerId=n,this.handlerMonitor.receiveHandlerId(n),this.handlerConnector.receiveHandlerId(n);var a=this.manager.getMonitor().subscribeToStateChange(this.handleChange,{handlerIds:[n]});this.disposable.setDisposable(new D(new P(a),new P(r)))}}},{key:"dispose",value:function(){this.disposable.dispose(),this.handlerConnector&&this.handlerConnector.receiveHandlerId(null)}},{key:"getCurrentState",value:function(){return this.handlerConnector?l(this.handlerConnector.hooks,this.handlerMonitor,this.props):{}}},{key:"render",value:function(){var e=this;return p.createElement(E.a.Consumer,null,(function(t){var n=t.dragDropManager;return e.receiveDragDropManager(n),"undefined"!==typeof requestAnimationFrame&&requestAnimationFrame((function(){var t;return null===(t=e.handlerConnector)||void 0===t?void 0:t.reconnect()})),p.createElement(h,Object.assign({},e.props,e.getCurrentState(),{ref:C(h)?e.decoratedRef:null}))}))}},{key:"receiveDragDropManager",value:function(e){void 0===this.manager&&(Object(r.a)(void 0!==e,"Could not find the drag and drop manager in the context of %s. Make sure to render a DndProvider component in your top-level component. Read more: http://react-dnd.github.io/react-dnd/docs/troubleshooting#could-not-find-the-drag-and-drop-manager-in-the-context",g,g),void 0!==e&&(this.manager=e,this.handlerMonitor=a(e),this.handlerConnector=i(e.getBackend()),this.handler=n(this.handlerMonitor,this.decoratedRef)))}}])&&R(t.prototype,c),u&&R(t,u),m}(p.Component);return e.DecoratedComponent=t,e.displayName="".concat(c,"(").concat(g,")"),e}();return j()(v,t)}function z(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var H=["canDrop","hover","drop"],U=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.props=null,this.spec=t,this.monitor=n,this.ref=r}var t,n,r;return t=e,(n=[{key:"receiveProps",value:function(e){this.props=e}},{key:"receiveMonitor",value:function(e){this.monitor=e}},{key:"canDrop",value:function(){return!this.spec.canDrop||this.spec.canDrop(this.props,this.monitor)}},{key:"hover",value:function(){this.spec.hover&&this.props&&this.spec.hover(this.props,this.monitor,function(e){var t=e.current;return null==t?null:t.decoratedRef?t.decoratedRef.current:t}(this.ref))}},{key:"drop",value:function(){if(this.spec.drop)return this.spec.drop(this.props,this.monitor,this.ref.current)}}])&&z(t.prototype,n),r&&z(t,r),e}();function V(e){return Object.keys(e).forEach((function(t){Object(r.a)(H.indexOf(t)>-1,'Expected the drop target specification to only have some of the following keys: %s. Instead received a specification with an unexpected "%s" key. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target',H.join(", "),t),Object(r.a)("function"===typeof e[t],"Expected %s in the drop target specification to be a function. Instead received a specification with %s: %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target",t,t,e[t])})),function(t,n){return new U(e,t,n)}}function Y(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=e;"function"!==typeof e&&(Object(r.a)(u(e,!0),'Expected "type" provided as the first argument to DropTarget to be a string, an array of strings, or a function that returns either given the current props. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target',e),i=function(){return e}),Object(r.a)(c(t),'Expected "spec" provided as the second argument to DropTarget to be a plain object. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target',t);var o=V(t);return Object(r.a)("function"===typeof n,'Expected "collect" provided as the third argument to DropTarget to be a function that returns a plain object of props to inject. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target',n),Object(r.a)(c(a),'Expected "options" provided as the fourth argument to DropTarget to be a plain object when specified. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target',n),function(e){return q({containerDisplayName:"DropTarget",createHandler:o,registerHandler:s,createMonitor:function(e){return new w(e)},createConnector:function(e){return new y(e)},DecoratedComponent:e,getType:i,collect:n,options:a})}}},function(e,t,n){"use strict";var r=n(120),a=n(27),i=n(117),o=n(2),c=n(116),s=n.n(c),l=n(0),u=n(186),d=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},p=l.createContext({siderHook:{addSider:function(){return null},removeSider:function(){return null}}});function f(e){var t=e.suffixCls,n=e.tagName;e.displayName;return function(e){return l.forwardRef((function(r,a){var i=l.useContext(u.b).getPrefixCls,c=r.prefixCls,s=i(t,c);return l.createElement(e,Object(o.a)({ref:a,prefixCls:s,tagName:n},r))}))}}var h=l.forwardRef((function(e,t){var n=e.prefixCls,r=e.className,a=e.children,i=e.tagName,c=d(e,["prefixCls","className","children","tagName"]),u=s()(n,r);return l.createElement(i,Object(o.a)(Object(o.a)({className:u},c),{ref:t}),a)})),g=l.forwardRef((function(e,t){var n,c=l.useContext(u.b).direction,f=l.useState([]),h=Object(i.a)(f,2),g=h[0],v=h[1],m=e.prefixCls,b=e.className,y=e.children,x=e.hasSider,O=e.tagName,w=d(e,["prefixCls","className","children","hasSider","tagName"]),C=s()(m,(n={},Object(a.a)(n,"".concat(m,"-has-sider"),"boolean"===typeof x?x:g.length>0),Object(a.a)(n,"".concat(m,"-rtl"),"rtl"===c),n),b),k=l.useMemo((function(){return{siderHook:{addSider:function(e){v((function(t){return[].concat(Object(r.a)(t),[e])}))},removeSider:function(e){v((function(t){return t.filter((function(t){return t!==e}))}))}}}}),[]);return l.createElement(p.Provider,{value:k},l.createElement(O,Object(o.a)({ref:t,className:C},w),y))})),v=f({suffixCls:"layout",tagName:"section",displayName:"Layout"})(g),m=f({suffixCls:"layout-header",tagName:"header",displayName:"Header"})(h),b=f({suffixCls:"layout-footer",tagName:"footer",displayName:"Footer"})(h),y=f({suffixCls:"layout-content",tagName:"main",displayName:"Content"})(h),x=v,O=n(20),w={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 192H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM104 228a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"bars",theme:"outlined"},C=n(122),k=function(e,t){return l.createElement(C.a,Object(O.a)(Object(O.a)({},e),{},{ref:t,icon:w}))};k.displayName="BarsOutlined";var j=l.forwardRef(k),E={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M724 218.3V141c0-6.7-7.7-10.4-12.9-6.3L260.3 486.8a31.86 31.86 0 000 50.3l450.8 352.1c5.3 4.1 12.9.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6l-360-281 360-281.1c3.8-3 6.1-7.7 6.1-12.6z"}}]},name:"left",theme:"outlined"},S=function(e,t){return l.createElement(C.a,Object(O.a)(Object(O.a)({},e),{},{ref:t,icon:E}))};S.displayName="LeftOutlined";var T=l.forwardRef(S),I=n(228),P=n(140),D=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},N=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},A={xs:"479.98px",sm:"575.98px",md:"767.98px",lg:"991.98px",xl:"1199.98px",xxl:"1599.98px"},_=l.createContext({}),M=function(){var e=0;return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e+=1,"".concat(t).concat(e)}}();var R=l.forwardRef((function(e,t){var n=e.prefixCls,r=e.className,c=e.trigger,d=e.children,f=e.defaultCollapsed,h=void 0!==f&&f,g=e.theme,v=void 0===g?"dark":g,m=e.style,b=void 0===m?{}:m,y=e.collapsible,x=void 0!==y&&y,O=e.reverseArrow,w=void 0!==O&&O,C=e.width,k=void 0===C?200:C,E=e.collapsedWidth,S=void 0===E?80:E,R=e.zeroWidthTriggerStyle,F=e.breakpoint,B=e.onCollapse,L=e.onBreakpoint,G=N(e,["prefixCls","className","trigger","children","defaultCollapsed","theme","style","collapsible","reverseArrow","width","collapsedWidth","zeroWidthTriggerStyle","breakpoint","onCollapse","onBreakpoint"]),q=Object(l.useContext)(p).siderHook,z=Object(l.useState)("collapsed"in G?G.collapsed:h),H=Object(i.a)(z,2),U=H[0],V=H[1],Y=Object(l.useState)(!1),W=Object(i.a)(Y,2),K=W[0],X=W[1];Object(l.useEffect)((function(){"collapsed"in G&&V(G.collapsed)}),[G.collapsed]);var J=function(e,t){"collapsed"in G||V(e),null===B||void 0===B||B(e,t)},$=Object(l.useRef)();$.current=function(e){X(e.matches),null===L||void 0===L||L(e.matches),U!==e.matches&&J(e.matches,"responsive")},Object(l.useEffect)((function(){function e(e){return $.current(e)}var t;if("undefined"!==typeof window){var n=window.matchMedia;if(n&&F&&F in A){t=n("(max-width: ".concat(A[F],")"));try{t.addEventListener("change",e)}catch(r){t.addListener(e)}e(t)}}return function(){try{null===t||void 0===t||t.removeEventListener("change",e)}catch(r){null===t||void 0===t||t.removeListener(e)}}}),[F]),Object(l.useEffect)((function(){var e=M("ant-sider-");return q.addSider(e),function(){return q.removeSider(e)}}),[]);var Z=function(){J(!U,"clickTrigger")},Q=Object(l.useContext)(u.b).getPrefixCls,ee=l.useMemo((function(){return{siderCollapsed:U}}),[U]);return l.createElement(_.Provider,{value:ee},function(){var e,i=Q("layout-sider",n),u=Object(P.a)(G,["collapsed"]),p=U?S:k,f=D(p)?"".concat(p,"px"):String(p),h=0===parseFloat(String(S||0))?l.createElement("span",{onClick:Z,className:s()("".concat(i,"-zero-width-trigger"),"".concat(i,"-zero-width-trigger-").concat(w?"right":"left")),style:R},c||l.createElement(j,null)):null,g={expanded:w?l.createElement(I.a,null):l.createElement(T,null),collapsed:w?l.createElement(T,null):l.createElement(I.a,null)}[U?"collapsed":"expanded"],m=null!==c?h||l.createElement("div",{className:"".concat(i,"-trigger"),onClick:Z,style:{width:f}},c||g):null,y=Object(o.a)(Object(o.a)({},b),{flex:"0 0 ".concat(f),maxWidth:f,minWidth:f,width:f}),O=s()(i,"".concat(i,"-").concat(v),(e={},Object(a.a)(e,"".concat(i,"-collapsed"),!!U),Object(a.a)(e,"".concat(i,"-has-trigger"),x&&null!==c&&!h),Object(a.a)(e,"".concat(i,"-below"),!!K),Object(a.a)(e,"".concat(i,"-zero-width"),0===parseFloat(f)),e),r);return l.createElement("aside",Object(o.a)({className:O},u,{style:y,ref:t}),l.createElement("div",{className:"".concat(i,"-children")},d),x||K&&h?m:null)}())})),F=x;F.Header=m,F.Footer=b,F.Content=y,F.Sider=R;t.a=F},,function(e,t,n){"use strict";var r=n(121),a=n(2),i=n(20),o=n(131),c=n(132),s=n(133),l=n(134),u=n(0),d=n(194),p=n(116),f=n.n(p),h=n(138),g=n(195),v=n(175),m=["getContainer"],b=0,y=Date.now();function x(){var e=b;return b+=1,"rcNotification_".concat(y,"_").concat(e)}var O=function(e){Object(s.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(o.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={notices:[]},e.hookRefs=new Map,e.add=function(t,n){var r,a=null!==(r=t.key)&&void 0!==r?r:x(),o=Object(i.a)(Object(i.a)({},t),{},{key:a}),c=e.props.maxCount;e.setState((function(e){var t=e.notices,r=t.map((function(e){return e.notice.key})).indexOf(a),i=t.concat();return-1!==r?i.splice(r,1,{notice:o,holderCallback:n}):(c&&t.length>=c&&(o.key=i[0].notice.key,o.updateMark=x(),o.userPassKey=a,i.shift()),i.push({notice:o,holderCallback:n})),{notices:i}}))},e.remove=function(t){e.setState((function(e){return{notices:e.notices.filter((function(e){var n=e.notice,r=n.key,a=n.userPassKey;return(null!==a&&void 0!==a?a:r)!==t}))}}))},e.noticePropsMap={},e}return Object(c.a)(n,[{key:"getTransitionName",value:function(){var e=this.props,t=e.prefixCls,n=e.animation,r=this.props.transitionName;return!r&&n&&(r="".concat(t,"-").concat(n)),r}},{key:"render",value:function(){var e=this,t=this.state.notices,n=this.props,r=n.prefixCls,o=n.className,c=n.closeIcon,s=n.style,l=[];return t.forEach((function(n,a){var o=n.notice,s=n.holderCallback,u=a===t.length-1?o.updateMark:void 0,d=o.key,p=o.userPassKey,f=Object(i.a)(Object(i.a)(Object(i.a)({prefixCls:r,closeIcon:c},o),o.props),{},{key:d,noticeKey:p||d,updateMark:u,onClose:function(t){var n;e.remove(t),null===(n=o.onClose)||void 0===n||n.call(o)},onClick:o.onClick,children:o.content});l.push(d),e.noticePropsMap[d]={props:f,holderCallback:s}})),u.createElement("div",{className:f()(r,o),style:s},u.createElement(h.a,{keys:l,motionName:this.getTransitionName(),onVisibleChanged:function(t,n){var r=n.key;t||delete e.noticePropsMap[r]}},(function(t){var n=t.key,o=t.className,c=t.style,s=t.visible,l=e.noticePropsMap[n],d=l.props,p=l.holderCallback;return p?u.createElement("div",{key:n,className:f()(o,"".concat(r,"-hook-holder")),style:Object(i.a)({},c),ref:function(t){"undefined"!==typeof n&&(t?(e.hookRefs.set(n,t),p(t,d)):e.hookRefs.delete(n))}}):u.createElement(g.a,Object(a.a)({},d,{className:f()(o,null===d||void 0===d?void 0:d.className),style:Object(i.a)(Object(i.a)({},c),null===d||void 0===d?void 0:d.style),visible:s}))})))}}]),n}(u.Component);O.newInstance=void 0,O.defaultProps={prefixCls:"rc-notification",animation:"fade",style:{top:65,left:"50%"}},O.newInstance=function(e,t){var n=e||{},i=n.getContainer,o=Object(r.a)(n,m),c=document.createElement("div");i?i().appendChild(c):document.body.appendChild(c);var s=!1;Object(d.a)(u.createElement(O,Object(a.a)({},o,{ref:function(e){s||(s=!0,t({notice:function(t){e.add(t)},removeNotice:function(t){e.remove(t)},component:e,destroy:function(){Object(d.b)(c),c.parentNode&&c.parentNode.removeChild(c)},useNotification:function(){return Object(v.a)(e)}}))}})),c)};var w=O;t.a=w},function(e,t,n){"use strict";var r=n(20),a=n(0),i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M699 353h-46.9c-10.2 0-19.9 4.9-25.9 13.3L469 584.3l-71.2-98.8c-6-8.3-15.6-13.3-25.9-13.3H325c-6.5 0-10.3 7.4-6.5 12.7l124.6 172.8a31.8 31.8 0 0051.7 0l210.6-292c3.9-5.3.1-12.7-6.4-12.7z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"check-circle",theme:"outlined"},o=n(122),c=function(e,t){return a.createElement(o.a,Object(r.a)(Object(r.a)({},e),{},{ref:t,icon:i}))};c.displayName="CheckCircleOutlined";t.a=a.forwardRef(c)},function(e,t,n){"use strict";var r=n(20),a=n(0),i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M464 336a48 48 0 1096 0 48 48 0 10-96 0zm72 112h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V456c0-4.4-3.6-8-8-8z"}}]},name:"info-circle",theme:"outlined"},o=n(122),c=function(e,t){return a.createElement(o.a,Object(r.a)(Object(r.a)({},e),{},{ref:t,icon:i}))};c.displayName="InfoCircleOutlined";t.a=a.forwardRef(c)},function(e,t,n){"use strict";var r=n(20),a=n(0),i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M685.4 354.8c0-4.4-3.6-8-8-8l-66 .3L512 465.6l-99.3-118.4-66.1-.3c-4.4 0-8 3.5-8 8 0 1.9.7 3.7 1.9 5.2l130.1 155L340.5 670a8.32 8.32 0 00-1.9 5.2c0 4.4 3.6 8 8 8l66.1-.3L512 564.4l99.3 118.4 66 .3c4.4 0 8-3.5 8-8 0-1.9-.7-3.7-1.9-5.2L553.5 515l130.1-155c1.2-1.4 1.8-3.3 1.8-5.2z"}},{tag:"path",attrs:{d:"M512 65C264.6 65 64 265.6 64 513s200.6 448 448 448 448-200.6 448-448S759.4 65 512 65zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"close-circle",theme:"outlined"},o=n(122),c=function(e,t){return a.createElement(o.a,Object(r.a)(Object(r.a)({},e),{},{ref:t,icon:i}))};c.displayName="CloseCircleOutlined";t.a=a.forwardRef(c)},function(e,t,n){"use strict";var r=n(20),a=n(0),i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M464 688a48 48 0 1096 0 48 48 0 10-96 0zm24-112h48c4.4 0 8-3.6 8-8V296c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8z"}}]},name:"exclamation-circle",theme:"outlined"},o=n(122),c=function(e,t){return a.createElement(o.a,Object(r.a)(Object(r.a)({},e),{},{ref:t,icon:i}))};c.displayName="ExclamationCircleOutlined";t.a=a.forwardRef(c)},,,,,,,function(e,t,n){"use strict";var r=n(234),a=r.default,i=r.DraggableCore;e.exports=a,e.exports.default=a,e.exports.DraggableCore=i},function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return o}));var r=n(1),a=function(e,t,n){return{type:r.a.GENERATE_STORY,facts:e,relations:t,coverage:n}},i=function(e,t){return{type:r.a.UPDATE_PROGRESS,totalLength:e,currentLength:t}},o=function(e,t,n){return{type:r.a.UPDATE_FILEURL_AND_DATA,schema:e,data:t,file_url:n}}},,,,function(e,t,n){},,,,,function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"DraggableCore",{enumerable:!0,get:function(){return d.default}}),t.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var a={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var c=i?Object.getOwnPropertyDescriptor(e,o):null;c&&(c.get||c.set)?Object.defineProperty(a,o,c):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(n(0)),i=h(n(8)),o=h(n(18)),c=h(n(235)),s=n(159),l=n(179),u=n(153),d=h(n(237)),p=h(n(180)),f=["axis","bounds","children","defaultPosition","defaultClassName","defaultClassNameDragging","defaultClassNameDragged","position","positionOffset","scale"];function h(e){return e&&e.__esModule?e:{default:e}}function g(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function m(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){T(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function x(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,i=[],o=!0,c=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);o=!0);}catch(s){c=!0,a=s}finally{try{o||null==n.return||n.return()}finally{if(c)throw a}}return i}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return O(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function C(e,t){return(C=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function k(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=S(e);if(t){var a=S(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return j(this,n)}}function j(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return E(e)}function E(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var I=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&C(e,t)}(u,e);var t,n,r,i=k(u);function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),T(E(t=i.call(this,e)),"onDragStart",(function(e,n){if((0,p.default)("Draggable: onDragStart: %j",n),!1===t.props.onStart(e,(0,l.createDraggableData)(E(t),n)))return!1;t.setState({dragging:!0,dragged:!0})})),T(E(t),"onDrag",(function(e,n){if(!t.state.dragging)return!1;(0,p.default)("Draggable: onDrag: %j",n);var r=(0,l.createDraggableData)(E(t),n),a={x:r.x,y:r.y};if(t.props.bounds){var i=a.x,o=a.y;a.x+=t.state.slackX,a.y+=t.state.slackY;var c=x((0,l.getBoundPosition)(E(t),a.x,a.y),2),s=c[0],u=c[1];a.x=s,a.y=u,a.slackX=t.state.slackX+(i-a.x),a.slackY=t.state.slackY+(o-a.y),r.x=a.x,r.y=a.y,r.deltaX=a.x-t.state.x,r.deltaY=a.y-t.state.y}if(!1===t.props.onDrag(e,r))return!1;t.setState(a)})),T(E(t),"onDragStop",(function(e,n){if(!t.state.dragging)return!1;if(!1===t.props.onStop(e,(0,l.createDraggableData)(E(t),n)))return!1;(0,p.default)("Draggable: onDragStop: %j",n);var r={dragging:!1,slackX:0,slackY:0};if(Boolean(t.props.position)){var a=t.props.position,i=a.x,o=a.y;r.x=i,r.y=o}t.setState(r)})),t.state={dragging:!1,dragged:!1,x:e.position?e.position.x:e.defaultPosition.x,y:e.position?e.position.y:e.defaultPosition.y,prevPropsPosition:y({},e.position),slackX:0,slackY:0,isElementSVG:!1},!e.position||e.onDrag||e.onStop||console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element."),t}return t=u,r=[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.position,r=t.prevPropsPosition;return!n||r&&n.x===r.x&&n.y===r.y?null:((0,p.default)("Draggable: getDerivedStateFromProps %j",{position:n,prevPropsPosition:r}),{x:n.x,y:n.y,prevPropsPosition:y({},n)})}}],(n=[{key:"componentDidMount",value:function(){"undefined"!==typeof window.SVGElement&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}},{key:"componentWillUnmount",value:function(){this.setState({dragging:!1})}},{key:"findDOMNode",value:function(){var e,t,n;return null!==(e=null===(t=this.props)||void 0===t||null===(n=t.nodeRef)||void 0===n?void 0:n.current)&&void 0!==e?e:o.default.findDOMNode(this)}},{key:"render",value:function(){var e,t=this.props,n=(t.axis,t.bounds,t.children),r=t.defaultPosition,i=t.defaultClassName,o=t.defaultClassNameDragging,u=t.defaultClassNameDragged,p=t.position,h=t.positionOffset,g=(t.scale,m(t,f)),b={},x=null,O=!Boolean(p)||this.state.dragging,w=p||r,C={x:(0,l.canDragX)(this)&&O?this.state.x:w.x,y:(0,l.canDragY)(this)&&O?this.state.y:w.y};this.state.isElementSVG?x=(0,s.createSVGTransform)(C,h):b=(0,s.createCSSTransform)(C,h);var k=(0,c.default)(n.props.className||"",i,(T(e={},o,this.state.dragging),T(e,u,this.state.dragged),e));return a.createElement(d.default,v({},g,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),a.cloneElement(a.Children.only(n),{className:k,style:y(y({},n.props.style),b),transform:x}))}}])&&w(t.prototype,n),r&&w(t,r),Object.defineProperty(t,"prototype",{writable:!1}),u}(a.Component);t.default=I,T(I,"displayName","Draggable"),T(I,"propTypes",y(y({},d.default.propTypes),{},{axis:i.default.oneOf(["both","x","y","none"]),bounds:i.default.oneOfType([i.default.shape({left:i.default.number,right:i.default.number,top:i.default.number,bottom:i.default.number}),i.default.string,i.default.oneOf([!1])]),defaultClassName:i.default.string,defaultClassNameDragging:i.default.string,defaultClassNameDragged:i.default.string,defaultPosition:i.default.shape({x:i.default.number,y:i.default.number}),positionOffset:i.default.shape({x:i.default.oneOfType([i.default.number,i.default.string]),y:i.default.oneOfType([i.default.number,i.default.string])}),position:i.default.shape({x:i.default.number,y:i.default.number}),className:u.dontSetMe,style:u.dontSetMe,transform:u.dontSetMe})),T(I,"defaultProps",y(y({},d.default.defaultProps),{},{axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1}))},function(e,t,n){"use strict";function r(e){var t,n,a="";if("string"==typeof e||"number"==typeof e)a+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=r(e[t]))&&(a&&(a+=" "),a+=n);else for(t in e)e[t]&&(a&&(a+=" "),a+=t);return a}function a(){for(var e,t,n=0,a="";n<arguments.length;)(e=arguments[n++])&&(t=r(e))&&(a&&(a+=" "),a+=t);return a}n.r(t),n.d(t,"clsx",(function(){return a})),t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.browserPrefixToKey=i,t.browserPrefixToStyle=function(e,t){return t?"-".concat(t.toLowerCase(),"-").concat(e):e},t.default=void 0,t.getPrefix=a;var r=["Moz","Webkit","O","ms"];function a(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"transform";if("undefined"===typeof window)return"";var a=null===(e=window.document)||void 0===e||null===(t=e.documentElement)||void 0===t?void 0:t.style;if(!a)return"";if(n in a)return"";for(var o=0;o<r.length;o++)if(i(n,r[o])in a)return r[o];return""}function i(e,t){return t?"".concat(t).concat(function(e){for(var t="",n=!0,r=0;r<e.length;r++)n?(t+=e[r].toUpperCase(),n=!1):"-"===e[r]?n=!0:t+=e[r];return t}(e)):e}var o=a();t.default=o},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var a={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var c=i?Object.getOwnPropertyDescriptor(e,o):null;c&&(c.get||c.set)?Object.defineProperty(a,o,c):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(n(0)),i=d(n(8)),o=d(n(18)),c=n(159),s=n(179),l=n(153),u=d(n(180));function d(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,i=[],o=!0,c=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);o=!0);}catch(s){c=!0,a=s}finally{try{o||null==n.return||n.return()}finally{if(c)throw a}}return i}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=O(e);if(t){var a=O(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return y(this,n)}}function y(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return x(e)}function x(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var C={start:"touchstart",move:"touchmove",stop:"touchend"},k={start:"mousedown",move:"mousemove",stop:"mouseup"},j=k,E=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&m(e,t)}(l,e);var t,n,r,i=b(l);function l(){var e;g(this,l);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return w(x(e=i.call.apply(i,[this].concat(n))),"state",{dragging:!1,lastX:NaN,lastY:NaN,touchIdentifier:null}),w(x(e),"mounted",!1),w(x(e),"handleDragStart",(function(t){if(e.props.onMouseDown(t),!e.props.allowAnyClick&&"number"===typeof t.button&&0!==t.button)return!1;var n=e.findDOMNode();if(!n||!n.ownerDocument||!n.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");var r=n.ownerDocument;if(!(e.props.disabled||!(t.target instanceof r.defaultView.Node)||e.props.handle&&!(0,c.matchesSelectorAndParentsTo)(t.target,e.props.handle,n)||e.props.cancel&&(0,c.matchesSelectorAndParentsTo)(t.target,e.props.cancel,n))){"touchstart"===t.type&&t.preventDefault();var a=(0,c.getTouchIdentifier)(t);e.setState({touchIdentifier:a});var i=(0,s.getControlPosition)(t,a,x(e));if(null!=i){var o=i.x,l=i.y,d=(0,s.createCoreData)(x(e),o,l);(0,u.default)("DraggableCore: handleDragStart: %j",d),(0,u.default)("calling",e.props.onStart),!1!==e.props.onStart(t,d)&&!1!==e.mounted&&(e.props.enableUserSelectHack&&(0,c.addUserSelectStyles)(r),e.setState({dragging:!0,lastX:o,lastY:l}),(0,c.addEvent)(r,j.move,e.handleDrag),(0,c.addEvent)(r,j.stop,e.handleDragStop))}}})),w(x(e),"handleDrag",(function(t){var n=(0,s.getControlPosition)(t,e.state.touchIdentifier,x(e));if(null!=n){var r=n.x,a=n.y;if(Array.isArray(e.props.grid)){var i=r-e.state.lastX,o=a-e.state.lastY,c=f((0,s.snapToGrid)(e.props.grid,i,o),2);if(i=c[0],o=c[1],!i&&!o)return;r=e.state.lastX+i,a=e.state.lastY+o}var l=(0,s.createCoreData)(x(e),r,a);if((0,u.default)("DraggableCore: handleDrag: %j",l),!1!==e.props.onDrag(t,l)&&!1!==e.mounted)e.setState({lastX:r,lastY:a});else try{e.handleDragStop(new MouseEvent("mouseup"))}catch(p){var d=document.createEvent("MouseEvents");d.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),e.handleDragStop(d)}}})),w(x(e),"handleDragStop",(function(t){if(e.state.dragging){var n=(0,s.getControlPosition)(t,e.state.touchIdentifier,x(e));if(null!=n){var r=n.x,a=n.y;if(Array.isArray(e.props.grid)){var i=r-e.state.lastX||0,o=a-e.state.lastY||0,l=f((0,s.snapToGrid)(e.props.grid,i,o),2);i=l[0],o=l[1],r=e.state.lastX+i,a=e.state.lastY+o}var d=(0,s.createCoreData)(x(e),r,a);if(!1===e.props.onStop(t,d)||!1===e.mounted)return!1;var p=e.findDOMNode();p&&e.props.enableUserSelectHack&&(0,c.removeUserSelectStyles)(p.ownerDocument),(0,u.default)("DraggableCore: handleDragStop: %j",d),e.setState({dragging:!1,lastX:NaN,lastY:NaN}),p&&((0,u.default)("DraggableCore: Removing handlers"),(0,c.removeEvent)(p.ownerDocument,j.move,e.handleDrag),(0,c.removeEvent)(p.ownerDocument,j.stop,e.handleDragStop))}}})),w(x(e),"onMouseDown",(function(t){return j=k,e.handleDragStart(t)})),w(x(e),"onMouseUp",(function(t){return j=k,e.handleDragStop(t)})),w(x(e),"onTouchStart",(function(t){return j=C,e.handleDragStart(t)})),w(x(e),"onTouchEnd",(function(t){return j=C,e.handleDragStop(t)})),e}return t=l,(n=[{key:"componentDidMount",value:function(){this.mounted=!0;var e=this.findDOMNode();e&&(0,c.addEvent)(e,C.start,this.onTouchStart,{passive:!1})}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var e=this.findDOMNode();if(e){var t=e.ownerDocument;(0,c.removeEvent)(t,k.move,this.handleDrag),(0,c.removeEvent)(t,C.move,this.handleDrag),(0,c.removeEvent)(t,k.stop,this.handleDragStop),(0,c.removeEvent)(t,C.stop,this.handleDragStop),(0,c.removeEvent)(e,C.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,c.removeUserSelectStyles)(t)}}},{key:"findDOMNode",value:function(){var e,t,n;return null!==(e=this.props)&&void 0!==e&&e.nodeRef?null===(t=this.props)||void 0===t||null===(n=t.nodeRef)||void 0===n?void 0:n.current:o.default.findDOMNode(this)}},{key:"render",value:function(){return a.cloneElement(a.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}}])&&v(t.prototype,n),r&&v(t,r),Object.defineProperty(t,"prototype",{writable:!1}),l}(a.Component);t.default=E,w(E,"displayName","DraggableCore"),w(E,"propTypes",{allowAnyClick:i.default.bool,disabled:i.default.bool,enableUserSelectHack:i.default.bool,offsetParent:function(e,t){if(e[t]&&1!==e[t].nodeType)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:i.default.arrayOf(i.default.number),handle:i.default.string,cancel:i.default.string,nodeRef:i.default.object,onStart:i.default.func,onDrag:i.default.func,onStop:i.default.func,onMouseDown:i.default.func,scale:i.default.number,className:l.dontSetMe,style:l.dontSetMe,transform:l.dontSetMe}),w(E,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1})},,,,,,,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={},a=s(n(275));Object.keys(a).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in t&&t[e]===a[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}}))}));var i=s(n(278));Object.keys(i).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in t&&t[e]===i[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}}))}));var o=s(n(205));Object.keys(o).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in t&&t[e]===o[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}}))}));var c=s(n(206));function s(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}Object.keys(c).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in t&&t[e]===c[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return c[e]}}))}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.asap=function(e){i.enqueueTask(o.create(e))};var r=n(205),a=n(206),i=new r.AsapQueue,o=new a.TaskFactory(i.registerPendingError)},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.makeRequestCallFromTimer=a,t.makeRequestCallFromMutationObserver=i,t.makeRequestCall=void 0;var n="undefined"!==typeof e?e:self,r=n.MutationObserver||n.WebKitMutationObserver;function a(e){return function(){var t=setTimeout(r,0),n=setInterval(r,50);function r(){clearTimeout(t),clearInterval(n),e()}}}function i(e){var t=1,n=new r(e),a=document.createTextNode("");return n.observe(a,{characterData:!0}),function(){t=-t,a.data=t}}var o="function"===typeof r?i:a;t.makeRequestCall=o}).call(this,n(11))},function(e,t,n){"use strict";var r=n(135),a=n(136);Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(t,n){r(this,e),this.onError=t,this.release=n,this.task=null}return a(e,[{key:"call",value:function(){try{this.task&&this.task()}catch(e){this.onError(e)}finally{this.task=null,this.release(this)}}}]),e}();t.RawTask=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getEmptyImage",{enumerable:!0,get:function(){return i.getEmptyImage}}),t.HTML5Backend=t.NativeTypes=void 0;var r=n(280),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(178)),i=n(291);t.NativeTypes=a;t.HTML5Backend=function(e,t,n){return new r.HTML5BackendImpl(e,t,n)}},function(e,t,n){"use strict";var r=n(135),a=n(136);Object.defineProperty(t,"__esModule",{value:!0});var i=n(281),o=n(282),c=n(285),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(178)),l=n(290);function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){u(e,t,n[t])}))}return e}var p=function(){function e(t,n,a){var s=this;r(this,e),this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.sourceNodes=new Map,this.sourceNodeOptions=new Map,this.dragStartSourceIds=null,this.dropTargetIds=[],this.dragEnterTargetIds=[],this.currentNativeSource=null,this.currentNativeHandle=null,this.currentDragSourceNode=null,this.altKeyPressed=!1,this.mouseMoveTimeoutTimer=null,this.asyncEndDragFrameId=null,this.dragOverTargetIds=null,this.lastClientOffset=null,this.hoverRafId=null,this.getSourceClientOffset=function(e){var t=s.sourceNodes.get(e);return t&&o.getNodeClientOffset(t)||null},this.endDragNativeItem=function(){s.isDraggingNativeItem()&&(s.actions.endDrag(),s.currentNativeHandle&&s.registry.removeSource(s.currentNativeHandle),s.currentNativeHandle=null,s.currentNativeSource=null)},this.isNodeInDocument=function(e){return Boolean(e&&s.document&&s.document.body&&s.document.body.contains(e))},this.endDragIfSourceWasRemovedFromDOM=function(){var e=s.currentDragSourceNode;null==e||s.isNodeInDocument(e)||(s.clearCurrentDragSourceNode()&&s.monitor.isDragging()&&s.actions.endDrag(),s.cancelHover())},this.scheduleHover=function(e){null===s.hoverRafId&&"undefined"!==typeof requestAnimationFrame&&(s.hoverRafId=requestAnimationFrame((function(){s.monitor.isDragging()&&s.actions.hover(e||[],{clientOffset:s.lastClientOffset}),s.hoverRafId=null})))},this.cancelHover=function(){null!==s.hoverRafId&&"undefined"!==typeof cancelAnimationFrame&&(cancelAnimationFrame(s.hoverRafId),s.hoverRafId=null)},this.handleTopDragStartCapture=function(){s.clearCurrentDragSourceNode(),s.dragStartSourceIds=[]},this.handleTopDragStart=function(e){if(!e.defaultPrevented){var t=s.dragStartSourceIds;s.dragStartSourceIds=null;var n=o.getEventClientOffset(e);s.monitor.isDragging()&&(s.actions.endDrag(),s.cancelHover()),s.actions.beginDrag(t||[],{publishSource:!1,getSourceClientOffset:s.getSourceClientOffset,clientOffset:n});var r=e.dataTransfer,a=c.matchNativeItemType(r);if(s.monitor.isDragging()){if(r&&"function"===typeof r.setDragImage){var i=s.monitor.getSourceId(),l=s.sourceNodes.get(i),u=s.sourcePreviewNodes.get(i)||l;if(u){var d=s.getCurrentSourcePreviewNodeOptions(),p={anchorX:d.anchorX,anchorY:d.anchorY},f={offsetX:d.offsetX,offsetY:d.offsetY},h=o.getDragPreviewOffset(l,u,n,p,f);r.setDragImage(u,h.x,h.y)}}try{null===r||void 0===r||r.setData("application/json",{})}catch(g){}s.setCurrentDragSourceNode(e.target),s.getCurrentSourcePreviewNodeOptions().captureDraggingState?s.actions.publishDragSource():setTimeout((function(){return s.actions.publishDragSource()}),0)}else if(a)s.beginDragNativeItem(a);else{if(r&&!r.types&&(e.target&&!e.target.hasAttribute||!e.target.hasAttribute("draggable")))return;e.preventDefault()}}},this.handleTopDragEndCapture=function(){s.clearCurrentDragSourceNode()&&s.monitor.isDragging()&&s.actions.endDrag(),s.cancelHover()},this.handleTopDragEnterCapture=function(e){var t;(s.dragEnterTargetIds=[],s.isDraggingNativeItem())&&(null===(t=s.currentNativeSource)||void 0===t||t.loadDataTransfer(e.dataTransfer));if(s.enterLeaveCounter.enter(e.target)&&!s.monitor.isDragging()){var n=e.dataTransfer,r=c.matchNativeItemType(n);r&&s.beginDragNativeItem(r,n)}},this.handleTopDragEnter=function(e){var t=s.dragEnterTargetIds;(s.dragEnterTargetIds=[],s.monitor.isDragging())&&(s.altKeyPressed=e.altKey,t.length>0&&s.actions.hover(t,{clientOffset:o.getEventClientOffset(e)}),t.some((function(e){return s.monitor.canDropOnTarget(e)}))&&(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect=s.getCurrentDropEffect())))},this.handleTopDragOverCapture=function(e){var t;(s.dragOverTargetIds=[],s.isDraggingNativeItem())&&(null===(t=s.currentNativeSource)||void 0===t||t.loadDataTransfer(e.dataTransfer))},this.handleTopDragOver=function(e){var t=s.dragOverTargetIds;if(s.dragOverTargetIds=[],!s.monitor.isDragging())return e.preventDefault(),void(e.dataTransfer&&(e.dataTransfer.dropEffect="none"));s.altKeyPressed=e.altKey,s.lastClientOffset=o.getEventClientOffset(e),s.scheduleHover(t),(t||[]).some((function(e){return s.monitor.canDropOnTarget(e)}))?(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect=s.getCurrentDropEffect())):s.isDraggingNativeItem()?e.preventDefault():(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect="none"))},this.handleTopDragLeaveCapture=function(e){s.isDraggingNativeItem()&&e.preventDefault(),s.enterLeaveCounter.leave(e.target)&&(s.isDraggingNativeItem()&&setTimeout((function(){return s.endDragNativeItem()}),0),s.cancelHover())},this.handleTopDropCapture=function(e){var t;(s.dropTargetIds=[],s.isDraggingNativeItem())?(e.preventDefault(),null===(t=s.currentNativeSource)||void 0===t||t.loadDataTransfer(e.dataTransfer)):c.matchNativeItemType(e.dataTransfer)&&e.preventDefault();s.enterLeaveCounter.reset()},this.handleTopDrop=function(e){var t=s.dropTargetIds;s.dropTargetIds=[],s.actions.hover(t,{clientOffset:o.getEventClientOffset(e)}),s.actions.drop({dropEffect:s.getCurrentDropEffect()}),s.isDraggingNativeItem()?s.endDragNativeItem():s.monitor.isDragging()&&s.actions.endDrag(),s.cancelHover()},this.handleSelectStart=function(e){var t=e.target;"function"===typeof t.dragDrop&&("INPUT"===t.tagName||"SELECT"===t.tagName||"TEXTAREA"===t.tagName||t.isContentEditable||(e.preventDefault(),t.dragDrop()))},this.options=new l.OptionsReader(n,a),this.actions=t.getActions(),this.monitor=t.getMonitor(),this.registry=t.getRegistry(),this.enterLeaveCounter=new i.EnterLeaveCounter(this.isNodeInDocument)}return a(e,[{key:"profile",value:function(){var e,t;return{sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,sourceNodeOptions:this.sourceNodeOptions.size,sourceNodes:this.sourceNodes.size,dragStartSourceIds:(null===(e=this.dragStartSourceIds)||void 0===e?void 0:e.length)||0,dropTargetIds:this.dropTargetIds.length,dragEnterTargetIds:this.dragEnterTargetIds.length,dragOverTargetIds:(null===(t=this.dragOverTargetIds)||void 0===t?void 0:t.length)||0}}},{key:"window",get:function(){return this.options.window}},{key:"document",get:function(){return this.options.document}},{key:"rootElement",get:function(){return this.options.rootElement}},{key:"setup",value:function(){var e=this.rootElement;if(void 0!==e){if(e.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");e.__isReactDndBackendSetUp=!0,this.addEventListeners(e)}}},{key:"teardown",value:function(){var e,t=this.rootElement;void 0!==t&&(t.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.rootElement),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId&&(null===(e=this.window)||void 0===e||e.cancelAnimationFrame(this.asyncEndDragFrameId)))}},{key:"connectDragPreview",value:function(e,t,n){var r=this;return this.sourcePreviewNodeOptions.set(e,n),this.sourcePreviewNodes.set(e,t),function(){r.sourcePreviewNodes.delete(e),r.sourcePreviewNodeOptions.delete(e)}}},{key:"connectDragSource",value:function(e,t,n){var r=this;this.sourceNodes.set(e,t),this.sourceNodeOptions.set(e,n);var a=function(t){return r.handleDragStart(t,e)},i=function(e){return r.handleSelectStart(e)};return t.setAttribute("draggable","true"),t.addEventListener("dragstart",a),t.addEventListener("selectstart",i),function(){r.sourceNodes.delete(e),r.sourceNodeOptions.delete(e),t.removeEventListener("dragstart",a),t.removeEventListener("selectstart",i),t.setAttribute("draggable","false")}}},{key:"connectDropTarget",value:function(e,t){var n=this,r=function(t){return n.handleDragEnter(t,e)},a=function(t){return n.handleDragOver(t,e)},i=function(t){return n.handleDrop(t,e)};return t.addEventListener("dragenter",r),t.addEventListener("dragover",a),t.addEventListener("drop",i),function(){t.removeEventListener("dragenter",r),t.removeEventListener("dragover",a),t.removeEventListener("drop",i)}}},{key:"addEventListeners",value:function(e){e.addEventListener&&(e.addEventListener("dragstart",this.handleTopDragStart),e.addEventListener("dragstart",this.handleTopDragStartCapture,!0),e.addEventListener("dragend",this.handleTopDragEndCapture,!0),e.addEventListener("dragenter",this.handleTopDragEnter),e.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.addEventListener("dragover",this.handleTopDragOver),e.addEventListener("dragover",this.handleTopDragOverCapture,!0),e.addEventListener("drop",this.handleTopDrop),e.addEventListener("drop",this.handleTopDropCapture,!0))}},{key:"removeEventListeners",value:function(e){e.removeEventListener&&(e.removeEventListener("dragstart",this.handleTopDragStart),e.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),e.removeEventListener("dragend",this.handleTopDragEndCapture,!0),e.removeEventListener("dragenter",this.handleTopDragEnter),e.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.removeEventListener("dragover",this.handleTopDragOver),e.removeEventListener("dragover",this.handleTopDragOverCapture,!0),e.removeEventListener("drop",this.handleTopDrop),e.removeEventListener("drop",this.handleTopDropCapture,!0))}},{key:"getCurrentSourceNodeOptions",value:function(){var e=this.monitor.getSourceId(),t=this.sourceNodeOptions.get(e);return d({dropEffect:this.altKeyPressed?"copy":"move"},t||{})}},{key:"getCurrentDropEffect",value:function(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}},{key:"getCurrentSourcePreviewNodeOptions",value:function(){var e=this.monitor.getSourceId();return d({anchorX:.5,anchorY:.5,captureDraggingState:!1},this.sourcePreviewNodeOptions.get(e)||{})}},{key:"isDraggingNativeItem",value:function(){var e=this.monitor.getItemType();return Object.keys(s).some((function(t){return s[t]===e}))}},{key:"beginDragNativeItem",value:function(e,t){this.clearCurrentDragSourceNode(),this.currentNativeSource=c.createNativeDragSource(e,t),this.currentNativeHandle=this.registry.addSource(e,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}},{key:"setCurrentDragSourceNode",value:function(e){var t=this;this.clearCurrentDragSourceNode(),this.currentDragSourceNode=e;this.mouseMoveTimeoutTimer=setTimeout((function(){var e;return null===(e=t.rootElement)||void 0===e?void 0:e.addEventListener("mousemove",t.endDragIfSourceWasRemovedFromDOM,!0)}),1e3)}},{key:"clearCurrentDragSourceNode",value:function(){if(this.currentDragSourceNode){var e;if(this.currentDragSourceNode=null,this.rootElement)null===(e=this.window)||void 0===e||e.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.rootElement.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0);return this.mouseMoveTimeoutTimer=null,!0}return!1}},{key:"handleDragStart",value:function(e,t){e.defaultPrevented||(this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(t))}},{key:"handleDragEnter",value:function(e,t){this.dragEnterTargetIds.unshift(t)}},{key:"handleDragOver",value:function(e,t){null===this.dragOverTargetIds&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(t)}},{key:"handleDrop",value:function(e,t){this.dropTargetIds.unshift(t)}}]),e}();t.HTML5BackendImpl=p},function(e,t,n){"use strict";var r=n(135),a=n(136);Object.defineProperty(t,"__esModule",{value:!0});var i=n(207),o=function(){function e(t){r(this,e),this.entered=[],this.isNodeInDocument=t}return a(e,[{key:"enter",value:function(e){var t=this,n=this.entered.length;return this.entered=i.union(this.entered.filter((function(n){return t.isNodeInDocument(n)&&(!n.contains||n.contains(e))})),[e]),0===n&&this.entered.length>0}},{key:"leave",value:function(e){var t=this.entered.length;return this.entered=i.without(this.entered.filter(this.isNodeInDocument),e),t>0&&0===this.entered.length}},{key:"reset",value:function(){this.entered=[]}}]),e}();t.EnterLeaveCounter=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getNodeClientOffset=i,t.getEventClientOffset=function(e){return{x:e.clientX,y:e.clientY}},t.getDragPreviewOffset=function(e,t,n,o,c){var s=function(e){var t;return"IMG"===e.nodeName&&(r.isFirefox()||!(null===(t=document.documentElement)||void 0===t?void 0:t.contains(e)))}(t),l=i(s?e:t),u={x:n.x-l.x,y:n.y-l.y},d=e.offsetWidth,p=e.offsetHeight,f=o.anchorX,h=o.anchorY,g=function(e,t,n,a){var i=e?t.width:n,o=e?t.height:a;r.isSafari()&&e&&(o/=window.devicePixelRatio,i/=window.devicePixelRatio);return{dragPreviewWidth:i,dragPreviewHeight:o}}(s,t,d,p),v=g.dragPreviewWidth,m=g.dragPreviewHeight,b=c.offsetX,y=c.offsetY,x=0===y||y;return{x:0===b||b?b:new a.MonotonicInterpolant([0,.5,1],[u.x,u.x/d*v,u.x+v-d]).interpolate(f),y:x?y:function(){var e=new a.MonotonicInterpolant([0,.5,1],[u.y,u.y/p*m,u.y+m-p]).interpolate(h);return r.isSafari()&&s&&(e+=(window.devicePixelRatio-1)*m),e}()}};var r=n(283),a=n(284);function i(e){var t=1===e.nodeType?e:e.parentElement;if(!t)return null;var n=t.getBoundingClientRect(),r=n.top;return{x:n.left,y:r}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isSafari=t.isFirefox=void 0;var r=n(207),a=r.memoize((function(){return/firefox/i.test(navigator.userAgent)}));t.isFirefox=a;var i=r.memoize((function(){return Boolean(window.safari)}));t.isSafari=i},function(e,t,n){"use strict";var r=n(135),a=n(136);Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(t,n){r(this,e);for(var a=t.length,i=[],o=0;o<a;o++)i.push(o);i.sort((function(e,n){return t[e]<t[n]?-1:1}));for(var c,s,l=[],u=[],d=[],p=0;p<a-1;p++)c=t[p+1]-t[p],s=n[p+1]-n[p],u.push(c),l.push(s),d.push(s/c);for(var f=[d[0]],h=0;h<u.length-1;h++){var g=d[h],v=d[h+1];if(g*v<=0)f.push(0);else{c=u[h];var m=u[h+1],b=c+m;f.push(3*b/((b+m)/g+(b+c)/v))}}f.push(d[d.length-1]);for(var y,x=[],O=[],w=0;w<f.length-1;w++){y=d[w];var C=f[w],k=1/u[w],j=C+f[w+1]-y-y;x.push((y-C-j)*k),O.push(j*k*k)}this.xs=t,this.ys=n,this.c1s=f,this.c2s=x,this.c3s=O}return a(e,[{key:"interpolate",value:function(e){var t=this.xs,n=this.ys,r=this.c1s,a=this.c2s,i=this.c3s,o=t.length-1;if(e===t[o])return n[o];for(var c,s=0,l=i.length-1;s<=l;){var u=t[c=Math.floor(.5*(s+l))];if(u<e)s=c+1;else{if(!(u>e))return n[c];l=c-1}}var d=e-t[o=Math.max(0,l)],p=d*d;return n[o]+r[o]*d+a[o]*p+i[o]*d*p}}]),e}();t.MonotonicInterpolant=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createNativeDragSource=function(e,t){var n=r.nativeTypesConfig[e];if(!n)throw new Error("native type ".concat(e," has no configuration"));var i=new a.NativeDragSource(n);return i.loadDataTransfer(t),i},t.matchNativeItemType=function(e){if(!e)return null;var t=Array.prototype.slice.call(e.types||[]);return Object.keys(r.nativeTypesConfig).filter((function(e){var n=r.nativeTypesConfig[e];return!!(null===n||void 0===n?void 0:n.matchesTypes)&&n.matchesTypes.some((function(e){return t.indexOf(e)>-1}))}))[0]||null};var r=n(286),a=n(289)},function(e,t,n){"use strict";var r,a=n(287);Object.defineProperty(t,"__esModule",{value:!0}),t.nativeTypesConfig=void 0;var i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(178)),o=n(288);var c=(a(r={},i.FILE,{exposeProperties:{files:function(e){return Array.prototype.slice.call(e.files)},items:function(e){return e.items},dataTransfer:function(e){return e}},matchesTypes:["Files"]}),a(r,i.HTML,{exposeProperties:{html:function(e,t){return o.getDataFromDataTransfer(e,t,"")},dataTransfer:function(e){return e}},matchesTypes:["Html","text/html"]}),a(r,i.URL,{exposeProperties:{urls:function(e,t){return o.getDataFromDataTransfer(e,t,"").split("\n")},dataTransfer:function(e){return e}},matchesTypes:["Url","text/uri-list"]}),a(r,i.TEXT,{exposeProperties:{text:function(e,t){return o.getDataFromDataTransfer(e,t,"")},dataTransfer:function(e){return e}},matchesTypes:["Text","text/plain"]}),r);t.nativeTypesConfig=c},function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDataFromDataTransfer=function(e,t,n){var r=t.reduce((function(t,n){return t||e.getData(n)}),"");return null!=r?r:n}},function(e,t,n){"use strict";var r=n(135),a=n(136);Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(t){r(this,e),this.config=t,this.item={},this.initializeExposedProperties()}return a(e,[{key:"initializeExposedProperties",value:function(){var e=this;Object.keys(this.config.exposeProperties).forEach((function(t){Object.defineProperty(e.item,t,{configurable:!0,enumerable:!0,get:function(){return console.warn("Browser doesn't allow reading \"".concat(t,'" until the drop event.')),null}})}))}},{key:"loadDataTransfer",value:function(e){var t=this;if(e){var n={};Object.keys(this.config.exposeProperties).forEach((function(r){var a=t.config.exposeProperties[r];null!=a&&(n[r]={value:a(e,t.config.matchesTypes),configurable:!0,enumerable:!0})})),Object.defineProperties(this.item,n)}}},{key:"canDrag",value:function(){return!0}},{key:"beginDrag",value:function(){return this.item}},{key:"isDragging",value:function(e,t){return t===e.getSourceId()}},{key:"endDrag",value:function(){}}]),e}();t.NativeDragSource=i},function(e,t,n){"use strict";var r=n(135),a=n(136);Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(t,n){r(this,e),this.ownerDocument=null,this.globalContext=t,this.optionsArgs=n}return a(e,[{key:"window",get:function(){return this.globalContext?this.globalContext:"undefined"!==typeof window?window:void 0}},{key:"document",get:function(){var e;return(null===(e=this.globalContext)||void 0===e?void 0:e.document)?this.globalContext.document:this.window?this.window.document:void 0}},{key:"rootElement",get:function(){var e;return(null===(e=this.optionsArgs)||void 0===e?void 0:e.rootElement)||this.window}}]),e}();t.OptionsReader=i},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.getEmptyImage=function(){r||((r=new Image).src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==");return r}},,,,,,,,,,,,,,,function(e,t,n){"use strict";var r=n(17),a=(n(162),n(164)),i=(n(125),n(250),n(251),n(2)),o=n(27),c=n(10),s=n(117),l=n(116),u=n.n(l),d=n(212),p=n(155),f=n(0),h=n.n(f),g=n(186),v=n(192),m=n(188);var b=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=Object(f.useRef)({}),n=Object(v.a)();return Object(f.useEffect)((function(){var r=m.a.subscribe((function(r){t.current=r,e&&n()}));return function(){return m.a.unsubscribe(r)}}),[]),t.current},y=f.createContext("default"),x=function(e){var t=e.children,n=e.size;return f.createElement(y.Consumer,null,(function(e){return f.createElement(y.Provider,{value:n||e},t)}))},O=y,w=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},C=function(e,t){var n,r,a=f.useContext(O),l=f.useState(1),h=Object(s.a)(l,2),v=h[0],y=h[1],x=f.useState(!1),C=Object(s.a)(x,2),k=C[0],j=C[1],E=f.useState(!0),S=Object(s.a)(E,2),T=S[0],I=S[1],P=f.useRef(null),D=f.useRef(null),N=Object(p.a)(t,P),A=f.useContext(g.b).getPrefixCls,_=function(){if(D.current&&P.current){var t=D.current.offsetWidth,n=P.current.offsetWidth;if(0!==t&&0!==n){var r=e.gap,a=void 0===r?4:r;2*a<n&&y(n-2*a<t?(n-2*a)/t:1)}}};f.useEffect((function(){j(!0)}),[]),f.useEffect((function(){I(!0),y(1)}),[e.src]),f.useEffect((function(){_()}),[e.gap]);var M,R=e.prefixCls,F=e.shape,B=void 0===F?"circle":F,L=e.size,G=void 0===L?"default":L,q=e.src,z=e.srcSet,H=e.icon,U=e.className,V=e.alt,Y=e.draggable,W=e.children,K=e.crossOrigin,X=w(e,["prefixCls","shape","size","src","srcSet","icon","className","alt","draggable","children","crossOrigin"]),J="default"===G?a:G,$=Object.keys("object"===Object(c.a)(J)&&J||{}).some((function(e){return["xs","sm","md","lg","xl","xxl"].includes(e)})),Z=b($),Q=f.useMemo((function(){if("object"!==Object(c.a)(J))return{};var e=m.b.find((function(e){return Z[e]})),t=J[e];return t?{width:t,height:t,lineHeight:"".concat(t,"px"),fontSize:H?t/2:18}:{}}),[Z,J]),ee=A("avatar",R),te=u()((n={},Object(o.a)(n,"".concat(ee,"-lg"),"large"===J),Object(o.a)(n,"".concat(ee,"-sm"),"small"===J),n)),ne=f.isValidElement(q),re=u()(ee,te,(r={},Object(o.a)(r,"".concat(ee,"-").concat(B),!!B),Object(o.a)(r,"".concat(ee,"-image"),ne||q&&T),Object(o.a)(r,"".concat(ee,"-icon"),!!H),r),U),ae="number"===typeof J?{width:J,height:J,lineHeight:"".concat(J,"px"),fontSize:H?J/2:18}:{};if("string"===typeof q&&T)M=f.createElement("img",{src:q,draggable:Y,srcSet:z,onError:function(){var t=e.onError;!1!==(t?t():void 0)&&I(!1)},alt:V,crossOrigin:K});else if(ne)M=q;else if(H)M=H;else if(k||1!==v){var ie="scale(".concat(v,") translateX(-50%)"),oe={msTransform:ie,WebkitTransform:ie,transform:ie},ce="number"===typeof J?{lineHeight:"".concat(J,"px")}:{};M=f.createElement(d.a,{onResize:_},f.createElement("span",{className:"".concat(ee,"-string"),ref:D,style:Object(i.a)(Object(i.a)({},ce),oe)},W))}else M=f.createElement("span",{className:"".concat(ee,"-string"),style:{opacity:0},ref:D},W);return delete X.onError,delete X.gap,f.createElement("span",Object(i.a)({},X,{style:Object(i.a)(Object(i.a)(Object(i.a)({},ae),Q),X.style),className:re,ref:N}),M)};var k=f.forwardRef(C),j=n(151),E=n(144),S=function(e){return e?"function"===typeof e?e():e:null},T=n(152),I=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},P=function(e){var t=e.title,n=e.content,r=e.prefixCls;return t||n?f.createElement(f.Fragment,null,t&&f.createElement("div",{className:"".concat(r,"-title")},S(t)),f.createElement("div",{className:"".concat(r,"-inner-content")},S(n))):null};var D=f.forwardRef((function(e,t){var n=e.prefixCls,r=e.title,a=e.content,o=e._overlay,c=e.placement,s=void 0===c?"top":c,l=e.trigger,u=void 0===l?"hover":l,d=e.mouseEnterDelay,p=void 0===d?.1:d,h=e.mouseLeaveDelay,v=void 0===h?.1:h,m=e.overlayStyle,b=void 0===m?{}:m,y=I(e,["prefixCls","title","content","_overlay","placement","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle"]),x=f.useContext(g.b).getPrefixCls,O=x("popover",n),w=x();return f.createElement(E.a,Object(i.a)({placement:s,trigger:u,mouseEnterDelay:p,mouseLeaveDelay:v,overlayStyle:b},y,{prefixCls:O,ref:t,overlay:o||f.createElement(P,{prefixCls:O,title:r,content:a}),transitionName:Object(T.c)(w,"zoom-big",y.transitionName)}))})),N=n(173),A=function(e){var t=f.useContext(g.b),n=t.getPrefixCls,r=t.direction,a=e.prefixCls,i=e.className,c=void 0===i?"":i,s=e.maxCount,l=e.maxStyle,d=e.size,p=n("avatar-group",a),h=u()(p,Object(o.a)({},"".concat(p,"-rtl"),"rtl"===r),c),v=e.children,m=e.maxPopoverPlacement,b=void 0===m?"top":m,y=e.maxPopoverTrigger,O=void 0===y?"hover":y,w=Object(j.a)(v).map((function(e,t){return Object(N.a)(e,{key:"avatar-key-".concat(t)})})),C=w.length;if(s&&s<C){var E=w.slice(0,s),S=w.slice(s,C);return E.push(f.createElement(D,{key:"avatar-popover-key",content:S,trigger:O,placement:b,overlayClassName:"".concat(p,"-popover")},f.createElement(k,{style:l},"+".concat(C-s)))),f.createElement(x,{size:d},f.createElement("div",{className:h,style:e.style},E))}return f.createElement(x,{size:d},f.createElement("div",{className:h,style:e.style},w))},_=k;_.Group=A;var M=_,R=n(13),F=n(14),B=n(16),L=n(15),G=(n(170),n(167)),q="zh-CN",z="en-US",H=(n(252),G.a.Option),U=function(e){Object(B.a)(n,e);var t=Object(L.a)(n);function n(){var e;Object(R.a)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).getLocal=function(e){return"zh-CN"===e?q:z},e.onChange=function(t){e.props.onChangeLocaleListener(e.getLocal(t))},e}return Object(F.a)(n,[{key:"render",value:function(){var e,t=this.props.currentLocale;return t&&(e="zh-CN"===t?"\u4e2d \u6587":"EN"),h.a.createElement(G.a,{className:"LocaleDiv",defaultValue:e,bordered:!1,value:e,onChange:this.onChange},h.a.createElement(H,{key:"en-US"},"EN"),h.a.createElement(H,{key:"zh-CN"},"\u4e2d \u6587"))}}]),n}(h.a.Component),V=n(143),Y=n(19),W=n.n(Y),K=(n(254),function(e){Object(B.a)(n,e);var t=Object(L.a)(n);function n(){var e;Object(R.a)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).getUser=function(){window.open(V.a.url.authenUrl,"_blank")},e.clickBtn=function(){e.props.isLogin?e.logout():e.login()},e.login=function(){e.props.updateUserInfo({username:"Test",uid:1}),W.a.set("userInfo",{username:"Test",uid:1})},e.logout=function(){e.props.updateUserInfo({username:"",uid:-1}),W.a.set("userInfo",{username:"",uid:-1})},e.back=function(){e.props.history.push("/")},e}return Object(F.a)(n,[{key:"render",value:function(){var e=this.props,t=e.intl,n=e.initDone,r=e.isLogin,i=e.userInfo;return h.a.createElement("div",{className:"headerBarWrapper"},h.a.createElement("div",{className:"headerBarLeft"},h.a.createElement("div",{onClick:this.back}),h.a.createElement("span",null,n&&t.get("CalliopeTimeSeries"))),h.a.createElement("div",{style:{flex:1,height:"50px"}}),h.a.createElement("div",{className:"headerBarRight"},r?h.a.createElement(M,{className:"AvatarImg",style:{display:"none"},onClick:this.getUser,src:"".concat(V.a.url.userImage,"/").concat(i.avatar)},i&&i.username.substr(0,1)):h.a.createElement("div",{className:"defaultimg",type:" ",style:{display:"none"}}),h.a.createElement(a.a,{type:"vertical",style:{display:"none"}}),h.a.createElement("div",{className:"LogInBt",style:{display:"none"},onClick:this.clickBtn},r?t.get("logOut"):t.get("logIn")),h.a.createElement("div",null,h.a.createElement(U,this.props))))}}]),n}(f.Component)),X=n(161),J=n(31);Object(r.b)((function(e){return{isLogin:Object(X.c)(e),userInfo:Object(X.b)(e)}}),(function(e){return{updateUserInfo:function(t){return e(J.d(t))}}}))(K)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return l}));var r=n(0),a=n(209);function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,i=void 0;try{for(var o,c=e[Symbol.iterator]();!(r=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(s){a=!0,i=s}finally{try{r||null==c.return||c.return()}finally{if(a)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var s=0,l=Object(r.memo)((function(e){var t=e.children,n=i(function(e){if("manager"in e){return[{dragDropManager:e.manager},!1]}var t=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d(),n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,i=t;i[u]||(i[u]=Object(a.b)(e,t,n,r));return i[u]}(e.backend,e.context,e.options,e.debugMode),n=!e.context;return[t,n]}(c(e,["children"])),2),o=n[0],l=n[1];return r.useEffect((function(){return l&&s++,function(){l&&(0===--s&&(d()[u]=null))}}),[]),r.createElement(a.a.Provider,{value:o},t)}));l.displayName="DndProvider";var u=Symbol.for("__REACT_DND_CONTEXT_INSTANCE__");function d(){return"undefined"!==typeof e?e:window}}).call(this,n(11))},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(1),a=function(e,t,n,a){return{type:r.a.UPLOAD_DATA,fileName:e,schema:t,data:n,file_url:a}}}])]);
//# sourceMappingURL=7.c2910206.chunk.js.map